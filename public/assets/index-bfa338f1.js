var D3=Object.defineProperty;var F3=(E,S,o)=>S in E?D3(E,S,{enumerable:!0,configurable:!0,writable:!0,value:o}):E[S]=o;var fi=(E,S,o)=>(F3(E,typeof S!="symbol"?S+"":S,o),o);function b3(E,S){for(var o=0;o<S.length;o++){const x=S[o];if(typeof x!="string"&&!Array.isArray(x)){for(const t in x)if(t!=="default"&&!(t in E)){const e=Object.getOwnPropertyDescriptor(x,t);e&&Object.defineProperty(E,t,e.get?e:{enumerable:!0,get:()=>x[t]})}}}return Object.freeze(Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}))}(function(){const S=document.createElement("link").relList;if(S&&S.supports&&S.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))x(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const u of e.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&x(u)}).observe(document,{childList:!0,subtree:!0});function o(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function x(t){if(t.ep)return;t.ep=!0;const e=o(t);fetch(t.href,e)}})();var uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PA(E){return E&&E.__esModule&&Object.prototype.hasOwnProperty.call(E,"default")?E.default:E}var xt={},N3={get exports(){return xt},set exports(E){xt=E}},$0={},dt={},w3={get exports(){return dt},set exports(E){dt=E}},Gd={},B3={get exports(){return Gd},set exports(E){Gd=E}};/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(E,S){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var o="18.2.0",x=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),n=Symbol.for("react.context"),i=Symbol.for("react.forward_ref"),r=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),c=Symbol.for("react.offscreen"),v=Symbol.iterator,d="@@iterator";function m(J){if(J===null||typeof J!="object")return null;var st=v&&J[v]||J[d];return typeof st=="function"?st:null}var y={current:null},T={transition:null},C={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},R={current:null},A={},P=null;function O(J){P=J}A.setExtraStackFrame=function(J){P=J},A.getCurrentStack=null,A.getStackAddendum=function(){var J="";P&&(J+=P);var st=A.getCurrentStack;return st&&(J+=st()||""),J};var b=!1,D=!1,N=!1,B=!1,U=!1,G={ReactCurrentDispatcher:y,ReactCurrentBatchConfig:T,ReactCurrentOwner:R};G.ReactDebugCurrentFrame=A,G.ReactCurrentActQueue=C;function W(J){{for(var st=arguments.length,gt=new Array(st>1?st-1:0),St=1;St<st;St++)gt[St-1]=arguments[St];q("warn",J,gt)}}function $(J){{for(var st=arguments.length,gt=new Array(st>1?st-1:0),St=1;St<st;St++)gt[St-1]=arguments[St];q("error",J,gt)}}function q(J,st,gt){{var St=G.ReactDebugCurrentFrame,It=St.getStackAddendum();It!==""&&(st+="%s",gt=gt.concat([It]));var fe=gt.map(function(ee){return String(ee)});fe.unshift("Warning: "+st),Function.prototype.apply.call(console[J],console,fe)}}var _={};function V(J,st){{var gt=J.constructor,St=gt&&(gt.displayName||gt.name)||"ReactClass",It=St+"."+st;if(_[It])return;$("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",st,St),_[It]=!0}}var w={isMounted:function(J){return!1},enqueueForceUpdate:function(J,st,gt){V(J,"forceUpdate")},enqueueReplaceState:function(J,st,gt,St){V(J,"replaceState")},enqueueSetState:function(J,st,gt,St){V(J,"setState")}},z=Object.assign,Y={};Object.freeze(Y);function H(J,st,gt){this.props=J,this.context=st,this.refs=Y,this.updater=gt||w}H.prototype.isReactComponent={},H.prototype.setState=function(J,st){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,st,"setState")},H.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};{var j={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Z=function(J,st){Object.defineProperty(H.prototype,J,{get:function(){W("%s(...) is deprecated in plain JavaScript React classes. %s",st[0],st[1])}})};for(var k in j)j.hasOwnProperty(k)&&Z(k,j[k])}function nt(){}nt.prototype=H.prototype;function rt(J,st,gt){this.props=J,this.context=st,this.refs=Y,this.updater=gt||w}var ht=rt.prototype=new nt;ht.constructor=rt,z(ht,H.prototype),ht.isPureReactComponent=!0;function vt(){var J={current:null};return Object.seal(J),J}var ot=Array.isArray;function Et(J){return ot(J)}function Tt(J){{var st=typeof Symbol=="function"&&Symbol.toStringTag,gt=st&&J[Symbol.toStringTag]||J.constructor.name||"Object";return gt}}function Pt(J){try{return Xt(J),!1}catch{return!0}}function Xt(J){return""+J}function zt(J){if(Pt(J))return $("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Tt(J)),Xt(J)}function Ut(J,st,gt){var St=J.displayName;if(St)return St;var It=st.displayName||st.name||"";return It!==""?gt+"("+It+")":gt}function Mt(J){return J.displayName||"Context"}function ne(J){if(J==null)return null;if(typeof J.tag=="number"&&$("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof J=="function")return J.displayName||J.name||null;if(typeof J=="string")return J;switch(J){case e:return"Fragment";case t:return"Portal";case s:return"Profiler";case u:return"StrictMode";case r:return"Suspense";case f:return"SuspenseList"}if(typeof J=="object")switch(J.$$typeof){case n:var st=J;return Mt(st)+".Consumer";case a:var gt=J;return Mt(gt._context)+".Provider";case i:return Ut(J,J.render,"ForwardRef");case l:var St=J.displayName||null;return St!==null?St:ne(J.type)||"Memo";case h:{var It=J,fe=It._payload,ee=It._init;try{return ne(ee(fe))}catch{return null}}}return null}var Vt=Object.prototype.hasOwnProperty,Zt={key:!0,ref:!0,__self:!0,__source:!0},ye,Se,Bt;Bt={};function _t(J){if(Vt.call(J,"ref")){var st=Object.getOwnPropertyDescriptor(J,"ref").get;if(st&&st.isReactWarning)return!1}return J.ref!==void 0}function ie(J){if(Vt.call(J,"key")){var st=Object.getOwnPropertyDescriptor(J,"key").get;if(st&&st.isReactWarning)return!1}return J.key!==void 0}function Re(J,st){var gt=function(){ye||(ye=!0,$("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",st))};gt.isReactWarning=!0,Object.defineProperty(J,"key",{get:gt,configurable:!0})}function Me(J,st){var gt=function(){Se||(Se=!0,$("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",st))};gt.isReactWarning=!0,Object.defineProperty(J,"ref",{get:gt,configurable:!0})}function Gt(J){if(typeof J.ref=="string"&&R.current&&J.__self&&R.current.stateNode!==J.__self){var st=ne(R.current.type);Bt[st]||($('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',st,J.ref),Bt[st]=!0)}}var At=function(J,st,gt,St,It,fe,ee){var pe={$$typeof:x,type:J,key:st,ref:gt,props:ee,_owner:fe};return pe._store={},Object.defineProperty(pe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(pe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:St}),Object.defineProperty(pe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:It}),Object.freeze&&(Object.freeze(pe.props),Object.freeze(pe)),pe};function wt(J,st,gt){var St,It={},fe=null,ee=null,pe=null,Oe=null;if(st!=null){_t(st)&&(ee=st.ref,Gt(st)),ie(st)&&(zt(st.key),fe=""+st.key),pe=st.__self===void 0?null:st.__self,Oe=st.__source===void 0?null:st.__source;for(St in st)Vt.call(st,St)&&!Zt.hasOwnProperty(St)&&(It[St]=st[St])}var Ze=arguments.length-2;if(Ze===1)It.children=gt;else if(Ze>1){for(var ni=Array(Ze),ri=0;ri<Ze;ri++)ni[ri]=arguments[ri+2];Object.freeze&&Object.freeze(ni),It.children=ni}if(J&&J.defaultProps){var li=J.defaultProps;for(St in li)It[St]===void 0&&(It[St]=li[St])}if(fe||ee){var xi=typeof J=="function"?J.displayName||J.name||"Unknown":J;fe&&Re(It,xi),ee&&Me(It,xi)}return At(J,fe,ee,pe,Oe,R.current,It)}function se(J,st){var gt=At(J.type,st,J.ref,J._self,J._source,J._owner,J.props);return gt}function ae(J,st,gt){if(J==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var St,It=z({},J.props),fe=J.key,ee=J.ref,pe=J._self,Oe=J._source,Ze=J._owner;if(st!=null){_t(st)&&(ee=st.ref,Ze=R.current),ie(st)&&(zt(st.key),fe=""+st.key);var ni;J.type&&J.type.defaultProps&&(ni=J.type.defaultProps);for(St in st)Vt.call(st,St)&&!Zt.hasOwnProperty(St)&&(st[St]===void 0&&ni!==void 0?It[St]=ni[St]:It[St]=st[St])}var ri=arguments.length-2;if(ri===1)It.children=gt;else if(ri>1){for(var li=Array(ri),xi=0;xi<ri;xi++)li[xi]=arguments[xi+2];It.children=li}return At(J.type,fe,ee,pe,Oe,Ze,It)}function le(J){return typeof J=="object"&&J!==null&&J.$$typeof===x}var Ee=".",Ae=":";function Ti(J){var st=/[=:]/g,gt={"=":"=0",":":"=2"},St=J.replace(st,function(It){return gt[It]});return"$"+St}var we=!1,Si=/\/+/g;function Ue(J){return J.replace(Si,"$&/")}function He(J,st){return typeof J=="object"&&J!==null&&J.key!=null?(zt(J.key),Ti(""+J.key)):st.toString(36)}function Tn(J,st,gt,St,It){var fe=typeof J;(fe==="undefined"||fe==="boolean")&&(J=null);var ee=!1;if(J===null)ee=!0;else switch(fe){case"string":case"number":ee=!0;break;case"object":switch(J.$$typeof){case x:case t:ee=!0}}if(ee){var pe=J,Oe=It(pe),Ze=St===""?Ee+He(pe,0):St;if(Et(Oe)){var ni="";Ze!=null&&(ni=Ue(Ze)+"/"),Tn(Oe,st,ni,"",function(Mv){return Mv})}else Oe!=null&&(le(Oe)&&(Oe.key&&(!pe||pe.key!==Oe.key)&&zt(Oe.key),Oe=se(Oe,gt+(Oe.key&&(!pe||pe.key!==Oe.key)?Ue(""+Oe.key)+"/":"")+Ze)),st.push(Oe));return 1}var ri,li,xi=0,Ye=St===""?Ee:St+Ae;if(Et(J))for(var Ys=0;Ys<J.length;Ys++)ri=J[Ys],li=Ye+He(ri,Ys),xi+=Tn(ri,st,gt,li,It);else{var Mo=m(J);if(typeof Mo=="function"){var Zl=J;Mo===Zl.entries&&(we||W("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),we=!0);for(var Av=Mo.call(Zl),as,Ql=0;!(as=Av.next()).done;)ri=as.value,li=Ye+He(ri,Ql++),xi+=Tn(ri,st,gt,li,It)}else if(fe==="object"){var Jl=String(J);throw new Error("Objects are not valid as a React child (found: "+(Jl==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":Jl)+"). If you meant to render a collection of children, use an array instead.")}}return xi}function Sn(J,st,gt){if(J==null)return J;var St=[],It=0;return Tn(J,St,"","",function(fe){return st.call(gt,fe,It++)}),St}function is(J){var st=0;return Sn(J,function(){st++}),st}function ns(J,st,gt){Sn(J,function(){st.apply(this,arguments)},gt)}function Aa(J){return Sn(J,function(st){return st})||[]}function Mr(J){if(!le(J))throw new Error("React.Children.only expected to receive a single React element child.");return J}function Pr(J){var st={$$typeof:n,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};st.Provider={$$typeof:a,_context:st};var gt=!1,St=!1,It=!1;{var fe={$$typeof:n,_context:st};Object.defineProperties(fe,{Provider:{get:function(){return St||(St=!0,$("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),st.Provider},set:function(ee){st.Provider=ee}},_currentValue:{get:function(){return st._currentValue},set:function(ee){st._currentValue=ee}},_currentValue2:{get:function(){return st._currentValue2},set:function(ee){st._currentValue2=ee}},_threadCount:{get:function(){return st._threadCount},set:function(ee){st._threadCount=ee}},Consumer:{get:function(){return gt||(gt=!0,$("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),st.Consumer}},displayName:{get:function(){return st.displayName},set:function(ee){It||(W("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",ee),It=!0)}}}),st.Consumer=fe}return st._currentRenderer=null,st._currentRenderer2=null,st}var ar=-1,Lr=0,or=1,Zn=2;function at(J){if(J._status===ar){var st=J._result,gt=st();if(gt.then(function(fe){if(J._status===Lr||J._status===ar){var ee=J;ee._status=or,ee._result=fe}},function(fe){if(J._status===Lr||J._status===ar){var ee=J;ee._status=Zn,ee._result=fe}}),J._status===ar){var St=J;St._status=Lr,St._result=gt}}if(J._status===or){var It=J._result;return It===void 0&&$(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,It),"default"in It||$(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,It),It.default}else throw J._result}function bt(J){var st={_status:ar,_result:J},gt={$$typeof:h,_payload:st,_init:at};{var St,It;Object.defineProperties(gt,{defaultProps:{configurable:!0,get:function(){return St},set:function(fe){$("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),St=fe,Object.defineProperty(gt,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return It},set:function(fe){$("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),It=fe,Object.defineProperty(gt,"propTypes",{enumerable:!0})}}})}return gt}function Ht(J){J!=null&&J.$$typeof===l?$("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof J!="function"?$("forwardRef requires a render function but was given %s.",J===null?"null":typeof J):J.length!==0&&J.length!==2&&$("forwardRef render functions accept exactly two parameters: props and ref. %s",J.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),J!=null&&(J.defaultProps!=null||J.propTypes!=null)&&$("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var st={$$typeof:i,render:J};{var gt;Object.defineProperty(st,"displayName",{enumerable:!1,configurable:!0,get:function(){return gt},set:function(St){gt=St,!J.name&&!J.displayName&&(J.displayName=St)}})}return st}var it;it=Symbol.for("react.module.reference");function yt(J){return!!(typeof J=="string"||typeof J=="function"||J===e||J===s||U||J===u||J===r||J===f||B||J===c||b||D||N||typeof J=="object"&&J!==null&&(J.$$typeof===h||J.$$typeof===l||J.$$typeof===a||J.$$typeof===n||J.$$typeof===i||J.$$typeof===it||J.getModuleId!==void 0))}function Ot(J,st){yt(J)||$("memo: The first argument must be a component. Instead received: %s",J===null?"null":typeof J);var gt={$$typeof:l,type:J,compare:st===void 0?null:st};{var St;Object.defineProperty(gt,"displayName",{enumerable:!1,configurable:!0,get:function(){return St},set:function(It){St=It,!J.name&&!J.displayName&&(J.displayName=It)}})}return gt}function Dt(){var J=y.current;return J===null&&$(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),J}function Wt(J){var st=Dt();if(J._context!==void 0){var gt=J._context;gt.Consumer===J?$("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):gt.Provider===J&&$("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return st.useContext(J)}function de(J){var st=Dt();return st.useState(J)}function te(J,st,gt){var St=Dt();return St.useReducer(J,st,gt)}function jt(J){var st=Dt();return st.useRef(J)}function We(J,st){var gt=Dt();return gt.useEffect(J,st)}function je(J,st){var gt=Dt();return gt.useInsertionEffect(J,st)}function ti(J,st){var gt=Dt();return gt.useLayoutEffect(J,st)}function ai(J,st){var gt=Dt();return gt.useCallback(J,st)}function Or(J,st){var gt=Dt();return gt.useMemo(J,st)}function To(J,st,gt){var St=Dt();return St.useImperativeHandle(J,st,gt)}function En(J,st){{var gt=Dt();return gt.useDebugValue(J,st)}}function Tv(){var J=Dt();return J.useTransition()}function rs(J){var st=Dt();return st.useDeferredValue(J)}function Le(){var J=Dt();return J.useId()}function Ma(J,st,gt){var St=Dt();return St.useSyncExternalStore(J,st,gt)}var ws=0,Bl,Il,Ul,Vl,Gl,zl,Yl;function of(){}of.__reactDisabledLog=!0;function Sv(){{if(ws===0){Bl=console.log,Il=console.info,Ul=console.warn,Vl=console.error,Gl=console.group,zl=console.groupCollapsed,Yl=console.groupEnd;var J={configurable:!0,enumerable:!0,value:of,writable:!0};Object.defineProperties(console,{info:J,log:J,warn:J,error:J,group:J,groupCollapsed:J,groupEnd:J})}ws++}}function Xl(){{if(ws--,ws===0){var J={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:z({},J,{value:Bl}),info:z({},J,{value:Il}),warn:z({},J,{value:Ul}),error:z({},J,{value:Vl}),group:z({},J,{value:Gl}),groupCollapsed:z({},J,{value:zl}),groupEnd:z({},J,{value:Yl})})}ws<0&&$("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Pa=G.ReactCurrentDispatcher,Qn;function Bs(J,st,gt){{if(Qn===void 0)try{throw Error()}catch(It){var St=It.stack.trim().match(/\n( *(at )?)/);Qn=St&&St[1]||""}return`
`+Qn+J}}var Is=!1,So;{var Hl=typeof WeakMap=="function"?WeakMap:Map;So=new Hl}function lf(J,st){if(!J||Is)return"";{var gt=So.get(J);if(gt!==void 0)return gt}var St;Is=!0;var It=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var fe;fe=Pa.current,Pa.current=null,Sv();try{if(st){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Ye){St=Ye}Reflect.construct(J,[],ee)}else{try{ee.call()}catch(Ye){St=Ye}J.call(ee.prototype)}}else{try{throw Error()}catch(Ye){St=Ye}J()}}catch(Ye){if(Ye&&St&&typeof Ye.stack=="string"){for(var pe=Ye.stack.split(`
`),Oe=St.stack.split(`
`),Ze=pe.length-1,ni=Oe.length-1;Ze>=1&&ni>=0&&pe[Ze]!==Oe[ni];)ni--;for(;Ze>=1&&ni>=0;Ze--,ni--)if(pe[Ze]!==Oe[ni]){if(Ze!==1||ni!==1)do if(Ze--,ni--,ni<0||pe[Ze]!==Oe[ni]){var ri=`
`+pe[Ze].replace(" at new "," at ");return J.displayName&&ri.includes("<anonymous>")&&(ri=ri.replace("<anonymous>",J.displayName)),typeof J=="function"&&So.set(J,ri),ri}while(Ze>=1&&ni>=0);break}}}finally{Is=!1,Pa.current=fe,Xl(),Error.prepareStackTrace=It}var li=J?J.displayName||J.name:"",xi=li?Bs(li):"";return typeof J=="function"&&So.set(J,xi),xi}function Wl(J,st,gt){return lf(J,!1)}function Ev(J){var st=J.prototype;return!!(st&&st.isReactComponent)}function Us(J,st,gt){if(J==null)return"";if(typeof J=="function")return lf(J,Ev(J));if(typeof J=="string")return Bs(J);switch(J){case r:return Bs("Suspense");case f:return Bs("SuspenseList")}if(typeof J=="object")switch(J.$$typeof){case i:return Wl(J.render);case l:return Us(J.type,st,gt);case h:{var St=J,It=St._payload,fe=St._init;try{return Us(fe(It),st,gt)}catch{}}}return""}var uf={},jl=G.ReactDebugCurrentFrame;function Eo(J){if(J){var st=J._owner,gt=Us(J.type,J._source,st?st.type:null);jl.setExtraStackFrame(gt)}else jl.setExtraStackFrame(null)}function hf(J,st,gt,St,It){{var fe=Function.call.bind(Vt);for(var ee in J)if(fe(J,ee)){var pe=void 0;try{if(typeof J[ee]!="function"){var Oe=Error((St||"React class")+": "+gt+" type `"+ee+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof J[ee]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Oe.name="Invariant Violation",Oe}pe=J[ee](st,ee,St,gt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ze){pe=Ze}pe&&!(pe instanceof Error)&&(Eo(It),$("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",St||"React class",gt,ee,typeof pe),Eo(null)),pe instanceof Error&&!(pe.message in uf)&&(uf[pe.message]=!0,Eo(It),$("Failed %s type: %s",gt,pe.message),Eo(null))}}}function ze(J){if(J){var st=J._owner,gt=Us(J.type,J._source,st?st.type:null);O(gt)}else O(null)}var Kl;Kl=!1;function $l(){if(R.current){var J=ne(R.current.type);if(J)return`

Check the render method of \``+J+"`."}return""}function Te(J){if(J!==void 0){var st=J.fileName.replace(/^.*[\\\/]/,""),gt=J.lineNumber;return`

Check your code at `+st+":"+gt+"."}return""}function ff(J){return J!=null?Te(J.__source):""}var nn={};function La(J){var st=$l();if(!st){var gt=typeof J=="string"?J:J.displayName||J.name;gt&&(st=`

Check the top-level render call using <`+gt+">.")}return st}function Vs(J,st){if(!(!J._store||J._store.validated||J.key!=null)){J._store.validated=!0;var gt=La(st);if(!nn[gt]){nn[gt]=!0;var St="";J&&J._owner&&J._owner!==R.current&&(St=" It was passed a child from "+ne(J._owner.type)+"."),ze(J),$('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',gt,St),ze(null)}}}function cf(J,st){if(typeof J=="object"){if(Et(J))for(var gt=0;gt<J.length;gt++){var St=J[gt];le(St)&&Vs(St,st)}else if(le(J))J._store&&(J._store.validated=!0);else if(J){var It=m(J);if(typeof It=="function"&&It!==J.entries)for(var fe=It.call(J),ee;!(ee=fe.next()).done;)le(ee.value)&&Vs(ee.value,st)}}}function zi(J){{var st=J.type;if(st==null||typeof st=="string")return;var gt;if(typeof st=="function")gt=st.propTypes;else if(typeof st=="object"&&(st.$$typeof===i||st.$$typeof===l))gt=st.propTypes;else return;if(gt){var St=ne(st);hf(gt,J.props,"prop",St,J)}else if(st.PropTypes!==void 0&&!Kl){Kl=!0;var It=ne(st);$("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",It||"Unknown")}typeof st.getDefaultProps=="function"&&!st.getDefaultProps.isReactClassApproved&&$("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ci(J){{for(var st=Object.keys(J.props),gt=0;gt<st.length;gt++){var St=st[gt];if(St!=="children"&&St!=="key"){ze(J),$("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",St),ze(null);break}}J.ref!==null&&(ze(J),$("Invalid attribute `ref` supplied to `React.Fragment`."),ze(null))}}function df(J,st,gt){var St=yt(J);if(!St){var It="";(J===void 0||typeof J=="object"&&J!==null&&Object.keys(J).length===0)&&(It+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var fe=ff(st);fe?It+=fe:It+=$l();var ee;J===null?ee="null":Et(J)?ee="array":J!==void 0&&J.$$typeof===x?(ee="<"+(ne(J.type)||"Unknown")+" />",It=" Did you accidentally export a JSX literal instead of a component?"):ee=typeof J,$("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ee,It)}var pe=wt.apply(this,arguments);if(pe==null)return pe;if(St)for(var Oe=2;Oe<arguments.length;Oe++)cf(arguments[Oe],J);return J===e?ci(pe):zi(pe),pe}var Nn=!1;function Cn(J){var st=df.bind(null,J);return st.type=J,Nn||(Nn=!0,W("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(st,"type",{enumerable:!1,get:function(){return W("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:J}),J}}),st}function Dr(J,st,gt){for(var St=ae.apply(this,arguments),It=2;It<arguments.length;It++)cf(arguments[It],St.type);return zi(St),St}function Cv(J,st){var gt=T.transition;T.transition={};var St=T.transition;T.transition._updatedFibers=new Set;try{J()}finally{if(T.transition=gt,gt===null&&St._updatedFibers){var It=St._updatedFibers.size;It>10&&W("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),St._updatedFibers.clear()}}}var Co=!1,Oa=null;function vf(J){if(Oa===null)try{var st=("require"+Math.random()).slice(0,7),gt=E&&E[st];Oa=gt.call(E,"timers").setImmediate}catch{Oa=function(It){Co===!1&&(Co=!0,typeof MessageChannel>"u"&&$("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var fe=new MessageChannel;fe.port1.onmessage=It,fe.port2.postMessage(void 0)}}return Oa(J)}var Gs=0,pf=!1;function Rv(J){{var st=Gs;Gs++,C.current===null&&(C.current=[]);var gt=C.isBatchingLegacy,St;try{if(C.isBatchingLegacy=!0,St=J(),!gt&&C.didScheduleLegacyUpdate){var It=C.current;It!==null&&(C.didScheduleLegacyUpdate=!1,Ao(It))}}catch(li){throw ss(st),li}finally{C.isBatchingLegacy=gt}if(St!==null&&typeof St=="object"&&typeof St.then=="function"){var fe=St,ee=!1,pe={then:function(li,xi){ee=!0,fe.then(function(Ye){ss(st),Gs===0?Ro(Ye,li,xi):li(Ye)},function(Ye){ss(st),xi(Ye)})}};return!pf&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){ee||(pf=!0,$("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),pe}else{var Oe=St;if(ss(st),Gs===0){var Ze=C.current;Ze!==null&&(Ao(Ze),C.current=null);var ni={then:function(li,xi){C.current===null?(C.current=[],Ro(Oe,li,xi)):li(Oe)}};return ni}else{var ri={then:function(li,xi){li(Oe)}};return ri}}}}function ss(J){J!==Gs-1&&$("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Gs=J}function Ro(J,st,gt){{var St=C.current;if(St!==null)try{Ao(St),vf(function(){St.length===0?(C.current=null,st(J)):Ro(J,st,gt)})}catch(It){gt(It)}else st(J)}}var zs=!1;function Ao(J){if(!zs){zs=!0;var st=0;try{for(;st<J.length;st++){var gt=J[st];do gt=gt(!0);while(gt!==null)}J.length=0}catch(St){throw J=J.slice(st+1),St}finally{zs=!1}}}var mf=df,gf=Dr,xf=Cn,yf={map:Sn,forEach:ns,count:is,toArray:Aa,only:Mr};S.Children=yf,S.Component=H,S.Fragment=e,S.Profiler=s,S.PureComponent=rt,S.StrictMode=u,S.Suspense=r,S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,S.cloneElement=gf,S.createContext=Pr,S.createElement=mf,S.createFactory=xf,S.createRef=vt,S.forwardRef=Ht,S.isValidElement=le,S.lazy=bt,S.memo=Ot,S.startTransition=Cv,S.unstable_act=Rv,S.useCallback=ai,S.useContext=Wt,S.useDebugValue=En,S.useDeferredValue=rs,S.useEffect=We,S.useId=Le,S.useImperativeHandle=To,S.useInsertionEffect=je,S.useLayoutEffect=ti,S.useMemo=Or,S.useReducer=te,S.useRef=jt,S.useState=de,S.useSyncExternalStore=Ma,S.useTransition=Tv,S.version=o,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(B3,Gd);(function(E){E.exports=Gd})(w3);const gi=PA(dt),AC=b3({__proto__:null,default:gi},[dt]);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var E=dt,S=Symbol.for("react.element"),o=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),e=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),n=Symbol.for("react.suspense"),i=Symbol.for("react.suspense_list"),r=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),l=Symbol.for("react.offscreen"),h=Symbol.iterator,c="@@iterator";function v(at){if(at===null||typeof at!="object")return null;var bt=h&&at[h]||at[c];return typeof bt=="function"?bt:null}var d=E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function m(at){{for(var bt=arguments.length,Ht=new Array(bt>1?bt-1:0),it=1;it<bt;it++)Ht[it-1]=arguments[it];y("error",at,Ht)}}function y(at,bt,Ht){{var it=d.ReactDebugCurrentFrame,yt=it.getStackAddendum();yt!==""&&(bt+="%s",Ht=Ht.concat([yt]));var Ot=Ht.map(function(Dt){return String(Dt)});Ot.unshift("Warning: "+bt),Function.prototype.apply.call(console[at],console,Ot)}}var T=!1,C=!1,R=!1,A=!1,P=!1,O;O=Symbol.for("react.module.reference");function b(at){return!!(typeof at=="string"||typeof at=="function"||at===x||at===e||P||at===t||at===n||at===i||A||at===l||T||C||R||typeof at=="object"&&at!==null&&(at.$$typeof===f||at.$$typeof===r||at.$$typeof===u||at.$$typeof===s||at.$$typeof===a||at.$$typeof===O||at.getModuleId!==void 0))}function D(at,bt,Ht){var it=at.displayName;if(it)return it;var yt=bt.displayName||bt.name||"";return yt!==""?Ht+"("+yt+")":Ht}function N(at){return at.displayName||"Context"}function B(at){if(at==null)return null;if(typeof at.tag=="number"&&m("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof at=="function")return at.displayName||at.name||null;if(typeof at=="string")return at;switch(at){case x:return"Fragment";case o:return"Portal";case e:return"Profiler";case t:return"StrictMode";case n:return"Suspense";case i:return"SuspenseList"}if(typeof at=="object")switch(at.$$typeof){case s:var bt=at;return N(bt)+".Consumer";case u:var Ht=at;return N(Ht._context)+".Provider";case a:return D(at,at.render,"ForwardRef");case r:var it=at.displayName||null;return it!==null?it:B(at.type)||"Memo";case f:{var yt=at,Ot=yt._payload,Dt=yt._init;try{return B(Dt(Ot))}catch{return null}}}return null}var U=Object.assign,G=0,W,$,q,_,V,w,z;function Y(){}Y.__reactDisabledLog=!0;function H(){{if(G===0){W=console.log,$=console.info,q=console.warn,_=console.error,V=console.group,w=console.groupCollapsed,z=console.groupEnd;var at={configurable:!0,enumerable:!0,value:Y,writable:!0};Object.defineProperties(console,{info:at,log:at,warn:at,error:at,group:at,groupCollapsed:at,groupEnd:at})}G++}}function j(){{if(G--,G===0){var at={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},at,{value:W}),info:U({},at,{value:$}),warn:U({},at,{value:q}),error:U({},at,{value:_}),group:U({},at,{value:V}),groupCollapsed:U({},at,{value:w}),groupEnd:U({},at,{value:z})})}G<0&&m("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Z=d.ReactCurrentDispatcher,k;function nt(at,bt,Ht){{if(k===void 0)try{throw Error()}catch(yt){var it=yt.stack.trim().match(/\n( *(at )?)/);k=it&&it[1]||""}return`
`+k+at}}var rt=!1,ht;{var vt=typeof WeakMap=="function"?WeakMap:Map;ht=new vt}function ot(at,bt){if(!at||rt)return"";{var Ht=ht.get(at);if(Ht!==void 0)return Ht}var it;rt=!0;var yt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ot;Ot=Z.current,Z.current=null,H();try{if(bt){var Dt=function(){throw Error()};if(Object.defineProperty(Dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Dt,[])}catch(ai){it=ai}Reflect.construct(at,[],Dt)}else{try{Dt.call()}catch(ai){it=ai}at.call(Dt.prototype)}}else{try{throw Error()}catch(ai){it=ai}at()}}catch(ai){if(ai&&it&&typeof ai.stack=="string"){for(var Wt=ai.stack.split(`
`),de=it.stack.split(`
`),te=Wt.length-1,jt=de.length-1;te>=1&&jt>=0&&Wt[te]!==de[jt];)jt--;for(;te>=1&&jt>=0;te--,jt--)if(Wt[te]!==de[jt]){if(te!==1||jt!==1)do if(te--,jt--,jt<0||Wt[te]!==de[jt]){var We=`
`+Wt[te].replace(" at new "," at ");return at.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",at.displayName)),typeof at=="function"&&ht.set(at,We),We}while(te>=1&&jt>=0);break}}}finally{rt=!1,Z.current=Ot,j(),Error.prepareStackTrace=yt}var je=at?at.displayName||at.name:"",ti=je?nt(je):"";return typeof at=="function"&&ht.set(at,ti),ti}function Et(at,bt,Ht){return ot(at,!1)}function Tt(at){var bt=at.prototype;return!!(bt&&bt.isReactComponent)}function Pt(at,bt,Ht){if(at==null)return"";if(typeof at=="function")return ot(at,Tt(at));if(typeof at=="string")return nt(at);switch(at){case n:return nt("Suspense");case i:return nt("SuspenseList")}if(typeof at=="object")switch(at.$$typeof){case a:return Et(at.render);case r:return Pt(at.type,bt,Ht);case f:{var it=at,yt=it._payload,Ot=it._init;try{return Pt(Ot(yt),bt,Ht)}catch{}}}return""}var Xt=Object.prototype.hasOwnProperty,zt={},Ut=d.ReactDebugCurrentFrame;function Mt(at){if(at){var bt=at._owner,Ht=Pt(at.type,at._source,bt?bt.type:null);Ut.setExtraStackFrame(Ht)}else Ut.setExtraStackFrame(null)}function ne(at,bt,Ht,it,yt){{var Ot=Function.call.bind(Xt);for(var Dt in at)if(Ot(at,Dt)){var Wt=void 0;try{if(typeof at[Dt]!="function"){var de=Error((it||"React class")+": "+Ht+" type `"+Dt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof at[Dt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw de.name="Invariant Violation",de}Wt=at[Dt](bt,Dt,it,Ht,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(te){Wt=te}Wt&&!(Wt instanceof Error)&&(Mt(yt),m("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",it||"React class",Ht,Dt,typeof Wt),Mt(null)),Wt instanceof Error&&!(Wt.message in zt)&&(zt[Wt.message]=!0,Mt(yt),m("Failed %s type: %s",Ht,Wt.message),Mt(null))}}}var Vt=Array.isArray;function Zt(at){return Vt(at)}function ye(at){{var bt=typeof Symbol=="function"&&Symbol.toStringTag,Ht=bt&&at[Symbol.toStringTag]||at.constructor.name||"Object";return Ht}}function Se(at){try{return Bt(at),!1}catch{return!0}}function Bt(at){return""+at}function _t(at){if(Se(at))return m("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ye(at)),Bt(at)}var ie=d.ReactCurrentOwner,Re={key:!0,ref:!0,__self:!0,__source:!0},Me,Gt,At;At={};function wt(at){if(Xt.call(at,"ref")){var bt=Object.getOwnPropertyDescriptor(at,"ref").get;if(bt&&bt.isReactWarning)return!1}return at.ref!==void 0}function se(at){if(Xt.call(at,"key")){var bt=Object.getOwnPropertyDescriptor(at,"key").get;if(bt&&bt.isReactWarning)return!1}return at.key!==void 0}function ae(at,bt){if(typeof at.ref=="string"&&ie.current&&bt&&ie.current.stateNode!==bt){var Ht=B(ie.current.type);At[Ht]||(m('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',B(ie.current.type),at.ref),At[Ht]=!0)}}function le(at,bt){{var Ht=function(){Me||(Me=!0,m("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",bt))};Ht.isReactWarning=!0,Object.defineProperty(at,"key",{get:Ht,configurable:!0})}}function Ee(at,bt){{var Ht=function(){Gt||(Gt=!0,m("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",bt))};Ht.isReactWarning=!0,Object.defineProperty(at,"ref",{get:Ht,configurable:!0})}}var Ae=function(at,bt,Ht,it,yt,Ot,Dt){var Wt={$$typeof:S,type:at,key:bt,ref:Ht,props:Dt,_owner:Ot};return Wt._store={},Object.defineProperty(Wt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Wt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:it}),Object.defineProperty(Wt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:yt}),Object.freeze&&(Object.freeze(Wt.props),Object.freeze(Wt)),Wt};function Ti(at,bt,Ht,it,yt){{var Ot,Dt={},Wt=null,de=null;Ht!==void 0&&(_t(Ht),Wt=""+Ht),se(bt)&&(_t(bt.key),Wt=""+bt.key),wt(bt)&&(de=bt.ref,ae(bt,yt));for(Ot in bt)Xt.call(bt,Ot)&&!Re.hasOwnProperty(Ot)&&(Dt[Ot]=bt[Ot]);if(at&&at.defaultProps){var te=at.defaultProps;for(Ot in te)Dt[Ot]===void 0&&(Dt[Ot]=te[Ot])}if(Wt||de){var jt=typeof at=="function"?at.displayName||at.name||"Unknown":at;Wt&&le(Dt,jt),de&&Ee(Dt,jt)}return Ae(at,Wt,de,yt,it,ie.current,Dt)}}var we=d.ReactCurrentOwner,Si=d.ReactDebugCurrentFrame;function Ue(at){if(at){var bt=at._owner,Ht=Pt(at.type,at._source,bt?bt.type:null);Si.setExtraStackFrame(Ht)}else Si.setExtraStackFrame(null)}var He;He=!1;function Tn(at){return typeof at=="object"&&at!==null&&at.$$typeof===S}function Sn(){{if(we.current){var at=B(we.current.type);if(at)return`

Check the render method of \``+at+"`."}return""}}function is(at){{if(at!==void 0){var bt=at.fileName.replace(/^.*[\\\/]/,""),Ht=at.lineNumber;return`

Check your code at `+bt+":"+Ht+"."}return""}}var ns={};function Aa(at){{var bt=Sn();if(!bt){var Ht=typeof at=="string"?at:at.displayName||at.name;Ht&&(bt=`

Check the top-level render call using <`+Ht+">.")}return bt}}function Mr(at,bt){{if(!at._store||at._store.validated||at.key!=null)return;at._store.validated=!0;var Ht=Aa(bt);if(ns[Ht])return;ns[Ht]=!0;var it="";at&&at._owner&&at._owner!==we.current&&(it=" It was passed a child from "+B(at._owner.type)+"."),Ue(at),m('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Ht,it),Ue(null)}}function Pr(at,bt){{if(typeof at!="object")return;if(Zt(at))for(var Ht=0;Ht<at.length;Ht++){var it=at[Ht];Tn(it)&&Mr(it,bt)}else if(Tn(at))at._store&&(at._store.validated=!0);else if(at){var yt=v(at);if(typeof yt=="function"&&yt!==at.entries)for(var Ot=yt.call(at),Dt;!(Dt=Ot.next()).done;)Tn(Dt.value)&&Mr(Dt.value,bt)}}}function ar(at){{var bt=at.type;if(bt==null||typeof bt=="string")return;var Ht;if(typeof bt=="function")Ht=bt.propTypes;else if(typeof bt=="object"&&(bt.$$typeof===a||bt.$$typeof===r))Ht=bt.propTypes;else return;if(Ht){var it=B(bt);ne(Ht,at.props,"prop",it,at)}else if(bt.PropTypes!==void 0&&!He){He=!0;var yt=B(bt);m("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",yt||"Unknown")}typeof bt.getDefaultProps=="function"&&!bt.getDefaultProps.isReactClassApproved&&m("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Lr(at){{for(var bt=Object.keys(at.props),Ht=0;Ht<bt.length;Ht++){var it=bt[Ht];if(it!=="children"&&it!=="key"){Ue(at),m("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",it),Ue(null);break}}at.ref!==null&&(Ue(at),m("Invalid attribute `ref` supplied to `React.Fragment`."),Ue(null))}}function or(at,bt,Ht,it,yt,Ot){{var Dt=b(at);if(!Dt){var Wt="";(at===void 0||typeof at=="object"&&at!==null&&Object.keys(at).length===0)&&(Wt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var de=is(yt);de?Wt+=de:Wt+=Sn();var te;at===null?te="null":Zt(at)?te="array":at!==void 0&&at.$$typeof===S?(te="<"+(B(at.type)||"Unknown")+" />",Wt=" Did you accidentally export a JSX literal instead of a component?"):te=typeof at,m("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",te,Wt)}var jt=Ti(at,bt,Ht,yt,Ot);if(jt==null)return jt;if(Dt){var We=bt.children;if(We!==void 0)if(it)if(Zt(We)){for(var je=0;je<We.length;je++)Pr(We[je],at);Object.freeze&&Object.freeze(We)}else m("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Pr(We,at)}return at===x?Lr(jt):ar(jt),jt}}var Zn=or;$0.Fragment=x,$0.jsxDEV=Zn})();(function(E){E.exports=$0})(N3);var Z0={},I3={get exports(){return Z0},set exports(E){Z0=E}};(function(E,S){(function(x,t){E.exports=t()})(uo,function(){return function(o){var x={};function t(e){if(x[e])return x[e].exports;var u=x[e]={i:e,l:!1,exports:{}};return o[e].call(u.exports,u,u.exports,t),u.l=!0,u.exports}return t.m=o,t.c=x,t.d=function(e,u,s){t.o(e,u)||Object.defineProperty(e,u,{enumerable:!0,get:s})},t.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,u){if(u&1&&(e=t(e)),u&8||u&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),u&2&&typeof e!="string")for(var a in e)t.d(s,a,function(n){return e[n]}.bind(null,a));return s},t.n=function(e){var u=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(u,"a",u),u},t.o=function(e,u){return Object.prototype.hasOwnProperty.call(e,u)},t.p="",t(t.s=1528)}([function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}function e(i,r,f){var l=f?i[r]:Object.getOwnPropertyDescriptor(i,r);return!f&&l.value&&typeof l.value=="object"&&(l=l.value),l&&t(l)?(typeof l.enumerable>"u"&&(l.enumerable=!0),typeof l.configurable>"u"&&(l.configurable=!0),l):!1}function u(i,r){var f=Object.getOwnPropertyDescriptor(i,r);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function s(i,r,f,l){for(var h in r)if(r.hasOwnProperty(h)){var c=e(r,h,f);if(c!==!1){var v=l||i;if(u(v.prototype,h)){if(n.ignoreFinals)continue;throw new Error("cannot override final property '"+h+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(i.prototype,h,c)}else i.prototype[h]=r[h]}}function a(i,r){if(r){Array.isArray(r)||(r=[r]);for(var f=0;f<r.length;f++)s(i,r[f].prototype||r[f])}}function n(i){i||(i={});var r,f;if(i.initialize){if(typeof i.initialize!="function")throw new Error("initialize must be a function");r=i.initialize,delete i.initialize}else if(i.Extends){var l=i.Extends;r=function(){l.apply(this,arguments)}}else r=function(){};i.Extends?(r.prototype=Object.create(i.Extends.prototype),r.prototype.constructor=r,f=i.Extends,delete i.Extends):r.prototype.constructor=r;var h=null;return i.Mixins&&(h=i.Mixins,delete i.Mixins),a(r,h),s(r,i,!0,f),r}n.extend=s,n.mixin=a,n.ignoreFinals=!1,o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=typeof e;return!e||a==="number"||a==="string"?s:e.hasOwnProperty(u)&&e[u]!==void 0?e[u]:s};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(124),s=new e({initialize:function(n,i){this.x=0,this.y=0,typeof n=="object"?(this.x=n.x||0,this.y=n.y||0):(i===void 0&&(i=n),this.x=n||0,this.y=i||0)},clone:function(){return new s(this.x,this.y)},copy:function(a){return this.x=a.x||0,this.y=a.y||0,this},setFromObject:function(a){return this.x=a.x||0,this.y=a.y||0,this},set:function(a,n){return n===void 0&&(n=a),this.x=a,this.y=n,this},setTo:function(a,n){return this.set(a,n)},setToPolar:function(a,n){return n==null&&(n=1),this.x=Math.cos(a)*n,this.y=Math.sin(a)*n,this},equals:function(a){return this.x===a.x&&this.y===a.y},fuzzyEquals:function(a,n){return u(this.x,a.x,n)&&u(this.y,a.y,n)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},setAngle:function(a){return this.setToPolar(a,this.length())},add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.x-=a.x,this.y-=a.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},scale:function(a){return isFinite(a)?(this.x*=a,this.y*=a):(this.x=0,this.y=0),this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(a){var n=a.x-this.x,i=a.y-this.y;return Math.sqrt(n*n+i*i)},distanceSq:function(a){var n=a.x-this.x,i=a.y-this.y;return n*n+i*i},length:function(){var a=this.x,n=this.y;return Math.sqrt(a*a+n*n)},setLength:function(a){return this.normalize().scale(a)},lengthSq:function(){var a=this.x,n=this.y;return a*a+n*n},normalize:function(){var a=this.x,n=this.y,i=a*a+n*n;return i>0&&(i=1/Math.sqrt(i),this.x=a*i,this.y=n*i),this},normalizeRightHand:function(){var a=this.x;return this.x=this.y*-1,this.y=a,this},normalizeLeftHand:function(){var a=this.x;return this.x=this.y,this.y=a*-1,this},dot:function(a){return this.x*a.x+this.y*a.y},cross:function(a){return this.x*a.y-this.y*a.x},lerp:function(a,n){n===void 0&&(n=0);var i=this.x,r=this.y;return this.x=i+n*(a.x-i),this.y=r+n*(a.y-r),this},transformMat3:function(a){var n=this.x,i=this.y,r=a.val;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this},transformMat4:function(a){var n=this.x,i=this.y,r=a.val;return this.x=r[0]*n+r[4]*i+r[12],this.y=r[1]*n+r[5]*i+r[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(a){var n=this.length();return n&&n>a&&this.scale(a/n),this},reflect:function(a){return a=a.clone().normalize(),this.subtract(a.scale(2*this.dot(a)))},mirror:function(a){return this.reflect(a).negate()},rotate:function(a){var n=Math.cos(a),i=Math.sin(a);return this.set(n*this.x-i*this.y,i*this.x+n*this.y)}});s.ZERO=new s,s.RIGHT=new s(1,0),s.LEFT=new s(-1,0),s.UP=new s(0,-1),s.DOWN=new s(0,1),s.ONE=new s(1,1),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(56),s=new e({initialize:function(n,i){n===void 0&&(n=0),i===void 0&&(i=n),this.type=u.POINT,this.x=n,this.y=i},setTo:function(a,n){return a===void 0&&(a=0),n===void 0&&(n=a),this.x=a,this.y=n,this}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(24),s=t(20),a=new e({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},existing:function(n){return(n.renderCanvas||n.renderWebGL)&&this.displayList.add(n),n.preUpdate&&this.updateList.add(n),n},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(n,i){a.prototype.hasOwnProperty(n)||(a.prototype[n]=i)},a.remove=function(n){a.prototype.hasOwnProperty(n)&&delete a.prototype[n]},u.register("GameObjectFactory",a,"add"),o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(!e||typeof e=="number")return s;if(e.hasOwnProperty(u))return e[u];if(u.indexOf(".")!==-1){for(var a=u.split("."),n=e,i=s,r=0;r<a.length;r++)if(n.hasOwnProperty(a[r]))i=n[a[r]],n=n[a[r]];else{i=s;break}return i}else return s};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={install:function(u){for(var s in t)u[s]=t[s]},register:function(u,s){t[u]=s},destroy:function(){t={}}};o.exports=e},function(o,x,t){var e=Object.prototype.hasOwnProperty,u="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(u=!1));function a(f,l,h){this.fn=f,this.context=l,this.once=h||!1}function n(f,l,h,c,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new a(h,c||f,v),m=u?u+l:l;return f._events[m]?f._events[m].fn?f._events[m]=[f._events[m],d]:f._events[m].push(d):(f._events[m]=d,f._eventsCount++),f}function i(f,l){--f._eventsCount===0?f._events=new s:delete f._events[l]}function r(){this._events=new s,this._eventsCount=0}r.prototype.eventNames=function(){var l=[],h,c;if(this._eventsCount===0)return l;for(c in h=this._events)e.call(h,c)&&l.push(u?c.slice(1):c);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(h)):l},r.prototype.listeners=function(l){var h=u?u+l:l,c=this._events[h];if(!c)return[];if(c.fn)return[c.fn];for(var v=0,d=c.length,m=new Array(d);v<d;v++)m[v]=c[v].fn;return m},r.prototype.listenerCount=function(l){var h=u?u+l:l,c=this._events[h];return c?c.fn?1:c.length:0},r.prototype.emit=function(l,h,c,v,d,m){var y=u?u+l:l;if(!this._events[y])return!1;var T=this._events[y],C=arguments.length,R,A;if(T.fn){switch(T.once&&this.removeListener(l,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,c),!0;case 4:return T.fn.call(T.context,h,c,v),!0;case 5:return T.fn.call(T.context,h,c,v,d),!0;case 6:return T.fn.call(T.context,h,c,v,d,m),!0}for(A=1,R=new Array(C-1);A<C;A++)R[A-1]=arguments[A];T.fn.apply(T.context,R)}else{var P=T.length,O;for(A=0;A<P;A++)switch(T[A].once&&this.removeListener(l,T[A].fn,void 0,!0),C){case 1:T[A].fn.call(T[A].context);break;case 2:T[A].fn.call(T[A].context,h);break;case 3:T[A].fn.call(T[A].context,h,c);break;case 4:T[A].fn.call(T[A].context,h,c,v);break;default:if(!R)for(O=1,R=new Array(C-1);O<C;O++)R[O-1]=arguments[O];T[A].fn.apply(T[A].context,R)}}return!0},r.prototype.on=function(l,h,c){return n(this,l,h,c,!1)},r.prototype.once=function(l,h,c){return n(this,l,h,c,!0)},r.prototype.removeListener=function(l,h,c,v){var d=u?u+l:l;if(!this._events[d])return this;if(!h)return i(this,d),this;var m=this._events[d];if(m.fn)m.fn===h&&(!v||m.once)&&(!c||m.context===c)&&i(this,d);else{for(var y=0,T=[],C=m.length;y<C;y++)(m[y].fn!==h||v&&!m[y].once||c&&m[y].context!==c)&&T.push(m[y]);T.length?this._events[d]=T.length===1?T[0]:T:i(this,d)}return this},r.prototype.removeAllListeners=function(l){var h;return l?(h=u?u+l:l,this._events[h]&&i(this,h)):(this._events=new s,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=u,r.EventEmitter=r,o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(57),s=t(171),a=t(306),n=t(56),i=t(47),r=t(174),f=new e({initialize:function(h,c,v,d){h===void 0&&(h=0),c===void 0&&(c=0),v===void 0&&(v=0),d===void 0&&(d=0),this.type=n.RECTANGLE,this.x=h,this.y=c,this.width=v,this.height=d},contains:function(l,h){return u(this,l,h)},getPoint:function(l,h){return s(this,l,h)},getPoints:function(l,h,c){return a(this,l,h,c)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,h,c,v){return this.x=l,this.y=h,this.width=c,this.height=v,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(l,h){return h===void 0&&(h=l),this.x=l,this.y=h,this},setSize:function(l,h){return h===void 0&&(h=l),this.width=l,this.height=h,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(l){return l===void 0&&(l=new i),l.setTo(this.x,this.y,this.right,this.y),l},getLineB:function(l){return l===void 0&&(l=new i),l.setTo(this.right,this.y,this.right,this.bottom),l},getLineC:function(l){return l===void 0&&(l=new i),l.setTo(this.right,this.bottom,this.x,this.bottom),l},getLineD:function(l){return l===void 0&&(l=new i),l.setTo(this.x,this.bottom,this.x,this.y),l},left:{get:function(){return this.x},set:function(l){l>=this.right?this.width=0:this.width=this.right-l,this.x=l}},right:{get:function(){return this.x+this.width},set:function(l){l<=this.x?this.width=0:this.width=l-this.x}},top:{get:function(){return this.y},set:function(l){l>=this.bottom?this.height=0:this.height=this.bottom-l,this.y=l}},bottom:{get:function(){return this.y+this.height},set:function(l){l<=this.y?this.height=0:this.height=l-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(l){this.x=l-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(l){this.y=l-this.height/2}}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Alpha:t(607),AlphaSingle:t(303),BlendMode:t(304),ComputedSize:t(608),Crop:t(609),Depth:t(305),Flip:t(610),GetBounds:t(611),Mask:t(309),Origin:t(632),PathFollower:t(633),Pipeline:t(167),ScrollFactor:t(312),Size:t(634),Texture:t(635),TextureCrop:t(636),Tint:t(637),ToJSON:t(176),Transform:t(313),TransformMatrix:t(25),Visible:t(314)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(e){for(var u="",s=0;s<e;++s)s>0&&(u+=`
else `),s<e-1&&(u+="if(test == "+s+".0){}");return u}o.exports={getTintFromFloats:function(e,u,s,a){var n=(e*255|0)&255,i=(u*255|0)&255,r=(s*255|0)&255,f=(a*255|0)&255;return(f<<24|n<<16|i<<8|r)>>>0},getTintAppendFloatAlpha:function(e,u){var s=(u*255|0)&255;return(s<<24|e)>>>0},getTintAppendFloatAlphaAndSwap:function(e,u){var s=(e>>16|0)&255,a=(e>>8|0)&255,n=(e|0)&255,i=(u*255|0)&255;return(i<<24|n<<16|a<<8|s)>>>0},getFloatsFromUintRGB:function(e){var u=(e>>16|0)&255,s=(e>>8|0)&255,a=(e|0)&255;return[u/255,s/255,a/255]},checkShaderMax:function(e,u){(!u||u===-1)&&(u=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS));for(var s=e.createShader(e.FRAGMENT_SHADER),a=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);;){var n=a.replace(/%forloop%/gi,t(u));if(e.shaderSource(s,n),e.compileShader(s),!e.getShaderParameter(s,e.COMPILE_STATUS))u=u/2|0;else break}return u},parseFragmentShaderMaxTextures:function(e,u){if(!e)return"";for(var s="",a=0;a<u;a++)a>0&&(s+=`
	else `),a<u-1&&(s+="if (outTexId < "+a+".5)"),s+=`
	{`,s+=`
		texture = texture2D(uMainSampler[`+a+"], outTexCoord);",s+=`
	}`;return e=e.replace(/%count%/gi,u.toString()),e.replace(/%forloop%/gi,s)}}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(193),u=t(6),s=function(a,n,i){var r=u(a,n,null);if(r===null)return i;if(Array.isArray(r))return e.RND.pick(r);if(typeof r=="object"){if(r.hasOwnProperty("randInt"))return e.RND.integerInRange(r.randInt[0],r.randInt[1]);if(r.hasOwnProperty("randFloat"))return e.RND.realInRange(r.randFloat[0],r.randFloat[1])}else if(typeof r=="function")return r(n);return r};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(176),s=t(101),a=t(9),n=t(75),i=t(20),r=new e({Extends:a,initialize:function(l,h){a.call(this),this.scene=l,this.displayList=null,this.type=h,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(n.ADDED_TO_SCENE,this.addedToScene,this),this.on(n.REMOVED_FROM_SCENE,this.removedFromScene,this),l.sys.queueDepthSort()},setActive:function(f){return this.active=f,this},setName:function(f){return this.name=f,this},setState:function(f){return this.state=f,this},setDataEnabled:function(){return this.data||(this.data=new s(this)),this},setData:function(f,l){return this.data||(this.data=new s(this)),this.data.set(f,l),this},incData:function(f,l){return this.data||(this.data=new s(this)),this.data.inc(f,l),this},toggleData:function(f){return this.data||(this.data=new s(this)),this.data.toggle(f),this},getData:function(f){return this.data||(this.data=new s(this)),this.data.get(f)},setInteractive:function(f,l,h){return this.scene.sys.input.enable(this,f,l,h),this},disableInteractive:function(){return this.input&&(this.input.enabled=!1),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(f){return!(r.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},getIndexList:function(){for(var f=this,l=this.parentContainer,h=[];l&&(h.unshift(l.getIndex(f)),f=l,l.parentContainer);)l=l.parentContainer;return this.displayList?h.unshift(this.displayList.getIndex(f)):h.unshift(this.scene.sys.displayList.getIndex(f)),h},addToDisplayList:function(f){return f===void 0&&(f=this.scene.sys.displayList),this.displayList&&this.displayList!==f&&this.removeFromDisplayList(),f.exists(this)||(this.displayList=f,f.add(this,!0),f.queueDepthSort(),this.emit(n.ADDED_TO_SCENE,this,this.scene),f.events.emit(i.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var f=this.displayList||this.scene.sys.displayList;return f.exists(this)&&(f.remove(this,!0),f.queueDepthSort(),this.displayList=null,this.emit(n.REMOVED_FROM_SCENE,this,this.scene),f.events.emit(i.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(f){!this.scene||this.ignoreDestroy||(f===void 0&&(f=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(n.DESTROY,this,f),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});r.RENDER_MASK=15,o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(24),s=t(20),a=new e({initialize:function(i){this.scene=i,this.systems=i.sys,this.events=i.sys.events,this.displayList,this.updateList,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.events.once(s.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});a.register=function(n,i){a.prototype.hasOwnProperty(n)||(a.prototype[n]=i)},a.remove=function(n){a.prototype.hasOwnProperty(n)&&delete a.prototype[n]},u.register("GameObjectCreator",a,"make"),o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(7),u=function(){var s,a,n,i,r,f,l=arguments[0]||{},h=1,c=arguments.length,v=!1;for(typeof l=="boolean"&&(v=l,l=arguments[1]||{},h=2),c===h&&(l=this,--h);h<c;h++)if((s=arguments[h])!=null)for(a in s)n=l[a],i=s[a],l!==i&&(v&&i&&(e(i)||(r=Array.isArray(i)))?(r?(r=!1,f=n&&Array.isArray(n)?n:[]):f=n&&e(n)?n:{},l[a]=u(v,f,i)):i!==void 0&&(l[a]=i));return l};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return Math.max(u,Math.min(s,e))};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=new e,s=new e,a=new e,n={camera:u,sprite:s,calc:a},i=function(r,f,l){var h=u,c=s,v=a;return c.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),h.copyFrom(f.matrix),l?(h.multiplyWithOffset(l,-f.scrollX*r.scrollFactorX,-f.scrollY*r.scrollFactorY),c.e=r.x,c.f=r.y):(c.e-=f.scrollX*r.scrollFactorX,c.f-=f.scrollY*r.scrollFactorY),h.multiply(c,v),n};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADDED_TO_SCENE:t(656),BOOT:t(657),CREATE:t(658),DESTROY:t(659),PAUSE:t(660),POST_UPDATE:t(661),PRE_RENDER:t(662),PRE_UPDATE:t(663),READY:t(664),REMOVED_FROM_SCENE:t(665),RENDER:t(666),RESUME:t(667),SHUTDOWN:t(668),SLEEP:t(669),START:t(670),TRANSITION_COMPLETE:t(671),TRANSITION_INIT:t(672),TRANSITION_OUT:t(673),TRANSITION_START:t(674),TRANSITION_WAKE:t(675),UPDATE:t(676),WAKE:t(677)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BLUR:t(612),BOOT:t(613),CONTEXT_LOST:t(614),CONTEXT_RESTORED:t(615),DESTROY:t(616),FOCUS:t(617),HIDDEN:t(618),PAUSE:t(619),POST_RENDER:t(620),POST_STEP:t(621),PRE_RENDER:t(622),PRE_STEP:t(623),READY:t(624),RESUME:t(625),STEP:t(626),VISIBLE:t(627)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(95),a=t(2),n=t(155),i=t(240),r=t(517),f=t(156),l=new e({initialize:function(c,v){this.loader=c,this.cache=a(v,"cache",!1),this.type=a(v,"type",!1),this.key=a(v,"key",!1);var d=this.key;if(c.prefix&&c.prefix!==""&&(this.key=c.prefix+d),!this.type||!this.key)throw new Error("Invalid Loader."+this.type+" key");var m=a(v,"url");m===void 0?m=c.path+d+"."+a(v,"extension",""):typeof m=="string"&&!m.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)&&(m=c.path+m),this.url=m,this.src="",this.xhrSettings=f(a(v,"responseType",void 0)),a(v,"xhrSettings",!1)&&(this.xhrSettings=i(this.xhrSettings,a(v,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?u.FILE_POPULATED:u.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=a(v,"config",{}),this.multiFile,this.linkFile},setLink:function(h){this.linkFile=h,h.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===u.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=u.FILE_LOADING,this.src=n(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=r(this,this.loader.xhr))},onLoad:function(h,c){var v=h.responseURL&&(h.responseURL.indexOf("file://")===0||h.responseURL.indexOf("capacitor://")===0),d=v&&c.target.status===0,m=!(c.target&&c.target.status!==200)||d;h.readyState===4&&h.status>=400&&h.status<=599&&(m=!1),this.state=u.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,m)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(h){h.lengthComputable&&(this.bytesLoaded=h.loaded,this.bytesTotal=h.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(s.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=u.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=u.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){this.state=u.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.cache.add(this.key,this.data),this.pendingDestroy()},pendingDestroy:function(h){h===void 0&&(h=this.data);var c=this.key,v=this.type;this.loader.emit(s.FILE_COMPLETE,c,v,h),this.loader.emit(s.FILE_KEY_COMPLETE+v+"-"+c,c,v,h),this.loader.flagForRemoval(this)},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});l.createObjectURL=function(h,c,v){if(typeof URL=="function")h.src=URL.createObjectURL(c);else{var d=new FileReader;d.onload=function(){h.removeAttribute("crossOrigin"),h.src="data:"+(c.type||v)+";base64,"+d.result.split(",")[1]},d.onerror=h.onerror,d.readAsDataURL(c)}},l.revokeObjectURL=function(h){typeof URL=="function"&&URL.revokeObjectURL(h.src)},o.exports=l},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={},e={},u={};u.register=function(s,a,n,i){i===void 0&&(i=!1),t[s]={plugin:a,mapping:n,custom:i}},u.registerCustom=function(s,a,n,i){e[s]={plugin:a,mapping:n,data:i}},u.hasCore=function(s){return t.hasOwnProperty(s)},u.hasCustom=function(s){return e.hasOwnProperty(s)},u.getCore=function(s){return t[s]},u.getCustom=function(s){return e[s]},u.getCustomClass=function(s){return e.hasOwnProperty(s)?e[s].plugin:null},u.remove=function(s){t.hasOwnProperty(s)&&delete t[s]},u.removeCustom=function(s){e.hasOwnProperty(s)&&delete e[s]},u.destroyCorePlugins=function(){for(var s in t)t.hasOwnProperty(s)&&delete t[s]},u.destroyCustomPlugins=function(){for(var s in e)e.hasOwnProperty(s)&&delete e[s]},o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(14),s=t(3),a=new e({initialize:function(i,r,f,l,h,c){i===void 0&&(i=1),r===void 0&&(r=0),f===void 0&&(f=0),l===void 0&&(l=1),h===void 0&&(h=0),c===void 0&&(c=0),this.matrix=new Float32Array([i,r,f,l,h,c,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0}},a:{get:function(){return this.matrix[0]},set:function(n){this.matrix[0]=n}},b:{get:function(){return this.matrix[1]},set:function(n){this.matrix[1]=n}},c:{get:function(){return this.matrix[2]},set:function(n){this.matrix[2]=n}},d:{get:function(){return this.matrix[3]},set:function(n){this.matrix[3]=n}},e:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},f:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},tx:{get:function(){return this.matrix[4]},set:function(n){this.matrix[4]=n}},ty:{get:function(){return this.matrix[5]},set:function(n){this.matrix[5]=n}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var n=this.matrix,i=n[0],r=n[1],f=n[2],l=n[3];return i||r?r>0?Math.acos(i/this.scaleX):-Math.acos(i/this.scaleX):f||l?u.TAU-(l>0?Math.acos(-f/this.scaleY):-Math.acos(f/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var n=this.matrix;return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,this},translate:function(n,i){var r=this.matrix;return r[4]=r[0]*n+r[2]*i+r[4],r[5]=r[1]*n+r[3]*i+r[5],this},scale:function(n,i){var r=this.matrix;return r[0]*=n,r[1]*=n,r[2]*=i,r[3]*=i,this},rotate:function(n){var i=Math.sin(n),r=Math.cos(n),f=this.matrix,l=f[0],h=f[1],c=f[2],v=f[3];return f[0]=l*r+c*i,f[1]=h*r+v*i,f[2]=l*-i+c*r,f[3]=h*-i+v*r,this},multiply:function(n,i){var r=this.matrix,f=n.matrix,l=r[0],h=r[1],c=r[2],v=r[3],d=r[4],m=r[5],y=f[0],T=f[1],C=f[2],R=f[3],A=f[4],P=f[5],O=i===void 0?this:i;return O.a=y*l+T*c,O.b=y*h+T*v,O.c=C*l+R*c,O.d=C*h+R*v,O.e=A*l+P*c+d,O.f=A*h+P*v+m,O},multiplyWithOffset:function(n,i,r){var f=this.matrix,l=n.matrix,h=f[0],c=f[1],v=f[2],d=f[3],m=f[4],y=f[5],T=i*h+r*v+m,C=i*c+r*d+y,R=l[0],A=l[1],P=l[2],O=l[3],b=l[4],D=l[5];return f[0]=R*h+A*v,f[1]=R*c+A*d,f[2]=P*h+O*v,f[3]=P*c+O*d,f[4]=b*h+D*v+T,f[5]=b*c+D*d+C,this},transform:function(n,i,r,f,l,h){var c=this.matrix,v=c[0],d=c[1],m=c[2],y=c[3],T=c[4],C=c[5];return c[0]=n*v+i*m,c[1]=n*d+i*y,c[2]=r*v+f*m,c[3]=r*d+f*y,c[4]=l*v+h*m+T,c[5]=l*d+h*y+C,this},transformPoint:function(n,i,r){r===void 0&&(r={x:0,y:0});var f=this.matrix,l=f[0],h=f[1],c=f[2],v=f[3],d=f[4],m=f[5];return r.x=n*l+i*c+d,r.y=n*h+i*v+m,r},invert:function(){var n=this.matrix,i=n[0],r=n[1],f=n[2],l=n[3],h=n[4],c=n[5],v=i*l-r*f;return n[0]=l/v,n[1]=-r/v,n[2]=-f/v,n[3]=i/v,n[4]=(f*c-l*h)/v,n[5]=-(i*c-r*h)/v,this},copyFrom:function(n){var i=this.matrix;return i[0]=n.a,i[1]=n.b,i[2]=n.c,i[3]=n.d,i[4]=n.e,i[5]=n.f,this},copyFromArray:function(n){var i=this.matrix;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],this},copyToContext:function(n){var i=this.matrix;return n.transform(i[0],i[1],i[2],i[3],i[4],i[5]),n},setToContext:function(n){var i=this.matrix;return n.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),n},copyToArray:function(n){var i=this.matrix;return n===void 0?n=[i[0],i[1],i[2],i[3],i[4],i[5]]:(n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5]),n},setTransform:function(n,i,r,f,l,h){var c=this.matrix;return c[0]=n,c[1]=i,c[2]=r,c[3]=f,c[4]=l,c[5]=h,this},decomposeMatrix:function(){var n=this.decomposedMatrix,i=this.matrix,r=i[0],f=i[1],l=i[2],h=i[3],c=r*h-f*l;if(n.translateX=i[4],n.translateY=i[5],r||f){var v=Math.sqrt(r*r+f*f);n.rotation=f>0?Math.acos(r/v):-Math.acos(r/v),n.scaleX=v,n.scaleY=c/v}else if(l||h){var d=Math.sqrt(l*l+h*h);n.rotation=Math.PI*.5-(h>0?Math.acos(-l/d):-Math.acos(l/d)),n.scaleX=c/d,n.scaleY=d}else n.rotation=0,n.scaleX=0,n.scaleY=0;return n},applyITRS:function(n,i,r,f,l){var h=this.matrix,c=Math.sin(r),v=Math.cos(r);return h[4]=n,h[5]=i,h[0]=v*f,h[1]=c*f,h[2]=-c*l,h[3]=v*l,this},applyInverse:function(n,i,r){r===void 0&&(r=new s);var f=this.matrix,l=f[0],h=f[1],c=f[2],v=f[3],d=f[4],m=f[5],y=1/(l*v+c*-h);return r.x=v*y*n+-c*y*i+(m*c-d*v)*y,r.y=l*y*i+-h*y*n+(-m*l+d*h)*y,r},getX:function(n,i){return n*this.a+i*this.c+this.e},getY:function(n,i){return n*this.b+i*this.d+this.f},getXRound:function(n,i,r){var f=this.getX(n,i);return r&&(f=Math.round(f)),f},getYRound:function(n,i,r){var f=this.getY(n,i);return r&&(f=Math.round(f)),f},getCSSMatrix:function(){var n=this.matrix;return"matrix("+n[0]+","+n[1]+","+n[2]+","+n[3]+","+n[4]+","+n[5]+")"},destroy:function(){this.matrix=null,this.decomposedMatrix=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(s,a,n,i,r,f){s===void 0&&(s=0),a===void 0&&(a=0),n===void 0&&(n=f.width),i===void 0&&(i=f.height),r||(r={});var l=e(r,"isNotEmpty",!1),h=e(r,"isColliding",!1),c=e(r,"hasInterestingFace",!1);s<0&&(n+=s,s=0),a<0&&(i+=a,a=0),s+n>f.width&&(n=Math.max(f.width-s,0)),a+i>f.height&&(i=Math.max(f.height-a,0));for(var v=[],d=a;d<a+i;d++)for(var m=s;m<s+n;m++){var y=f.data[d][m];if(y!==null){if(l&&y.index===-1||h&&!y.collides||c&&!y.hasInterestingFace)continue;v.push(y)}}return v};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n,i){a===void 0&&(a=0),n===void 0&&(n=0),i===void 0&&(i=1);var r,f=0,l=e.length;if(i===1)for(r=n;r<l;r++)e[r][u]=s+f*a,f++;else for(r=n;r>=0;r--)e[r][u]=s+f*a,f++;return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(13),s=function(a,n,i){n.x=u(i,"x",0),n.y=u(i,"y",0),n.depth=u(i,"depth",0),n.flipX=u(i,"flipX",!1),n.flipY=u(i,"flipY",!1);var r=u(i,"scale",null);typeof r=="number"?n.setScale(r):r!==null&&(n.scaleX=u(r,"x",1),n.scaleY=u(r,"y",1));var f=u(i,"scrollFactor",null);typeof f=="number"?n.setScrollFactor(f):f!==null&&(n.scrollFactorX=u(f,"x",1),n.scrollFactorY=u(f,"y",1)),n.rotation=u(i,"rotation",0);var l=u(i,"angle",null);l!==null&&(n.angle=l),n.alpha=u(i,"alpha",1);var h=u(i,"origin",null);if(typeof h=="number")n.setOrigin(h);else if(h!==null){var c=u(h,"x",.5),v=u(h,"y",.5);n.setOrigin(c,v)}n.blendMode=u(i,"blendMode",e.NORMAL),n.visible=u(i,"visible",!0);var d=u(i,"add",!0);return d&&a.sys.displayList.add(n),n.preUpdate&&a.sys.updateList.add(n),n};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(s,a,n,i,r){var f=i.alpha*n.alpha;if(f<=0)return!1;var l=e(n,i,r).calc;return a.globalCompositeOperation=s.blendModes[n.blendMode],a.globalAlpha=f,a.save(),l.setToContext(a),a.imageSmoothingEnabled=!(!s.antialias||n.frame&&n.frame.source.scaleMode),!0};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),u=t(192),s=[],a=!1,n=function(){var i=function(y,T,C,R,A){T===void 0&&(T=1),C===void 0&&(C=1),R===void 0&&(R=e.CANVAS),A===void 0&&(A=!1);var P,O=l(R);return O===null?(O={parent:y,canvas:document.createElement("canvas"),type:R},R===e.CANVAS&&s.push(O),P=O.canvas):(O.parent=y,P=O.canvas),A&&(O.parent=P),P.width=T,P.height=C,a&&R===e.CANVAS&&u.disable(P.getContext("2d")),P},r=function(y,T,C){return i(y,T,C,e.CANVAS)},f=function(y,T,C){return i(y,T,C,e.WEBGL)},l=function(y){if(y===void 0&&(y=e.CANVAS),y===e.WEBGL)return null;for(var T=0;T<s.length;T++){var C=s[T];if(!C.parent&&C.type===y)return C}return null},h=function(y){var T=y instanceof HTMLCanvasElement;s.forEach(function(C){(T&&C.canvas===y||!T&&C.parent===y)&&(C.parent=null,C.canvas.width=1,C.canvas.height=1)})},c=function(){var y=0;return s.forEach(function(T){T.parent&&y++}),y},v=function(){return s.length-c()},d=function(){a=!0},m=function(){a=!1};return{create2D:r,create:i,createWebGL:f,disableSmoothing:d,enableSmoothing:m,first:l,free:v,pool:s,remove:h,total:c}};o.exports=n()},function(o,x){var t={};o.exports=t,function(){t._nextId=0,t._seed=0,t._nowStartTime=+new Date,t.extend=function(u,s){var a,n;typeof s=="boolean"?(a=2,n=s):(a=1,n=!0);for(var i=a;i<arguments.length;i++){var r=arguments[i];if(r)for(var f in r)n&&r[f]&&r[f].constructor===Object&&(!u[f]||u[f].constructor===Object)?(u[f]=u[f]||{},t.extend(u[f],n,r[f])):u[f]=r[f]}return u},t.clone=function(u,s){return t.extend({},s,u)},t.keys=function(u){if(Object.keys)return Object.keys(u);var s=[];for(var a in u)s.push(a);return s},t.values=function(u){var s=[];if(Object.keys){for(var a=Object.keys(u),n=0;n<a.length;n++)s.push(u[a[n]]);return s}for(var i in u)s.push(u[i]);return s},t.get=function(u,s,a,n){s=s.split(".").slice(a,n);for(var i=0;i<s.length;i+=1)u=u[s[i]];return u},t.set=function(u,s,a,n,i){var r=s.split(".").slice(n,i);return t.get(u,s,0,-1)[r[r.length-1]]=a,a},t.shuffle=function(u){for(var s=u.length-1;s>0;s--){var a=Math.floor(t.random()*(s+1)),n=u[s];u[s]=u[a],u[a]=n}return u},t.choose=function(u){return u[Math.floor(t.random()*u.length)]},t.isElement=function(u){return typeof HTMLElement<"u"?u instanceof HTMLElement:!!(u&&u.nodeType&&u.nodeName)},t.isArray=function(u){return Object.prototype.toString.call(u)==="[object Array]"},t.isFunction=function(u){return typeof u=="function"},t.isPlainObject=function(u){return typeof u=="object"&&u.constructor===Object},t.isString=function(u){return Object.prototype.toString.call(u)==="[object String]"},t.clamp=function(u,s,a){return u<s?s:u>a?a:u},t.sign=function(u){return u<0?-1:1},t.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-t._nowStartTime},t.random=function(u,s){return u=typeof u<"u"?u:0,s=typeof s<"u"?s:1,u+e()*(s-u)};var e=function(){return t._seed=(t._seed*9301+49297)%233280,t._seed/233280};t.colorToNumber=function(u){return u=u.replace("#",""),u.length==3&&(u=u.charAt(0)+u.charAt(0)+u.charAt(1)+u.charAt(1)+u.charAt(2)+u.charAt(2)),parseInt(u,16)},t.logLevel=1,t.log=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.info=function(){console&&t.logLevel>0&&t.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.warn=function(){console&&t.logLevel>0&&t.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},t.nextId=function(){return t._nextId++},t.indexOf=function(u,s){if(u.indexOf)return u.indexOf(s);for(var a=0;a<u.length;a++)if(u[a]===s)return a;return-1},t.map=function(u,s){if(u.map)return u.map(s);for(var a=[],n=0;n<u.length;n+=1)a.push(s(u[n]));return a},t.topologicalSort=function(u){var s=[],a=[],n=[];for(var i in u)!a[i]&&!n[i]&&t._topologicalSort(i,a,n,u,s);return s},t._topologicalSort=function(u,s,a,n,i){var r=n[u]||[];a[u]=!0;for(var f=0;f<r.length;f+=1){var l=r[f];a[l]||s[l]||t._topologicalSort(l,s,a,n,i)}a[u]=!1,s[u]=!0,i.push(u)},t.chain=function(){for(var u=[],s=0;s<arguments.length;s+=1){var a=arguments[s];a._chained?u.push.apply(u,a._chained):u.push(a)}var n=function(){for(var i,r=new Array(arguments.length),f=0,l=arguments.length;f<l;f++)r[f]=arguments[f];for(f=0;f<u.length;f+=1){var h=u[f].apply(i,r);typeof h<"u"&&(i=h)}return i};return n._chained=u,n},t.chainPathBefore=function(u,s,a){return t.set(u,s,t.chain(a,t.get(u,s)))},t.chainPathAfter=function(u,s,a){return t.set(u,s,t.chain(t.get(u,s),a))}}()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={VERSION:"3.55.2",BlendModes:t(35),ScaleModes:t(168),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(15),a=t(47),n=new e({Extends:s,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.ScrollFactor,u.Transform,u.Visible],initialize:function(r,f,l){f===void 0&&(f="Shape"),s.call(this,r,f),this.geom=l,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new a,this.width=0,this.height=0,this.initPipeline()},setFillStyle:function(i,r){return r===void 0&&(r=1),i===void 0?this.isFilled=!1:(this.fillColor=i,this.fillAlpha=r,this.isFilled=!0),this},setStrokeStyle:function(i,r,f){return f===void 0&&(f=1),i===void 0?this.isStroked=!1:(this.lineWidth=i,this.strokeColor=r,this.strokeAlpha=f,this.isStroked=!0),this},setClosePath:function(i){return this.closePath=i,this},setSize:function(i,r){return this.width=i,this.height=r,this},setDisplaySize:function(i,r){return this.displayWidth=i,this.displayHeight=r,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}}});o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=function(s){return s*e.DEG_TO_RAD};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DESTROY:t(743),FADE_IN_COMPLETE:t(744),FADE_IN_START:t(745),FADE_OUT_COMPLETE:t(746),FADE_OUT_START:t(747),FLASH_COMPLETE:t(748),FLASH_START:t(749),FOLLOW_UPDATE:t(750),PAN_COMPLETE:t(751),PAN_START:t(752),POST_RENDER:t(753),PRE_RENDER:t(754),ROTATE_COMPLETE:t(755),ROTATE_START:t(756),SHAKE_COMPLETE:t(757),SHAKE_START:t(758),ZOOM_COMPLETE:t(759),ZOOM_START:t(760)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(103),s=t(328),a=t(188),n=t(329),i=new e({initialize:function(f,l,h,c){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(f,l,h,c)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(r,f,l,h,c){return h===void 0&&(h=255),c===void 0&&(c=!0),this._locked=!0,this.red=r,this.green=f,this.blue=l,this.alpha=h,this._locked=!1,this.update(c)},setGLTo:function(r,f,l,h){return h===void 0&&(h=1),this._locked=!0,this.redGL=r,this.greenGL=f,this.blueGL=l,this.alphaGL=h,this._locked=!1,this.update(!0)},setFromRGB:function(r){return this._locked=!0,this.red=r.r,this.green=r.g,this.blue=r.b,r.hasOwnProperty("a")&&(this.alpha=r.a),this._locked=!1,this.update(!0)},setFromHSV:function(r,f,l){return a(r,f,l,this)},update:function(r){if(r===void 0&&(r=!1),this._locked)return this;var f=this.r,l=this.g,h=this.b,c=this.a;return this._color=u(f,l,h),this._color32=s(f,l,h,c),this._rgba="rgba("+f+","+l+","+h+","+c/255+")",r&&n(f,l,h,this),this},updateHSV:function(){var r=this.r,f=this.g,l=this.b;return n(r,f,l,this),this},clone:function(){return new i(this.r,this.g,this.b,this.a)},gray:function(r){return this.setTo(r,r,r)},random:function(r,f){r===void 0&&(r=0),f===void 0&&(f=255);var l=Math.floor(r+Math.random()*(f-r)),h=Math.floor(r+Math.random()*(f-r)),c=Math.floor(r+Math.random()*(f-r));return this.setTo(l,h,c)},randomGray:function(r,f){r===void 0&&(r=0),f===void 0&&(f=255);var l=Math.floor(r+Math.random()*(f-r));return this.setTo(l,l,l)},saturate:function(r){return this.s+=r/100,this},desaturate:function(r){return this.s-=r/100,this},lighten:function(r){return this.v+=r/100,this},darken:function(r){return this.v-=r/100,this},brighten:function(r){var f=this.r,l=this.g,h=this.b;return f=Math.max(0,Math.min(255,f-Math.round(255*-(r/100)))),l=Math.max(0,Math.min(255,l-Math.round(255*-(r/100)))),h=Math.max(0,Math.min(255,h-Math.round(255*-(r/100)))),this.setTo(f,l,h)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(r){this.gl[0]=Math.min(Math.abs(r),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(r){this.gl[1]=Math.min(Math.abs(r),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(r){this.gl[2]=Math.min(Math.abs(r),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(r){this.gl[3]=Math.min(Math.abs(r),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(r){r=Math.floor(Math.abs(r)),this.r=Math.min(r,255),this.gl[0]=r/255,this.update(!0)}},green:{get:function(){return this.g},set:function(r){r=Math.floor(Math.abs(r)),this.g=Math.min(r,255),this.gl[1]=r/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(r){r=Math.floor(Math.abs(r)),this.b=Math.min(r,255),this.gl[2]=r/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(r){r=Math.floor(Math.abs(r)),this.a=Math.min(r,255),this.gl[3]=r/255,this.update()}},h:{get:function(){return this._h},set:function(r){this._h=r,a(r,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(r){this._s=r,a(this._h,r,this._v,this)}},v:{get:function(){return this._v},set:function(r){this._v=r,a(this._h,this._s,r,this)}}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i){this.x=0,this.y=0,this.z=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0):(this.x=a||0,this.y=n||0,this.z=i||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(s){return this.x=Math.min(this.x,s.x),this.y=Math.min(this.y,s.y),this.z=Math.min(this.z,s.z),this},max:function(s){return this.x=Math.max(this.x,s.x),this.y=Math.max(this.y,s.y),this.z=Math.max(this.z,s.z),this},clone:function(){return new u(this.x,this.y,this.z)},addVectors:function(s,a){return this.x=s.x+a.x,this.y=s.y+a.y,this.z=s.z+a.z,this},crossVectors:function(s,a){var n=s.x,i=s.y,r=s.z,f=a.x,l=a.y,h=a.z;return this.x=i*h-r*l,this.y=r*f-n*h,this.z=n*l-i*f,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this},set:function(s,a,n){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0):(this.x=s||0,this.y=a||0,this.z=n||0),this},setFromMatrixPosition:function(s){return this.fromArray(s.val,12)},setFromMatrixColumn:function(s,a){return this.fromArray(s.val,a*4)},fromArray:function(s,a){return a===void 0&&(a=0),this.x=s[a],this.y=s[a+1],this.z=s[a+2],this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this},addScalar:function(s){return this.x+=s,this.y+=s,this.z+=s,this},addScale:function(s,a){return this.x+=s.x*a,this.y+=s.y*a,this.z+=s.z*a||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this},scale:function(s){return isFinite(s)?(this.x*=s,this.y*=s,this.z*=s):(this.x=0,this.y=0,this.z=0),this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(s){var a=s.x-this.x,n=s.y-this.y,i=s.z-this.z||0;return Math.sqrt(a*a+n*n+i*i)},distanceSq:function(s){var a=s.x-this.x,n=s.y-this.y,i=s.z-this.z||0;return a*a+n*n+i*i},length:function(){var s=this.x,a=this.y,n=this.z;return Math.sqrt(s*s+a*a+n*n)},lengthSq:function(){var s=this.x,a=this.y,n=this.z;return s*s+a*a+n*n},normalize:function(){var s=this.x,a=this.y,n=this.z,i=s*s+a*a+n*n;return i>0&&(i=1/Math.sqrt(i),this.x=s*i,this.y=a*i,this.z=n*i),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},cross:function(s){var a=this.x,n=this.y,i=this.z,r=s.x,f=s.y,l=s.z;return this.x=n*l-i*f,this.y=i*r-a*l,this.z=a*f-n*r,this},lerp:function(s,a){a===void 0&&(a=0);var n=this.x,i=this.y,r=this.z;return this.x=n+a*(s.x-n),this.y=i+a*(s.y-i),this.z=r+a*(s.z-r),this},applyMatrix3:function(s){var a=this.x,n=this.y,i=this.z,r=s.val;return this.x=r[0]*a+r[3]*n+r[6]*i,this.y=r[1]*a+r[4]*n+r[7]*i,this.z=r[2]*a+r[5]*n+r[8]*i,this},applyMatrix4:function(s){var a=this.x,n=this.y,i=this.z,r=s.val,f=1/(r[3]*a+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*a+r[4]*n+r[8]*i+r[12])*f,this.y=(r[1]*a+r[5]*n+r[9]*i+r[13])*f,this.z=(r[2]*a+r[6]*n+r[10]*i+r[14])*f,this},transformMat3:function(s){var a=this.x,n=this.y,i=this.z,r=s.val;return this.x=a*r[0]+n*r[3]+i*r[6],this.y=a*r[1]+n*r[4]+i*r[7],this.z=a*r[2]+n*r[5]+i*r[8],this},transformMat4:function(s){var a=this.x,n=this.y,i=this.z,r=s.val;return this.x=r[0]*a+r[4]*n+r[8]*i+r[12],this.y=r[1]*a+r[5]*n+r[9]*i+r[13],this.z=r[2]*a+r[6]*n+r[10]*i+r[14],this},transformCoordinates:function(s){var a=this.x,n=this.y,i=this.z,r=s.val,f=a*r[0]+n*r[4]+i*r[8]+r[12],l=a*r[1]+n*r[5]+i*r[9]+r[13],h=a*r[2]+n*r[6]+i*r[10]+r[14],c=a*r[3]+n*r[7]+i*r[11]+r[15];return this.x=f/c,this.y=l/c,this.z=h/c,this},transformQuat:function(s){var a=this.x,n=this.y,i=this.z,r=s.x,f=s.y,l=s.z,h=s.w,c=h*a+f*i-l*n,v=h*n+l*a-r*i,d=h*i+r*n-f*a,m=-r*a-f*n-l*i;return this.x=c*h+m*-r+v*-l-d*-f,this.y=v*h+m*-f+d*-r-c*-l,this.z=d*h+m*-l+c*-f-v*-r,this},project:function(s){var a=this.x,n=this.y,i=this.z,r=s.val,f=r[0],l=r[1],h=r[2],c=r[3],v=r[4],d=r[5],m=r[6],y=r[7],T=r[8],C=r[9],R=r[10],A=r[11],P=r[12],O=r[13],b=r[14],D=r[15],N=1/(a*c+n*y+i*A+D);return this.x=(a*f+n*v+i*T+P)*N,this.y=(a*l+n*d+i*C+O)*N,this.z=(a*h+n*m+i*R+b)*N,this},projectViewMatrix:function(s,a){return this.applyMatrix4(s).applyMatrix4(a)},unprojectViewMatrix:function(s,a){return this.applyMatrix4(s).applyMatrix4(a)},unproject:function(s,a){var n=s.x,i=s.y,r=s.z,f=s.w,l=this.x-n,h=f-this.y-1-i,c=this.z;return this.x=2*l/r-1,this.y=2*h/f-1,this.z=2*c-1,this.project(a)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});u.ZERO=new u,u.RIGHT=new u(1,0,0),u.LEFT=new u(-1,0,0),u.UP=new u(0,-1,0),u.DOWN=new u(0,1,0),u.FORWARD=new u(0,0,1),u.BACK=new u(0,0,-1),u.ONE=new u(1,1,1),o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},function(o,x,t){var e={};o.exports=e;var u=t(64),s=t(83),a=t(165),n=t(32),i=t(84),r=t(271);(function(){e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e.create=function(l){var h={id:n.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!l.hasOwnProperty("position")&&l.hasOwnProperty("vertices")?l.position=u.centre(l.vertices):l.hasOwnProperty("vertices")||(h.vertices=u.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var c=n.extend(h,l);return f(c,l),c.setOnCollideWith=function(v,d){return d?this.onCollideWith[v.id]=d:delete this.onCollideWith[v.id],this},c},e.nextGroup=function(l){return l?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var f=function(l,h){h=h||{},e.set(l,{bounds:l.bounds||i.create(l.vertices),positionPrev:l.positionPrev||s.clone(l.position),anglePrev:l.anglePrev||l.angle,vertices:l.vertices,parts:l.parts||[l],isStatic:l.isStatic,isSleeping:l.isSleeping,parent:l.parent||l});var c=l.bounds;if(u.rotate(l.vertices,l.angle,l.position),r.rotate(l.axes,l.angle),i.update(c,l.vertices,l.velocity),e.set(l,{axes:h.axes||l.axes,area:h.area||l.area,mass:h.mass||l.mass,inertia:h.inertia||l.inertia}),l.parts.length===1){var v=l.centerOfMass,d=l.centerOffset,m=c.max.x-c.min.x,y=c.max.y-c.min.y;v.x=-(c.min.x-l.position.x)/m,v.y=-(c.min.y-l.position.y)/y,d.x=m*v.x,d.y=y*v.y}};e.set=function(l,h,c){var v;typeof h=="string"&&(v=h,h={},h[v]=c);for(v in h)if(Object.prototype.hasOwnProperty.call(h,v))switch(c=h[v],v){case"isStatic":e.setStatic(l,c);break;case"isSleeping":a.set(l,c);break;case"mass":e.setMass(l,c);break;case"density":e.setDensity(l,c);break;case"inertia":e.setInertia(l,c);break;case"vertices":e.setVertices(l,c);break;case"position":e.setPosition(l,c);break;case"angle":e.setAngle(l,c);break;case"velocity":e.setVelocity(l,c);break;case"angularVelocity":e.setAngularVelocity(l,c);break;case"parts":e.setParts(l,c);break;case"centre":e.setCentre(l,c);break;default:l[v]=c}},e.setStatic=function(l,h){for(var c=0;c<l.parts.length;c++){var v=l.parts[c];v.isStatic=h,h?(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia},v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null)}},e.setMass=function(l,h){var c=l.inertia/(l.mass/6);l.inertia=c*(h/6),l.inverseInertia=1/l.inertia,l.mass=h,l.inverseMass=1/l.mass,l.density=l.mass/l.area},e.setDensity=function(l,h){e.setMass(l,h*l.area),l.density=h},e.setInertia=function(l,h){l.inertia=h,l.inverseInertia=1/l.inertia},e.setVertices=function(l,h){h[0].body===l?l.vertices=h:l.vertices=u.create(h,l),l.axes=r.fromVertices(l.vertices),l.area=u.area(l.vertices),e.setMass(l,l.density*l.area);var c=u.centre(l.vertices);u.translate(l.vertices,c,-1),e.setInertia(l,e._inertiaScale*u.inertia(l.vertices,l.mass)),u.translate(l.vertices,l.position),i.update(l.bounds,l.vertices,l.velocity)},e.setParts=function(l,h,c){var v;for(h=h.slice(0),l.parts.length=0,l.parts.push(l),l.parent=l,v=0;v<h.length;v++){var d=h[v];d!==l&&(d.parent=l,l.parts.push(d))}if(l.parts.length!==1){if(c=typeof c<"u"?c:!0,c){var m=[];for(v=0;v<h.length;v++)m=m.concat(h[v].vertices);u.clockwiseSort(m);var y=u.hull(m),T=u.centre(y);e.setVertices(l,y),u.translate(l.vertices,T)}var C=e._totalProperties(l),R=C.centre.x,A=C.centre.y,P=l.bounds,O=l.centerOfMass,b=l.centerOffset;i.update(P,l.vertices,l.velocity),O.x=-(P.min.x-R)/(P.max.x-P.min.x),O.y=-(P.min.y-A)/(P.max.y-P.min.y),b.x=R,b.y=A,l.area=C.area,l.parent=l,l.position.x=R,l.position.y=A,l.positionPrev.x=R,l.positionPrev.y=A,e.setMass(l,C.mass),e.setInertia(l,C.inertia),e.setPosition(l,C.centre)}},e.setCentre=function(l,h,c){c?(l.positionPrev.x+=h.x,l.positionPrev.y+=h.y,l.position.x+=h.x,l.position.y+=h.y):(l.positionPrev.x=h.x-(l.position.x-l.positionPrev.x),l.positionPrev.y=h.y-(l.position.y-l.positionPrev.y),l.position.x=h.x,l.position.y=h.y)},e.setPosition=function(l,h){var c=s.sub(h,l.position);l.positionPrev.x+=c.x,l.positionPrev.y+=c.y;for(var v=0;v<l.parts.length;v++){var d=l.parts[v];d.position.x+=c.x,d.position.y+=c.y,u.translate(d.vertices,c),i.update(d.bounds,d.vertices,l.velocity)}},e.setAngle=function(l,h){var c=h-l.angle;l.anglePrev+=c;for(var v=0;v<l.parts.length;v++){var d=l.parts[v];d.angle+=c,u.rotate(d.vertices,c,l.position),r.rotate(d.axes,c),i.update(d.bounds,d.vertices,l.velocity),v>0&&s.rotateAbout(d.position,c,l.position,d.position)}},e.setVelocity=function(l,h){l.positionPrev.x=l.position.x-h.x,l.positionPrev.y=l.position.y-h.y,l.velocity.x=h.x,l.velocity.y=h.y,l.speed=s.magnitude(l.velocity)},e.setAngularVelocity=function(l,h){l.anglePrev=l.angle-h,l.angularVelocity=h,l.angularSpeed=Math.abs(l.angularVelocity)},e.translate=function(l,h){e.setPosition(l,s.add(l.position,h))},e.rotate=function(l,h,c){if(!c)e.setAngle(l,l.angle+h);else{var v=Math.cos(h),d=Math.sin(h),m=l.position.x-c.x,y=l.position.y-c.y;e.setPosition(l,{x:c.x+(m*v-y*d),y:c.y+(m*d+y*v)}),e.setAngle(l,l.angle+h)}},e.scale=function(l,h,c,v){var d=0,m=0;v=v||l.position;for(var y=0;y<l.parts.length;y++){var T=l.parts[y];T.scale.x=h,T.scale.y=c,u.scale(T.vertices,h,c,v),T.axes=r.fromVertices(T.vertices),T.area=u.area(T.vertices),e.setMass(T,l.density*T.area),u.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),e.setInertia(T,e._inertiaScale*u.inertia(T.vertices,T.mass)),u.translate(T.vertices,{x:T.position.x,y:T.position.y}),y>0&&(d+=T.area,m+=T.inertia),T.position.x=v.x+(T.position.x-v.x)*h,T.position.y=v.y+(T.position.y-v.y)*c,i.update(T.bounds,T.vertices,l.velocity)}l.parts.length>1&&(l.area=d,l.isStatic||(e.setMass(l,l.density*d),e.setInertia(l,m))),l.circleRadius&&(h===c?l.circleRadius*=h:l.circleRadius=null)},e.update=function(l,h,c,v){var d=Math.pow(h*c*l.timeScale,2),m=1-l.frictionAir*c*l.timeScale,y=l.position.x-l.positionPrev.x,T=l.position.y-l.positionPrev.y;l.velocity.x=y*m*v+l.force.x/l.mass*d,l.velocity.y=T*m*v+l.force.y/l.mass*d,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.position.x+=l.velocity.x,l.position.y+=l.velocity.y,l.angularVelocity=(l.angle-l.anglePrev)*m*v+l.torque/l.inertia*d,l.anglePrev=l.angle,l.angle+=l.angularVelocity,l.speed=s.magnitude(l.velocity),l.angularSpeed=Math.abs(l.angularVelocity);for(var C=0;C<l.parts.length;C++){var R=l.parts[C];u.translate(R.vertices,l.velocity),C>0&&(R.position.x+=l.velocity.x,R.position.y+=l.velocity.y),l.angularVelocity!==0&&(u.rotate(R.vertices,l.angularVelocity,l.position),r.rotate(R.axes,l.angularVelocity),C>0&&s.rotateAbout(R.position,l.angularVelocity,l.position,R.position)),i.update(R.bounds,R.vertices,l.velocity)}},e.applyForce=function(l,h,c){l.force.x+=c.x,l.force.y+=c.y;var v={x:h.x-l.position.x,y:h.y-l.position.y};l.torque+=v.x*c.y-v.y*c.x},e._totalProperties=function(l){for(var h={mass:0,area:0,inertia:0,centre:{x:0,y:0}},c=l.parts.length===1?0:1;c<l.parts.length;c++){var v=l.parts[c],d=v.mass!==1/0?v.mass:1;h.mass+=d,h.area+=v.area,h.inertia+=v.inertia,h.centre=s.add(h.centre,s.mult(v.position,d))}return h.centre=s.div(h.centre,h.mass),h}})()},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y+e.height-e.height*e.originY};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x+e.width-e.width*e.originX};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n,i){a===void 0&&(a=0),n===void 0&&(n=0),i===void 0&&(i=1);var r,f=0,l=e.length;if(i===1)for(r=n;r<l;r++)e[r][u]+=s+f*a,f++;else for(r=n;r>=0;r--)e[r][u]+=s+f*a,f++;return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(307),s=t(172),a=t(56),n=t(173),i=t(3),r=new e({initialize:function(l,h,c,v){l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=0),v===void 0&&(v=0),this.type=a.LINE,this.x1=l,this.y1=h,this.x2=c,this.y2=v},getPoint:function(f,l){return u(this,f,l)},getPoints:function(f,l,h){return s(this,f,l,h)},getRandomPoint:function(f){return n(this,f)},setTo:function(f,l,h,c){return f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=0),this.x1=f,this.y1=l,this.x2=h,this.y2=c,this},getPointA:function(f){return f===void 0&&(f=new i),f.set(this.x1,this.y1),f},getPointB:function(f){return f===void 0&&(f=new i),f.set(this.x2,this.y2),f},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(f){this.x1<=this.x2?this.x1=f:this.x2=f}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(f){this.x1>this.x2?this.x1=f:this.x2=f}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(f){this.y1<=this.y2?this.y1=f:this.y2=f}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(f){this.y1>this.y2?this.y1=f:this.y2=f}}});o.exports=r},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=s||u.fillColor,i=a||u.fillAlpha,r=(n&16711680)>>>16,f=(n&65280)>>>8,l=n&255;e.fillStyle="rgba("+r+","+f+","+l+","+i+")"};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i,r){var f=[];r.forEach(function(h){h&&f.push(h)}),this.loader=a,this.type=n,this.key=i,this.multiKeyIndex=a.multiKeyIndex++,this.files=f,this.complete=!1,this.pending=f.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var l=0;l<f.length;l++)f[l].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(s){return this.files.push(s),s.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(s){var a=this.files.indexOf(s);a!==-1&&this.pending--},onFileFailed:function(s){var a=this.files.indexOf(s);a!==-1&&this.failed++}});o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=e-s,i=u-a;return Math.sqrt(n*n+i*i)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BOOT:t(922),DESTROY:t(923),DRAG_END:t(924),DRAG_ENTER:t(925),DRAG:t(926),DRAG_LEAVE:t(927),DRAG_OVER:t(928),DRAG_START:t(929),DROP:t(930),GAME_OUT:t(931),GAME_OVER:t(932),GAMEOBJECT_DOWN:t(933),GAMEOBJECT_DRAG_END:t(934),GAMEOBJECT_DRAG_ENTER:t(935),GAMEOBJECT_DRAG:t(936),GAMEOBJECT_DRAG_LEAVE:t(937),GAMEOBJECT_DRAG_OVER:t(938),GAMEOBJECT_DRAG_START:t(939),GAMEOBJECT_DROP:t(940),GAMEOBJECT_MOVE:t(941),GAMEOBJECT_OUT:t(942),GAMEOBJECT_OVER:t(943),GAMEOBJECT_POINTER_DOWN:t(944),GAMEOBJECT_POINTER_MOVE:t(945),GAMEOBJECT_POINTER_OUT:t(946),GAMEOBJECT_POINTER_OVER:t(947),GAMEOBJECT_POINTER_UP:t(948),GAMEOBJECT_POINTER_WHEEL:t(949),GAMEOBJECT_UP:t(950),GAMEOBJECT_WHEEL:t(951),MANAGER_BOOT:t(952),MANAGER_PROCESS:t(953),MANAGER_UPDATE:t(954),POINTER_DOWN:t(955),POINTER_DOWN_OUTSIDE:t(956),POINTER_MOVE:t(957),POINTER_OUT:t(958),POINTER_OVER:t(959),POINTER_UP:t(960),POINTER_UP_OUTSIDE:t(961),POINTER_WHEEL:t(962),POINTERLOCK_CHANGE:t(963),PRE_UPDATE:t(964),SHUTDOWN:t(965),START:t(966),UPDATE:t(967)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.y=u+e.height*e.originY,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x=u+e.width*e.originX,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x=u-e.width+e.width*e.originX,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.y=u-e.height+e.height*e.originY,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e.width<=0||e.height<=0?!1:e.x<=u&&e.x+e.width>=u&&e.y<=s&&e.y+e.height>=s};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(175),s=t(9),a=t(374),n=t(2),i=t(69),r=t(91),f=t(141),l=t(12),h=t(375),c=new e({Extends:s,initialize:function(d){s.call(this);var m=d.game,y=m.renderer,T=y.gl;this.name=n(d,"name","WebGLPipeline"),this.game=m,this.renderer=y,this.manager,this.gl=T,this.view=m.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.topology=n(d,"topology",T.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.currentUnit=0,this.forceZero=n(d,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=d,this.glReset=!1},boot:function(){var v,d=this.gl,m=this.config,y=this.renderer;this.isPostFX||(this.projectionMatrix=new i().identity());var T=this.renderTargets,C=n(m,"renderTarget",!1);typeof C=="boolean"&&C&&(C=1);var R=y.width,A=y.height;if(typeof C=="number")for(v=0;v<C;v++)T.push(new f(y,R,A,1,0,!0));else if(Array.isArray(C))for(v=0;v<C.length;v++){var P=n(C[v],"scale",1),O=n(C[v],"minFilter",0),b=n(C[v],"autoClear",1);T.push(new f(y,R,A,P,O,b))}T.length&&(this.currentRenderTarget=T[0]),this.setShadersFromConfig(m);var D=this.shaders,N=0;for(v=0;v<D.length;v++)D[v].vertexSize>N&&(N=D[v].vertexSize);var B=n(m,"batchSize",y.config.batchSize);this.vertexCapacity=B*6;var U=new ArrayBuffer(this.vertexCapacity*N);this.vertexData=U,this.bytes=new Uint8Array(U),this.vertexViewF32=new Float32Array(U),this.vertexViewU32=new Uint32Array(U);var G=n(m,"vertices",null);for(G?(this.vertexViewF32.set(G),this.vertexBuffer=y.createVertexBuffer(U,d.STATIC_DRAW)):this.vertexBuffer=y.createVertexBuffer(U.byteLength,d.DYNAMIC_DRAW),this.setVertexBuffer(),v=D.length-1;v>=0;v--)D[v].rebind();this.hasBooted=!0,y.on(r.RESIZE,this.resize,this),y.on(r.PRE_RENDER,this.onPreRender,this),y.on(r.RENDER,this.onRender,this),y.on(r.POST_RENDER,this.onPostRender,this),this.emit(a.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(v,d){var m=this.renderer;if(v!==this.currentShader||m.currentProgram!==this.currentShader.program){this.flush(),m.resetTextures();var y=this.setVertexBuffer();y&&!d&&(d=!0),v.bind(d,!1),this.currentShader=v}return this},getShaderByName:function(v){for(var d=this.shaders,m=0;m<d.length;m++)if(d[m].name===v)return d[m]},setShadersFromConfig:function(v){var d,m=this.shaders,y=this.renderer;for(d=0;d<m.length;d++)m[d].destroy();var T="vertShader",C="fragShader",R="attributes",A=n(v,T,null),P=l.parseFragmentShaderMaxTextures(n(v,C,null),y.maxTextures),O=n(v,R,null),b=n(v,"shaders",[]),D=b.length;if(D===0)A&&P&&(this.shaders=[new h(this,"default",A,P,u(O))]);else{var N=[];for(d=0;d<D;d++){var B=b[d],U=n(B,"name","default"),G=n(B,T,A),W=l.parseFragmentShaderMaxTextures(n(B,C,P),y.maxTextures),$=n(B,R,O);G&&W&&N.push(new h(this,U,G,W,u($)))}this.shaders=N}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},setGameObject:function(v,d){return d===void 0&&(d=v.frame),this.currentUnit=this.renderer.setTextureSource(d.source),this.currentUnit},shouldFlush:function(v){return v===void 0&&(v=0),this.vertexCount+v>this.vertexCapacity},resize:function(v,d){(v!==this.width||d!==this.height)&&this.flush(),this.width=v,this.height=d;for(var m=this.renderTargets,y=0;y<m.length;y++)m[y].resize(v,d);return this.setProjectionMatrix(v,d),this.emit(a.RESIZE,v,d,this),this.onResize(v,d),this},setProjectionMatrix:function(v,d){var m=this.projectionMatrix;if(!m)return this;this.projectionWidth=v,this.projectionHeight=d,m.ortho(0,v,d,0,-1e3,1e3);for(var y=this.shaders,T="uProjectionMatrix",C=0;C<y.length;C++){var R=y[C];R.hasUniform(T)&&(R.resetUniform(T),R.setMatrix4fv(T,!1,m.val,R))}return this},updateProjectionMatrix:function(){if(this.projectionMatrix){var v=this.renderer.projectionWidth,d=this.renderer.projectionHeight;(this.projectionWidth!==v||this.projectionHeight!==d)&&this.setProjectionMatrix(v,d)}},bind:function(v){if(v===void 0&&(v=this.currentShader),this.glReset)return this.rebind(v);var d=this.setVertexBuffer();return v.bind(d),this.currentShader=v,this.emit(a.BIND,this,v),this.onActive(v),this},rebind:function(v){this.setVertexBuffer();for(var d=this.shaders,m=d.length-1;m>=0;m--){var y=d[m].rebind();(!v||y===v)&&(this.currentShader=y)}return this.emit(a.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(){var v=this.gl,d=this.vertexBuffer;return v.getParameter(v.ARRAY_BUFFER_BINDING)!==d?(v.bindBuffer(v.ARRAY_BUFFER,d),!0):!1},preBatch:function(v){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(v),this},postBatch:function(v){return this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(v){if(v===void 0&&(v=!1),this.vertexCount>0){this.emit(a.BEFORE_FLUSH,this,v),this.onBeforeFlush(v);var d=this.gl,m=this.vertexCount,y=this.currentShader.vertexSize;this.active&&(this.setVertexBuffer(),m===this.vertexCapacity?d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.DYNAMIC_DRAW):d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,m*y)),d.drawArrays(this.topology,0,m)),this.vertexCount=0,this.emit(a.AFTER_FLUSH,this,v),this.onAfterFlush(v)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(v,d,m,y,T,C,R){var A=this.vertexViewF32,P=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++O]=v,A[++O]=d,A[++O]=m,A[++O]=y,A[++O]=T,A[++O]=C,P[++O]=R,this.vertexCount++},batchQuad:function(v,d,m,y,T,C,R,A,P,O,b,D,N,B,U,G,W,$,q,_){_===void 0&&(_=this.currentUnit);var V=!1;return this.shouldFlush(6)&&(this.flush(),V=!0,_=this.setTexture2D(q)),this.batchVert(d,m,O,b,_,$,B),this.batchVert(y,T,O,N,_,$,G),this.batchVert(C,R,D,N,_,$,W),this.batchVert(d,m,O,b,_,$,B),this.batchVert(C,R,D,N,_,$,W),this.batchVert(A,P,D,b,_,$,U),this.onBatch(v),V},batchTri:function(v,d,m,y,T,C,R,A,P,O,b,D,N,B,U,G,W){W===void 0&&(W=this.currentUnit);var $=!1;return this.shouldFlush(3)&&(this.flush(),$=!0,W=this.setTexture2D(G)),this.batchVert(d,m,A,P,W,U,D),this.batchVert(y,T,A,b,W,U,N),this.batchVert(C,R,O,b,W,U,B),this.onBatch(v),$},drawFillRect:function(v,d,m,y,T,C,R,A){R===void 0&&(R=this.renderer.whiteTexture.glTexture),A===void 0&&(A=!0),v=Math.floor(v),d=Math.floor(d);var P=Math.floor(v+m),O=Math.floor(d+y),b=this.setTexture2D(R),D=l.getTintAppendFloatAlphaAndSwap(T,C),N=0,B=0,U=1,G=1;A&&(B=1,G=0),this.batchQuad(null,v,d,v,O,P,O,P,d,N,B,U,G,D,D,D,D,0,R,b)},setTexture2D:function(v){return v===void 0&&(v=this.renderer.whiteTexture.glTexture),this.currentUnit=this.renderer.setTexture2D(v),this.currentUnit},bindTexture:function(v,d){d===void 0&&(d=0);var m=this.gl;return m.activeTexture(m.TEXTURE0+d),m.bindTexture(m.TEXTURE_2D,v),this},bindRenderTarget:function(v,d){return this.bindTexture(v.texture,d)},setTime:function(v){return this.set1f(v,this.game.loop.getDuration()),this},set1f:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set1f(v,d),this},set2f:function(v,d,m,y){return y===void 0&&(y=this.currentShader),y.set2f(v,d,m),this},set3f:function(v,d,m,y,T){return T===void 0&&(T=this.currentShader),T.set3f(v,d,m,y),this},set4f:function(v,d,m,y,T,C){return C===void 0&&(C=this.currentShader),C.set4f(v,d,m,y,T),this},set1fv:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set1fv(v,d),this},set2fv:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set2fv(v,d),this},set3fv:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set3fv(v,d),this},set4fv:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set4fv(v,d),this},set1iv:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set1iv(v,d),this},set2iv:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set2iv(v,d),this},set3iv:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set3iv(v,d),this},set4iv:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set4iv(v,d),this},set1i:function(v,d,m){return m===void 0&&(m=this.currentShader),m.set1i(v,d),this},set2i:function(v,d,m,y){return y===void 0&&(y=this.currentShader),y.set2i(v,d,m),this},set3i:function(v,d,m,y,T){return T===void 0&&(T=this.currentShader),T.set3i(v,d,m,y),this},set4i:function(v,d,m,y,T,C){return C===void 0&&(C=this.currentShader),C.set4i(v,d,m,y,T),this},setMatrix2fv:function(v,d,m,y){return y===void 0&&(y=this.currentShader),y.setMatrix2fv(v,d,m),this},setMatrix3fv:function(v,d,m,y){return y===void 0&&(y=this.currentShader),y.setMatrix3fv(v,d,m),this},setMatrix4fv:function(v,d,m,y){return y===void 0&&(y=this.currentShader),y.setMatrix4fv(v,d,m),this},destroy:function(){this.emit(a.DESTROY,this);var v,d=this.shaders;for(v=0;v<d.length;v++)d[v].destroy();var m=this.renderTargets;for(v=0;v<m.length;v++)m[v].destroy();this.gl.deleteBuffer(this.vertexBuffer);var y=this.renderer;return y.off(r.RESIZE,this.resize,this),y.off(r.PRE_RENDER,this.onPreRender,this),y.off(r.RENDER,this.onRender,this),y.off(r.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this}});o.exports=c},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function e(w,z,Y){Y=Y||2;var H=z&&z.length,j=H?z[0]*Y:w.length,Z=u(w,0,j,Y,!0),k=[];if(!Z||Z.next===Z.prev)return k;var nt,rt,ht,vt,ot,Et,Tt;if(H&&(Z=l(w,z,Z,Y)),w.length>80*Y){nt=ht=w[0],rt=vt=w[1];for(var Pt=Y;Pt<j;Pt+=Y)ot=w[Pt],Et=w[Pt+1],ot<nt&&(nt=ot),Et<rt&&(rt=Et),ot>ht&&(ht=ot),Et>vt&&(vt=Et);Tt=Math.max(ht-nt,vt-rt),Tt=Tt!==0?1/Tt:0}return a(Z,k,Y,nt,rt,Tt),k}function u(w,z,Y,H,j){var Z,k;if(j===V(w,z,Y,H)>0)for(Z=z;Z<Y;Z+=H)k=$(Z,w[Z],w[Z+1],k);else for(Z=Y-H;Z>=z;Z-=H)k=$(Z,w[Z],w[Z+1],k);return k&&O(k,k.next)&&(q(k),k=k.next),k}function s(w,z){if(!w)return w;z||(z=w);var Y=w,H;do if(H=!1,!Y.steiner&&(O(Y,Y.next)||P(Y.prev,Y,Y.next)===0)){if(q(Y),Y=z=Y.prev,Y===Y.next)break;H=!0}else Y=Y.next;while(H||Y!==z);return z}function a(w,z,Y,H,j,Z,k){if(w){!k&&Z&&m(w,H,j,Z);for(var nt=w,rt,ht;w.prev!==w.next;){if(rt=w.prev,ht=w.next,Z?i(w,H,j,Z):n(w)){z.push(rt.i/Y),z.push(w.i/Y),z.push(ht.i/Y),q(w),w=ht.next,nt=ht.next;continue}if(w=ht,w===nt){k?k===1?(w=r(s(w),z,Y),a(w,z,Y,H,j,Z,2)):k===2&&f(w,z,Y,H,j,Z):a(s(w),z,Y,H,j,Z,1);break}}}}function n(w){var z=w.prev,Y=w,H=w.next;if(P(z,Y,H)>=0)return!1;for(var j=w.next.next;j!==w.prev;){if(R(z.x,z.y,Y.x,Y.y,H.x,H.y,j.x,j.y)&&P(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function i(w,z,Y,H){var j=w.prev,Z=w,k=w.next;if(P(j,Z,k)>=0)return!1;for(var nt=j.x<Z.x?j.x<k.x?j.x:k.x:Z.x<k.x?Z.x:k.x,rt=j.y<Z.y?j.y<k.y?j.y:k.y:Z.y<k.y?Z.y:k.y,ht=j.x>Z.x?j.x>k.x?j.x:k.x:Z.x>k.x?Z.x:k.x,vt=j.y>Z.y?j.y>k.y?j.y:k.y:Z.y>k.y?Z.y:k.y,ot=T(nt,rt,z,Y,H),Et=T(ht,vt,z,Y,H),Tt=w.prevZ,Pt=w.nextZ;Tt&&Tt.z>=ot&&Pt&&Pt.z<=Et;){if(Tt!==w.prev&&Tt!==w.next&&R(j.x,j.y,Z.x,Z.y,k.x,k.y,Tt.x,Tt.y)&&P(Tt.prev,Tt,Tt.next)>=0||(Tt=Tt.prevZ,Pt!==w.prev&&Pt!==w.next&&R(j.x,j.y,Z.x,Z.y,k.x,k.y,Pt.x,Pt.y)&&P(Pt.prev,Pt,Pt.next)>=0))return!1;Pt=Pt.nextZ}for(;Tt&&Tt.z>=ot;){if(Tt!==w.prev&&Tt!==w.next&&R(j.x,j.y,Z.x,Z.y,k.x,k.y,Tt.x,Tt.y)&&P(Tt.prev,Tt,Tt.next)>=0)return!1;Tt=Tt.prevZ}for(;Pt&&Pt.z<=Et;){if(Pt!==w.prev&&Pt!==w.next&&R(j.x,j.y,Z.x,Z.y,k.x,k.y,Pt.x,Pt.y)&&P(Pt.prev,Pt,Pt.next)>=0)return!1;Pt=Pt.nextZ}return!0}function r(w,z,Y){var H=w;do{var j=H.prev,Z=H.next.next;!O(j,Z)&&b(j,H,H.next,Z)&&U(j,Z)&&U(Z,j)&&(z.push(j.i/Y),z.push(H.i/Y),z.push(Z.i/Y),q(H),q(H.next),H=w=Z),H=H.next}while(H!==w);return s(H)}function f(w,z,Y,H,j,Z){var k=w;do{for(var nt=k.next.next;nt!==k.prev;){if(k.i!==nt.i&&A(k,nt)){var rt=W(k,nt);k=s(k,k.next),rt=s(rt,rt.next),a(k,z,Y,H,j,Z),a(rt,z,Y,H,j,Z);return}nt=nt.next}k=k.next}while(k!==w)}function l(w,z,Y,H){var j=[],Z,k,nt,rt,ht;for(Z=0,k=z.length;Z<k;Z++)nt=z[Z]*H,rt=Z<k-1?z[Z+1]*H:w.length,ht=u(w,nt,rt,H,!1),ht===ht.next&&(ht.steiner=!0),j.push(C(ht));for(j.sort(h),Z=0;Z<j.length;Z++)c(j[Z],Y),Y=s(Y,Y.next);return Y}function h(w,z){return w.x-z.x}function c(w,z){if(z=v(w,z),z){var Y=W(z,w);s(z,z.next),s(Y,Y.next)}}function v(w,z){var Y=z,H=w.x,j=w.y,Z=-1/0,k;do{if(j<=Y.y&&j>=Y.next.y&&Y.next.y!==Y.y){var nt=Y.x+(j-Y.y)*(Y.next.x-Y.x)/(Y.next.y-Y.y);if(nt<=H&&nt>Z){if(Z=nt,nt===H){if(j===Y.y)return Y;if(j===Y.next.y)return Y.next}k=Y.x<Y.next.x?Y:Y.next}}Y=Y.next}while(Y!==z);if(!k)return null;if(H===Z)return k;var rt=k,ht=k.x,vt=k.y,ot=1/0,Et;Y=k;do H>=Y.x&&Y.x>=ht&&H!==Y.x&&R(j<vt?H:Z,j,ht,vt,j<vt?Z:H,j,Y.x,Y.y)&&(Et=Math.abs(j-Y.y)/(H-Y.x),U(Y,w)&&(Et<ot||Et===ot&&(Y.x>k.x||Y.x===k.x&&d(k,Y)))&&(k=Y,ot=Et)),Y=Y.next;while(Y!==rt);return k}function d(w,z){return P(w.prev,w,z.prev)<0&&P(z.next,w,w.next)<0}function m(w,z,Y,H){var j=w;do j.z===null&&(j.z=T(j.x,j.y,z,Y,H)),j.prevZ=j.prev,j.nextZ=j.next,j=j.next;while(j!==w);j.prevZ.nextZ=null,j.prevZ=null,y(j)}function y(w){var z,Y,H,j,Z,k,nt,rt,ht=1;do{for(Y=w,w=null,Z=null,k=0;Y;){for(k++,H=Y,nt=0,z=0;z<ht&&(nt++,H=H.nextZ,!!H);z++);for(rt=ht;nt>0||rt>0&&H;)nt!==0&&(rt===0||!H||Y.z<=H.z)?(j=Y,Y=Y.nextZ,nt--):(j=H,H=H.nextZ,rt--),Z?Z.nextZ=j:w=j,j.prevZ=Z,Z=j;Y=H}Z.nextZ=null,ht*=2}while(k>1);return w}function T(w,z,Y,H,j){return w=32767*(w-Y)*j,z=32767*(z-H)*j,w=(w|w<<8)&16711935,w=(w|w<<4)&252645135,w=(w|w<<2)&858993459,w=(w|w<<1)&1431655765,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,w|z<<1}function C(w){var z=w,Y=w;do(z.x<Y.x||z.x===Y.x&&z.y<Y.y)&&(Y=z),z=z.next;while(z!==w);return Y}function R(w,z,Y,H,j,Z,k,nt){return(j-k)*(z-nt)-(w-k)*(Z-nt)>=0&&(w-k)*(H-nt)-(Y-k)*(z-nt)>=0&&(Y-k)*(Z-nt)-(j-k)*(H-nt)>=0}function A(w,z){return w.next.i!==z.i&&w.prev.i!==z.i&&!B(w,z)&&(U(w,z)&&U(z,w)&&G(w,z)&&(P(w.prev,w,z.prev)||P(w,z.prev,z))||O(w,z)&&P(w.prev,w,w.next)>0&&P(z.prev,z,z.next)>0)}function P(w,z,Y){return(z.y-w.y)*(Y.x-z.x)-(z.x-w.x)*(Y.y-z.y)}function O(w,z){return w.x===z.x&&w.y===z.y}function b(w,z,Y,H){var j=N(P(w,z,Y)),Z=N(P(w,z,H)),k=N(P(Y,H,w)),nt=N(P(Y,H,z));return!!(j!==Z&&k!==nt||j===0&&D(w,Y,z)||Z===0&&D(w,H,z)||k===0&&D(Y,w,H)||nt===0&&D(Y,z,H))}function D(w,z,Y){return z.x<=Math.max(w.x,Y.x)&&z.x>=Math.min(w.x,Y.x)&&z.y<=Math.max(w.y,Y.y)&&z.y>=Math.min(w.y,Y.y)}function N(w){return w>0?1:w<0?-1:0}function B(w,z){var Y=w;do{if(Y.i!==w.i&&Y.next.i!==w.i&&Y.i!==z.i&&Y.next.i!==z.i&&b(Y,Y.next,w,z))return!0;Y=Y.next}while(Y!==w);return!1}function U(w,z){return P(w.prev,w,w.next)<0?P(w,z,w.next)>=0&&P(w,w.prev,z)>=0:P(w,z,w.prev)<0||P(w,w.next,z)<0}function G(w,z){var Y=w,H=!1,j=(w.x+z.x)/2,Z=(w.y+z.y)/2;do Y.y>Z!=Y.next.y>Z&&Y.next.y!==Y.y&&j<(Y.next.x-Y.x)*(Z-Y.y)/(Y.next.y-Y.y)+Y.x&&(H=!H),Y=Y.next;while(Y!==w);return H}function W(w,z){var Y=new _(w.i,w.x,w.y),H=new _(z.i,z.x,z.y),j=w.next,Z=z.prev;return w.next=z,z.prev=w,Y.next=j,j.prev=Y,H.next=Y,Y.prev=H,Z.next=H,H.prev=Z,H}function $(w,z,Y,H){var j=new _(w,z,Y);return H?(j.next=H.next,j.prev=H,H.next.prev=j,H.next=j):(j.prev=j,j.next=j),j}function q(w){w.next.prev=w.prev,w.prev.next=w.next,w.prevZ&&(w.prevZ.nextZ=w.nextZ),w.nextZ&&(w.nextZ.prevZ=w.prevZ)}function _(w,z,Y){this.i=w,this.x=z,this.y=Y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(w,z,Y,H){var j=z&&z.length,Z=j?z[0]*Y:w.length,k=Math.abs(V(w,0,Z,Y));if(j)for(var nt=0,rt=z.length;nt<rt;nt++){var ht=z[nt]*Y,vt=nt<rt-1?z[nt+1]*Y:w.length;k-=Math.abs(V(w,ht,vt,Y))}var ot=0;for(nt=0;nt<H.length;nt+=3){var Et=H[nt]*Y,Tt=H[nt+1]*Y,Pt=H[nt+2]*Y;ot+=Math.abs((w[Et]-w[Pt])*(w[Tt+1]-w[Et+1])-(w[Et]-w[Tt])*(w[Pt+1]-w[Et+1]))}return k===0&&ot===0?0:Math.abs((ot-k)/k)};function V(w,z,Y,H){for(var j=0,Z=z,k=Y-H;Z<Y;Z+=H)j+=(w[k]-w[Z])*(w[Z+1]+w[k+1]),k=Z;return j}e.flatten=function(w){for(var z=w[0][0].length,Y={vertices:[],holes:[],dimensions:z},H=0,j=0;j<w.length;j++){for(var Z=0;Z<w[j].length;Z++)for(var k=0;k<z;k++)Y.vertices.push(w[j][Z][k]);j>0&&(H+=w[j-1].length,Y.holes.push(H))}return Y},o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=s||u.strokeColor,i=a||u.strokeAlpha,r=(n&16711680)>>>16,f=(n&65280)>>>8,l=n&255;e.strokeStyle="rgba("+r+","+f+","+l+","+i+")",e.lineWidth=u.lineWidth};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(6),r=t(7),f=new e({Extends:s,initialize:function(h,c,v,d,m){var y="json";if(r(c)){var T=c;c=n(T,"key"),v=n(T,"url"),d=n(T,"xhrSettings"),y=n(T,"extension",y),m=n(T,"dataKey",m)}var C={type:"json",cache:h.cacheManager.json,extension:y,responseType:"text",key:c,url:v,xhrSettings:d,config:m};s.call(this,h,C),r(v)&&(m?this.data=i(v,m):this.data=v,this.state=u.FILE_POPULATED)},onProcess:function(){if(this.state!==u.FILE_POPULATED){this.state=u.FILE_PROCESSING;try{var l=JSON.parse(this.xhrLoader.responseText)}catch(c){throw console.warn("Invalid JSON: "+this.key),this.onProcessError(),c}var h=this.config;typeof h=="string"?this.data=i(l,h,l):this.data=l}this.onProcessComplete()}});a.register("json",function(l,h,c,v){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new f(this,l[d]));else this.addFile(new f(this,l,h,v,c));return this}),o.exports=f},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),u=t(26),s=function(a,n,i,r,f){for(var l=null,h=null,c=null,v=null,d=u(a,n,i,r,null,f),m=0;m<d.length;m++){var y=d[m];y&&(y.collides?(l=e(y.x,y.y-1,!0,f),h=e(y.x,y.y+1,!0,f),c=e(y.x-1,y.y,!0,f),v=e(y.x+1,y.y,!0,f),y.faceTop=!(l&&l.collides),y.faceBottom=!(h&&h.collides),y.faceLeft=!(c&&c.collides),y.faceRight=!(v&&v.collides)):y.resetFaces())}};o.exports=s},function(o,x,t){var e={};o.exports=e;var u=t(83),s=t(32);(function(){e.create=function(a,n){for(var i=[],r=0;r<a.length;r++){var f=a[r],l={x:f.x,y:f.y,index:r,body:n,isInternal:!1,contact:null,offset:null};l.contact={vertex:l,normalImpulse:0,tangentImpulse:0},i.push(l)}return i},e.fromPath=function(a,n){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,r=[];return a.replace(i,function(f,l,h){r.push({x:parseFloat(l),y:parseFloat(h)})}),e.create(r,n)},e.centre=function(a){for(var n=e.area(a,!0),i={x:0,y:0},r,f,l,h=0;h<a.length;h++)l=(h+1)%a.length,r=u.cross(a[h],a[l]),f=u.mult(u.add(a[h],a[l]),r),i=u.add(i,f);return u.div(i,6*n)},e.mean=function(a){for(var n={x:0,y:0},i=0;i<a.length;i++)n.x+=a[i].x,n.y+=a[i].y;return u.div(n,a.length)},e.area=function(a,n){for(var i=0,r=a.length-1,f=0;f<a.length;f++)i+=(a[r].x-a[f].x)*(a[r].y+a[f].y),r=f;return n?i/2:Math.abs(i)/2},e.inertia=function(a,n){for(var i=0,r=0,f=a,l,h,c=0;c<f.length;c++)h=(c+1)%f.length,l=Math.abs(u.cross(f[h],f[c])),i+=l*(u.dot(f[h],f[h])+u.dot(f[h],f[c])+u.dot(f[c],f[c])),r+=l;return n/6*(i/r)},e.translate=function(a,n,i){var r;if(i)for(r=0;r<a.length;r++)a[r].x+=n.x*i,a[r].y+=n.y*i;else for(r=0;r<a.length;r++)a[r].x+=n.x,a[r].y+=n.y;return a},e.rotate=function(a,n,i){if(n!==0){for(var r=Math.cos(n),f=Math.sin(n),l=0;l<a.length;l++){var h=a[l],c=h.x-i.x,v=h.y-i.y;h.x=i.x+(c*r-v*f),h.y=i.y+(c*f+v*r)}return a}},e.contains=function(a,n){for(var i=0;i<a.length;i++){var r=a[i],f=a[(i+1)%a.length];if((n.x-r.x)*(f.y-r.y)+(n.y-r.y)*(r.x-f.x)>0)return!1}return!0},e.scale=function(a,n,i,r){if(n===1&&i===1)return a;r=r||e.centre(a);for(var f,l,h=0;h<a.length;h++)f=a[h],l=u.sub(f,r),a[h].x=r.x+l.x*n,a[h].y=r.y+l.y*i;return a},e.chamfer=function(a,n,i,r,f){typeof n=="number"?n=[n]:n=n||[8],i=typeof i<"u"?i:-1,r=r||2,f=f||14;for(var l=[],h=0;h<a.length;h++){var c=a[h-1>=0?h-1:a.length-1],v=a[h],d=a[(h+1)%a.length],m=n[h<n.length?h:n.length-1];if(m===0){l.push(v);continue}var y=u.normalise({x:v.y-c.y,y:c.x-v.x}),T=u.normalise({x:d.y-v.y,y:v.x-d.x}),C=Math.sqrt(2*Math.pow(m,2)),R=u.mult(s.clone(y),m),A=u.normalise(u.mult(u.add(y,T),.5)),P=u.sub(v,u.mult(A,C)),O=i;i===-1&&(O=Math.pow(m,.32)*1.75),O=s.clamp(O,r,f),O%2===1&&(O+=1);for(var b=Math.acos(u.dot(y,T)),D=b/O,N=0;N<O;N++)l.push(u.add(u.rotate(R,D*N),P))}return l},e.clockwiseSort=function(a){var n=e.mean(a);return a.sort(function(i,r){return u.angle(n,i)-u.angle(n,r)}),a},e.isConvex=function(a){var n=0,i=a.length,r,f,l,h;if(i<3)return null;for(r=0;r<i;r++)if(f=(r+1)%i,l=(r+2)%i,h=(a[f].x-a[r].x)*(a[l].y-a[f].y),h-=(a[f].y-a[r].y)*(a[l].x-a[f].x),h<0?n|=1:h>0&&(n|=2),n===3)return!1;return n!==0?!0:null},e.hull=function(a){var n=[],i=[],r,f;for(a=a.slice(0),a.sort(function(l,h){var c=l.x-h.x;return c!==0?c:l.y-h.y}),f=0;f<a.length;f+=1){for(r=a[f];i.length>=2&&u.cross3(i[i.length-2],i[i.length-1],r)<=0;)i.pop();i.push(r)}for(f=a.length-1;f>=0;f-=1){for(r=a[f];n.length>=2&&u.cross3(n[n.length-2],n[n.length-1],r)<=0;)n.pop();n.push(r)}return n.pop(),i.pop(),n.concat(i)}})()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(66),s=t(300),a=t(301),n=t(56),i=t(170),r=new e({initialize:function(l,h,c){l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=0),this.type=n.CIRCLE,this.x=l,this.y=h,this._radius=c,this._diameter=c*2},contains:function(f,l){return u(this,f,l)},getPoint:function(f,l){return s(this,f,l)},getPoints:function(f,l,h){return a(this,f,l,h)},getRandomPoint:function(f){return i(this,f)},setTo:function(f,l,h){return this.x=f,this.y=l,this._radius=h,this._diameter=h*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(f,l){return l===void 0&&(l=f),this.x=f,this.y=l,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this._diameter=f*2}},diameter:{get:function(){return this._diameter},set:function(f){this._diameter=f,this._radius=f*.5}},left:{get:function(){return this.x-this._radius},set:function(f){this.x=f+this._radius}},right:{get:function(){return this.x+this._radius},set:function(f){this.x=f-this._radius}},top:{get:function(){return this.y-this._radius},set:function(f){this.y=f+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(f){this.y=f-this._radius}}});o.exports=r},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(e.radius>0&&u>=e.left&&u<=e.right&&s>=e.top&&s<=e.bottom){var a=(e.x-u)*(e.x-u),n=(e.y-s)*(e.y-s);return a+n<=e.radius*e.radius}else return!1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=s-u;return u+((e-u)%a+a)%a};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(39),s=1e-6,a=new e({initialize:function(c){this.val=new Float32Array(16),c?this.copy(c):this.identity()},clone:function(){return new a(this)},set:function(h){return this.copy(h)},setValues:function(h,c,v,d,m,y,T,C,R,A,P,O,b,D,N,B){var U=this.val;return U[0]=h,U[1]=c,U[2]=v,U[3]=d,U[4]=m,U[5]=y,U[6]=T,U[7]=C,U[8]=R,U[9]=A,U[10]=P,U[11]=O,U[12]=b,U[13]=D,U[14]=N,U[15]=B,this},copy:function(h){var c=h.val;return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},fromArray:function(h){return this.setValues(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(h,c,v){var d=n.fromQuat(v),m=d.val,y=c.x,T=c.y,C=c.z;return this.setValues(m[0]*y,m[1]*y,m[2]*y,0,m[4]*T,m[5]*T,m[6]*T,0,m[8]*C,m[9]*C,m[10]*C,0,h.x,h.y,h.z,1)},xyz:function(h,c,v){this.identity();var d=this.val;return d[12]=h,d[13]=c,d[14]=v,this},scaling:function(h,c,v){this.zero();var d=this.val;return d[0]=h,d[5]=c,d[10]=v,d[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var h=this.val,c=h[1],v=h[2],d=h[3],m=h[6],y=h[7],T=h[11];return h[1]=h[4],h[2]=h[8],h[3]=h[12],h[4]=c,h[6]=h[9],h[7]=h[13],h[8]=v,h[9]=m,h[11]=h[14],h[12]=d,h[13]=y,h[14]=T,this},getInverse:function(h){return this.copy(h),this.invert()},invert:function(){var h=this.val,c=h[0],v=h[1],d=h[2],m=h[3],y=h[4],T=h[5],C=h[6],R=h[7],A=h[8],P=h[9],O=h[10],b=h[11],D=h[12],N=h[13],B=h[14],U=h[15],G=c*T-v*y,W=c*C-d*y,$=c*R-m*y,q=v*C-d*T,_=v*R-m*T,V=d*R-m*C,w=A*N-P*D,z=A*B-O*D,Y=A*U-b*D,H=P*B-O*N,j=P*U-b*N,Z=O*U-b*B,k=G*Z-W*j+$*H+q*Y-_*z+V*w;return k?(k=1/k,this.setValues((T*Z-C*j+R*H)*k,(d*j-v*Z-m*H)*k,(N*V-B*_+U*q)*k,(O*_-P*V-b*q)*k,(C*Y-y*Z-R*z)*k,(c*Z-d*Y+m*z)*k,(B*$-D*V-U*W)*k,(A*V-O*$+b*W)*k,(y*j-T*Y+R*w)*k,(v*Y-c*j-m*w)*k,(D*_-N*$+U*G)*k,(P*$-A*_-b*G)*k,(T*z-y*H-C*w)*k,(c*H-v*z+d*w)*k,(N*W-D*q-B*G)*k,(A*q-P*W+O*G)*k)):this},adjoint:function(){var h=this.val,c=h[0],v=h[1],d=h[2],m=h[3],y=h[4],T=h[5],C=h[6],R=h[7],A=h[8],P=h[9],O=h[10],b=h[11],D=h[12],N=h[13],B=h[14],U=h[15];return this.setValues(T*(O*U-b*B)-P*(C*U-R*B)+N*(C*b-R*O),-(v*(O*U-b*B)-P*(d*U-m*B)+N*(d*b-m*O)),v*(C*U-R*B)-T*(d*U-m*B)+N*(d*R-m*C),-(v*(C*b-R*O)-T*(d*b-m*O)+P*(d*R-m*C)),-(y*(O*U-b*B)-A*(C*U-R*B)+D*(C*b-R*O)),c*(O*U-b*B)-A*(d*U-m*B)+D*(d*b-m*O),-(c*(C*U-R*B)-y*(d*U-m*B)+D*(d*R-m*C)),c*(C*b-R*O)-y*(d*b-m*O)+A*(d*R-m*C),y*(P*U-b*N)-A*(T*U-R*N)+D*(T*b-R*P),-(c*(P*U-b*N)-A*(v*U-m*N)+D*(v*b-m*P)),c*(T*U-R*N)-y*(v*U-m*N)+D*(v*R-m*T),-(c*(T*b-R*P)-y*(v*b-m*P)+A*(v*R-m*T)),-(y*(P*B-O*N)-A*(T*B-C*N)+D*(T*O-C*P)),c*(P*B-O*N)-A*(v*B-d*N)+D*(v*O-d*P),-(c*(T*B-C*N)-y*(v*B-d*N)+D*(v*C-d*T)),c*(T*O-C*P)-y*(v*O-d*P)+A*(v*C-d*T))},determinant:function(){var h=this.val,c=h[0],v=h[1],d=h[2],m=h[3],y=h[4],T=h[5],C=h[6],R=h[7],A=h[8],P=h[9],O=h[10],b=h[11],D=h[12],N=h[13],B=h[14],U=h[15],G=c*T-v*y,W=c*C-d*y,$=c*R-m*y,q=v*C-d*T,_=v*R-m*T,V=d*R-m*C,w=A*N-P*D,z=A*B-O*D,Y=A*U-b*D,H=P*B-O*N,j=P*U-b*N,Z=O*U-b*B;return G*Z-W*j+$*H+q*Y-_*z+V*w},multiply:function(h){var c=this.val,v=c[0],d=c[1],m=c[2],y=c[3],T=c[4],C=c[5],R=c[6],A=c[7],P=c[8],O=c[9],b=c[10],D=c[11],N=c[12],B=c[13],U=c[14],G=c[15],W=h.val,$=W[0],q=W[1],_=W[2],V=W[3];return c[0]=$*v+q*T+_*P+V*N,c[1]=$*d+q*C+_*O+V*B,c[2]=$*m+q*R+_*b+V*U,c[3]=$*y+q*A+_*D+V*G,$=W[4],q=W[5],_=W[6],V=W[7],c[4]=$*v+q*T+_*P+V*N,c[5]=$*d+q*C+_*O+V*B,c[6]=$*m+q*R+_*b+V*U,c[7]=$*y+q*A+_*D+V*G,$=W[8],q=W[9],_=W[10],V=W[11],c[8]=$*v+q*T+_*P+V*N,c[9]=$*d+q*C+_*O+V*B,c[10]=$*m+q*R+_*b+V*U,c[11]=$*y+q*A+_*D+V*G,$=W[12],q=W[13],_=W[14],V=W[15],c[12]=$*v+q*T+_*P+V*N,c[13]=$*d+q*C+_*O+V*B,c[14]=$*m+q*R+_*b+V*U,c[15]=$*y+q*A+_*D+V*G,this},multiplyLocal:function(h){var c=this.val,v=h.val;return this.setValues(c[0]*v[0]+c[1]*v[4]+c[2]*v[8]+c[3]*v[12],c[0]*v[1]+c[1]*v[5]+c[2]*v[9]+c[3]*v[13],c[0]*v[2]+c[1]*v[6]+c[2]*v[10]+c[3]*v[14],c[0]*v[3]+c[1]*v[7]+c[2]*v[11]+c[3]*v[15],c[4]*v[0]+c[5]*v[4]+c[6]*v[8]+c[7]*v[12],c[4]*v[1]+c[5]*v[5]+c[6]*v[9]+c[7]*v[13],c[4]*v[2]+c[5]*v[6]+c[6]*v[10]+c[7]*v[14],c[4]*v[3]+c[5]*v[7]+c[6]*v[11]+c[7]*v[15],c[8]*v[0]+c[9]*v[4]+c[10]*v[8]+c[11]*v[12],c[8]*v[1]+c[9]*v[5]+c[10]*v[9]+c[11]*v[13],c[8]*v[2]+c[9]*v[6]+c[10]*v[10]+c[11]*v[14],c[8]*v[3]+c[9]*v[7]+c[10]*v[11]+c[11]*v[15],c[12]*v[0]+c[13]*v[4]+c[14]*v[8]+c[15]*v[12],c[12]*v[1]+c[13]*v[5]+c[14]*v[9]+c[15]*v[13],c[12]*v[2]+c[13]*v[6]+c[14]*v[10]+c[15]*v[14],c[12]*v[3]+c[13]*v[7]+c[14]*v[11]+c[15]*v[15])},premultiply:function(h){return this.multiplyMatrices(h,this)},multiplyMatrices:function(h,c){var v=h.val,d=c.val,m=v[0],y=v[4],T=v[8],C=v[12],R=v[1],A=v[5],P=v[9],O=v[13],b=v[2],D=v[6],N=v[10],B=v[14],U=v[3],G=v[7],W=v[11],$=v[15],q=d[0],_=d[4],V=d[8],w=d[12],z=d[1],Y=d[5],H=d[9],j=d[13],Z=d[2],k=d[6],nt=d[10],rt=d[14],ht=d[3],vt=d[7],ot=d[11],Et=d[15];return this.setValues(m*q+y*z+T*Z+C*ht,R*q+A*z+P*Z+O*ht,b*q+D*z+N*Z+B*ht,U*q+G*z+W*Z+$*ht,m*_+y*Y+T*k+C*vt,R*_+A*Y+P*k+O*vt,b*_+D*Y+N*k+B*vt,U*_+G*Y+W*k+$*vt,m*V+y*H+T*nt+C*ot,R*V+A*H+P*nt+O*ot,b*V+D*H+N*nt+B*ot,U*V+G*H+W*nt+$*ot,m*w+y*j+T*rt+C*Et,R*w+A*j+P*rt+O*Et,b*w+D*j+N*rt+B*Et,U*w+G*j+W*rt+$*Et)},translate:function(h){return this.translateXYZ(h.x,h.y,h.z)},translateXYZ:function(h,c,v){var d=this.val;return d[12]=d[0]*h+d[4]*c+d[8]*v+d[12],d[13]=d[1]*h+d[5]*c+d[9]*v+d[13],d[14]=d[2]*h+d[6]*c+d[10]*v+d[14],d[15]=d[3]*h+d[7]*c+d[11]*v+d[15],this},scale:function(h){return this.scaleXYZ(h.x,h.y,h.z)},scaleXYZ:function(h,c,v){var d=this.val;return d[0]=d[0]*h,d[1]=d[1]*h,d[2]=d[2]*h,d[3]=d[3]*h,d[4]=d[4]*c,d[5]=d[5]*c,d[6]=d[6]*c,d[7]=d[7]*c,d[8]=d[8]*v,d[9]=d[9]*v,d[10]=d[10]*v,d[11]=d[11]*v,this},makeRotationAxis:function(h,c){var v=Math.cos(c),d=Math.sin(c),m=1-v,y=h.x,T=h.y,C=h.z,R=m*y,A=m*T;return this.setValues(R*y+v,R*T-d*C,R*C+d*T,0,R*T+d*C,A*T+v,A*C-d*y,0,R*C-d*T,A*C+d*y,m*C*C+v,0,0,0,0,1)},rotate:function(h,c){var v=this.val,d=c.x,m=c.y,y=c.z,T=Math.sqrt(d*d+m*m+y*y);if(Math.abs(T)<s)return this;T=1/T,d*=T,m*=T,y*=T;var C=Math.sin(h),R=Math.cos(h),A=1-R,P=v[0],O=v[1],b=v[2],D=v[3],N=v[4],B=v[5],U=v[6],G=v[7],W=v[8],$=v[9],q=v[10],_=v[11],V=v[12],w=v[13],z=v[14],Y=v[15],H=d*d*A+R,j=m*d*A+y*C,Z=y*d*A-m*C,k=d*m*A-y*C,nt=m*m*A+R,rt=y*m*A+d*C,ht=d*y*A+m*C,vt=m*y*A-d*C,ot=y*y*A+R;return this.setValues(P*H+N*j+W*Z,O*H+B*j+$*Z,b*H+U*j+q*Z,D*H+G*j+_*Z,P*k+N*nt+W*rt,O*k+B*nt+$*rt,b*k+U*nt+q*rt,D*k+G*nt+_*rt,P*ht+N*vt+W*ot,O*ht+B*vt+$*ot,b*ht+U*vt+q*ot,D*ht+G*vt+_*ot,V,w,z,Y)},rotateX:function(h){var c=this.val,v=Math.sin(h),d=Math.cos(h),m=c[4],y=c[5],T=c[6],C=c[7],R=c[8],A=c[9],P=c[10],O=c[11];return c[4]=m*d+R*v,c[5]=y*d+A*v,c[6]=T*d+P*v,c[7]=C*d+O*v,c[8]=R*d-m*v,c[9]=A*d-y*v,c[10]=P*d-T*v,c[11]=O*d-C*v,this},rotateY:function(h){var c=this.val,v=Math.sin(h),d=Math.cos(h),m=c[0],y=c[1],T=c[2],C=c[3],R=c[8],A=c[9],P=c[10],O=c[11];return c[0]=m*d-R*v,c[1]=y*d-A*v,c[2]=T*d-P*v,c[3]=C*d-O*v,c[8]=m*v+R*d,c[9]=y*v+A*d,c[10]=T*v+P*d,c[11]=C*v+O*d,this},rotateZ:function(h){var c=this.val,v=Math.sin(h),d=Math.cos(h),m=c[0],y=c[1],T=c[2],C=c[3],R=c[4],A=c[5],P=c[6],O=c[7];return c[0]=m*d+R*v,c[1]=y*d+A*v,c[2]=T*d+P*v,c[3]=C*d+O*v,c[4]=R*d-m*v,c[5]=A*d-y*v,c[6]=P*d-T*v,c[7]=O*d-C*v,this},fromRotationTranslation:function(h,c){var v=h.x,d=h.y,m=h.z,y=h.w,T=v+v,C=d+d,R=m+m,A=v*T,P=v*C,O=v*R,b=d*C,D=d*R,N=m*R,B=y*T,U=y*C,G=y*R;return this.setValues(1-(b+N),P+G,O-U,0,P-G,1-(A+N),D+B,0,O+U,D-B,1-(A+b),0,c.x,c.y,c.z,1)},fromQuat:function(h){var c=h.x,v=h.y,d=h.z,m=h.w,y=c+c,T=v+v,C=d+d,R=c*y,A=c*T,P=c*C,O=v*T,b=v*C,D=d*C,N=m*y,B=m*T,U=m*C;return this.setValues(1-(O+D),A+U,P-B,0,A-U,1-(R+D),b+N,0,P+B,b-N,1-(R+O),0,0,0,0,1)},frustum:function(h,c,v,d,m,y){var T=1/(c-h),C=1/(d-v),R=1/(m-y);return this.setValues(m*2*T,0,0,0,0,m*2*C,0,0,(c+h)*T,(d+v)*C,(y+m)*R,-1,0,0,y*m*2*R,0)},perspective:function(h,c,v,d){var m=1/Math.tan(h/2),y=1/(v-d);return this.setValues(m/c,0,0,0,0,m,0,0,0,0,(d+v)*y,-1,0,0,2*d*v*y,0)},perspectiveLH:function(h,c,v,d){return this.setValues(2*v/h,0,0,0,0,2*v/c,0,0,0,0,-d/(v-d),1,0,0,v*d/(v-d),0)},ortho:function(h,c,v,d,m,y){var T=h-c,C=v-d,R=m-y;return T=T===0?T:1/T,C=C===0?C:1/C,R=R===0?R:1/R,this.setValues(-2*T,0,0,0,0,-2*C,0,0,0,0,2*R,0,(h+c)*T,(d+v)*C,(y+m)*R,1)},lookAtRH:function(h,c,v){var d=this.val;return l.subVectors(h,c),l.getLengthSquared()===0&&(l.z=1),l.normalize(),r.crossVectors(v,l),r.getLengthSquared()===0&&(Math.abs(v.z)===1?l.x+=1e-4:l.z+=1e-4,l.normalize(),r.crossVectors(v,l)),r.normalize(),f.crossVectors(l,r),d[0]=r.x,d[1]=r.y,d[2]=r.z,d[4]=f.x,d[5]=f.y,d[6]=f.z,d[8]=l.x,d[9]=l.y,d[10]=l.z,this},lookAt:function(h,c,v){var d=h.x,m=h.y,y=h.z,T=v.x,C=v.y,R=v.z,A=c.x,P=c.y,O=c.z;if(Math.abs(d-A)<s&&Math.abs(m-P)<s&&Math.abs(y-O)<s)return this.identity();var b=d-A,D=m-P,N=y-O,B=1/Math.sqrt(b*b+D*D+N*N);b*=B,D*=B,N*=B;var U=C*N-R*D,G=R*b-T*N,W=T*D-C*b;B=Math.sqrt(U*U+G*G+W*W),B?(B=1/B,U*=B,G*=B,W*=B):(U=0,G=0,W=0);var $=D*W-N*G,q=N*U-b*W,_=b*G-D*U;return B=Math.sqrt($*$+q*q+_*_),B?(B=1/B,$*=B,q*=B,_*=B):($=0,q=0,_=0),this.setValues(U,$,b,0,G,q,D,0,W,_,N,0,-(U*d+G*m+W*y),-($*d+q*m+_*y),-(b*d+D*m+N*y),1)},yawPitchRoll:function(h,c,v){this.zero(),n.zero(),i.zero();var d=this.val,m=n.val,y=i.val,T=Math.sin(v),C=Math.cos(v);return d[10]=1,d[15]=1,d[0]=C,d[1]=T,d[4]=-T,d[5]=C,T=Math.sin(c),C=Math.cos(c),m[0]=1,m[15]=1,m[5]=C,m[10]=C,m[9]=-T,m[6]=T,T=Math.sin(h),C=Math.cos(h),y[5]=1,y[15]=1,y[0]=C,y[2]=-T,y[8]=T,y[10]=C,this.multiplyLocal(n),this.multiplyLocal(i),this},setWorldMatrix:function(h,c,v,d,m){return this.yawPitchRoll(h.y,h.x,h.z),n.scaling(v.x,v.y,v.z),i.xyz(c.x,c.y,c.z),this.multiplyLocal(n),this.multiplyLocal(i),d&&this.multiplyLocal(d),m&&this.multiplyLocal(m),this},multiplyToMat4:function(h,c){var v=this.val,d=h.val,m=v[0],y=v[1],T=v[2],C=v[3],R=v[4],A=v[5],P=v[6],O=v[7],b=v[8],D=v[9],N=v[10],B=v[11],U=v[12],G=v[13],W=v[14],$=v[15],q=d[0],_=d[1],V=d[2],w=d[3],z=d[4],Y=d[5],H=d[6],j=d[7],Z=d[8],k=d[9],nt=d[10],rt=d[11],ht=d[12],vt=d[13],ot=d[14],Et=d[15];return c.setValues(q*m+_*R+V*b+w*U,_*y+_*A+V*D+w*G,V*T+_*P+V*N+w*W,w*C+_*O+V*B+w*$,z*m+Y*R+H*b+j*U,z*y+Y*A+H*D+j*G,z*T+Y*P+H*N+j*W,z*C+Y*O+H*B+j*$,Z*m+k*R+nt*b+rt*U,Z*y+k*A+nt*D+rt*G,Z*T+k*P+nt*N+rt*W,Z*C+k*O+nt*B+rt*$,ht*m+vt*R+ot*b+Et*U,ht*y+vt*A+ot*D+Et*G,ht*T+vt*P+ot*N+Et*W,ht*C+vt*O+ot*B+Et*$)},fromRotationXYTranslation:function(h,c,v){var d=c.x,m=c.y,y=c.z,T=Math.sin(h.x),C=Math.cos(h.x),R=Math.sin(h.y),A=Math.cos(h.y),P=d,O=m,b=y,D=-T,N=0-D*R,B=0-C*R,U=D*A,G=C*A;return v||(P=A*d+R*y,O=N*d+C*m+U*y,b=B*d+T*m+G*y),this.setValues(A,N,B,0,0,C,T,0,R,U,G,0,P,O,b,1)},getMaxScaleOnAxis:function(){var h=this.val,c=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],v=h[4]*h[4]+h[5]*h[5]+h[6]*h[6],d=h[8]*h[8]+h[9]*h[9]+h[10]*h[10];return Math.sqrt(Math.max(c,v,d))}}),n=new a,i=new a,r=new u,f=new u,l=new u;o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={COMPLETE:t(987),DECODED:t(988),DECODED_ALL:t(989),DESTROY:t(990),DETUNE:t(991),GLOBAL_DETUNE:t(992),GLOBAL_MUTE:t(993),GLOBAL_RATE:t(994),GLOBAL_VOLUME:t(995),LOOP:t(996),LOOPED:t(997),MUTE:t(998),PAN:t(999),PAUSE_ALL:t(1e3),PAUSE:t(1001),PLAY:t(1002),RATE:t(1003),RESUME_ALL:t(1004),RESUME:t(1005),SEEK:t(1006),STOP_ALL:t(1007),STOP:t(1008),UNLOCKED:t(1009),VOLUME:t(1010)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function f(l,h,c,v,d){var m="png",y;if(i(h)){var T=h;h=n(T,"key"),c=n(T,"url"),y=n(T,"normalMap"),v=n(T,"xhrSettings"),m=n(T,"extension",m),d=n(T,"frameConfig")}Array.isArray(c)&&(y=c[1],c=c[0]);var C={type:"image",cache:l.textureManager,extension:m,responseType:"blob",key:h,url:c,xhrSettings:v,config:d};if(s.call(this,l,C),y){var R=new f(l,this.key,y,v,d);R.type="normalMap",this.setLink(R),l.addFile(R)}},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var f=this;this.data.onload=function(){s.revokeObjectURL(f.data),f.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(f.data),f.onProcessError()},s.createObjectURL(this.data,this.xhrLoader.response,"image/png")},addToCache:function(){var f,l=this.linkFile;l&&l.state===u.FILE_COMPLETE?(this.type==="image"?f=this.cache.addImage(this.key,this.data,l.data):f=this.cache.addImage(l.key,l.data,this.data),this.pendingDestroy(f),l.pendingDestroy(f)):l||(f=this.cache.addImage(this.key,this.data),this.pendingDestroy(f))}});a.register("image",function(f,l,h){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,l,h));return this}),o.exports=r},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u?e.setCollision(!0,!0,!0,!0,!1):e.resetCollision(!1)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),u=t(0),s=t(11),a=t(15),n=t(1065),i=new u({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,n],initialize:function(f,l,h,c,v){a.call(this,f,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(c,v),this.setPosition(l,h),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(r,f){this.anims.update(r,f)},play:function(r,f){return this.anims.play(r,f)},playReverse:function(r,f){return this.anims.playReverse(r,f)},playAfterDelay:function(r,f){return this.anims.playAfterDelay(r,f)},playAfterRepeat:function(r,f){return this.anims.playAfterRepeat(r,f)},chain:function(r){return this.anims.chain(r)},stop:function(){return this.anims.stop()},stopAfterDelay:function(r){return this.anims.stopAfterDelay(r)},stopAfterRepeat:function(r){return this.anims.stopAfterRepeat(r)},stopOnFrame:function(r){return this.anims.stopOnFrame(r)},toJSON:function(){return s.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});o.exports=i},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){if(!(u>=e.length)){for(var s=e.length-1,a=e[u],n=u;n<s;n++)e[n]=e[n+1];return e.length=s,a}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADDED_TO_SCENE:t(643),DESTROY:t(644),REMOVED_FROM_SCENE:t(645),VIDEO_COMPLETE:t(646),VIDEO_CREATED:t(647),VIDEO_ERROR:t(648),VIDEO_LOOP:t(649),VIDEO_PLAY:t(650),VIDEO_SEEKED:t(651),VIDEO_SEEKING:t(652),VIDEO_STOP:t(653),VIDEO_TIMEOUT:t(654),VIDEO_UNLOCKED:t(655)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){return s===void 0&&(s=0),u===0?e:(e-=s,e=u*Math.floor(e/u),a?(s+e)/u:s+e)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u={};for(var s in e)Array.isArray(e[s])?u[s]=e[s].slice(0):u[s]=e[s];return u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=e.length;if(u<0||u>n||u>=s||s>n||u+s>n){if(a)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,n){return String(a).localeCompare(n)}function e(a,n){var i=a.length;if(i<=1)return a;for(var r=new Array(i),f=1;f<i;f*=2){u(a,n,f,r);var l=a;a=r,r=l}return a}function u(a,n,i,r){var f=a.length,l=0,h=i*2,c,v,d,m,y;for(c=0;c<f;c+=h)for(v=c+i,d=v+i,v>f&&(v=f),d>f&&(d=f),m=c,y=v;;)if(m<v&&y<d)n(a[m],a[y])<=0?r[l++]=a[m++]:r[l++]=a[y++];else if(m<v)r[l++]=a[m++];else if(y<d)r[l++]=a[y++];else break}var s=function(a,n){n===void 0&&(n=t);var i=e(a,n);return i!==a&&u(i,null,a.length,a),a};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(134),u=t(205),s=function(a,n){var i=e.Power0;if(typeof a=="string")if(e.hasOwnProperty(a))i=e[a];else{var r="";a.indexOf(".")&&(r=a.substr(a.indexOf(".")+1),r.toLowerCase()==="in"?r="easeIn":r.toLowerCase()==="out"?r="easeOut":r.toLowerCase()==="inout"&&(r="easeInOut")),a=u(a.substr(0,a.indexOf(".")+1)+r),e.hasOwnProperty(a)&&(i=e[a])}else typeof a=="function"?i=a:Array.isArray(a)&&a.length;if(!n)return i;var f=n.slice(0);return f.unshift(0),function(l){return f[0]=l,i.apply(this,f)}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(s,a,n,i,r){var f=s.strokeTint,l=e.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*n);f.TL=l,f.TR=l,f.BL=l,f.BR=l;var h=a.pathData,c=h.length-1,v=a.lineWidth,d=v/2,m=h[0]-i,y=h[1]-r;a.closePath||(c-=2);for(var T=2;T<c;T+=2){var C=h[T]-i,R=h[T+1]-r;s.batchLine(m,y,C,R,d,d,v,T-2,a.closePath?T===c-1:!1),m=C,y=R}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(115),s=t(476),a=t(477),n=t(56),i=t(47),r=t(181),f=new e({initialize:function(h,c,v,d,m,y){h===void 0&&(h=0),c===void 0&&(c=0),v===void 0&&(v=0),d===void 0&&(d=0),m===void 0&&(m=0),y===void 0&&(y=0),this.type=n.TRIANGLE,this.x1=h,this.y1=c,this.x2=v,this.y2=d,this.x3=m,this.y3=y},contains:function(l,h){return u(this,l,h)},getPoint:function(l,h){return s(this,l,h)},getPoints:function(l,h,c){return a(this,l,h,c)},getRandomPoint:function(l){return r(this,l)},setTo:function(l,h,c,v,d,m){return l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=0),v===void 0&&(v=0),d===void 0&&(d=0),m===void 0&&(m=0),this.x1=l,this.y1=h,this.x2=c,this.y2=v,this.x3=d,this.y3=m,this},getLineA:function(l){return l===void 0&&(l=new i),l.setTo(this.x1,this.y1,this.x2,this.y2),l},getLineB:function(l){return l===void 0&&(l=new i),l.setTo(this.x2,this.y2,this.x3,this.y3),l},getLineC:function(l){return l===void 0&&(l=new i),l.setTo(this.x3,this.y3,this.x1,this.y1),l},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(l){var h=0;this.x1<=this.x2&&this.x1<=this.x3?h=this.x1-l:this.x2<=this.x1&&this.x2<=this.x3?h=this.x2-l:h=this.x3-l,this.x1-=h,this.x2-=h,this.x3-=h}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(l){var h=0;this.x1>=this.x2&&this.x1>=this.x3?h=this.x1-l:this.x2>=this.x1&&this.x2>=this.x3?h=this.x2-l:h=this.x3-l,this.x1-=h,this.x2-=h,this.x3-=h}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(l){var h=0;this.y1<=this.y2&&this.y1<=this.y3?h=this.y1-l:this.y2<=this.y1&&this.y2<=this.y3?h=this.y2-l:h=this.y3-l,this.y1-=h,this.y2-=h,this.y3-=h}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(l){var h=0;this.y1>=this.y2&&this.y1>=this.y3?h=this.y1-l:this.y2>=this.y1&&this.y2>=this.y3?h=this.y2-l:h=this.y3-l,this.y1-=h,this.y2-=h,this.y3-=h}}});o.exports=f},function(o,x){var t={};o.exports=t,function(){t.create=function(e,u){return{x:e||0,y:u||0}},t.clone=function(e){return{x:e.x,y:e.y}},t.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},t.rotate=function(e,u,s){var a=Math.cos(u),n=Math.sin(u);s||(s={});var i=e.x*a-e.y*n;return s.y=e.x*n+e.y*a,s.x=i,s},t.rotateAbout=function(e,u,s,a){var n=Math.cos(u),i=Math.sin(u);a||(a={});var r=s.x+((e.x-s.x)*n-(e.y-s.y)*i);return a.y=s.y+((e.x-s.x)*i+(e.y-s.y)*n),a.x=r,a},t.normalise=function(e){var u=t.magnitude(e);return u===0?{x:0,y:0}:{x:e.x/u,y:e.y/u}},t.dot=function(e,u){return e.x*u.x+e.y*u.y},t.cross=function(e,u){return e.x*u.y-e.y*u.x},t.cross3=function(e,u,s){return(u.x-e.x)*(s.y-e.y)-(u.y-e.y)*(s.x-e.x)},t.add=function(e,u,s){return s||(s={}),s.x=e.x+u.x,s.y=e.y+u.y,s},t.sub=function(e,u,s){return s||(s={}),s.x=e.x-u.x,s.y=e.y-u.y,s},t.mult=function(e,u){return{x:e.x*u,y:e.y*u}},t.div=function(e,u){return{x:e.x/u,y:e.y/u}},t.perp=function(e,u){return u=u===!0?-1:1,{x:u*-e.y,y:u*e.x}},t.neg=function(e){return{x:-e.x,y:-e.y}},t.angle=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)},t._temp=[t.create(),t.create(),t.create(),t.create(),t.create(),t.create()]}()},function(o,x){var t={};o.exports=t,function(){t.create=function(e){var u={min:{x:0,y:0},max:{x:0,y:0}};return e&&t.update(u,e),u},t.update=function(e,u,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var a=0;a<u.length;a++){var n=u[a];n.x>e.max.x&&(e.max.x=n.x),n.x<e.min.x&&(e.min.x=n.x),n.y>e.max.y&&(e.max.y=n.y),n.y<e.min.y&&(e.min.y=n.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},t.contains=function(e,u){return u.x>=e.min.x&&u.x<=e.max.x&&u.y>=e.min.y&&u.y<=e.max.y},t.overlaps=function(e,u){return e.min.x<=u.max.x&&e.max.x>=u.min.x&&e.max.y>=u.min.y&&e.min.y<=u.max.y},t.translate=function(e,u){e.min.x+=u.x,e.max.x+=u.x,e.min.y+=u.y,e.max.y+=u.y},t.shift=function(e,u){var s=e.max.x-e.min.x,a=e.max.y-e.min.y;e.min.x=u.x,e.max.x=u.x+s,e.min.y=u.y,e.max.y=u.y+a}}()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(0),s=t(11),a=t(502),n=new u({Mixins:[s.Alpha,s.Flip,s.Visible],initialize:function(r,f,l,h,c,v,d,m){this.layer=r,this.index=f,this.x=l,this.y=h,this.width=c,this.height=v,this.right,this.bottom,this.baseWidth=d!==void 0?d:c,this.baseHeight=m!==void 0?m:v,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.physics={}},containsPoint:function(i,r){return!(i<this.pixelX||r<this.pixelY||i>this.right||r>this.bottom)},copy:function(i){return this.index=i.index,this.alpha=i.alpha,this.properties=i.properties,this.visible=i.visible,this.setFlip(i.flipX,i.flipY),this.tint=i.tint,this.rotation=i.rotation,this.collideUp=i.collideUp,this.collideDown=i.collideDown,this.collideLeft=i.collideLeft,this.collideRight=i.collideRight,this.collisionCallback=i.collisionCallback,this.collisionCallbackContext=i.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(i){var r=this.tilemapLayer;return r?r.tileToWorldX(this.x,i):this.x*this.baseWidth},getRight:function(i){var r=this.tilemapLayer;return r?this.getLeft(i)+this.width*r.scaleX:this.getLeft(i)+this.width},getTop:function(i){var r=this.tilemapLayer;return r?r.tileToWorldY(this.y,i)-(this.height-this.baseHeight)*r.scaleY:this.y*this.baseHeight-(this.height-this.baseHeight)},getBottom:function(i){var r=this.tilemapLayer;return r?this.getTop(i)+this.height*r.scaleY:this.getTop(i)+this.height},getBounds:function(i,r){return r===void 0&&(r=new a),r.x=this.getLeft(),r.y=this.getTop(),r.width=this.getRight()-r.x,r.height=this.getBottom()-r.y,r},getCenterX:function(i){return(this.getLeft(i)+this.getRight(i))/2},getCenterY:function(i){return(this.getTop(i)+this.getBottom(i))/2},intersects:function(i,r,f,l){return!(f<=this.pixelX||l<=this.pixelY||i>=this.right||r>=this.bottom)},isInteresting:function(i,r){return i&&r?this.canCollide||this.hasInterestingFace:i?this.collides:r?this.hasInterestingFace:!1},resetCollision:function(i){if(i===void 0&&(i=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,i){var r=this.tilemapLayer;r&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(i,r,f,l,h){if(r===void 0&&(r=i),f===void 0&&(f=i),l===void 0&&(l=i),h===void 0&&(h=!0),this.collideLeft=i,this.collideRight=r,this.collideUp=f,this.collideDown=l,this.faceLeft=i,this.faceRight=r,this.faceTop=f,this.faceBottom=l,h){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(i,r){return i===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=i,this.collisionCallbackContext=r),this},setSize:function(i,r,f,l){return i!==void 0&&(this.width=i),r!==void 0&&(this.height=r),f!==void 0&&(this.baseWidth=f),l!==void 0&&(this.baseHeight=l),this.updatePixelXY(),this},updatePixelXY:function(){var i=this.layer.orientation;if(i===e.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(i===e.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(i===e.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(i===e.HEXAGONAL){var r=this.layer.hexSideLength,f=(this.baseHeight-r)/2+r;this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*f}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var i=this.layer.tilemapLayer;if(i){var r=i.gidMap[this.index];if(r)return r}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var i=this.tilemapLayer;return i?i.tilemap:null}}});o.exports=n},function(o,x,t){var e={};o.exports=e;var u=t(64),s=t(32),a=t(41),n=t(84),i=t(83),r=t(1393);(function(){e.rectangle=function(f,l,h,c,v){v=v||{};var d={label:"Rectangle Body",position:{x:f,y:l},vertices:u.fromPath("L 0 0 L "+h+" 0 L "+h+" "+c+" L 0 "+c)};if(v.chamfer){var m=v.chamfer;d.vertices=u.chamfer(d.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete v.chamfer}return a.create(s.extend({},d,v))},e.trapezoid=function(f,l,h,c,v,d){d=d||{},v*=.5;var m=(1-v*2)*h,y=h*v,T=y+m,C=T+y,R;v<.5?R="L 0 0 L "+y+" "+-c+" L "+T+" "+-c+" L "+C+" 0":R="L 0 0 L "+T+" "+-c+" L "+C+" 0";var A={label:"Trapezoid Body",position:{x:f,y:l},vertices:u.fromPath(R)};if(d.chamfer){var P=d.chamfer;A.vertices=u.chamfer(A.vertices,P.radius,P.quality,P.qualityMin,P.qualityMax),delete d.chamfer}return a.create(s.extend({},A,d))},e.circle=function(f,l,h,c,v){c=c||{};var d={label:"Circle Body",circleRadius:h};v=v||25;var m=Math.ceil(Math.max(10,Math.min(v,h)));return m%2===1&&(m+=1),e.polygon(f,l,m,h,s.extend({},d,c))},e.polygon=function(f,l,h,c,v){if(v=v||{},h<3)return e.circle(f,l,c,v);for(var d=2*Math.PI/h,m="",y=d*.5,T=0;T<h;T+=1){var C=y+T*d,R=Math.cos(C)*c,A=Math.sin(C)*c;m+="L "+R.toFixed(3)+" "+A.toFixed(3)+" "}var P={label:"Polygon Body",position:{x:f,y:l},vertices:u.fromPath(m)};if(v.chamfer){var O=v.chamfer;P.vertices=u.chamfer(P.vertices,O.radius,O.quality,O.qualityMin,O.qualityMax),delete v.chamfer}return a.create(s.extend({},P,v))},e.fromVertices=function(f,l,h,c,v,d,m){var y,T,C,R,A,P;for(c=c||{},T=[],v=typeof v<"u"?v:!1,d=typeof d<"u"?d:.01,m=typeof m<"u"?m:10,r||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(h[0])||(h=[h]),P=0;P<h.length;P+=1)if(R=h[P],C=u.isConvex(R),C||!r)C?R=u.clockwiseSort(R):R=u.hull(R),T.push({position:{x:f,y:l},vertices:R});else{var O=R.map(function(B){return[B.x,B.y]});r.makeCCW(O),d!==!1&&r.removeCollinearPoints(O,d);var b=r.quickDecomp(O);for(A=0;A<b.length;A++){var D=b[A],N=D.map(function(B){return{x:B[0],y:B[1]}});m>0&&u.area(N)<m||T.push({position:u.centre(N),vertices:N})}}for(A=0;A<T.length;A++)T[A]=a.create(s.extend(T[A],c));return v&&e.flagCoincidentParts(T,5),T.length>1?(y=a.create(s.extend({parts:T.slice(0)},c)),a.setPosition(y,{x:f,y:l}),y):T[0]},e.flagCoincidentParts=function(f,l){l===void 0&&(l=5);for(var h=0;h<f.length;h++)for(var c=f[h],v=h+1;v<f.length;v++){var d=f[v];if(n.overlaps(c.bounds,d.bounds))for(var m=c.vertices,y=d.vertices,T=0;T<c.vertices.length;T++)for(var C=0;C<d.vertices.length;C++){var R=i.magnitudeSquared(i.sub(m[(T+1)%m.length],y[C])),A=i.magnitudeSquared(i.sub(m[T],y[(C+1)%y.length]));R<l&&A<l&&(m[T].isInternal=!0,y[C].isInternal=!0)}}return f}})()},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x-e.width*e.originX+e.width*.5};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.width*e.originX;return e.x=u+s-e.width*.5,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.y-e.height*e.originY+e.height*.5};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.height*e.originY;return e.y=u+s-e.height*.5,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={POST_RENDER:t(628),PRE_RENDER:t(629),RENDER:t(630),RESIZE:t(631)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline"};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),u=function(s,a,n,i){i===void 0&&(i=s);var r;if(!Array.isArray(a))return r=s.indexOf(a),r!==-1?(e(s,r),n&&n.call(i,a),a):null;for(var f=a.length-1,l=[];f>=0;){var h=a[f];r=s.indexOf(h),r!==-1&&(e(s,r),l.push(h),n&&n.call(i,h)),f--}return l};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(199),s=t(10),a=t(3),n=new e({initialize:function(r){this.type=r,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new a,this._tmpVec2B=new a},draw:function(i,r){return r===void 0&&(r=32),i.strokePoints(this.getPoints(r))},getBounds:function(i,r){i||(i=new s),r===void 0&&(r=16);var f=this.getLength();r>f&&(r=f/2);var l=Math.max(1,Math.round(f/r));return u(this.getSpacedPoints(l),i)},getDistancePoints:function(i){var r=this.getLength(),f=Math.max(1,r/i);return this.getSpacedPoints(f)},getEndPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(1,i)},getLength:function(){var i=this.getLengths();return i[i.length-1]},getLengths:function(i){if(i===void 0&&(i=this.arcLengthDivisions),this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],f,l=this.getPoint(0,this._tmpVec2A),h=0;r.push(0);for(var c=1;c<=i;c++)f=this.getPoint(c/i,this._tmpVec2B),h+=f.distance(l),r.push(h),l.copy(f);return this.cacheArcLengths=r,r},getPointAt:function(i,r){var f=this.getUtoTmapping(i);return this.getPoint(f,r)},getPoints:function(i,r,f){f===void 0&&(f=[]),i||(r?i=this.getLength()/r:i=this.defaultDivisions);for(var l=0;l<=i;l++)f.push(this.getPoint(l/i));return f},getRandomPoint:function(i){return i===void 0&&(i=new a),this.getPoint(Math.random(),i)},getSpacedPoints:function(i,r,f){f===void 0&&(f=[]),i||(r?i=this.getLength()/r:i=this.defaultDivisions);for(var l=0;l<=i;l++){var h=this.getUtoTmapping(l/i,null,i);f.push(this.getPoint(h))}return f},getStartPoint:function(i){return i===void 0&&(i=new a),this.getPointAt(0,i)},getTangent:function(i,r){r===void 0&&(r=new a);var f=1e-4,l=i-f,h=i+f;return l<0&&(l=0),h>1&&(h=1),this.getPoint(l,this._tmpVec2A),this.getPoint(h,r),r.subtract(this._tmpVec2A).normalize()},getTangentAt:function(i,r){var f=this.getUtoTmapping(i);return this.getTangent(f,r)},getTFromDistance:function(i,r){return i<=0?0:this.getUtoTmapping(0,i,r)},getUtoTmapping:function(i,r,f){var l=this.getLengths(f),h=0,c=l.length,v;r?v=Math.min(r,l[c-1]):v=i*l[c-1];for(var d=0,m=c-1,y;d<=m;)if(h=Math.floor(d+(m-d)/2),y=l[h]-v,y<0)d=h+1;else if(y>0)m=h-1;else{m=h;break}if(h=m,l[h]===v)return h/(c-1);var T=l[h],C=l[h+1],R=C-T,A=(v-T)/R;return(h+A)/(c-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:t(968),COMPLETE:t(969),FILE_COMPLETE:t(970),FILE_KEY_COMPLETE:t(971),FILE_LOAD_ERROR:t(972),FILE_LOAD:t(973),FILE_PROGRESS:t(974),POST_PROCESS:t(975),PROGRESS:t(976),START:t(977)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a,n){n===void 0&&(n=new e);var i=s.x1,r=s.y1,f=s.x2,l=s.y2,h=a.x1,c=a.y1,v=a.x2,d=a.y2,m=(v-h)*(r-c)-(d-c)*(i-h),y=(f-i)*(r-c)-(l-r)*(i-h),T=(d-c)*(f-i)-(v-h)*(l-r);if(T===0)return!1;var C=m/T,R=y/T;return C>=0&&C<=1&&R>=0&&R<=1?(n.x=i+C*(f-i),n.y=r+C*(l-r),!0):!1};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.atan2(e.y2-e.y1,e.x2-e.x1)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=function(s,a,n){return s=e(s,0,1),(n-a)*s+a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e&&e.hasOwnProperty(u)?e[u]:s};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={CREATED:0,INIT:1,DELAY:2,OFFSET_DELAY:3,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(315),s=new e({initialize:function(n,i){this.parent=n,this.events=i,i||(this.events=n.events?n.events:n),this.list={},this.values={},this._frozen=!1,!n.hasOwnProperty("sys")&&this.events&&this.events.once(u.DESTROY,this.destroy,this)},get:function(a){var n=this.list;if(Array.isArray(a)){for(var i=[],r=0;r<a.length;r++)i.push(n[a[r]]);return i}else return n[a]},getAll:function(){var a={};for(var n in this.list)this.list.hasOwnProperty(n)&&(a[n]=this.list[n]);return a},query:function(a){var n={};for(var i in this.list)this.list.hasOwnProperty(i)&&i.match(a)&&(n[i]=this.list[i]);return n},set:function(a,n){if(this._frozen)return this;if(typeof a=="string")return this.setValue(a,n);for(var i in a)this.setValue(i,a[i]);return this},inc:function(a,n){if(this._frozen)return this;n===void 0&&(n=1);var i=this.get(a);return i===void 0&&(i=0),this.set(a,i+n),this},toggle:function(a){return this._frozen?this:(this.set(a,!this.get(a)),this)},setValue:function(a,n){if(this._frozen)return this;if(this.has(a))this.values[a]=n;else{var i=this,r=this.list,f=this.events,l=this.parent;Object.defineProperty(this.values,a,{enumerable:!0,configurable:!0,get:function(){return r[a]},set:function(h){if(!i._frozen){var c=r[a];r[a]=h,f.emit(u.CHANGE_DATA,l,a,h,c),f.emit(u.CHANGE_DATA_KEY+a,l,h,c)}}}),r[a]=n,f.emit(u.SET_DATA,l,a,n)}return this},each:function(a,n){for(var i=[this.parent,null,void 0],r=1;r<arguments.length;r++)i.push(arguments[r]);for(var f in this.list)i[1]=f,i[2]=this.list[f],a.apply(n,i);return this},merge:function(a,n){n===void 0&&(n=!0);for(var i in a)a.hasOwnProperty(i)&&(n||!n&&!this.has(i))&&this.setValue(i,a[i]);return this},remove:function(a){if(this._frozen)return this;if(Array.isArray(a))for(var n=0;n<a.length;n++)this.removeValue(a[n]);else return this.removeValue(a);return this},removeValue:function(a){if(this.has(a)){var n=this.list[a];delete this.list[a],delete this.values[a],this.events.emit(u.REMOVE_DATA,this.parent,a,n)}return this},pop:function(a){var n=void 0;return!this._frozen&&this.has(a)&&(n=this.list[a],delete this.list[a],delete this.values[a],this.events.emit(u.REMOVE_DATA,this.parent,a,n)),n},has:function(a){return this.list.hasOwnProperty(a)},setFreeze:function(a){return this._frozen=a,this},reset:function(){for(var a in this.list)delete this.list[a],delete this.values[a];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(u.CHANGE_DATA),this.events.off(u.SET_DATA),this.events.off(u.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(a){this._frozen=!!a}},count:{get:function(){var a=0;for(var n in this.list)this.list[n]!==void 0&&a++;return a}}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a){if(this.entries={},this.size=0,Array.isArray(a))for(var n=0;n<a.length;n++)this.set(a[n][0],a[n][1])},set:function(s,a){return this.has(s)||this.size++,this.entries[s]=a,this},get:function(s){if(this.has(s))return this.entries[s]},getArray:function(){var s=[],a=this.entries;for(var n in a)s.push(a[n]);return s},has:function(s){return this.entries.hasOwnProperty(s)},delete:function(s){return this.has(s)&&(delete this.entries[s],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(s){delete this.entries[s]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var s=[],a=this.entries;for(var n in a)s.push(a[n]);return s},dump:function(){var s=this.entries;console.group("Map");for(var a in s)console.log(a,s[a]);console.groupEnd()},each:function(s){var a=this.entries;for(var n in a)if(s(n,a[n])===!1)break;return this},contains:function(s){var a=this.entries;for(var n in a)if(a[n]===s)return!0;return!1},merge:function(s,a){a===void 0&&(a=!1);var n=this.entries,i=s.entries;for(var r in i)n.hasOwnProperty(r)&&a?n[r]=i[r]:this.set(r,i[r]);return this}});o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e<<16|u<<8|s};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ENTER_FULLSCREEN:t(800),FULLSCREEN_FAILED:t(801),FULLSCREEN_UNSUPPORTED:t(802),LEAVE_FULLSCREEN:t(803),ORIENTATION_CHANGE:t(804),RESIZE:t(805)}},function(o,x,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var u={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return u;var a=navigator.userAgent;/Windows/.test(a)?u.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(u.iOS=!0,u.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),u.iOSVersion=parseInt(RegExp.$1,10)):u.macOS=!0:/Android/.test(a)?u.android=!0:/Linux/.test(a)?u.linux=!0:/iP[ao]d|iPhone/i.test(a)?(u.iOS=!0,navigator.appVersion.match(/OS (\d+)/),u.iOSVersion=parseInt(RegExp.$1,10),u.iPhone=a.toLowerCase().indexOf("iphone")!==-1,u.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?u.kindle=!0:/CrOS/.test(a)&&(u.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(u.android=!1,u.iOS=!1,u.macOS=!1,u.windows=!0,u.windowsPhone=!0);var n=/Silk/.test(a);return(u.windows||u.macOS||u.linux&&!n||u.chromeOS)&&(u.desktop=!0),(u.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(u.desktop=!1),navigator.standalone&&(u.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(u.cordova=!0),window.ejecta!==void 0&&(u.ejecta=!0)),typeof e<"u"&&e.versions&&e.versions.node&&(u.node=!0),u.node&&typeof e.versions=="object"&&(u.nodeWebkit=!!e.versions["node-webkit"],u.electron=!!e.versions.electron),/Crosswalk/.test(a)&&(u.crosswalk=!0),u.pixelRatio=window.devicePixelRatio||1,u}o.exports=s()}).call(this,t(807))},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:t(861),ERROR:t(862),LOAD:t(863),READY:t(864),REMOVE:t(865)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(59),s=t(2),a=t(878),n=t(879),i=t(25),r=t(12),f=t(107),l=t(58),h=new e({Extends:l,initialize:function(v){var d=v.game.renderer,m=s(v,"fragShader",a);v.fragShader=r.parseFragmentShaderMaxTextures(m,d.maxTextures),v.vertShader=s(v,"vertShader",n),v.attributes=s(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:f.UNSIGNED_BYTE,normalized:!0}]),l.call(this,v),this._tempMatrix1=new i,this._tempMatrix2=new i,this._tempMatrix3=new i,this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){l.prototype.boot.call(this),this.currentShader.set1iv("uMainSampler",this.renderer.textureIndexes)},batchSprite:function(c,v,d){this.manager.set(this,c);var m=this._tempMatrix1,y=this._tempMatrix2,T=this._tempMatrix3,C=c.frame,R=C.glTexture,A=C.u0,P=C.v0,O=C.u1,b=C.v1,D=C.x,N=C.y,B=C.cutWidth,U=C.cutHeight,G=C.customPivot,W=c.displayOriginX,$=c.displayOriginY,q=-W+D,_=-$+N;if(c.isCropped){var V=c._crop;(V.flipX!==c.flipX||V.flipY!==c.flipY)&&C.updateCropUVs(V,c.flipX,c.flipY),A=V.u0,P=V.v0,O=V.u1,b=V.v1,B=V.width,U=V.height,D=V.x,N=V.y,q=-W+D,_=-$+N}var w=1,z=1;c.flipX&&(G||(q+=-C.realWidth+W*2),w=-1),(c.flipY||C.source.isGLTexture&&!R.flipY)&&(G||(_+=-C.realHeight+$*2),z=-1),y.applyITRS(c.x,c.y,c.rotation,c.scaleX*w,c.scaleY*z),m.copyFrom(v.matrix),d?(m.multiplyWithOffset(d,-v.scrollX*c.scrollFactorX,-v.scrollY*c.scrollFactorY),y.e=c.x,y.f=c.y):(y.e-=v.scrollX*c.scrollFactorX,y.f-=v.scrollY*c.scrollFactorY),m.multiply(y,T);var Y=q+B,H=_+U,j=v.roundPixels,Z=T.getXRound(q,_,j),k=T.getYRound(q,_,j),nt=T.getXRound(q,H,j),rt=T.getYRound(q,H,j),ht=T.getXRound(Y,H,j),vt=T.getYRound(Y,H,j),ot=T.getXRound(Y,_,j),Et=T.getYRound(Y,_,j),Tt=r.getTintAppendFloatAlpha,Pt=v.alpha,Xt=Tt(c.tintTopLeft,Pt*c._alphaTL),zt=Tt(c.tintTopRight,Pt*c._alphaTR),Ut=Tt(c.tintBottomLeft,Pt*c._alphaBL),Mt=Tt(c.tintBottomRight,Pt*c._alphaBR);this.shouldFlush(6)&&this.flush();var ne=this.setGameObject(c,C);this.manager.preBatch(c),this.batchQuad(c,Z,k,nt,rt,ht,vt,ot,Et,A,P,O,b,Xt,zt,Ut,Mt,c.tintFill,R,ne),this.manager.postBatch(c)},batchTexture:function(c,v,d,m,y,T,C,R,A,P,O,b,D,N,B,U,G,W,$,q,_,V,w,z,Y,H,j,Z,k,nt,rt,ht){this.manager.set(this,c);var vt=this._tempMatrix1,ot=this._tempMatrix2,Et=this._tempMatrix3,Tt=W/d+j,Pt=$/m+Z,Xt=(W+q)/d+j,zt=($+_)/m+Z,Ut=C,Mt=R,ne=-U,Vt=-G;if(c.isCropped){var Zt=c._crop,ye=Zt.width,Se=Zt.height;Ut=ye,Mt=Se,C=ye,R=Se,W=Zt.x,$=Zt.y;var Bt=W,_t=$;b&&(Bt=q-Zt.x-ye),D&&(_t=_-Zt.y-Se),Tt=Bt/d+j,Pt=_t/m+Z,Xt=(Bt+ye)/d+j,zt=(_t+Se)/m+Z,ne=-U+W,Vt=-G+$}D=D^(!rt&&v.isRenderTexture?1:0),b&&(Ut*=-1,ne+=C),D&&(Mt*=-1,Vt+=R);var ie=ne+Ut,Re=Vt+Mt;ot.applyITRS(y,T,O,A,P),vt.copyFrom(k.matrix),nt?(vt.multiplyWithOffset(nt,-k.scrollX*N,-k.scrollY*B),ot.e=y,ot.f=T):(ot.e-=k.scrollX*N,ot.f-=k.scrollY*B),vt.multiply(ot,Et);var Me=k.roundPixels,Gt=Et.getXRound(ne,Vt,Me),At=Et.getYRound(ne,Vt,Me),wt=Et.getXRound(ne,Re,Me),se=Et.getYRound(ne,Re,Me),ae=Et.getXRound(ie,Re,Me),le=Et.getYRound(ie,Re,Me),Ee=Et.getXRound(ie,Vt,Me),Ae=Et.getYRound(ie,Vt,Me);ht===void 0&&(ht=this.renderer.setTexture2D(v)),c&&this.manager.preBatch(c),this.batchQuad(c,Gt,At,wt,se,ae,le,Ee,Ae,Tt,Pt,Xt,zt,V,w,z,Y,H,v,ht),c&&this.manager.postBatch(c)},batchTextureFrame:function(c,v,d,m,y,T,C){this.manager.set(this);var R=this._tempMatrix1.copyFrom(T),A=this._tempMatrix2,P=v+c.width,O=d+c.height;C?R.multiply(C,A):A=R;var b=A.getX(v,d),D=A.getY(v,d),N=A.getX(v,O),B=A.getY(v,O),U=A.getX(P,O),G=A.getY(P,O),W=A.getX(P,d),$=A.getY(P,d),q=this.renderer.setTextureSource(c.source);m=r.getTintAppendFloatAlpha(m,y),this.batchQuad(null,b,D,N,B,U,G,W,$,c.u0,c.v0,c.u1,c.v1,m,m,m,m,0,c.glTexture,q)},batchFillRect:function(c,v,d,m,y,T){this.renderer.pipelines.set(this);var C=this.calcMatrix;T&&T.multiply(y,C);var R=c+d,A=v+m,P=C.getX(c,v),O=C.getY(c,v),b=C.getX(c,A),D=C.getY(c,A),N=C.getX(R,A),B=C.getY(R,A),U=C.getX(R,v),G=C.getY(R,v),W=this.fillTint;this.batchQuad(null,P,O,b,D,N,B,U,G,0,0,1,1,W.TL,W.TR,W.BL,W.BR,2)},batchFillTriangle:function(c,v,d,m,y,T,C,R){this.renderer.pipelines.set(this);var A=this.calcMatrix;R&&R.multiply(C,A);var P=A.getX(c,v),O=A.getY(c,v),b=A.getX(d,m),D=A.getY(d,m),N=A.getX(y,T),B=A.getY(y,T),U=this.fillTint;this.batchTri(null,P,O,b,D,N,B,0,0,1,1,U.TL,U.TR,U.BL,2)},batchStrokeTriangle:function(c,v,d,m,y,T,C,R,A){var P=this.tempTriangle;P[0].x=c,P[0].y=v,P[0].width=C,P[1].x=d,P[1].y=m,P[1].width=C,P[2].x=y,P[2].y=T,P[2].width=C,P[3].x=c,P[3].y=v,P[3].width=C,this.batchStrokePath(P,C,!1,R,A)},batchFillPath:function(c,v,d){this.renderer.pipelines.set(this);var m=this.calcMatrix;d&&d.multiply(v,m);for(var y=c.length,T=this.polygonCache,C,R,A=this.fillTint.TL,P=this.fillTint.TR,O=this.fillTint.BL,b=0;b<y;++b)R=c[b],T.push(R.x,R.y);C=u(T),y=C.length;for(var D=0;D<y;D+=3){var N=C[D+0]*2,B=C[D+1]*2,U=C[D+2]*2,G=T[N+0],W=T[N+1],$=T[B+0],q=T[B+1],_=T[U+0],V=T[U+1],w=m.getX(G,W),z=m.getY(G,W),Y=m.getX($,q),H=m.getY($,q),j=m.getX(_,V),Z=m.getY(_,V);this.batchTri(null,w,z,Y,H,j,Z,0,0,1,1,A,P,O,2)}T.length=0},batchStrokePath:function(c,v,d,m,y){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var T=c.length-1,C=0;C<T;C++){var R=c[C],A=c[C+1];this.batchLine(R.x,R.y,A.x,A.y,R.width/2,A.width/2,v,C,!d&&C===T-1,m,y)}},batchLine:function(c,v,d,m,y,T,C,R,A,P,O){this.renderer.pipelines.set(this);var b=this.calcMatrix;O&&O.multiply(P,b);var D=d-c,N=m-v,B=Math.sqrt(D*D+N*N),U=y*(m-v)/B,G=y*(c-d)/B,W=T*(m-v)/B,$=T*(c-d)/B,q=d-W,_=m-$,V=c-U,w=v-G,z=d+W,Y=m+$,H=c+U,j=v+G,Z=b.getX(q,_),k=b.getY(q,_),nt=b.getX(V,w),rt=b.getY(V,w),ht=b.getX(z,Y),vt=b.getY(z,Y),ot=b.getX(H,j),Et=b.getY(H,j),Tt=this.strokeTint,Pt=Tt.TL,Xt=Tt.TR,zt=Tt.BL,Ut=Tt.BR;if(this.batchQuad(null,ot,Et,nt,rt,Z,k,ht,vt,0,0,1,1,Pt,Xt,zt,Ut,2),!(C<=2)){var Mt=this.prevQuad,ne=this.firstQuad;R>0&&Mt[4]?this.batchQuad(null,ot,Et,nt,rt,Mt[0],Mt[1],Mt[2],Mt[3],0,0,1,1,Pt,Xt,zt,Ut,2):(ne[0]=ot,ne[1]=Et,ne[2]=nt,ne[3]=rt,ne[4]=1),A&&ne[4]?this.batchQuad(null,Z,k,ht,vt,ne[0],ne[1],ne[2],ne[3],0,0,1,1,Pt,Xt,zt,Ut,2):(Mt[0]=Z,Mt[1]=k,Mt[2]=ht,Mt[3]=vt,Mt[4]=1)}}});o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(18),s=t(17),a=new e({initialize:function(i,r,f,l,h,c,v){this.texture=i,this.name=r,this.source=i.source[f],this.sourceIndex=f,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0}},this.setSize(c,v,l,h)},setSize:function(n,i,r,f){r===void 0&&(r=0),f===void 0&&(f=0),this.cutX=r,this.cutY=f,this.cutWidth=n,this.cutHeight=i,this.width=n,this.height=i,this.halfWidth=Math.floor(n*.5),this.halfHeight=Math.floor(i*.5),this.centerX=Math.floor(n/2),this.centerY=Math.floor(i/2);var l=this.data,h=l.cut;h.x=r,h.y=f,h.w=n,h.h=i,h.r=r+n,h.b=f+i,l.sourceSize.w=n,l.sourceSize.h=i,l.spriteSourceSize.w=n,l.spriteSourceSize.h=i,l.radius=.5*Math.sqrt(n*n+i*i);var c=l.drawImage;return c.x=r,c.y=f,c.width=n,c.height=i,this.updateUVs()},setTrim:function(n,i,r,f,l,h){var c=this.data,v=c.spriteSourceSize;return c.trim=!0,c.sourceSize.w=n,c.sourceSize.h=i,v.x=r,v.y=f,v.w=l,v.h=h,v.r=r+l,v.b=f+h,this.x=r,this.y=f,this.width=l,this.height=h,this.halfWidth=l*.5,this.halfHeight=h*.5,this.centerX=Math.floor(l/2),this.centerY=Math.floor(h/2),this.updateUVs()},setCropUVs:function(n,i,r,f,l,h,c){var v=this.cutX,d=this.cutY,m=this.cutWidth,y=this.cutHeight,T=this.realWidth,C=this.realHeight;i=u(i,0,T),r=u(r,0,C),f=u(f,0,T-i),l=u(l,0,C-r);var R=v+i,A=d+r,P=f,O=l,b=this.data;if(b.trim){var D=b.spriteSourceSize;f=u(f,0,m-i),l=u(l,0,y-r);var N=i+f,B=r+l,U=!(D.r<i||D.b<r||D.x>N||D.y>B);if(U){var G=Math.max(D.x,i),W=Math.max(D.y,r),$=Math.min(D.r,N)-G,q=Math.min(D.b,B)-W;P=$,O=q,h?R=v+(m-(G-D.x)-$):R=v+(G-D.x),c?A=d+(y-(W-D.y)-q):A=d+(W-D.y),i=G,r=W,f=$,l=q}else R=0,A=0,P=0,O=0}else h&&(R=v+(m-i-f)),c&&(A=d+(y-r-l));var _=this.source.width,V=this.source.height;return n.u0=Math.max(0,R/_),n.v0=Math.max(0,A/V),n.u1=Math.min(1,(R+P)/_),n.v1=Math.min(1,(A+O)/V),n.x=i,n.y=r,n.cx=R,n.cy=A,n.cw=P,n.ch=O,n.width=f,n.height=l,n.flipX=h,n.flipY=c,n},updateCropUVs:function(n,i,r){return this.setCropUVs(n,n.x,n.y,n.width,n.height,i,r)},setUVs:function(n,i,r,f,l,h){var c=this.data.drawImage;return c.width=n,c.height=i,this.u0=r,this.v0=f,this.u1=l,this.v1=h,this},updateUVs:function(){var n=this.cutX,i=this.cutY,r=this.cutWidth,f=this.cutHeight,l=this.data.drawImage;l.width=r,l.height=f;var h=this.source.width,c=this.source.height;return this.u0=n/h,this.v0=i/c,this.u1=(n+r)/h,this.v1=(i+f)/c,this},updateUVsInverted:function(){var n=this.source.width,i=this.source.height;return this.u0=(this.cutX+this.cutHeight)/n,this.v0=this.cutY/i,this.u1=this.cutX/n,this.v1=(this.cutY+this.cutWidth)/i,this},clone:function(){var n=new a(this.texture,this.name,this.sourceIndex);return n.cutX=this.cutX,n.cutY=this.cutY,n.cutWidth=this.cutWidth,n.cutHeight=this.cutHeight,n.x=this.x,n.y=this.y,n.width=this.width,n.height=this.height,n.halfWidth=this.halfWidth,n.halfHeight=this.halfHeight,n.centerX=this.centerX,n.centerY=this.centerY,n.rotated=this.rotated,n.data=s(!0,n.data,this.data),n.updateUVs(),n},destroy:function(){this.source=null,this.texture=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},canvasData:{get:function(){return this.data.drawImage}}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),u=t(0),s=t(1),a=t(79),n=new u({initialize:function(r){this.parent=r,this.list=[],this.position=0,this.addCallback=s,this.removeCallback=s,this._sortKey=""},add:function(i,r){return r?e.Add(this.list,i):e.Add(this.list,i,0,this.addCallback,this)},addAt:function(i,r,f){return f?e.AddAt(this.list,i,r):e.AddAt(this.list,i,r,0,this.addCallback,this)},getAt:function(i){return this.list[i]},getIndex:function(i){return this.list.indexOf(i)},sort:function(i,r){return i?(r===void 0&&(r=function(f,l){return f[i]-l[i]}),a(this.list,r),this):this},getByName:function(i){return e.GetFirst(this.list,"name",i)},getRandom:function(i,r){return e.GetRandom(this.list,i,r)},getFirst:function(i,r,f,l){return e.GetFirst(this.list,i,r,f,l)},getAll:function(i,r,f,l){return e.GetAll(this.list,i,r,f,l)},count:function(i,r){return e.CountAllMatching(this.list,i,r)},swap:function(i,r){e.Swap(this.list,i,r)},moveTo:function(i,r){return e.MoveTo(this.list,i,r)},moveAbove:function(i,r){return e.MoveAbove(this.list,i,r)},moveBelow:function(i,r){return e.MoveBelow(this.list,i,r)},remove:function(i,r){return r?e.Remove(this.list,i):e.Remove(this.list,i,this.removeCallback,this)},removeAt:function(i,r){return r?e.RemoveAt(this.list,i):e.RemoveAt(this.list,i,this.removeCallback,this)},removeBetween:function(i,r,f){return f?e.RemoveBetween(this.list,i,r):e.RemoveBetween(this.list,i,r,this.removeCallback,this)},removeAll:function(i){for(var r=this.list.length;r--;)this.remove(this.list[r],i);return this},bringToTop:function(i){return e.BringToTop(this.list,i)},sendToBack:function(i){return e.SendToBack(this.list,i)},moveUp:function(i){return e.MoveUp(this.list,i),i},moveDown:function(i){return e.MoveDown(this.list,i),i},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(i,r){return e.Replace(this.list,i,r)},exists:function(i){return this.list.indexOf(i)>-1},setAll:function(i,r,f,l){return e.SetAll(this.list,i,r,f,l),this},each:function(i,r){for(var f=[null],l=2;l<arguments.length;l++)f.push(arguments[l]);for(l=0;l<this.list.length;l++)f[0]=this.list[l],i.apply(r,f)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(112),s=t(445),a=t(446),n=t(56),i=t(180),r=new e({initialize:function(l,h,c,v){l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=0),v===void 0&&(v=0),this.type=n.ELLIPSE,this.x=l,this.y=h,this.width=c,this.height=v},contains:function(f,l){return u(this,f,l)},getPoint:function(f,l){return s(this,f,l)},getPoints:function(f,l,h){return a(this,f,l,h)},getRandomPoint:function(f){return i(this,f)},setTo:function(f,l,h,c){return this.x=f,this.y=l,this.width=h,this.height=c,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(f,l){return l===void 0&&(l=f),this.x=f,this.y=l,this},setSize:function(f,l){return l===void 0&&(l=f),this.width=f,this.height=l,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(f){this.x=f+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(f){this.x=f-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(f){this.y=f+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(f){this.y=f-this.height/2}}});o.exports=r},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(e.width<=0||e.height<=0)return!1;var a=(u-e.x)/e.width,n=(s-e.y)/e.height;return a*=a,n*=n,a+n<.25};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(275),u=t(0),s=t(75),a=t(9),n=t(207),i=t(2),r=t(6),f=t(7),l=t(437),h=t(149),c=t(73),v=new u({Extends:a,initialize:function(m,y,T){a.call(this),T?y&&!Array.isArray(y)&&(y=[y]):Array.isArray(y)?f(y[0])&&(T=y,y=null):f(y)&&(T=y,y=null),this.scene=m,this.children=new h,this.isParent=!0,this.type="Group",this.classType=i(T,"classType",c),this.name=i(T,"name",""),this.active=i(T,"active",!0),this.maxSize=i(T,"maxSize",-1),this.defaultKey=i(T,"defaultKey",null),this.defaultFrame=i(T,"defaultFrame",null),this.runChildUpdate=i(T,"runChildUpdate",!1),this.createCallback=i(T,"createCallback",null),this.removeCallback=i(T,"removeCallback",null),this.createMultipleCallback=i(T,"createMultipleCallback",null),this.internalCreateCallback=i(T,"internalCreateCallback",null),this.internalRemoveCallback=i(T,"internalRemoveCallback",null),y&&this.addMultiple(y),T&&this.createMultiple(T),this.on(s.ADDED_TO_SCENE,this.addedToScene,this),this.on(s.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(d,m,y,T,C,R){if(d===void 0&&(d=0),m===void 0&&(m=0),y===void 0&&(y=this.defaultKey),T===void 0&&(T=this.defaultFrame),C===void 0&&(C=!0),R===void 0&&(R=!0),this.isFull())return null;var A=new this.classType(this.scene,d,m,y,T);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=C,A.setActive(R),this.add(A),A},createMultiple:function(d){if(this.isFull())return[];Array.isArray(d)||(d=[d]);var m=[];if(d[0].key)for(var y=0;y<d.length;y++){var T=this.createFromConfig(d[y]);m=m.concat(T)}return m},createFromConfig:function(d){if(this.isFull())return[];this.classType=i(d,"classType",this.classType);var m=i(d,"key",void 0),y=i(d,"frame",null),T=i(d,"visible",!0),C=i(d,"active",!0),R=[];if(m===void 0)return R;Array.isArray(m)||(m=[m]),Array.isArray(y)||(y=[y]);var A=i(d,"repeat",0),P=i(d,"randomKey",!1),O=i(d,"randomFrame",!1),b=i(d,"yoyo",!1),D=i(d,"quantity",!1),N=i(d,"frameQuantity",1),B=i(d,"max",0),U=l(m,y,{max:B,qty:D||N,random:P,randomB:O,repeat:A,yoyo:b});d.createCallback&&(this.createCallback=d.createCallback),d.removeCallback&&(this.removeCallback=d.removeCallback);for(var G=0;G<U.length;G++){var W=this.create(0,0,U[G].a,U[G].b,T,C);if(!W)break;R.push(W)}var $=r(d,"setXY.x",0),q=r(d,"setXY.y",0),_=r(d,"setXY.stepX",0),V=r(d,"setXY.stepY",0);e.SetXY(R,$,q,_,V);var w=r(d,"setRotation.value",0),z=r(d,"setRotation.step",0);e.SetRotation(R,w,z);var Y=r(d,"setScale.x",1),H=r(d,"setScale.y",Y),j=r(d,"setScale.stepX",0),Z=r(d,"setScale.stepY",0);e.SetScale(R,Y,H,j,Z);var k=r(d,"setOrigin.x",.5),nt=r(d,"setOrigin.y",k),rt=r(d,"setOrigin.stepX",0),ht=r(d,"setOrigin.stepY",0);e.SetOrigin(R,k,nt,rt,ht);var vt=r(d,"setAlpha.value",1),ot=r(d,"setAlpha.step",0);e.SetAlpha(R,vt,ot);var Et=r(d,"setDepth.value",0),Tt=r(d,"setDepth.step",0);e.SetDepth(R,Et,Tt);var Pt=r(d,"setScrollFactor.x",1),Xt=r(d,"setScrollFactor.y",Pt),zt=r(d,"setScrollFactor.stepX",0),Ut=r(d,"setScrollFactor.stepY",0);e.SetScrollFactor(R,Pt,Xt,zt,Ut);var Mt=i(d,"hitArea",null),ne=i(d,"hitAreaCallback",null);Mt&&e.SetHitArea(R,Mt,ne);var Vt=i(d,"gridAlign",!1);return Vt&&e.GridAlign(R,Vt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(d,m){if(!(!this.runChildUpdate||this.children.size===0))for(var y=this.children.entries.slice(),T=0;T<y.length;T++){var C=y[T];C.active&&C.update(d,m)}},add:function(d,m){return m===void 0&&(m=!1),this.isFull()?this:(this.children.set(d),this.internalCreateCallback&&this.internalCreateCallback.call(this,d),this.createCallback&&this.createCallback.call(this,d),m&&(d.addToDisplayList(this.scene.sys.displayList),d.addToUpdateList()),d.on(s.DESTROY,this.remove,this),this)},addMultiple:function(d,m){if(m===void 0&&(m=!1),Array.isArray(d))for(var y=0;y<d.length;y++)this.add(d[y],m);return this},remove:function(d,m,y){return m===void 0&&(m=!1),y===void 0&&(y=!1),this.children.contains(d)?(this.children.delete(d),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,d),this.removeCallback&&this.removeCallback.call(this,d),d.off(s.DESTROY,this.remove,this),y?d.destroy():m&&(d.removeFromDisplayList(),d.removeFromUpdateList()),this):this},clear:function(d,m){d===void 0&&(d=!1),m===void 0&&(m=!1);for(var y=this.children,T=0;T<y.size;T++){var C=y.entries[T];C.off(s.DESTROY,this.remove,this),m?C.destroy():d&&(C.removeFromDisplayList(),C.removeFromUpdateList())}return this.children.clear(),this},contains:function(d){return this.children.contains(d)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(d,m,y,T){return n(this.children.entries,d,m,y,T)},getFirst:function(d,m,y,T,C,R,A){return this.getHandler(!0,1,d,m,y,T,C,R,A)},getFirstNth:function(d,m,y,T,C,R,A,P){return this.getHandler(!0,d,m,y,T,C,R,A,P)},getLast:function(d,m,y,T,C,R,A){return this.getHandler(!1,1,d,m,y,T,C,R,A)},getLastNth:function(d,m,y,T,C,R,A,P){return this.getHandler(!1,d,m,y,T,C,R,A,P)},getHandler:function(d,m,y,T,C,R,A,P,O){y===void 0&&(y=!1),T===void 0&&(T=!1);var b,D,N=0,B=this.children.entries;if(d)for(D=0;D<B.length;D++)if(b=B[D],b.active===y){if(N++,N===m)break}else b=null;else for(D=B.length-1;D>=0;D--)if(b=B[D],b.active===y){if(N++,N===m)break}else b=null;return b?(typeof C=="number"&&(b.x=C),typeof R=="number"&&(b.y=R),b):T?this.create(C,R,A,P,O):null},get:function(d,m,y,T,C){return this.getFirst(!1,!0,d,m,y,T,C)},getFirstAlive:function(d,m,y,T,C,R){return this.getFirst(!0,d,m,y,T,C,R)},getFirstDead:function(d,m,y,T,C,R){return this.getFirst(!1,d,m,y,T,C,R)},playAnimation:function(d,m){return e.PlayAnimation(this.children.entries,d,m),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(d){d===void 0&&(d=!0);for(var m=0,y=0;y<this.children.size;y++)this.children.entries[y].active===d&&m++;return m},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var d=this.getTotalUsed(),m=this.maxSize===-1?999999999999:this.maxSize;return m-d},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},propertyValueSet:function(d,m,y,T,C){return e.PropertyValueSet(this.children.entries,d,m,y,T,C),this},propertyValueInc:function(d,m,y,T,C){return e.PropertyValueInc(this.children.entries,d,m,y,T,C),this},setX:function(d,m){return e.SetX(this.children.entries,d,m),this},setY:function(d,m){return e.SetY(this.children.entries,d,m),this},setXY:function(d,m,y,T){return e.SetXY(this.children.entries,d,m,y,T),this},incX:function(d,m){return e.IncX(this.children.entries,d,m),this},incY:function(d,m){return e.IncY(this.children.entries,d,m),this},incXY:function(d,m,y,T){return e.IncXY(this.children.entries,d,m,y,T),this},shiftPosition:function(d,m,y){return e.ShiftPosition(this.children.entries,d,m,y),this},angle:function(d,m){return e.Angle(this.children.entries,d,m),this},rotate:function(d,m){return e.Rotate(this.children.entries,d,m),this},rotateAround:function(d,m){return e.RotateAround(this.children.entries,d,m),this},rotateAroundDistance:function(d,m,y){return e.RotateAroundDistance(this.children.entries,d,m,y),this},setAlpha:function(d,m){return e.SetAlpha(this.children.entries,d,m),this},setTint:function(d,m,y,T){return e.SetTint(this.children.entries,d,m,y,T),this},setOrigin:function(d,m,y,T){return e.SetOrigin(this.children.entries,d,m,y,T),this},scaleX:function(d,m){return e.ScaleX(this.children.entries,d,m),this},scaleY:function(d,m){return e.ScaleY(this.children.entries,d,m),this},scaleXY:function(d,m,y,T){return e.ScaleXY(this.children.entries,d,m,y,T),this},setDepth:function(d,m){return e.SetDepth(this.children.entries,d,m),this},setBlendMode:function(d){return e.SetBlendMode(this.children.entries,d),this},setHitArea:function(d,m){return e.SetHitArea(this.children.entries,d,m),this},shuffle:function(){return e.Shuffle(this.children.entries),this},kill:function(d){this.children.contains(d)&&d.setActive(!1)},killAndHide:function(d){this.children.contains(d)&&(d.setActive(!1),d.setVisible(!1))},setVisible:function(d,m,y){return e.SetVisible(this.children.entries,d,m,y),this},toggleVisible:function(){return e.ToggleVisible(this.children.entries),this},destroy:function(d,m){d===void 0&&(d=!1),m===void 0&&(m=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(s.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(m,d),this.scene=void 0,this.children=void 0)}});o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(s,a,n,i,r,f){for(var l=e.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*i),h=n.pathData,c=n.pathIndexes,v=0;v<c.length;v+=3){var d=c[v]*2,m=c[v+1]*2,y=c[v+2]*2,T=h[d+0]-r,C=h[d+1]-f,R=h[m+0]-r,A=h[m+1]-f,P=h[y+0]-r,O=h[y+1]-f,b=a.getX(T,C),D=a.getY(T,C),N=a.getX(R,A),B=a.getY(R,A),U=a.getX(P,O),G=a.getY(P,O);s.batchTri(n,b,D,N,B,U,G,0,0,1,1,l,l,l,2)}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=e.x3-e.x1,n=e.y3-e.y1,i=e.x2-e.x1,r=e.y2-e.y1,f=u-e.x1,l=s-e.y1,h=a*a+n*n,c=a*i+n*r,v=a*f+n*l,d=i*i+r*r,m=i*f+r*l,y=h*d-c*c,T=y===0?0:1/y,C=(d*v-c*m)*T,R=(h*m-c*v)*T;return C>=0&&R>=0&&C+R<1};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(10),s=t(3);function a(i,r,f,l){var h=i-f,c=r-l,v=h*h+c*c;return Math.sqrt(v)}var n=new e({initialize:function(r,f,l){this.vertex1=r,this.vertex2=f,this.vertex3=l,this.bounds=new u,this._inCenter=new s},getInCenter:function(i){i===void 0&&(i=!0);var r=this.vertex1,f=this.vertex2,l=this.vertex3,h,c,v,d,m,y;i?(h=r.x,c=r.y,v=f.x,d=f.y,m=l.x,y=l.y):(h=r.vx,c=r.vy,v=f.vx,d=f.vy,m=l.vx,y=l.vy);var T=a(m,y,v,d),C=a(h,c,m,y),R=a(v,d,h,c),A=T+C+R;return this._inCenter.set((h*T+v*C+m*R)/A,(c*T+d*C+y*R)/A)},contains:function(i,r,f){var l=this.vertex1,h=this.vertex2,c=this.vertex3,v=l.vx,d=l.vy,m=h.vx,y=h.vy,T=c.vx,C=c.vy;if(f){var R=f.a,A=f.b,P=f.c,O=f.d,b=f.e,D=f.f;v=l.vx*R+l.vy*P+b,d=l.vx*A+l.vy*O+D,m=h.vx*R+h.vy*P+b,y=h.vx*A+h.vy*O+D,T=c.vx*R+c.vy*P+b,C=c.vx*A+c.vy*O+D}var N=T-v,B=C-d,U=m-v,G=y-d,W=i-v,$=r-d,q=N*N+B*B,_=N*U+B*G,V=N*W+B*$,w=U*U+G*G,z=U*W+G*$,Y=q*w-_*_,H=Y===0?0:1/Y,j=(w*V-_*z)*H,Z=(q*z-_*V)*H;return j>=0&&Z>=0&&j+Z<1},isCounterClockwise:function(i){var r=this.vertex1,f=this.vertex2,l=this.vertex3,h=(f.vx-r.vx)*(l.vy-r.vy)-(f.vy-r.vy)*(l.vx-r.vx);return i<=0?h>=0:h<0},load:function(i,r,f,l,h){return f=this.vertex1.load(i,r,f,l,h),f=this.vertex2.load(i,r,f,l,h),f=this.vertex3.load(i,r,f,l,h),f},transformCoordinatesLocal:function(i,r,f,l){return this.vertex1.transformCoordinatesLocal(i,r,f,l),this.vertex2.transformCoordinatesLocal(i,r,f,l),this.vertex3.transformCoordinatesLocal(i,r,f,l),this},updateBounds:function(){var i=this.vertex1,r=this.vertex2,f=this.vertex3,l=this.bounds;return l.x=Math.min(i.vx,r.vx,f.vx),l.y=Math.min(i.vy,r.vy,f.vy),l.width=Math.max(i.vx,r.vx,f.vx)-l.x,l.height=Math.max(i.vy,r.vy,f.vy)-l.y,this},isInView:function(i,r,f,l,h,c,v,d,m,y,T){var C=this.vertex1.update(h,c,v,d,m,y,T,l),R=this.vertex2.update(h,c,v,d,m,y,T,l),A=this.vertex3.update(h,c,v,d,m,y,T,l);if(C.ta<=0&&R.ta<=0&&A.ta<=0||r&&!this.isCounterClockwise(f))return!1;var P=this.bounds;P.x=Math.min(C.tx,R.tx,A.tx),P.y=Math.min(C.ty,R.ty,A.ty),P.width=Math.max(C.tx,R.tx,A.tx)-P.x,P.height=Math.max(C.ty,R.ty,A.ty)-P.y;var O=i.x+i.width,b=i.y+i.height;return P.width<=0||P.height<=0||i.width<=0||i.height<=0?!1:!(P.right<i.x||P.bottom<i.y||P.x>O||P.y>b)},translate:function(i,r){r===void 0&&(r=0);var f=this.vertex1,l=this.vertex2,h=this.vertex3;return f.x+=i,f.y+=r,l.x+=i,l.y+=r,h.x+=i,h.y+=r,this},x:{get:function(){return this.getInCenter().x},set:function(i){var r=this.getInCenter();this.translate(i-r.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(i){var r=this.getInCenter();this.translate(0,i-r.y)}},alpha:{get:function(){var i=this.vertex1,r=this.vertex2,f=this.vertex3;return(i.alpha+r.alpha+f.alpha)/3},set:function(i){this.vertex1.alpha=i,this.vertex2.alpha=i,this.vertex3.alpha=i}},depth:{get:function(){var i=this.vertex1,r=this.vertex2,f=this.vertex3;return(i.vz+r.vz+f.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(12),s=t(39),a=new e({Extends:s,initialize:function(i,r,f,l,h,c,v,d,m,y){c===void 0&&(c=16777215),v===void 0&&(v=1),d===void 0&&(d=0),m===void 0&&(m=0),y===void 0&&(y=0),s.call(this,i,r,f),this.vx=0,this.vy=0,this.vz=0,this.nx=d,this.ny=m,this.nz=y,this.u=l,this.v=h,this.color=c,this.alpha=v,this.tx=0,this.ty=0,this.ta=0},setUVs:function(n,i){return this.u=n,this.v=i,this},transformCoordinatesLocal:function(n,i,r,f){var l=this.x,h=this.y,c=this.z,v=n.val,d=l*v[0]+h*v[4]+c*v[8]+v[12],m=l*v[1]+h*v[5]+c*v[9]+v[13],y=l*v[2]+h*v[6]+c*v[10]+v[14],T=l*v[3]+h*v[7]+c*v[11]+v[15];this.vx=d/T*i,this.vy=-(m/T)*r,f<=0?this.vz=y/T:this.vz=-(y/T)},update:function(n,i,r,f,l,h,c,v){var d=this.vx*n+this.vy*r+l,m=this.vx*i+this.vy*f+h;return c&&(d=Math.round(d),m=Math.round(m)),this.tx=d,this.ty=m,this.ta=this.alpha*v,this},load:function(n,i,r,f,l){return n[++r]=this.tx,n[++r]=this.ty,n[++r]=this.u,n[++r]=this.v,n[++r]=f,n[++r]=l,i[++r]=u.getTintAppendFloatAlpha(this.color,this.ta),r}});o.exports=a},function(o,x,t){var e={};o.exports=e;var u=t(166),s=t(32),a=t(84),n=t(41);(function(){e.create=function(i){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},i)},e.setModified=function(i,r,f,l){if(u.trigger(i,"compositeModified",i),i.isModified=r,f&&i.parent&&e.setModified(i.parent,r,f,l),l)for(var h=0;h<i.composites.length;h++){var c=i.composites[h];e.setModified(c,r,f,l)}},e.add=function(i,r){var f=[].concat(r);u.trigger(i,"beforeAdd",{object:r});for(var l=0;l<f.length;l++){var h=f[l];switch(h.type){case"body":if(h.parent!==h){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,h);break;case"constraint":e.addConstraint(i,h);break;case"composite":e.addComposite(i,h);break;case"mouseConstraint":e.addConstraint(i,h.constraint);break}}return u.trigger(i,"afterAdd",{object:r}),i},e.remove=function(i,r,f){var l=[].concat(r);u.trigger(i,"beforeRemove",{object:r});for(var h=0;h<l.length;h++){var c=l[h];switch(c.type){case"body":e.removeBody(i,c,f);break;case"constraint":e.removeConstraint(i,c,f);break;case"composite":e.removeComposite(i,c,f);break;case"mouseConstraint":e.removeConstraint(i,c.constraint);break}}return u.trigger(i,"afterRemove",{object:r}),i},e.addComposite=function(i,r){return i.composites.push(r),r.parent=i,e.setModified(i,!0,!0,!1),i},e.removeComposite=function(i,r,f){var l=i.composites.indexOf(r);if(l!==-1&&(e.removeCompositeAt(i,l),e.setModified(i,!0,!0,!1)),f)for(var h=0;h<i.composites.length;h++)e.removeComposite(i.composites[h],r,!0);return i},e.removeCompositeAt=function(i,r){return i.composites.splice(r,1),e.setModified(i,!0,!0,!1),i},e.addBody=function(i,r){return i.bodies.push(r),e.setModified(i,!0,!0,!1),i},e.removeBody=function(i,r,f){var l=i.bodies.indexOf(r);if(l!==-1&&(e.removeBodyAt(i,l),e.setModified(i,!0,!0,!1)),f)for(var h=0;h<i.composites.length;h++)e.removeBody(i.composites[h],r,!0);return i},e.removeBodyAt=function(i,r){return i.bodies.splice(r,1),e.setModified(i,!0,!0,!1),i},e.addConstraint=function(i,r){return i.constraints.push(r),e.setModified(i,!0,!0,!1),i},e.removeConstraint=function(i,r,f){var l=i.constraints.indexOf(r);if(l!==-1&&e.removeConstraintAt(i,l),f)for(var h=0;h<i.composites.length;h++)e.removeConstraint(i.composites[h],r,!0);return i},e.removeConstraintAt=function(i,r){return i.constraints.splice(r,1),e.setModified(i,!0,!0,!1),i},e.clear=function(i,r,f){if(f)for(var l=0;l<i.composites.length;l++)e.clear(i.composites[l],r,!0);return r?i.bodies=i.bodies.filter(function(h){return h.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,e.setModified(i,!0,!0,!1),i},e.allBodies=function(i){for(var r=[].concat(i.bodies),f=0;f<i.composites.length;f++)r=r.concat(e.allBodies(i.composites[f]));return r},e.allConstraints=function(i){for(var r=[].concat(i.constraints),f=0;f<i.composites.length;f++)r=r.concat(e.allConstraints(i.composites[f]));return r},e.allComposites=function(i){for(var r=[].concat(i.composites),f=0;f<i.composites.length;f++)r=r.concat(e.allComposites(i.composites[f]));return r},e.get=function(i,r,f){var l,h;switch(f){case"body":l=e.allBodies(i);break;case"constraint":l=e.allConstraints(i);break;case"composite":l=e.allComposites(i).concat(i);break}return l?(h=l.filter(function(c){return c.id.toString()===r.toString()}),h.length===0?null:h[0]):null},e.move=function(i,r,f){return e.remove(i,r),e.add(f,r),i},e.rebase=function(i){for(var r=e.allBodies(i).concat(e.allConstraints(i)).concat(e.allComposites(i)),f=0;f<r.length;f++)r[f].id=s.nextId();return e.setModified(i,!0,!0,!1),i},e.translate=function(i,r,f){for(var l=f?e.allBodies(i):i.bodies,h=0;h<l.length;h++)n.translate(l[h],r);return e.setModified(i,!0,!0,!1),i},e.rotate=function(i,r,f,l){for(var h=Math.cos(r),c=Math.sin(r),v=l?e.allBodies(i):i.bodies,d=0;d<v.length;d++){var m=v[d],y=m.position.x-f.x,T=m.position.y-f.y;n.setPosition(m,{x:f.x+(y*h-T*c),y:f.y+(y*c+T*h)}),n.rotate(m,r)}return e.setModified(i,!0,!0,!1),i},e.scale=function(i,r,f,l,h){for(var c=h?e.allBodies(i):i.bodies,v=0;v<c.length;v++){var d=c[v],m=d.position.x-l.x,y=d.position.y-l.y;n.setPosition(d,{x:l.x+m*r,y:l.y+y*f}),n.scale(d,r,f)}return e.setModified(i,!0,!0,!1),i},e.bounds=function(i){for(var r=e.allBodies(i),f=[],l=0;l<r.length;l+=1){var h=r[l];f.push(h.bounds.min,h.bounds.max)}return a.create(f)}})()},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e>=0&&e<s.width&&u>=0&&u<s.height};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(29),s=t(2),a=new e({initialize:function(i){i===void 0&&(i={}),this.name=s(i,"name","layer"),this.x=s(i,"x",0),this.y=s(i,"y",0),this.width=s(i,"width",0),this.height=s(i,"height",0),this.tileWidth=s(i,"tileWidth",0),this.tileHeight=s(i,"tileHeight",0),this.baseTileWidth=s(i,"baseTileWidth",this.tileWidth),this.baseTileHeight=s(i,"baseTileHeight",this.tileHeight),this.orientation=s(i,"orientation",u.ORTHOGONAL),this.widthInPixels=s(i,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=s(i,"heightInPixels",this.height*this.baseTileHeight),this.alpha=s(i,"alpha",1),this.visible=s(i,"visible",!0),this.properties=s(i,"properties",[]),this.indexes=s(i,"indexes",[]),this.collideIndexes=s(i,"collideIndexes",[]),this.callbacks=s(i,"callbacks",[]),this.bodies=s(i,"bodies",[]),this.data=s(i,"data",[]),this.tilemapLayer=s(i,"tilemapLayer",null),this.hexSideLength=s(i,"hexSideLength",0)}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(29),s=t(2),a=new e({initialize:function(i){i===void 0&&(i={}),this.name=s(i,"name","map"),this.width=s(i,"width",0),this.height=s(i,"height",0),this.infinite=s(i,"infinite",!1),this.tileWidth=s(i,"tileWidth",0),this.tileHeight=s(i,"tileHeight",0),this.widthInPixels=s(i,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=s(i,"heightInPixels",this.height*this.tileHeight),this.format=s(i,"format",null),this.orientation=s(i,"orientation",u.ORTHOGONAL),this.renderOrder=s(i,"renderOrder","right-down"),this.version=s(i,"version","1"),this.properties=s(i,"properties",{}),this.layers=s(i,"layers",[]),this.images=s(i,"images",[]),this.objects=s(i,"objects",{}),this.collision=s(i,"collision",{}),this.tilesets=s(i,"tilesets",[]),this.imageCollections=s(i,"imageCollections",[]),this.tiles=s(i,"tiles",[]),this.hexSideLength=s(i,"hexSideLength",0)}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i,r,f,l,h,c){(i===void 0||i<=0)&&(i=32),(r===void 0||r<=0)&&(r=32),f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h={}),c===void 0&&(c={}),this.name=a,this.firstgid=n,this.tileWidth=i,this.tileHeight=r,this.tileMargin=f,this.tileSpacing=l,this.tileProperties=h,this.tileData=c,this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(s){return this.containsTileIndex(s)?this.tileProperties[s-this.firstgid]:null},getTileData:function(s){return this.containsTileIndex(s)?this.tileData[s-this.firstgid]:null},getTileCollisionGroup:function(s){var a=this.getTileData(s);return a&&a.objectgroup?a.objectgroup:null},containsTileIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},getTileTextureCoordinates:function(s){return this.containsTileIndex(s)?this.texCoordinates[s-this.firstgid]:null},setImage:function(s){return this.image=s,this.glTexture=s.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(s,a){return s!==void 0&&(this.tileWidth=s),a!==void 0&&(this.tileHeight=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(s,a){return s!==void 0&&(this.tileMargin=s),a!==void 0&&(this.tileSpacing=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(s,a){var n=(a-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),i=(s-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(n%1!==0||i%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),n=Math.floor(n),i=Math.floor(i),this.rows=n,this.columns=i,this.total=n*i,this.texCoordinates.length=0;for(var r=this.tileMargin,f=this.tileMargin,l=0;l<this.rows;l++){for(var h=0;h<this.columns;h++)this.texCoordinates.push({x:r,y:f}),r+=this.tileWidth+this.tileSpacing;r=this.tileMargin,f+=this.tileHeight+this.tileSpacing}return this}});o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return s===void 0&&(s=1e-4),Math.abs(e-u)<s};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(15),a=t(1068),n=new e({Extends:s,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.ScrollFactor,u.Size,u.TextureCrop,u.Tint,u.Transform,u.Visible,a],initialize:function(r,f,l,h,c){s.call(this,r,"Image"),this._crop=this.resetCropObject(),this.setTexture(h,c),this.setPosition(f,l),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline()}});o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.hasOwnProperty(u)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=function(s,a){var n=e(s);for(var i in a)n.hasOwnProperty(i)||(n[i]=a[i]);return n};o.exports=u},function(o,x,t){var e={};o.exports=e;var u=t(64),s=t(83),a=t(165),n=t(84),i=t(271),r=t(32);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(f){var l=f;l.bodyA&&!l.pointA&&(l.pointA={x:0,y:0}),l.bodyB&&!l.pointB&&(l.pointB={x:0,y:0});var h=l.bodyA?s.add(l.bodyA.position,l.pointA):l.pointA,c=l.bodyB?s.add(l.bodyB.position,l.pointB):l.pointB,v=s.magnitude(s.sub(h,c));l.length=typeof l.length<"u"?l.length:v,l.id=l.id||r.nextId(),l.label=l.label||"Constraint",l.type="constraint",l.stiffness=l.stiffness||(l.length>0?1:.7),l.damping=l.damping||0,l.angularStiffness=l.angularStiffness||0,l.angleA=l.bodyA?l.bodyA.angle:l.angleA,l.angleB=l.bodyB?l.bodyB.angle:l.angleB,l.plugin={};var d={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return l.length===0&&l.stiffness>.1?(d.type="pin",d.anchors=!1):l.stiffness<.9&&(d.type="spring"),l.render=r.extend(d,l.render),l},e.preSolveAll=function(f){for(var l=0;l<f.length;l+=1){var h=f[l],c=h.constraintImpulse;h.isStatic||c.x===0&&c.y===0&&c.angle===0||(h.position.x+=c.x,h.position.y+=c.y,h.angle+=c.angle)}},e.solveAll=function(f,l){for(var h=0;h<f.length;h+=1){var c=f[h],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,d=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(v||d)&&e.solve(f[h],l)}for(h=0;h<f.length;h+=1)c=f[h],v=!c.bodyA||c.bodyA&&c.bodyA.isStatic,d=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!v&&!d&&e.solve(f[h],l)},e.solve=function(f,l){var h=f.bodyA,c=f.bodyB,v=f.pointA,d=f.pointB;if(!(!h&&!c)){h&&!h.isStatic&&(s.rotate(v,h.angle-f.angleA,v),f.angleA=h.angle),c&&!c.isStatic&&(s.rotate(d,c.angle-f.angleB,d),f.angleB=c.angle);var m=v,y=d;if(h&&(m=s.add(h.position,v)),c&&(y=s.add(c.position,d)),!(!m||!y)){var T=s.sub(m,y),C=s.magnitude(T);C<e._minLength&&(C=e._minLength);var R=(C-f.length)/C,A=f.stiffness<1?f.stiffness*l:f.stiffness,P=s.mult(T,R*A),O=(h?h.inverseMass:0)+(c?c.inverseMass:0),b=(h?h.inverseInertia:0)+(c?c.inverseInertia:0),D=O+b,N,B,U,G,W;if(f.damping){var $=s.create();U=s.div(T,C),W=s.sub(c&&s.sub(c.position,c.positionPrev)||$,h&&s.sub(h.position,h.positionPrev)||$),G=s.dot(U,W)}h&&!h.isStatic&&(B=h.inverseMass/O,h.constraintImpulse.x-=P.x*B,h.constraintImpulse.y-=P.y*B,h.position.x-=P.x*B,h.position.y-=P.y*B,f.damping&&(h.positionPrev.x-=f.damping*U.x*G*B,h.positionPrev.y-=f.damping*U.y*G*B),N=s.cross(v,P)/D*e._torqueDampen*h.inverseInertia*(1-f.angularStiffness),h.constraintImpulse.angle-=N,h.angle-=N),c&&!c.isStatic&&(B=c.inverseMass/O,c.constraintImpulse.x+=P.x*B,c.constraintImpulse.y+=P.y*B,c.position.x+=P.x*B,c.position.y+=P.y*B,f.damping&&(c.positionPrev.x+=f.damping*U.x*G*B,c.positionPrev.y+=f.damping*U.y*G*B),N=s.cross(d,P)/D*e._torqueDampen*c.inverseInertia*(1-f.angularStiffness),c.constraintImpulse.angle+=N,c.angle+=N)}}},e.postSolveAll=function(f){for(var l=0;l<f.length;l++){var h=f[l],c=h.constraintImpulse;if(!(h.isStatic||c.x===0&&c.y===0&&c.angle===0)){a.set(h,!1);for(var v=0;v<h.parts.length;v++){var d=h.parts[v];u.translate(d.vertices,c),v>0&&(d.position.x+=c.x,d.position.y+=c.y),c.angle!==0&&(u.rotate(d.vertices,c.angle,h.position),i.rotate(d.axes,c.angle),v>0&&s.rotateAbout(d.position,c.angle,h.position,d.position)),n.update(d.bounds,d.vertices,h.velocity)}c.angle*=e._warming,c.x*=e._warming,c.y*=e._warming}}},e.pointAWorld=function(f){return{x:(f.bodyA?f.bodyA.position.x:0)+f.pointA.x,y:(f.bodyA?f.bodyA.position.y:0)+f.pointA.y}},e.pointBWorld=function(f){return{x:(f.bodyB?f.bodyB.position.x:0)+f.pointB.x,y:(f.bodyB?f.bodyB.position.y:0)+f.pointB.y}}})()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(65),s=t(66),a=t(0),n=t(11),i=t(15),r=t(10),f=t(57),l=new a({Extends:i,Mixins:[n.Depth,n.GetBounds,n.Origin,n.Transform,n.ScrollFactor,n.Visible],initialize:function(c,v,d,m,y){m===void 0&&(m=1),y===void 0&&(y=m),i.call(this,c,"Zone"),this.setPosition(v,d),this.width=m,this.height=y,this.blendMode=e.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,c,v){v===void 0&&(v=!0),this.width=h,this.height=c,this.updateDisplayOrigin();var d=this.input;return v&&d&&!d.customHitArea&&(d.hitArea.width=h,d.hitArea.height=c),this},setDisplaySize:function(h,c){return this.displayWidth=h,this.displayHeight=c,this},setCircleDropZone:function(h){return this.setDropZone(new u(0,0,h),s)},setRectangleDropZone:function(h,c){return this.setDropZone(new r(0,0,h,c),f)},setDropZone:function(h,c){return h===void 0?this.setRectangleDropZone(this.width,this.height):this.input||this.setInteractive(h,c,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(h,c,v){v.addToRenderList(c)},renderWebGL:function(h,c,v){v.addToRenderList(c)}});o.exports=l},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(e.width+e.height)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=e.length-1;u>0;u--){var s=Math.floor(Math.random()*(u+1)),a=e[u];e[u]=e[s],e[s]=a}return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD_ANIMATION:t(724),ANIMATION_COMPLETE:t(725),ANIMATION_COMPLETE_KEY:t(726),ANIMATION_REPEAT:t(727),ANIMATION_RESTART:t(728),ANIMATION_START:t(729),ANIMATION_STOP:t(730),ANIMATION_UPDATE:t(731),PAUSE_ALL:t(732),REMOVE_ANIMATION:t(733),RESUME_ALL:t(734)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(36),a=t(9),n=t(37),i=t(10),r=t(25),f=t(187),l=t(3),h=new e({Extends:a,Mixins:[u.Alpha,u.Visible],initialize:function(v,d,m,y){v===void 0&&(v=0),d===void 0&&(d=0),m===void 0&&(m=0),y===void 0&&(y=0),a.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new i,this.dirty=!0,this._x=v,this._y=d,this._width=m,this._height=y,this._bounds=new i,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new r,this.transparent=!0,this.backgroundColor=f("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new l(m/2,y/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[]},addToRenderList:function(c){this.renderList.push(c)},setOrigin:function(c,v){return c===void 0&&(c=.5),v===void 0&&(v=c),this.originX=c,this.originY=v,this},getScroll:function(c,v,d){d===void 0&&(d=new l);var m=this.width*.5,y=this.height*.5;return d.x=c-m,d.y=v-y,this.useBounds&&(d.x=this.clampX(d.x),d.y=this.clampY(d.y)),d},centerOnX:function(c){var v=this.width*.5;return this.midPoint.x=c,this.scrollX=c-v,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(c){var v=this.height*.5;return this.midPoint.y=c,this.scrollY=c-v,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(c,v){return this.centerOnX(c),this.centerOnY(v),this},centerToBounds:function(){if(this.useBounds){var c=this._bounds,v=this.width*.5,d=this.height*.5;this.midPoint.set(c.centerX,c.centerY),this.scrollX=c.centerX-v,this.scrollY=c.centerY-d}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(c){if(this.disableCull)return c;var v=this.matrix.matrix,d=v[0],m=v[1],y=v[2],T=v[3],C=d*T-m*y;if(!C)return c;var R=v[4],A=v[5],P=this.scrollX,O=this.scrollY,b=this.width,D=this.height,N=this.y,B=N+D,U=this.x,G=U+b,W=this.culledObjects,$=c.length;C=1/C,W.length=0;for(var q=0;q<$;++q){var _=c[q];if(!_.hasOwnProperty("width")||_.parentContainer){W.push(_);continue}var V=_.width,w=_.height,z=_.x-P*_.scrollFactorX-V*_.originX,Y=_.y-O*_.scrollFactorY-w*_.originY,H=z*d+Y*y+R,j=z*m+Y*T+A,Z=(z+V)*d+(Y+w)*y+R,k=(z+V)*m+(Y+w)*T+A;Z>U&&H<G&&k>N&&j<B&&W.push(_)}return W},getWorldPoint:function(c,v,d){d===void 0&&(d=new l);var m=this.matrix.matrix,y=m[0],T=m[1],C=m[2],R=m[3],A=m[4],P=m[5],O=y*R-T*C;if(!O)return d.x=c,d.y=v,d;O=1/O;var b=R*O,D=-T*O,N=-C*O,B=y*O,U=(C*P-R*A)*O,G=(T*A-y*P)*O,W=Math.cos(this.rotation),$=Math.sin(this.rotation),q=this.zoomX,_=this.zoomY,V=this.scrollX,w=this.scrollY,z=c+(V*W-w*$)*q,Y=v+(V*$+w*W)*_;return d.x=z*b+Y*N+U,d.y=z*D+Y*B+G,d},ignore:function(c){var v=this.id;Array.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var m=c[d];Array.isArray(m)?this.ignore(m):m.isParent?this.ignore(m.getChildren()):m.cameraFilter|=v}return this},preRender:function(){this.renderList.length=0;var c=this.width,v=this.height,d=c*.5,m=v*.5,y=this.zoomX,T=this.zoomY,C=this.matrix,R=c*this.originX,A=v*this.originY,P=this.scrollX,O=this.scrollY;this.useBounds&&(P=this.clampX(P),O=this.clampY(O)),this.roundPixels&&(R=Math.round(R),A=Math.round(A)),this.scrollX=P,this.scrollY=O;var b=P+d,D=O+m;this.midPoint.set(b,D);var N=c/y,B=v/T;this.worldView.setTo(b-N/2,D-B/2,N,B),C.applyITRS(this.x+R,this.y+A,this.rotation,y,T),C.translate(-R,-A)},clampX:function(c){var v=this._bounds,d=this.displayWidth,m=v.x+(d-this.width)/2,y=Math.max(m,m+v.width-d);return c<m?c=m:c>y&&(c=y),c},clampY:function(c){var v=this._bounds,d=this.displayHeight,m=v.y+(d-this.height)/2,y=Math.max(m,m+v.height-d);return c<m?c=m:c>y&&(c=y),c},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(c){return c===void 0&&(c=0),this.rotation=s(c),this},setBackgroundColor:function(c){return c===void 0&&(c="rgba(0,0,0,0)"),this.backgroundColor=f(c),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(c,v,d,m,y){return y===void 0&&(y=!1),this._bounds.setTo(c,v,d,m),this.dirty=!0,this.useBounds=!0,y?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(c){c===void 0&&(c=new i);var v=this._bounds;return c.setTo(v.x,v.y,v.width,v.height),c},setName:function(c){return c===void 0&&(c=""),this.name=c,this},setPosition:function(c,v){return v===void 0&&(v=c),this.x=c,this.y=v,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setRoundPixels:function(c){return this.roundPixels=c,this},setScene:function(c){this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=c;var v=c.sys;return this.sceneManager=v.game.scene,this.scaleManager=v.scale,this.cameraManager=v.cameras,this.updateSystem(),this},setScroll:function(c,v){return v===void 0&&(v=c),this.scrollX=c,this.scrollY=v,this},setSize:function(c,v){return v===void 0&&(v=c),this.width=c,this.height=v,this},setViewport:function(c,v,d,m){return this.x=c,this.y=v,this.width=d,this.height=m,this},setZoom:function(c,v){return c===void 0&&(c=1),v===void 0&&(v=c),c===0&&(c=.001),v===0&&(v=.001),this.zoomX=c,this.zoomY=v,this},setMask:function(c,v){return v===void 0&&(v=!0),this.mask=c,this._maskCamera=v?this.cameraManager.default:this,this},clearMask:function(c){return c===void 0&&(c=!1),c&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var c={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(c.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),c},update:function(){},updateSystem:function(){if(this.scaleManager){var c=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,v=this.sceneManager;c&&!this._customViewport?v.customViewports++:!c&&this._customViewport&&v.customViewports--,this.dirty=!0,this._customViewport=c}},destroy:function(){this.emit(n.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(c){this._x=c,this.updateSystem()}},y:{get:function(){return this._y},set:function(c){this._y=c,this.updateSystem()}},width:{get:function(){return this._width},set:function(c){this._width=c,this.updateSystem()}},height:{get:function(){return this._height},set:function(c){this._height=c,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(c){this._scrollX=c,this.dirty=!0}},scrollY:{get:function(){return this._scrollY},set:function(c){this._scrollY=c,this.dirty=!0}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(c){this._zoomX=c,this._zoomY=c,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(c){this._zoomX=c,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(c){this._zoomY=c,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(334),u=t(335),s=t(336),a=t(337),n=t(338),i=t(339),r=t(340),f=t(341),l=t(342),h=t(343),c=t(344),v=t(345);o.exports={Power0:r,Power1:f.Out,Power2:a.Out,Power3:l.Out,Power4:h.Out,Linear:r,Quad:f.Out,Cubic:a.Out,Quart:l.Out,Quint:h.Out,Sine:c.Out,Expo:i.Out,Circ:s.Out,Elastic:n.Out,Back:e.Out,Bounce:u.Out,Stepped:v,"Quad.easeIn":f.In,"Cubic.easeIn":a.In,"Quart.easeIn":l.In,"Quint.easeIn":h.In,"Sine.easeIn":c.In,"Expo.easeIn":i.In,"Circ.easeIn":s.In,"Elastic.easeIn":n.In,"Back.easeIn":e.In,"Bounce.easeIn":u.In,"Quad.easeOut":f.Out,"Cubic.easeOut":a.Out,"Quart.easeOut":l.Out,"Quint.easeOut":h.Out,"Sine.easeOut":c.Out,"Expo.easeOut":i.Out,"Circ.easeOut":s.Out,"Elastic.easeOut":n.Out,"Back.easeOut":e.Out,"Bounce.easeOut":u.Out,"Quad.easeInOut":f.InOut,"Cubic.easeInOut":a.InOut,"Quart.easeInOut":l.InOut,"Quint.easeInOut":h.InOut,"Sine.easeInOut":c.InOut,"Expo.easeInOut":i.InOut,"Circ.easeInOut":s.InOut,"Elastic.easeInOut":n.InOut,"Back.easeInOut":e.InOut,"Bounce.easeInOut":u.InOut}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return(u-e)*s+e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),u={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0};function s(){var a=navigator.userAgent;return/Edge\/\d+/.test(a)?u.edge=!0:/Chrome\/(\d+)/.test(a)&&!e.windowsPhone?(u.chrome=!0,u.chromeVersion=parseInt(RegExp.$1,10)):/Firefox\D+(\d+)/.test(a)?(u.firefox=!0,u.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(a)&&e.iOS?u.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(a)?(u.ie=!0,u.ieVersion=parseInt(RegExp.$1,10)):/Opera/.test(a)?u.opera=!0:/Safari/.test(a)&&!e.windowsPhone?u.safari=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a)&&(u.ie=!0,u.trident=!0,u.tridentVersion=parseInt(RegExp.$1,10),u.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(a)&&(u.silk=!0),u}o.exports=s()},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.random()*(u-e)+e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e>0&&(e&e-1)===0&&u>0&&(u&u-1)===0};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){return s===void 0&&(s=0),u===0?e:(e-=s,e=u*Math.ceil(e/u),a?(s+e)/u:s+e)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i,r){this.x=0,this.y=0,this.z=0,this.w=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0,this.z=a.z||0,this.w=a.w||0):(this.x=a||0,this.y=n||0,this.z=i||0,this.w=r||0)},clone:function(){return new u(this.x,this.y,this.z,this.w)},copy:function(s){return this.x=s.x,this.y=s.y,this.z=s.z||0,this.w=s.w||0,this},equals:function(s){return this.x===s.x&&this.y===s.y&&this.z===s.z&&this.w===s.w},set:function(s,a,n,i){return typeof s=="object"?(this.x=s.x||0,this.y=s.y||0,this.z=s.z||0,this.w=s.w||0):(this.x=s||0,this.y=a||0,this.z=n||0,this.w=i||0),this},add:function(s){return this.x+=s.x,this.y+=s.y,this.z+=s.z||0,this.w+=s.w||0,this},subtract:function(s){return this.x-=s.x,this.y-=s.y,this.z-=s.z||0,this.w-=s.w||0,this},scale:function(s){return this.x*=s,this.y*=s,this.z*=s,this.w*=s,this},length:function(){var s=this.x,a=this.y,n=this.z,i=this.w;return Math.sqrt(s*s+a*a+n*n+i*i)},lengthSq:function(){var s=this.x,a=this.y,n=this.z,i=this.w;return s*s+a*a+n*n+i*i},normalize:function(){var s=this.x,a=this.y,n=this.z,i=this.w,r=s*s+a*a+n*n+i*i;return r>0&&(r=1/Math.sqrt(r),this.x=s*r,this.y=a*r,this.z=n*r,this.w=i*r),this},dot:function(s){return this.x*s.x+this.y*s.y+this.z*s.z+this.w*s.w},lerp:function(s,a){a===void 0&&(a=0);var n=this.x,i=this.y,r=this.z,f=this.w;return this.x=n+a*(s.x-n),this.y=i+a*(s.y-i),this.z=r+a*(s.z-r),this.w=f+a*(s.w-f),this},multiply:function(s){return this.x*=s.x,this.y*=s.y,this.z*=s.z||1,this.w*=s.w||1,this},divide:function(s){return this.x/=s.x,this.y/=s.y,this.z/=s.z||1,this.w/=s.w||1,this},distance:function(s){var a=s.x-this.x,n=s.y-this.y,i=s.z-this.z||0,r=s.w-this.w||0;return Math.sqrt(a*a+n*n+i*i+r*r)},distanceSq:function(s){var a=s.x-this.x,n=s.y-this.y,i=s.z-this.z||0,r=s.w-this.w||0;return a*a+n*n+i*i+r*r},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(s){var a=this.x,n=this.y,i=this.z,r=this.w,f=s.val;return this.x=f[0]*a+f[4]*n+f[8]*i+f[12]*r,this.y=f[1]*a+f[5]*n+f[9]*i+f[13]*r,this.z=f[2]*a+f[6]*n+f[10]*i+f[14]*r,this.w=f[3]*a+f[7]*n+f[11]*i+f[15]*r,this},transformQuat:function(s){var a=this.x,n=this.y,i=this.z,r=s.x,f=s.y,l=s.z,h=s.w,c=h*a+f*i-l*n,v=h*n+l*a-r*i,d=h*i+r*n-f*a,m=-r*a-f*n-l*i;return this.x=c*h+m*-r+v*-l-d*-f,this.y=v*h+m*-f+d*-r-c*-l,this.z=d*h+m*-l+c*-f-v*-r,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});u.prototype.sub=u.prototype.subtract,u.prototype.mul=u.prototype.multiply,u.prototype.div=u.prototype.divide,u.prototype.dist=u.prototype.distance,u.prototype.distSq=u.prototype.distanceSq,u.prototype.len=u.prototype.length,u.prototype.lenSq=u.prototype.lengthSq,o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(91),s=new e({initialize:function(n,i,r,f,l,h,c){f===void 0&&(f=1),l===void 0&&(l=0),h===void 0&&(h=!0),c===void 0&&(c=!1),this.renderer=n,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=f,this.minFilter=l,this.autoClear=h,this.autoResize=!1,this.resize(i,r),c&&this.setAutoResize(!0)},setAutoResize:function(a){return a&&!this.autoResize?(this.renderer.on(u.RESIZE,this.resize,this),this.autoResize=!0):!a&&this.autoResize&&(this.renderer.off(u.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(a,n){var i=a*this.scale,r=n*this.scale;if(i!==this.width||r!==this.height){var f=this.renderer;f.deleteFramebuffer(this.framebuffer),f.deleteTexture(this.texture),a*=this.scale,n*=this.scale,a=Math.round(a),n=Math.round(n),a<=0&&(a=1),n<=0&&(n=1),this.texture=f.createTextureFromSource(null,a,n,this.minFilter),this.framebuffer=f.createFramebuffer(a,n,this.texture,!1),this.width=a,this.height=n}return this},bind:function(a,n,i){if(a===void 0&&(a=!1),a&&this.renderer.flush(),n&&i&&this.resize(n,i),this.renderer.pushFramebuffer(this.framebuffer,!1,!1,!1),a&&this.adjustViewport(),this.autoClear){var r=this.renderer.gl;r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)}},adjustViewport:function(){var a=this.renderer.gl;a.viewport(0,0,this.width,this.height),a.disable(a.SCISSOR_TEST)},clear:function(){var a=this.renderer,n=a.gl;a.pushFramebuffer(this.framebuffer),n.disable(n.SCISSOR_TEST),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),a.popFramebuffer(),a.resetScissor()},unbind:function(a){a===void 0&&(a=!1);var n=this.renderer;return a&&n.flush(),n.popFramebuffer()},destroy:function(){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),a.off(u.RESIZE,this.resize,this),this.renderer=null,this.framebuffer=null,this.texture=null}});o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s;if(u)typeof u=="string"?s=document.getElementById(u):typeof u=="object"&&u.nodeType===1&&(s=u);else if(e.parentElement||u===null)return e;return s||(s=document.body),s.appendChild(e),e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(77),s=t(9),a=t(70),n=t(22),i=t(1),r=t(207),f=t(428),l=new e({Extends:s,initialize:function(c){s.call(this),this.game=c,this.jsonCache=c.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,c.events.on(n.BLUR,this.onGameBlur,this),c.events.on(n.FOCUS,this.onGameFocus,this),c.events.on(n.PRE_STEP,this.update,this),c.events.once(n.DESTROY,this.destroy,this)},add:i,addAudioSprite:function(h,c){c===void 0&&(c={});var v=this.add(h,c);v.spritemap=this.jsonCache.get(h).spritemap;for(var d in v.spritemap)if(v.spritemap.hasOwnProperty(d)){var m=u(c),y=v.spritemap[d];m.loop=y.hasOwnProperty("loop")?y.loop:!1,v.addMarker({name:d,start:y.start,duration:y.end-y.start,config:m})}return v},get:function(h){return f(this.sounds,"key",h)},getAll:function(h){return r(this.sounds,"key",h)},play:function(h,c){var v=this.add(h);return v.once(a.COMPLETE,v.destroy,v),c?c.name?(v.addMarker(c),v.play(c.name)):v.play(c):v.play()},playAudioSprite:function(h,c,v){var d=this.addAudioSprite(h);return d.once(a.COMPLETE,d.destroy,d),d.play(c,v)},remove:function(h){var c=this.sounds.indexOf(h);return c!==-1?(h.destroy(),this.sounds.splice(c,1),!0):!1},removeAll:function(){this.sounds.forEach(function(h){h.destroy()}),this.sounds.length=0},removeByKey:function(h){for(var c=0,v=this.sounds.length-1;v>=0;v--){var d=this.sounds[v];d.key===h&&(d.destroy(),this.sounds.splice(v,1),c++)}return c},pauseAll:function(){this.forEachActiveSound(function(h){h.pause()}),this.emit(a.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(h){h.resume()}),this.emit(a.RESUME_ALL,this)},stopAll:function(){this.forEachActiveSound(function(h){h.stop()}),this.emit(a.STOP_ALL,this)},stopByKey:function(h){var c=0;return this.getAll(h).forEach(function(v){v.stop()&&c++}),c},unlock:i,onBlur:i,onFocus:i,onGameBlur:function(){this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.pauseOnBlur&&this.onFocus()},update:function(h,c){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(a.UNLOCKED,this));for(var v=this.sounds.length-1;v>=0;v--)this.sounds[v].pendingRemove&&this.sounds.splice(v,1);this.sounds.forEach(function(d){d.update(h,c)})},destroy:function(){this.game.events.off(n.BLUR,this.onGameBlur,this),this.game.events.off(n.FOCUS,this.onGameFocus,this),this.game.events.off(n.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.game=null},forEachActiveSound:function(h,c){var v=this;this.sounds.forEach(function(d,m){d&&!d.pendingRemove&&h.call(c||v,d,m,v.sounds)})},setRate:function(h){return this.rate=h,this},rate:{get:function(){return this._rate},set:function(h){this._rate=h,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_RATE,this,h)}},setDetune:function(h){return this.detune=h,this},detune:{get:function(){return this._detune},set:function(h){this._detune=h,this.forEachActiveSound(function(c){c.calculateRate()}),this.emit(a.GLOBAL_DETUNE,this,h)}}});o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),s=t(70),a=t(17),n=t(1),i=new e({Extends:u,initialize:function(f,l,h){u.call(this),this.manager=f,this.key=l,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=a(this.config,h),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(console.error("addMarker "+r.name+" already exists in Sound"),!1):(r=a(!0,{name:"",start:0,duration:this.totalDuration-(r.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},r),this.markers[r.name]=r,!0)},updateMarker:function(r){return!r||!r.name||typeof r.name!="string"?!1:this.markers[r.name]?(this.markers[r.name]=a(!0,this.markers[r.name],r),!0):(console.warn("Audio Marker: "+r.name+" missing in Sound: "+this.key),!1)},removeMarker:function(r){var f=this.markers[r];return f?(this.markers[r]=null,f):null},play:function(r,f){if(r===void 0&&(r=""),typeof r=="object"&&(f=r,r=""),typeof r!="string")return!1;if(!r)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[r])return console.warn("Marker: "+r+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[r],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=a(this.currentConfig,f),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:n,calculateRate:function(){var r=1.0005777895065548,f=this.currentConfig.detune+this.manager.detune,l=Math.pow(r,f);this.totalRate=this.currentConfig.rate*this.manager.rate*l},destroy:function(){this.pendingRemove||(this.emit(s.DESTROY,this),this.pendingRemove=!0,this.manager=null,this.key="",this.removeAllListeners(),this.isPlaying=!1,this.isPaused=!1,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(209),u=t(435),s=function(a,n){if(n===void 0&&(n=90),!e(a))return null;if(typeof n!="string"&&(n=(n%360+360)%360),n===90||n===-270||n==="rotateLeft")a=u(a),a.reverse();else if(n===-90||n===270||n==="rotateRight")a.reverse(),a=u(a);else if(Math.abs(n)===180||n==="rotate180"){for(var i=0;i<a.length;i++)a[i].reverse();a.reverse()}return a};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(18),s=t(11),a=t(15),n=t(1043),i=t(1044),r=t(212),f=t(10),l=t(1045),h=new e({Extends:a,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Texture,s.Tint,s.Transform,s.Visible,l],initialize:function(v,d,m,y,T,C,R){T===void 0&&(T=""),R===void 0&&(R=0),a.call(this,v,"BitmapText"),this.font=y;var A=this.scene.sys.cache.bitmapFont.get(y);A||console.warn("Invalid BitmapText key: "+y),this.fontData=A.data,this._text="",this._fontSize=C||this.fontData.size,this._letterSpacing=0,this._align=R,this._bounds=n(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(d,m),this.setOrigin(0,0),this.initPipeline(),this.setText(T)},setLeftAlign:function(){return this._align=h.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=h.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=h.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(c){return this._fontSize=c,this._dirty=!0,this},setLetterSpacing:function(c){return c===void 0&&(c=0),this._letterSpacing=c,this._dirty=!0,this},setText:function(c){return!c&&c!==0&&(c=""),Array.isArray(c)&&(c=c.join(`
`)),c!==this.text&&(this._text=c.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(c,v,d,m){return c===void 0&&(c=0),v===void 0&&(v=0),d===void 0&&(d=0),m===void 0&&(m=.5),this.dropShadowX=c,this.dropShadowY=v,this.dropShadowColor=d,this.dropShadowAlpha=m,this},setCharacterTint:function(c,v,d,m,y,T,C){c===void 0&&(c=0),v===void 0&&(v=1),d===void 0&&(d=!1),m===void 0&&(m=-1),y===void 0&&(y=m,T=m,C=m);var R=this.text.length;v===-1&&(v=R),c<0&&(c=R+c),c=u(c,0,R-1);for(var A=u(c+v,c,R),P=this.charColors,O=c;O<A;O++){var b=P[O];if(m===-1)P[O]=null;else{var D=d?1:0;b?(b.tintEffect=D,b.tintTL=m,b.tintTR=y,b.tintBL=T,b.tintBR=C):P[O]={tintEffect:D,tintTL:m,tintTR:y,tintBL:T,tintBR:C}}}return this},setWordTint:function(c,v,d,m,y,T,C){v===void 0&&(v=1);for(var R=this.getTextBounds(),A=R.words,P=typeof c=="number",O=0,b=0;b<A.length;b++){var D=A[b];if((P&&b===c||!P&&D.word===c)&&(this.setCharacterTint(D.i,D.word.length,d,m,y,T,C),O++,O===v))return this}return this},getTextBounds:function(c){var v=this._bounds;return(this._dirty||c||this.scaleX!==v.scaleX||this.scaleY!==v.scaleY)&&(n(this,c,!0,v),this._dirty=!1),v},getCharacterAt:function(c,v,d){for(var m=this.getLocalPoint(c,v,null,d),y=this.getTextBounds(),T=y.characters,C=new f,R=0;R<T.length;R++){var A=T[R];if(C.setTo(A.x,A.t,A.r-A.x,A.b),C.contains(m.x,m.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(c,v,d){if(v===void 0&&(v=this._fontSize),d===void 0&&(d=this._align),c!==this.font){var m=this.scene.sys.cache.bitmapFont.get(c);m&&(this.font=c,this.fontData=m.data,this._fontSize=v,this._align=d,this.fromAtlas=m.fromAtlas===!0,this.setTexture(m.texture,m.frame),n(this,!1,!0,this._bounds))}return this},setMaxWidth:function(c,v){return this._maxWidth=c,this._dirty=!0,v!==void 0&&(this.wordWrapCharCode=v),this},align:{set:function(c){this._align=c,this._dirty=!0},get:function(){return this._align}},text:{set:function(c){this.setText(c)},get:function(){return this._text}},fontSize:{set:function(c){this._fontSize=c,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(c){this._letterSpacing=c,this._dirty=!0},get:function(){return this._letterSpacing}},maxWidth:{set:function(c){this._maxWidth=c,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},toJSON:function(){var c=s.ToJSON(this),v={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,align:this.align};return c.data=v,c},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});h.ALIGN_LEFT=0,h.ALIGN_CENTER=1,h.ALIGN_RIGHT=2,h.ParseFromAtlas=i,h.ParseXMLBitmapFont=r,o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a){if(this.entries=[],Array.isArray(a))for(var n=0;n<a.length;n++)this.set(a[n])},set:function(s){return this.entries.indexOf(s)===-1&&this.entries.push(s),this},get:function(s,a){for(var n=0;n<this.entries.length;n++){var i=this.entries[n];if(i[s]===a)return i}},getArray:function(){return this.entries.slice(0)},delete:function(s){var a=this.entries.indexOf(s);return a>-1&&this.entries.splice(a,1),this},dump:function(){console.group("Set");for(var s=0;s<this.entries.length;s++){var a=this.entries[s];console.log(a)}console.groupEnd()},each:function(s,a){var n,i=this.entries.slice(),r=i.length;if(a)for(n=0;n<r&&s.call(a,i[n],n)!==!1;n++);else for(n=0;n<r&&s(i[n],n)!==!1;n++);return this},iterate:function(s,a){var n,i=this.entries.length;if(a)for(n=0;n<i&&s.call(a,this.entries[n],n)!==!1;n++);else for(n=0;n<i&&s(this.entries[n],n)!==!1;n++);return this},iterateLocal:function(s){var a,n=[];for(a=1;a<arguments.length;a++)n.push(arguments[a]);var i=this.entries.length;for(a=0;a<i;a++){var r=this.entries[a];r[s].apply(r,n)}return this},clear:function(){return this.entries.length=0,this},contains:function(s){return this.entries.indexOf(s)>-1},union:function(s){var a=new u;return s.entries.forEach(function(n){a.set(n)}),this.entries.forEach(function(n){a.set(n)}),a},intersect:function(s){var a=new u;return this.entries.forEach(function(n){s.contains(n)&&a.set(n)}),a},difference:function(s){var a=new u;return this.entries.forEach(function(n){s.contains(n)||a.set(n)}),a},size:{get:function(){return this.entries.length},set:function(s){return s<this.entries.length?this.entries.length=s:this.entries.length}}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(15),a=t(189),n=t(92),i=t(1182),r=new e({Extends:s,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.GetBounds,u.Mask,u.Pipeline,u.ScrollFactor,u.Transform,u.Visible,i],initialize:function(l,h,c,v,d,m,y){v===void 0&&(v=16777215),d===void 0&&(d=128),m===void 0&&(m=1),y===void 0&&(y=.1),s.call(this,l,"PointLight"),this.initPipeline(n.POINTLIGHT_PIPELINE),this.setPosition(h,c),this.color=a(v),this.intensity=m,this.attenuation=y,this.width=d*2,this.height=d*2,this._radius=d},radius:{get:function(){return this._radius},set:function(f){this._radius=f,this.width=f*2,this.height=f*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});o.exports=r},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=u.width/2,a=u.height/2,n=Math.abs(e.x-u.x-s),i=Math.abs(e.y-u.y-a),r=s+e.radius,f=a+e.radius;if(n>r||i>f)return!1;if(n<=s||i<=a)return!0;var l=n-s,h=i-a,c=l*l,v=h*h,d=e.radius*e.radius;return c+v<=d};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.width<=0||e.height<=0||u.width<=0||u.height<=0?!1:!(e.right<u.x||e.bottom<u.y||e.x>u.right||e.y>u.bottom)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u={},s={};s.register=function(a,n,i,r,f){u[a]={plugin:n,mapping:i,settingsKey:r,configKey:f}},s.getPlugin=function(a){return u[a]},s.install=function(a){var n=a.scene.sys,i=n.settings.input,r=n.game.config;for(var f in u){var l=u[f].plugin,h=u[f].mapping,c=u[f].settingsKey,v=u[f].configKey;e(i,c,r[v])&&(a[h]=new l(a))}},s.remove=function(a){u.hasOwnProperty(a)&&delete u[a]},o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ANY_KEY_DOWN:t(1323),ANY_KEY_UP:t(1324),COMBO_MATCH:t(1325),DOWN:t(1326),KEY_DOWN:t(1327),KEY_UP:t(1328),UP:t(1329)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.url?e.url.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?e.url:u+e.url:!1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n,i){return e===void 0&&(e=""),u===void 0&&(u=!0),s===void 0&&(s=""),a===void 0&&(a=""),n===void 0&&(n=0),i===void 0&&(i=!1),{responseType:e,async:u,user:s,password:a,timeout:n,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:i}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(243),s=t(73),a=new e({Extends:s,Mixins:[u.Acceleration,u.Angular,u.Bounce,u.Debug,u.Drag,u.Enable,u.Friction,u.Gravity,u.Immovable,u.Mass,u.Pushable,u.Size,u.Velocity],initialize:function(i,r,f,l,h){s.call(this,i,r,f,l,h),this.body=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),u=function(s,a,n,i){if(n===void 0&&(n=!1),e(s,a,i)){var r=i.data[a][s]||null;return r?r.index===-1?n?r:null:r:null}else return null};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=e.data,i=e.width,r=e.height,f=e.tilemapLayer,l=Math.max(0,u.left),h=Math.min(i,u.right),c=Math.max(0,u.top),v=Math.min(r,u.bottom),d,m,y;if(s===0)for(m=c;m<v;m++)for(d=l;n[m]&&d<h;d++)y=n[m][d],!(!y||y.index===-1||!y.visible||y.alpha===0)&&a.push(y);else if(s===1)for(m=c;m<v;m++)for(d=h;n[m]&&d>=l;d--)y=n[m][d],!(!y||y.index===-1||!y.visible||y.alpha===0)&&a.push(y);else if(s===2)for(m=v;m>=c;m--)for(d=l;n[m]&&d<h;d++)y=n[m][d],!(!y||y.index===-1||!y.visible||y.alpha===0)&&a.push(y);else if(s===3)for(m=v;m>=c;m--)for(d=h;n[m]&&d>=l;d--)y=n[m][d],!(!y||y.index===-1||!y.visible||y.alpha===0)&&a.push(y);return f.tilesDrawn=a.length,f.tilesTotal=i*r,a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=s.collideIndexes.indexOf(e);u&&a===-1?s.collideIndexes.push(e):!u&&a!==-1&&s.collideIndexes.splice(a,1)};o.exports=t},function(o,x,t){/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(s,a,n){if(!a)return{i:0,layers:s.layers,name:"",opacity:1,visible:!0,x:0,y:0};var i=a.x+e(a,"startx",0)*s.tilewidth+e(a,"offsetx",0),r=a.y+e(a,"starty",0)*s.tileheight+e(a,"offsety",0);return{i:0,layers:a.layers,name:n.name+a.name+"/",opacity:n.opacity*a.opacity,visible:n.visible&&a.visible,x:n.x+i,y:n.y+r}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a;if(e.hasOwnProperty(u)){var n=typeof e[u];n==="function"?a=function(i,r,f,l,h,c){return e[u](i,r,f,l,h,c)}:a=function(){return e[u]}}else typeof s=="function"?a=s:a=function(){return s};return a};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),u=t(13),s=t(99),a=t(80),n=t(162),i=t(583),r=t(263),f=t(6),l=t(264),h=t(266),c=t(268),v=function(d,m,y){y===void 0&&(y=e);for(var T=y.targets?y.targets:r(m),C=i(m),R=n(m,"delay",y.delay),A=n(m,"duration",y.duration),P=f(m,"easeParams",y.easeParams),O=a(f(m,"ease",y.ease),P),b=n(m,"hold",y.hold),D=n(m,"repeat",y.repeat),N=n(m,"repeatDelay",y.repeatDelay),B=s(m,"yoyo",y.yoyo),U=s(m,"flipX",y.flipX),G=s(m,"flipY",y.flipY),W=[],$=0;$<C.length;$++)for(var q=C[$].key,_=C[$].value,V=0;V<T.length;V++){var w=l(q,_),z=c(T[V],V,q,w.getEnd,w.getStart,w.getActive,a(f(_,"ease",O),f(_,"easeParams",P)),n(_,"delay",R),n(_,"duration",A),s(_,"yoyo",B),n(_,"hold",b),n(_,"repeat",D),n(_,"repeatDelay",N),s(_,"flipX",U),s(_,"flipY",G));W.push(z)}var Y=new h(d,W,T);Y.offset=u(m,"offset",null),Y.completeDelay=u(m,"completeDelay",0),Y.loop=Math.round(u(m,"loop",0)),Y.loopDelay=Math.round(u(m,"loopDelay",0)),Y.paused=s(m,"paused",!1),Y.useFrames=s(m,"useFrames",!1);for(var H=f(m,"callbackScope",Y),j=[Y,null],Z=h.TYPES,k=0;k<Z.length;k++){var nt=Z[k],rt=f(m,nt,!1);if(rt){var ht=f(m,nt+"Scope",H),vt=f(m,nt+"Params",[]);Y.setCallback(nt,rt,j.concat(vt),ht)}}return Y};o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(102),s=t(2),a=t(132),n=t(185),i=new e({initialize:function(f){this.parent=f,this.animationManager=f.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(r){var f=this.parent;if(r===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,f;Array.isArray(r)||(r=[r]);for(var l=0;l<r.length;l++){var h=r[l];this.nextAnim===null?this.nextAnim=h:this.nextAnimsQueue.push(h)}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(r){this.isPlaying&&this.stop();var f=this.animationManager,l=typeof r=="string"?r:s(r,"key",null),h=this.exists(l)?this.get(l):f.get(l);if(!h)console.warn("Missing animation: "+l);else{this.currentAnim=h;var c=h.getTotalFrames(),v=s(r,"frameRate",h.frameRate),d=s(r,"duration",h.duration);h.calculateDuration(this,c,d,v),this.delay=s(r,"delay",h.delay),this.repeat=s(r,"repeat",h.repeat),this.repeatDelay=s(r,"repeatDelay",h.repeatDelay),this.yoyo=s(r,"yoyo",h.yoyo),this.showOnStart=s(r,"showOnStart",h.showOnStart),this.hideOnComplete=s(r,"hideOnComplete",h.hideOnComplete),this.skipMissedFrames=s(r,"skipMissedFrames",h.skipMissedFrames),this.timeScale=s(r,"timeScale",this.timeScale);var m=s(r,"startFrame",0);m>h.getTotalFrames()&&(m=0);var y=h.frames[m];m===0&&!this.forward&&(y=h.getLastFrame()),this.currentFrame=y}return this.parent},pause:function(r){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),r!==void 0&&this.setCurrentFrame(r),this.parent},resume:function(r){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),r!==void 0&&this.setCurrentFrame(r),this.parent},playAfterDelay:function(r,f){if(!this.isPlaying)this.delayCounter=f,this.play(r,!0);else{var l=this.nextAnim,h=this.nextAnimsQueue;l&&h.unshift(l),this.nextAnim=r,this._pendingStop=1,this._pendingStopValue=f}return this.parent},playAfterRepeat:function(r,f){if(f===void 0&&(f=1),!this.isPlaying)this.play(r);else{var l=this.nextAnim,h=this.nextAnimsQueue;l&&h.unshift(l),this.repeatCounter!==-1&&f>this.repeatCounter&&(f=this.repeatCounter),this.nextAnim=r,this._pendingStop=2,this._pendingStopValue=f}return this.parent},play:function(r,f){f===void 0&&(f=!1);var l=this.currentAnim,h=this.parent,c=typeof r=="string"?r:r.key;if(f&&this.isPlaying&&l.key===c)return h;if(l&&this.isPlaying){var v=this.animationManager.getMix(l.key,r);if(v>0)return this.playAfterDelay(r,v)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r)},playReverse:function(r,f){f===void 0&&(f=!1);var l=typeof r=="string"?r:r.key;return f&&this.isPlaying&&this.currentAnim.key===l?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(r))},startAnimation:function(r){this.load(r);var f=this.currentAnim,l=this.parent;return f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,f.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0&&this.handleStart()),l},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(r,f){var l=this.currentAnim,h=this.currentFrame,c=this.parent,v=h.textureFrame;c.emit(r,l,h,c,v),f&&c.emit(f+l.key,l,h,c,v)},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var r=this.currentFrame;if(!r)return 0;var f=r.progress;return this.inReverse&&(f*=-1),f},setProgress:function(r){return this.forward||(r=1-r),this.setCurrentFrame(this.currentAnim.getFrameByProgress(r)),this.parent},setRepeat:function(r){return this.repeatCounter=r===-1?Number.MAX_VALUE:r,this.parent},globalRemove:function(r,f){f===void 0&&(f=this.currentAnim),this.isPlaying&&f.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(r,f){r===void 0&&(r=!1),f===void 0&&(f=!1);var l=this.currentAnim,h=this.parent;return l?(f&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),l.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!r,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(l.frames[0]),this.parent):h},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(r)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleStop(),this.nextAnim){var r=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(r)}return this.parent},stopAfterDelay:function(r){return this._pendingStop=1,this._pendingStopValue=r,this.parent},stopAfterRepeat:function(r){return r===void 0&&(r=1),this.repeatCounter!==-1&&r>this.repeatCounter&&(r=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=r,this.parent},stopOnFrame:function(r){return this._pendingStop=3,this._pendingStopValue=r,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(r,f){var l=this.currentAnim;if(!(!this.isPlaying||!l||l.paused)){if(this.accumulator+=f*this.timeScale,this._pendingStop===1&&(this._pendingStopValue-=f,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?l.nextFrame(this):l.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var h=0;do this.forward?l.nextFrame(this):l.previousFrame(this),h++;while(this.isPlaying&&this.accumulator>this.nextTick&&h<60)}}},setCurrentFrame:function(r){var f=this.parent;return this.currentFrame=r,f.texture=r.frame.texture,f.frame=r.frame,f.isCropped&&f.frame.updateCropUVs(f._crop,f.flipX,f.flipY),r.setAlpha&&(f.alpha=r.alpha),f.setSizeToFrame(),f._originComponent&&(r.frame.customPivot?f.setOrigin(r.frame.pivotX,r.frame.pivotY):f.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===r&&this.stop()),f},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(r){return this.anims?this.anims.get(r):null},exists:function(r){return this.anims?this.anims.has(r):!1},create:function(r){var f=r.key,l=!1;return f&&(l=this.get(f),l||(l=new n(this,f,r),this.anims||(this.anims=new u),this.anims.set(f,l))),l},generateFrameNames:function(r,f){return this.animationManager.generateFrameNames(r,f)},generateFrameNumbers:function(r,f){return this.animationManager.generateFrameNumbers(r,f)},remove:function(r){var f=this.get(r);return f&&(this.currentAnim===f&&this.stop(),this.anims.delete(r)),f},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});o.exports=i},function(o,x,t){var e={};o.exports=e;var u=t(166);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(s,a){for(var n=a*a*a,i=0;i<s.length;i++){var r=s[i],f=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(r.force.x!==0||r.force.y!==0){e.set(r,!1);continue}var l=Math.min(r.motion,f),h=Math.max(r.motion,f);r.motion=e._minBias*l+(1-e._minBias)*h,r.sleepThreshold>0&&r.motion<e._motionSleepThreshold*n?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&e.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}},e.afterCollisions=function(s,a){for(var n=a*a*a,i=0;i<s.length;i++){var r=s[i];if(r.isActive){var f=r.collision,l=f.bodyA.parent,h=f.bodyB.parent;if(!(l.isSleeping&&h.isSleeping||l.isStatic||h.isStatic)&&(l.isSleeping||h.isSleeping)){var c=l.isSleeping&&!l.isStatic?l:h,v=c===l?h:l;!c.isStatic&&v.motion>e._motionWakeThreshold*n&&e.set(c,!1)}}}},e.set=function(s,a){var n=s.isSleeping;a?(s.isSleeping=!0,s.sleepCounter=s.sleepThreshold,s.positionImpulse.x=0,s.positionImpulse.y=0,s.positionPrev.x=s.position.x,s.positionPrev.y=s.position.y,s.anglePrev=s.angle,s.speed=0,s.angularSpeed=0,s.motion=0,n||u.trigger(s,"sleepStart")):(s.isSleeping=!1,s.sleepCounter=0,n&&u.trigger(s,"sleepEnd"))}})()},function(o,x,t){var e={};o.exports=e;var u=t(32);(function(){e.on=function(s,a,n){for(var i=a.split(" "),r,f=0;f<i.length;f++)r=i[f],s.events=s.events||{},s.events[r]=s.events[r]||[],s.events[r].push(n);return n},e.off=function(s,a,n){if(!a){s.events={};return}typeof a=="function"&&(n=a,a=u.keys(s.events).join(" "));for(var i=a.split(" "),r=0;r<i.length;r++){var f=s.events[i[r]],l=[];if(n&&f)for(var h=0;h<f.length;h++)f[h]!==n&&l.push(f[h]);s.events[i[r]]=l}},e.trigger=function(s,a,n){var i,r,f,l,h=s.events;if(h&&u.keys(h).length>0){n||(n={}),i=a.split(" ");for(var c=0;c<i.length;c++)if(r=i[c],f=h[r],f){l=u.clone(n,!1),l.name=r,l.source=s;for(var v=0;v<f.length;v++)f[v].apply(s,[l])}}}})()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(175),u=t(92),s=t(74),a={defaultPipeline:null,pipeline:null,hasPostPipeline:!1,postPipelines:null,pipelineData:null,initPipeline:function(n){n===void 0&&(n=u.MULTI_PIPELINE);var i=this.scene.sys.renderer;if(!i)return!1;var r=i.pipelines;if(this.postPipelines=[],this.pipelineData={},r){var f=r.get(n);if(f)return this.defaultPipeline=f,this.pipeline=f,!0}return!1},setPipeline:function(n,i,r){var f=this.scene.sys.renderer;if(!f)return this;var l=f.pipelines;if(l){var h=l.get(n);h&&(this.pipeline=h),i&&(this.pipelineData=r?e(i):i)}return this},setPostPipeline:function(n,i,r){var f=this.scene.sys.renderer;if(!f)return this;var l=f.pipelines;if(l){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var c=l.getPostPipeline(n[h],this);c&&this.postPipelines.push(c)}i&&(this.pipelineData=r?e(i):i)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPipelineData:function(n,i){var r=this.pipelineData;return i===void 0?delete r[n]:r[n]=i,this},getPostPipeline:function(n){for(var i=this.postPipelines,r=[],f=0;f<i.length;f++){var l=i[f];(typeof n=="string"&&l.name===n||l instanceof n)&&r.push(l)}return r.length===1?r[0]:r},resetPipeline:function(n,i){return n===void 0&&(n=!1),i===void 0&&(i=!1),this.pipeline=this.defaultPipeline,n&&(this.postPipelines=[],this.hasPostPipeline=!1),i&&(this.pipelineData={}),this.pipeline!==null},resetPostPipeline:function(n){n===void 0&&(n=!1);for(var i=this.postPipelines,r=0;r<i.length;r++)i[r].destroy();this.postPipelines=[],this.hasPostPipeline=!1,n&&(this.pipelineData={})},removePostPipeline:function(n){for(var i=this.postPipelines,r=i.length-1;r>=0;r--){var f=i[r];(typeof n=="string"&&f.name===n||typeof n!="string"&&f instanceof n)&&(f.destroy(),s(i,r))}return this.hasPostPipeline=this.postPipelines.length>0,this},getPipelineName:function(){return this.pipeline.name}};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={DEFAULT:0,LINEAR:0,NEAREST:1};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a,n){return n===void 0&&(n=new e),n.x=s.x+s.radius*Math.cos(a),n.y=s.y+s.radius*Math.sin(a),n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){a===void 0&&(a=new e);var n=2*Math.PI*Math.random(),i=Math.random()+Math.random(),r=i>1?2-i:i,f=r*Math.cos(n),l=r*Math.sin(n);return a.x=s.x+f*s.radius,a.y=s.y+l*s.radius,a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),u=t(4),s=function(a,n,i){if(i===void 0&&(i=new u),n<=0||n>=1)return i.x=a.x,i.y=a.y,i;var r=e(a)*n;return n>.5?(r-=a.width+a.height,r<=a.width?(i.x=a.right-r,i.y=a.bottom):(i.x=a.x,i.y=a.bottom-(r-a.width))):r<=a.width?(i.x=a.x+r,i.y=a.y):(i.x=a.right,i.y=a.y+(r-a.width)),i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=t(4),s=function(a,n,i,r){r===void 0&&(r=[]),!n&&i>0&&(n=e(a)/i);for(var f=a.x1,l=a.y1,h=a.x2,c=a.y2,v=0;v<n;v++){var d=v/n,m=f+(h-f)*d,y=l+(c-l)*d;r.push(new u(m,y))}return r};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){a===void 0&&(a=new e);var n=Math.random();return a.x=s.x1+n*(s.x2-s.x1),a.y=s.y1+n*(s.y2-s.y1),a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){return a===void 0&&(a=new e),a.x=s.x+Math.random()*s.width,a.y=s.y+Math.random()*s.height,a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u,s,a;if(typeof e!="object"||e===null)return e;u=Array.isArray(e)?[]:{};for(a in e)s=e[a],u[a]=t(s);return u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u={name:e.name,type:e.type,x:e.x,y:e.y,depth:e.depth,scale:{x:e.scaleX,y:e.scaleY},origin:{x:e.originX,y:e.originY},flipX:e.flipX,flipY:e.flipY,rotation:e.rotation,alpha:e.alpha,visible:e.visible,blendMode:e.blendMode,textureKey:"",frameKey:"",data:{}};return e.texture&&(u.textureKey=e.texture.key,u.frameKey=e.frame.name),u};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i,r,f,l,h){h===void 0&&(h=new e);var c=Math.sin(r),v=Math.cos(r),d=v*f,m=c*f,y=-c*l,T=v*l,C=1/(d*T+y*-m);return h.x=T*C*s+-y*C*a+(i*y-n*T)*C,h.y=d*C*a+-m*C*s+(-i*d+n*m)*C,h};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1);for(var s=null,a=0;a<u;a++)s=e.shift(),e.push(s);return s};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1);for(var s=null,a=0;a<u;a++)s=e.pop(),e.unshift(s);return s};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){a===void 0&&(a=new e);var n=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return a.x=s.x+i*Math.cos(n)*s.width/2,a.y=s.y+i*Math.sin(n)*s.height/2,a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){a===void 0&&(a=new e);var n=s.x2-s.x1,i=s.y2-s.y1,r=s.x3-s.x1,f=s.y3-s.y1,l=Math.random(),h=Math.random();return l+h>=1&&(l=1-l,h=1-h),a.x=s.x1+(n*l+r*h),a.y=s.y1+(i*l+f*h),a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n){var i=a+Math.atan2(e.y-s,e.x-u);return e.x=u+n*Math.cos(i),e.y=s+n*Math.sin(i),e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e=Math.max(0,Math.min(1,(e-u)/(s-u))),e*e*e*(e*(e*6-15)+10)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e<=u?0:e>=s?1:(e=(e-u)/(s-u),e*e*(3-2*e))};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(132),a=t(318),n=t(319),i=t(6),r=t(320),f=new u({initialize:function(h,c,v){this.manager=h,this.key=c,this.type="frame",this.frames=this.getFrames(h.textureManager,i(v,"frames",[]),i(v,"defaultTextureKey",null),i(v,"sortFrames",!0)),this.frameRate=i(v,"frameRate",null),this.duration=i(v,"duration",null),this.msPerFrame,this.skipMissedFrames=i(v,"skipMissedFrames",!0),this.delay=i(v,"delay",0),this.repeat=i(v,"repeat",0),this.repeatDelay=i(v,"repeatDelay",0),this.yoyo=i(v,"yoyo",!1),this.showOnStart=i(v,"showOnStart",!1),this.hideOnComplete=i(v,"hideOnComplete",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(s.PAUSE_ALL,this.pause,this),this.manager.on(s.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(l,h,c,v){c===null&&v===null?(l.frameRate=24,l.duration=24/h*1e3):c&&v===null?(l.duration=c,l.frameRate=h/(c/1e3)):(l.frameRate=v,l.duration=h/v*1e3),l.msPerFrame=1e3/l.frameRate},addFrame:function(l){return this.addFrameAt(this.frames.length,l)},addFrameAt:function(l,h){var c=this.getFrames(this.manager.textureManager,h);if(c.length>0){if(l===0)this.frames=c.concat(this.frames);else if(l===this.frames.length)this.frames=this.frames.concat(c);else{var v=this.frames.slice(0,l),d=this.frames.slice(l);this.frames=v.concat(c,d)}this.updateFrameSequence()}return this},checkFrame:function(l){return l>=0&&l<this.frames.length},getFirstTick:function(l){l.accumulator=0,l.nextTick=l.msPerFrame+l.currentFrame.duration},getFrameAt:function(l){return this.frames[l]},getFrames:function(l,h,c,v){v===void 0&&(v=!0);var d=[],m,y,T=1,C,R;if(typeof h=="string"){R=h;var A=l.get(R),P=A.getFrameNames();v&&r(P),h=[],P.forEach(function(U){h.push({key:R,frame:U})})}if(!Array.isArray(h)||h.length===0)return d;for(C=0;C<h.length;C++){var O=h[C],b=i(O,"key",c);if(b){var D=i(O,"frame",0),N=l.getFrame(b,D);y=new n(b,D,T,N),y.duration=i(O,"duration",0),y.isFirst=!m,m&&(m.nextFrame=y,y.prevFrame=m),d.push(y),m=y,T++}}if(d.length>0){y.isLast=!0,y.nextFrame=d[0],d[0].prevFrame=y;var B=1/(d.length-1);for(C=0;C<d.length;C++)d[C].progress=C*B}return d},getNextTick:function(l){l.accumulator-=l.nextTick,l.nextTick=l.msPerFrame+l.currentFrame.duration},getFrameByProgress:function(l){return l=e(l,0,1),a(l,this.frames,"progress")},nextFrame:function(l){var h=l.currentFrame;h.isLast?l.yoyo?this.handleYoyoFrame(l,!1):l.repeatCounter>0?l.inReverse&&l.forward?l.forward=!1:this.repeatAnimation(l):l.complete():this.updateAndGetNextTick(l,h.nextFrame)},handleYoyoFrame:function(l,h){if(h||(h=!1),l.inReverse===!h&&l.repeatCounter>0){(l.repeatDelay===0||l.pendingRepeat)&&(l.forward=h),this.repeatAnimation(l);return}if(l.inReverse!==h&&l.repeatCounter===0){l.complete();return}l.forward=h;var c=h?l.currentFrame.nextFrame:l.currentFrame.prevFrame;this.updateAndGetNextTick(l,c)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(l){var h=l.currentFrame;h.isFirst?l.yoyo?this.handleYoyoFrame(l,!0):l.repeatCounter>0?l.inReverse&&!l.forward?this.repeatAnimation(l):(l.forward=!0,this.repeatAnimation(l)):l.complete():this.updateAndGetNextTick(l,h.prevFrame)},updateAndGetNextTick:function(l,h){l.setCurrentFrame(h),this.getNextTick(l)},removeFrame:function(l){var h=this.frames.indexOf(l);return h!==-1&&this.removeFrameAt(h),this},removeFrameAt:function(l){return this.frames.splice(l,1),this.updateFrameSequence(),this},repeatAnimation:function(l){if(l._pendingStop===2){if(l._pendingStopValue===0)return l.stop();l._pendingStopValue--}l.repeatDelay>0&&!l.pendingRepeat?(l.pendingRepeat=!0,l.accumulator-=l.nextTick,l.nextTick+=l.repeatDelay):(l.repeatCounter--,l.forward?l.setCurrentFrame(l.currentFrame.nextFrame):l.setCurrentFrame(l.currentFrame.prevFrame),l.isPlaying&&(this.getNextTick(l),l.handleRepeat()))},toJSON:function(){var l={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(h){l.frames.push(h.toJSON())}),l},updateFrameSequence:function(){for(var l=this.frames.length,h=1/(l-1),c,v=0;v<l;v++)c=this.frames[v],c.index=v+1,c.isFirst=!1,c.isLast=!1,c.progress=v*h,v===0?(c.isFirst=!0,l===1?(c.isLast=!0,c.nextFrame=c,c.prevFrame=c):(c.isLast=!1,c.prevFrame=this.frames[l-1],c.nextFrame=this.frames[v+1])):v===l-1&&l>1?(c.isLast=!0,c.prevFrame=this.frames[l-2],c.nextFrame=this.frames[0]):l>1&&(c.prevFrame=this.frames[v-1],c.nextFrame=this.frames[v+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(s.PAUSE_ALL,this.pause,this),this.manager.off(s.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var l=0;l<this.frames.length;l++)this.frames[l].destroy();this.frames=[],this.manager=null}});o.exports=f},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u===void 0&&(u=0),s===void 0&&(s=" "),a===void 0&&(a=3),e=e.toString();var n=0;if(u+1>=e.length)switch(a){case 1:e=new Array(u+1-e.length).join(s)+e;break;case 3:var i=Math.ceil((n=u-e.length)/2),r=n-i;e=new Array(r+1).join(s)+e+new Array(i+1).join(s);break;default:e=e+new Array(u+1-e.length).join(s);break}return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(327),u=t(189),s=t(331),a=t(332),n=function(i){var r=typeof i;switch(r){case"string":return i.substr(0,3).toLowerCase()==="rgb"?a(i):e(i);case"number":return u(i);case"object":return s(i)}};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103);function u(a,n,i,r){var f=(a+n*6)%6,l=Math.min(f,4-f,1);return Math.round(255*(r-r*i*Math.max(0,l)))}var s=function(a,n,i,r){n===void 0&&(n=1),i===void 0&&(i=1);var f=u(5,a,n,i),l=u(3,a,n,i),h=u(1,a,n,i);return r?r.setTo?r.setTo(f,l,h,r.alpha,!1):(r.r=f,r.g=l,r.b=h,r.color=e(f,l,h),r):{r:f,g:l,b:h,color:e(f,l,h)}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=t(330),s=function(a){var n=u(a);return new e(n.r,n.g,n.b,n.a)};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e.x=u-e.width/2,e.y=s-e.height/2,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),u=t(136),s=t(31),a={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function n(){var r=new ArrayBuffer(4),f=new Uint8Array(r),l=new Uint32Array(r);return f[0]=161,f[1]=178,f[2]=195,f[3]=212,l[0]===3569595041?!0:l[0]===2712847316?!1:null}function i(){if(typeof importScripts=="function")return a;a.canvas=!!window.CanvasRenderingContext2D;try{a.localStorage=!!localStorage.getItem}catch{a.localStorage=!1}a.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,a.fileSystem=!!window.requestFileSystem;var r=!1,f=function(){if(window.WebGLRenderingContext)try{var l=s.createWebGL(this),h=l.getContext("webgl")||l.getContext("experimental-webgl"),c=s.create2D(this),v=c.getContext("2d"),d=v.createImageData(1,1);return r=d.data instanceof Uint8ClampedArray,s.remove(l),s.remove(c),!!h}catch{return!1}return!1};return a.webGL=f(),a.worker=!!window.Worker,a.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,a.getUserMedia=a.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,u.firefox&&u.firefoxVersion<21&&(a.getUserMedia=!1),!e.iOS&&(u.ie||u.firefox||u.chrome)&&(a.canvasBitBltShift=!0),(u.safari||u.mobileSafari)&&(a.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(a.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(a.littleEndian=n()),a.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&a.littleEndian!==null&&r,a}o.exports=i()},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="",e=function(){var u=function(i){for(var r=["i","webkitI","msI","mozI","oI"],f=0;f<r.length;f++){var l=r[f]+"mageSmoothingEnabled";if(l in i)return l}return null},s=function(i){return t===""&&(t=u(i)),t&&(i[t]=!0),i},a=function(i){return t===""&&(t=u(i)),t&&(i[t]=!1),i},n=function(i){return t!==null?i[t]:null};return{disable:a,enable:s,getPrefix:u,isEnabled:n}};o.exports=e()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(17),s={Angle:t(812),Distance:t(821),Easing:t(826),Fuzzy:t(827),Interpolation:t(830),Pow2:t(835),Snap:t(837),RandomDataGenerator:t(839),Average:t(840),Bernstein:t(356),Between:t(195),CatmullRom:t(194),CeilTo:t(841),Clamp:t(18),DegToRad:t(36),Difference:t(842),Euler:t(843),Factorial:t(357),FloatBetween:t(137),FloorTo:t(844),FromPercent:t(98),GetSpeed:t(845),IsEven:t(846),IsEvenStrict:t(847),Linear:t(135),MaxAdd:t(848),Median:t(849),MinSub:t(850),Percent:t(851),RadToDeg:t(196),RandomXY:t(852),RandomXYZ:t(853),RandomXYZW:t(854),Rotate:t(362),RotateAround:t(308),RotateAroundDistance:t(182),RotateTo:t(855),RoundAwayFromZero:t(363),RoundTo:t(856),SinCosTableGenerator:t(857),SmootherStep:t(183),SmoothStep:t(184),ToXY:t(858),TransformXY:t(177),Within:t(859),Wrap:t(68),Vector2:t(3),Vector3:t(39),Vector4:t(140),Matrix3:t(364),Matrix4:t(69),Quaternion:t(365),RotateVec3:t(860)};s=u(!1,s,e),o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n){var i=(a-u)*.5,r=(n-s)*.5,f=e*e,l=e*f;return(2*s-2*a+i+r)*l+(-3*s+3*a-2*i-r)*f+i*e+s};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.floor(Math.random()*(u-e+1)+e)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=function(s){return s*e.RAD_TO_DEG};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(){this._matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.alpha=1,this._dirty=!0,this._data},set:function(s){return this._matrix=s,this._dirty=!0,this},reset:function(){var s=this._matrix;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=0,s[6]=1,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=0,s[12]=1,s[13]=0,s[14]=0,s[15]=0,s[16]=0,s[17]=0,s[18]=1,s[19]=0,this._dirty=!0,this},getData:function(){if(this._dirty){var s=new Float32Array(this._matrix);s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,this._data=s,this._dirty=!1}return this._data},brightness:function(s,a){s===void 0&&(s=0),a===void 0&&(a=!1);var n=s;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],a)},saturate:function(s,a){s===void 0&&(s=0),a===void 0&&(a=!1);var n=s*2/3+1,i=(n-1)*-.5;return this.multiply([n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0],a)},desaturate:function(s){return s===void 0&&(s=!1),this.saturate(-1,s)},hue:function(s,a){s===void 0&&(s=0),a===void 0&&(a=!1),s=s/180*Math.PI;var n=Math.cos(s),i=Math.sin(s),r=.213,f=.715,l=.072;return this.multiply([r+n*(1-r)+i*-r,f+n*-f+i*-f,l+n*-l+i*(1-l),0,0,r+n*-r+i*.143,f+n*(1-f)+i*.14,l+n*-l+i*-.283,0,0,r+n*-r+i*-(1-r),f+n*-f+i*f,l+n*(1-l)+i*l,0,0,0,0,0,1,0],a)},grayscale:function(s,a){return s===void 0&&(s=1),a===void 0&&(a=!1),this.saturate(-s,a)},blackWhite:function(s){return s===void 0&&(s=!1),this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],s)},contrast:function(s,a){s===void 0&&(s=0),a===void 0&&(a=!1);var n=s+1,i=-.5*(n-1);return this.multiply([n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0],a)},negative:function(s){return s===void 0&&(s=!1),this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],s)},desaturateLuminance:function(s){return s===void 0&&(s=!1),this.multiply([.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],s)},sepia:function(s){return s===void 0&&(s=!1),this.multiply([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],s)},night:function(s,a){return s===void 0&&(s=.1),a===void 0&&(a=!1),this.multiply([s*-2,-s,0,0,0,-s,0,s,0,0,0,s,s*2,0,0,0,0,0,1,0],a)},lsd:function(s){return s===void 0&&(s=!1),this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],s)},brown:function(s){return s===void 0&&(s=!1),this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],s)},vintagePinhole:function(s){return s===void 0&&(s=!1),this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],s)},kodachrome:function(s){return s===void 0&&(s=!1),this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],s)},technicolor:function(s){return s===void 0&&(s=!1),this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],s)},polaroid:function(s){return s===void 0&&(s=!1),this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],s)},shiftToBGR:function(s){return s===void 0&&(s=!1),this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],s)},multiply:function(s,a){a||this.reset();for(var n=this._matrix,i=[],r=0;r<20;r++)i[r]=n[r];return n[0]=i[0]*s[0]+i[1]*s[5]+i[2]*s[10]+i[3]*s[15],n[1]=i[0]*s[1]+i[1]*s[6]+i[2]*s[11]+i[3]*s[16],n[2]=i[0]*s[2]+i[1]*s[7]+i[2]*s[12]+i[3]*s[17],n[3]=i[0]*s[3]+i[1]*s[8]+i[2]*s[13]+i[3]*s[18],n[4]=i[0]*s[4]+i[1]*s[9]+i[2]*s[14]+i[3]*s[19]+i[4],n[5]=i[5]*s[0]+i[6]*s[5]+i[7]*s[10]+i[8]*s[15],n[6]=i[5]*s[1]+i[6]*s[6]+i[7]*s[11]+i[8]*s[16],n[7]=i[5]*s[2]+i[6]*s[7]+i[7]*s[12]+i[8]*s[17],n[8]=i[5]*s[3]+i[6]*s[8]+i[7]*s[13]+i[8]*s[18],n[9]=i[5]*s[4]+i[6]*s[9]+i[7]*s[14]+i[8]*s[19]+i[9],n[10]=i[10]*s[0]+i[11]*s[5]+i[12]*s[10]+i[13]*s[15],n[11]=i[10]*s[1]+i[11]*s[6]+i[12]*s[11]+i[13]*s[16],n[12]=i[10]*s[2]+i[11]*s[7]+i[12]*s[12]+i[13]*s[17],n[13]=i[10]*s[3]+i[11]*s[8]+i[12]*s[13]+i[13]*s[18],n[14]=i[10]*s[4]+i[11]*s[9]+i[12]*s[14]+i[13]*s[19]+i[14],n[15]=i[15]*s[0]+i[16]*s[5]+i[17]*s[10]+i[18]*s[15],n[16]=i[15]*s[1]+i[16]*s[6]+i[17]*s[11]+i[18]*s[16],n[17]=i[15]*s[2]+i[16]*s[7]+i[17]*s[12]+i[18]*s[17],n[18]=i[15]*s[3]+i[16]*s[8]+i[17]*s[13]+i[18]*s[18],n[19]=i[15]*s[4]+i[16]*s[9]+i[17]*s[14]+i[18]*s[19]+i[19],this._dirty=!0,this}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(14),s=function(a,n){if(n===void 0&&(n=new e),a.length===0)return n;for(var i=Number.MAX_VALUE,r=Number.MAX_VALUE,f=u.MIN_SAFE_INTEGER,l=u.MIN_SAFE_INTEGER,h,c,v,d=0;d<a.length;d++)h=a[d],Array.isArray(h)?(c=h[0],v=h[1]):(c=h.x,v=h.y),i=Math.min(i,c),r=Math.min(r,v),f=Math.max(f,c),l=Math.max(l,v);return n.x=i,n.y=r,n.width=f-i,n.height=l-r,n};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(1),s=new e({initialize:function(n,i,r){this._rgb=[0,0,0],this.onChangeCallback=u,this.dirty=!1,this.set(n,i,r)},set:function(a,n,i){return a===void 0&&(a=0),n===void 0&&(n=0),i===void 0&&(i=0),this._rgb=[a,n,i],this.onChange(),this},equals:function(a,n,i){var r=this._rgb;return r.r===a&&r.g===n&&r.b===i},onChange:function(){this.dirty=!0;var a=this._rgb;this.onChangeCallback.call(this,a[0],a[1],a[2])},r:{get:function(){return this._rgb[0]},set:function(a){this._rgb[0]=a,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(a){this._rgb[1]=a,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(a){this._rgb[2]=a,this.onChange()}},destroy:function(){this.onChangeCallback=null}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={CENTER:t(403),ORIENTATION:t(404),SCALE_MODE:t(405),ZOOM:t(406)};o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){e.parentNode&&e.parentNode.removeChild(e)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(144),s=t(197),a=t(20),n=t(419),i=t(420),r=t(33),f=t(1),l=t(421),h=new e({initialize:function(v,d){this.scene=v,this.game,this.renderer,this.config=d,this.settings=l.create(d),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(c){this.settings.status=u.INIT,this.sceneUpdate=f,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var v=c.plugins;this.plugins=v,v.addToScene(this,s.Global,[s.CoreScene,i(this),n(this)]),this.events.emit(a.BOOT,this),this.settings.isBooted=!0},step:function(c,v){var d=this.events;d.emit(a.PRE_UPDATE,c,v),d.emit(a.UPDATE,c,v),this.sceneUpdate.call(this.scene,c,v),d.emit(a.POST_UPDATE,c,v)},render:function(c){var v=this.displayList;v.depthSort(),this.events.emit(a.PRE_RENDER,c),this.cameras.render(c,v),this.events.emit(a.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var v=this.events,d=this.settings;return this.settings.active&&(d.status=u.PAUSED,d.active=!1,v.emit(a.PAUSE,this,c)),this},resume:function(c){var v=this.events,d=this.settings;return this.settings.active||(d.status=u.RUNNING,d.active=!0,v.emit(a.RESUME,this,c)),this},sleep:function(c){var v=this.events,d=this.settings;return d.status=u.SLEEPING,d.active=!1,d.visible=!1,v.emit(a.SLEEP,this,c),this},wake:function(c){var v=this.events,d=this.settings;return d.status=u.RUNNING,d.active=!0,d.visible=!0,v.emit(a.WAKE,this,c),d.isTransition&&v.emit(a.TRANSITION_WAKE,d.transitionFrom,d.transitionDuration),this},getData:function(){return this.settings.data},isSleeping:function(){return this.settings.status===u.SLEEPING},isActive:function(){return this.settings.status===u.RUNNING},isPaused:function(){return this.settings.status===u.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,v){return c?this.resume(v):this.pause(v)},start:function(c){var v=this.events,d=this.settings;c&&(d.data=c),d.status=u.START,d.active=!0,d.visible=!0,v.emit(a.START,this),v.emit(a.READY,this,c)},shutdown:function(c){var v=this.events,d=this.settings;v.off(a.TRANSITION_INIT),v.off(a.TRANSITION_START),v.off(a.TRANSITION_COMPLETE),v.off(a.TRANSITION_OUT),d.status=u.SHUTDOWN,d.active=!1,d.visible=!1,this.renderer===r.WEBGL&&this.renderer.resetTextures(!0),v.emit(a.SHUTDOWN,this,c)},destroy:function(){var c=this.events,v=this.settings;v.status=u.DESTROYED,v.active=!1,v.visible=!1,c.emit(a.DESTROY,this),c.removeAllListeners();for(var d=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<d.length;m++)this[d[m]]=null}});o.exports=h},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e&&e[0].toUpperCase()+e.slice(1)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),u=t(0),s=t(109),a=t(424),n="Texture.frame missing: ",i=new u({initialize:function(f,l,h,c,v){Array.isArray(h)||(h=[h]),this.manager=f,this.key=l,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var d=0;d<h.length;d++)this.source.push(new a(this,h[d],c,v))},add:function(r,f,l,h,c,v){if(this.has(r))return null;var d=new s(this,r,f,l,h,c,v);return this.frames[r]=d,this.firstFrame==="__BASE"&&(this.firstFrame=r),this.frameTotal++,d},remove:function(r){if(this.has(r)){var f=this.get(r);return f.destroy(),delete this.frames[r],!0}return!1},has:function(r){return this.frames[r]},get:function(r){r||(r=this.firstFrame);var f=this.frames[r];return f||(console.warn(n+r),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(r){for(var f=0;f<this.source.length;f++)if(this.source[f]===r)return f;return-1},getFramesFromTextureSource:function(r,f){f===void 0&&(f=!1);var l=[];for(var h in this.frames)if(!(h==="__BASE"&&!f)){var c=this.frames[h];c.sourceIndex===r&&l.push(c)}return l},getFrameNames:function(r){r===void 0&&(r=!1);var f=Object.keys(this.frames);if(!r){var l=f.indexOf("__BASE");l!==-1&&f.splice(l,1)}return f},getSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var f=this.frames[r];return f?f.source.image:(console.warn(n+r),this.frames.__BASE.source.image)},getDataSourceImage:function(r){(r==null||this.frameTotal===1)&&(r="__BASE");var f=this.frames[r],l;return f?l=f.sourceIndex:(console.warn(n+r),l=this.frames.__BASE.sourceIndex),this.dataSource[l].image},setDataSource:function(r){Array.isArray(r)||(r=[r]);for(var f=0;f<r.length;f++){var l=this.source[f];this.dataSource.push(new a(this,r[f],l.width,l.height))}},setFilter:function(r){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(r);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(r)},destroy:function(){var r;for(r=0;r<this.source.length;r++)this.source[r].destroy();for(r=0;r<this.dataSource.length;r++)this.dataSource[r].destroy();for(var f in this.frames){var l=this.frames[f];l.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key);var h=this.manager.game.renderer;h&&h.type===e.WEBGL&&h.resetTextures(!0),this.manager=null}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(s,a,n,i,r){i===void 0&&(i=0),r===void 0&&(r=s.length);var f=[];if(e(s,i,r))for(var l=i;l<r;l++){var h=s[l];(!a||a&&n===void 0&&h.hasOwnProperty(a)||a&&n!==void 0&&h[a]===n)&&f.push(h)}return f};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Matrix:t(1013),Add:t(1021),AddAt:t(1022),BringToTop:t(1023),CountAllMatching:t(1024),Each:t(1025),EachInRange:t(1026),FindClosestInSorted:t(318),GetAll:t(207),GetFirst:t(428),GetRandom:t(210),MoveDown:t(1027),MoveTo:t(1028),MoveUp:t(1029),MoveAbove:t(1030),MoveBelow:t(1031),NumberArray:t(322),NumberArrayStep:t(1032),QuickSelect:t(436),Range:t(437),Remove:t(93),RemoveAt:t(1033),RemoveBetween:t(1034),RemoveRandomElement:t(1035),Replace:t(1036),RotateLeft:t(178),RotateRight:t(179),SafeRange:t(78),SendToBack:t(1037),SetAll:t(1038),Shuffle:t(131),SortByDigits:t(320),SpliceOne:t(74),StableSort:t(79),Swap:t(1039)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!Array.isArray(e)||e.length<2||!Array.isArray(e[0]))return!1;for(var u=e[0].length,s=1;s<e.length;s++)if(e[s].length!==u)return!1;return!0};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){u===void 0&&(u=0),s===void 0&&(s=e.length);var a=u+Math.floor(Math.random()*s);return e[a]===void 0?null:e[a]};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),s=t(438),a=new e({Extends:u,initialize:function(){u.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},add:function(n){return this._pending.push(n),this._toProcess++,n},remove:function(n){return this._destroy.push(n),this._toProcess++,n},removeAll:function(){for(var n=this._active,i=this._destroy,r=n.length;r--;)i.push(n[r]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var n=this._destroy,i=this._active,r,f;for(r=0;r<n.length;r++){f=n[r];var l=i.indexOf(f);l!==-1&&(i.splice(l,1),this.emit(s.PROCESS_QUEUE_REMOVE,f))}for(n.length=0,n=this._pending,r=0;r<n.length;r++)f=n[r],(!this.checkQueue||this.checkQueue&&i.indexOf(f)===-1)&&(i.push(f),this.emit(s.PROCESS_QUEUE_ADD,f));return n.length=0,this._toProcess=0,i},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(u,s){return parseInt(u.getAttribute(s),10)}var e=function(u,s,a,n,i){a===void 0&&(a=0),n===void 0&&(n=0);var r=s.cutX,f=s.cutY,l=s.source.width,h=s.source.height,c=s.sourceIndex,v={},d=u.getElementsByTagName("info")[0],m=u.getElementsByTagName("common")[0];v.font=d.getAttribute("face"),v.size=t(d,"size"),v.lineHeight=t(m,"lineHeight")+n,v.chars={};var y=u.getElementsByTagName("char"),T=s!==void 0&&s.trimmed;if(T)var C=s.height,R=s.width;for(var A=0;A<y.length;A++){var P=y[A],O=t(P,"id"),b=String.fromCharCode(O),D=t(P,"x"),N=t(P,"y"),B=t(P,"width"),U=t(P,"height");T&&(D<R&&(R=D),N<C&&(C=N)),T&&C!==0&&R!==0&&(D-=s.x,N-=s.y);var G=(r+D)/l,W=(f+N)/h,$=(r+D+B)/l,q=(f+N+U)/h;if(v.chars[O]={x:D,y:N,width:B,height:U,centerX:Math.floor(B/2),centerY:Math.floor(U/2),xOffset:t(P,"xoffset"),yOffset:t(P,"yoffset"),xAdvance:t(P,"xadvance")+a,data:{},kerning:{},u0:G,v0:W,u1:$,v1:q},i&&B!==0&&U!==0){var _=i.add(b,c,D,N,B,U);_&&_.setUVs(B,U,G,W,$,q)}}var V=u.getElementsByTagName("kerning");for(A=0;A<V.length;A++){var w=V[A],z=t(w,"first"),Y=t(w,"second"),H=t(w,"amount");v.chars[Y].kerning[z]=H}return v};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1049),u=t(440),s=t(0),a=t(11),n=t(109),i=t(15),r=t(110),f=new s({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.Depth,a.Mask,a.Pipeline,a.ScrollFactor,a.Size,a.Texture,a.Transform,a.Visible,e],initialize:function(h,c,v,d,m){i.call(this,h,"Blitter"),this.setTexture(d,m),this.setPosition(c,v),this.initPipeline(),this.children=new r,this.renderList=[],this.dirty=!1},create:function(l,h,c,v,d){v===void 0&&(v=!0),d===void 0&&(d=this.children.length),c===void 0?c=this.frame:c instanceof n||(c=this.texture.get(c));var m=new u(this,l,h,c,v);return this.children.addAt(m,d,!1),this.dirty=!0,m},createFromCallback:function(l,h,c,v){for(var d=this.createMultiple(h,c,v),m=0;m<d.length;m++){var y=d[m];l.call(this,y,m)}return d},createMultiple:function(l,h,c){h===void 0&&(h=this.frame.name),c===void 0&&(c=!0),Array.isArray(h)||(h=[h]);var v=[],d=this;return h.forEach(function(m){for(var y=0;y<l;y++)v.push(d.create(0,0,m,c))}),v},childCanRender:function(l){return l.visible&&l.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(208),u=t(35),s=t(0),a=t(11),n=t(75),i=t(15),r=t(10),f=t(1052),l=t(441),h=t(3),c=new s({Extends:i,Mixins:[a.AlphaSingle,a.BlendMode,a.ComputedSize,a.Depth,a.Mask,a.Pipeline,a.Transform,a.Visible,f],initialize:function(d,m,y,T){i.call(this,d,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new a.TransformMatrix,this.tempTransformMatrix=new a.TransformMatrix,this._sortKey="",this._sysEvents=d.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPipeline(),this.setPosition(m,y),this.clearAlpha(),this.setBlendMode(u.SKIP_CHECK),T&&this.add(T)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(v){return v===void 0&&(v=!0),this.exclusive=v,this},getBounds:function(v){if(v===void 0&&(v=new r),v.setTo(this.x,this.y,0,0),this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix(),m=d.transformPoint(this.x,this.y);v.setTo(m.x,m.y,0,0)}if(this.list.length>0){var y=this.list,T=new r,C=!1;v.setEmpty();for(var R=0;R<y.length;R++){var A=y[R];A.getBounds&&(A.getBounds(T),C?l(T,v,v):(v.setTo(T.x,T.y,T.width,T.height),C=!0))}}return v},addHandler:function(v){v.once(n.DESTROY,this.remove,this),this.exclusive&&(v.parentContainer&&v.parentContainer.remove(v),v.removeFromDisplayList(),v.parentContainer=this)},removeHandler:function(v){v.off(n.DESTROY,this.remove),this.exclusive&&(v.parentContainer=null,v.addToDisplayList())},pointToContainer:function(v,d){d===void 0&&(d=new h),this.parentContainer?this.parentContainer.pointToContainer(v,d):d=new h(v.x,v.y);var m=this.tempTransformMatrix;return m.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),m.invert(),m.transformPoint(v.x,v.y,d),d},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(v){return e.Add(this.list,v,this.maxSize,this.addHandler,this),this},addAt:function(v,d){return e.AddAt(this.list,v,d,this.maxSize,this.addHandler,this),this},getAt:function(v){return this.list[v]},getIndex:function(v){return this.list.indexOf(v)},sort:function(v,d){return v?(d===void 0&&(d=function(m,y){return m[v]-y[v]}),e.StableSort(this.list,d),this):this},getByName:function(v){return e.GetFirst(this.list,"name",v)},getRandom:function(v,d){return e.GetRandom(this.list,v,d)},getFirst:function(v,d,m,y){return e.GetFirst(this.list,v,d,m,y)},getAll:function(v,d,m,y){return e.GetAll(this.list,v,d,m,y)},count:function(v,d,m,y){return e.CountAllMatching(this.list,v,d,m,y)},swap:function(v,d){return e.Swap(this.list,v,d),this},moveTo:function(v,d){return e.MoveTo(this.list,v,d),this},moveAbove:function(v,d){return e.MoveAbove(this.list,v,d),this},moveBelow:function(v,d){return e.MoveBelow(this.list,v,d),this},remove:function(v,d){var m=e.Remove(this.list,v,this.removeHandler,this);if(d&&m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)m[y].destroy()}return this},removeAt:function(v,d){var m=e.RemoveAt(this.list,v,this.removeHandler,this);return d&&m&&m.destroy(),this},removeBetween:function(v,d,m){var y=e.RemoveBetween(this.list,v,d,this.removeHandler,this);if(m)for(var T=0;T<y.length;T++)y[T].destroy();return this},removeAll:function(v){var d=e.RemoveBetween(this.list,0,this.list.length,this.removeHandler,this);if(v)for(var m=0;m<d.length;m++)d[m].destroy();return this},bringToTop:function(v){return e.BringToTop(this.list,v),this},sendToBack:function(v){return e.SendToBack(this.list,v),this},moveUp:function(v){return e.MoveUp(this.list,v),this},moveDown:function(v){return e.MoveDown(this.list,v),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return e.Shuffle(this.list),this},replace:function(v,d,m){var y=e.Replace(this.list,v,d);return y&&(this.addHandler(d),this.removeHandler(v),m&&v.destroy()),this},exists:function(v){return this.list.indexOf(v)>-1},setAll:function(v,d,m,y){return e.SetAll(this.list,v,d,m,y),this},each:function(v,d){var m=[null],y,T=this.list.slice(),C=T.length;for(y=2;y<arguments.length;y++)m.push(arguments[y]);for(y=0;y<C;y++)m[0]=T[y],v.apply(d,m);return this},iterate:function(v,d){var m=[null],y;for(y=2;y<arguments.length;y++)m.push(arguments[y]);for(y=0;y<this.list.length;y++)m[0]=this.list[y],v.apply(d,m);return this},setScrollFactor:function(v,d,m){return d===void 0&&(d=v),m===void 0&&(m=!1),this.scrollFactorX=v,this.scrollFactorY=d,m&&(e.SetAll(this.list,"scrollFactorX",v),e.SetAll(this.list,"scrollFactorY",d)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});o.exports=c},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),u=t(0),s=t(1057),a=new u({Extends:e,Mixins:[s],initialize:function(i,r,f,l,h,c,v){e.call(this,i,r,f,l,h,c,v),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(n,i){return this.cropWidth=n,this.cropHeight=i,this},setDisplayCallback:function(n){return this.displayCallback=n,this},setScrollX:function(n){return this.scrollX=n,this},setScrollY:function(n){return this.scrollY=n,this}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),u=t(0),s=t(217),a=t(303),n=t(304),i=t(305),r=t(309),f=t(167),l=t(312),h=t(313),c=t(314),v=t(111),d=t(15),m=t(2),y=t(6),T=t(14),C=t(1063),R=new u({Extends:d,Mixins:[a,n,i,r,f,h,c,l,C],initialize:function(P,O){var b=y(O,"x",0),D=y(O,"y",0);d.call(this,P,"Graphics"),this.setPosition(b,D),this.initPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.setDefaultStyles(O)},setDefaultStyles:function(A){return y(A,"lineStyle",null)&&(this.defaultStrokeWidth=y(A,"lineStyle.width",1),this.defaultStrokeColor=y(A,"lineStyle.color",16777215),this.defaultStrokeAlpha=y(A,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),y(A,"fillStyle",null)&&(this.defaultFillColor=y(A,"fillStyle.color",16777215),this.defaultFillAlpha=y(A,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(A,P,O){return O===void 0&&(O=1),this.commandBuffer.push(s.LINE_STYLE,A,P,O),this._lineWidth=A,this},fillStyle:function(A,P){return P===void 0&&(P=1),this.commandBuffer.push(s.FILL_STYLE,A,P),this},fillGradientStyle:function(A,P,O,b,D,N,B,U){return D===void 0&&(D=1),N===void 0&&(N=D),B===void 0&&(B=D),U===void 0&&(U=D),this.commandBuffer.push(s.GRADIENT_FILL_STYLE,D,N,B,U,A,P,O,b),this},lineGradientStyle:function(A,P,O,b,D,N){return N===void 0&&(N=1),this.commandBuffer.push(s.GRADIENT_LINE_STYLE,A,N,P,O,b,D),this},beginPath:function(){return this.commandBuffer.push(s.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(s.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(s.FILL_PATH),this},fill:function(){return this.commandBuffer.push(s.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(s.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(s.STROKE_PATH),this},fillCircleShape:function(A){return this.fillCircle(A.x,A.y,A.radius)},strokeCircleShape:function(A){return this.strokeCircle(A.x,A.y,A.radius)},fillCircle:function(A,P,O){return this.beginPath(),this.arc(A,P,O,0,T.PI2),this.fillPath(),this},strokeCircle:function(A,P,O){return this.beginPath(),this.arc(A,P,O,0,T.PI2),this.strokePath(),this},fillRectShape:function(A){return this.fillRect(A.x,A.y,A.width,A.height)},strokeRectShape:function(A){return this.strokeRect(A.x,A.y,A.width,A.height)},fillRect:function(A,P,O,b){return this.commandBuffer.push(s.FILL_RECT,A,P,O,b),this},strokeRect:function(A,P,O,b){var D=this._lineWidth/2,N=A-D,B=A+D;return this.beginPath(),this.moveTo(A,P),this.lineTo(A,P+b),this.strokePath(),this.beginPath(),this.moveTo(A+O,P),this.lineTo(A+O,P+b),this.strokePath(),this.beginPath(),this.moveTo(N,P),this.lineTo(B+O,P),this.strokePath(),this.beginPath(),this.moveTo(N,P+b),this.lineTo(B+O,P+b),this.strokePath(),this},fillRoundedRect:function(A,P,O,b,D){D===void 0&&(D=20);var N=D,B=D,U=D,G=D;return typeof D!="number"&&(N=m(D,"tl",20),B=m(D,"tr",20),U=m(D,"bl",20),G=m(D,"br",20)),this.beginPath(),this.moveTo(A+N,P),this.lineTo(A+O-B,P),this.arc(A+O-B,P+B,B,-T.TAU,0),this.lineTo(A+O,P+b-G),this.arc(A+O-G,P+b-G,G,0,T.TAU),this.lineTo(A+U,P+b),this.arc(A+U,P+b-U,U,T.TAU,Math.PI),this.lineTo(A,P+N),this.arc(A+N,P+N,N,-Math.PI,-T.TAU),this.fillPath(),this},strokeRoundedRect:function(A,P,O,b,D){D===void 0&&(D=20);var N=D,B=D,U=D,G=D;return typeof D!="number"&&(N=m(D,"tl",20),B=m(D,"tr",20),U=m(D,"bl",20),G=m(D,"br",20)),this.beginPath(),this.moveTo(A+N,P),this.lineTo(A+O-B,P),this.moveTo(A+O-B,P),this.arc(A+O-B,P+B,B,-T.TAU,0),this.lineTo(A+O,P+b-G),this.moveTo(A+O,P+b-G),this.arc(A+O-G,P+b-G,G,0,T.TAU),this.lineTo(A+U,P+b),this.moveTo(A+U,P+b),this.arc(A+U,P+b-U,U,T.TAU,Math.PI),this.lineTo(A,P+N),this.moveTo(A,P+N),this.arc(A+N,P+N,N,-Math.PI,-T.TAU),this.strokePath(),this},fillPointShape:function(A,P){return this.fillPoint(A.x,A.y,P)},fillPoint:function(A,P,O){return!O||O<1?O=1:(A-=O/2,P-=O/2),this.commandBuffer.push(s.FILL_RECT,A,P,O,O),this},fillTriangleShape:function(A){return this.fillTriangle(A.x1,A.y1,A.x2,A.y2,A.x3,A.y3)},strokeTriangleShape:function(A){return this.strokeTriangle(A.x1,A.y1,A.x2,A.y2,A.x3,A.y3)},fillTriangle:function(A,P,O,b,D,N){return this.commandBuffer.push(s.FILL_TRIANGLE,A,P,O,b,D,N),this},strokeTriangle:function(A,P,O,b,D,N){return this.commandBuffer.push(s.STROKE_TRIANGLE,A,P,O,b,D,N),this},strokeLineShape:function(A){return this.lineBetween(A.x1,A.y1,A.x2,A.y2)},lineBetween:function(A,P,O,b){return this.beginPath(),this.moveTo(A,P),this.lineTo(O,b),this.strokePath(),this},lineTo:function(A,P){return this.commandBuffer.push(s.LINE_TO,A,P),this},moveTo:function(A,P){return this.commandBuffer.push(s.MOVE_TO,A,P),this},strokePoints:function(A,P,O,b){P===void 0&&(P=!1),O===void 0&&(O=!1),b===void 0&&(b=A.length),this.beginPath(),this.moveTo(A[0].x,A[0].y);for(var D=1;D<b;D++)this.lineTo(A[D].x,A[D].y);return P&&this.lineTo(A[0].x,A[0].y),O&&this.closePath(),this.strokePath(),this},fillPoints:function(A,P,O,b){P===void 0&&(P=!1),O===void 0&&(O=!1),b===void 0&&(b=A.length),this.beginPath(),this.moveTo(A[0].x,A[0].y);for(var D=1;D<b;D++)this.lineTo(A[D].x,A[D].y);return P&&this.lineTo(A[0].x,A[0].y),O&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(A,P){P===void 0&&(P=32);var O=A.getPoints(P);return this.strokePoints(O,!0)},strokeEllipse:function(A,P,O,b,D){D===void 0&&(D=32);var N=new v(A,P,O,b),B=N.getPoints(D);return this.strokePoints(B,!0)},fillEllipseShape:function(A,P){P===void 0&&(P=32);var O=A.getPoints(P);return this.fillPoints(O,!0)},fillEllipse:function(A,P,O,b,D){D===void 0&&(D=32);var N=new v(A,P,O,b),B=N.getPoints(D);return this.fillPoints(B,!0)},arc:function(A,P,O,b,D,N,B){return N===void 0&&(N=!1),B===void 0&&(B=0),this.commandBuffer.push(s.ARC,A,P,O,b,D,N,B),this},slice:function(A,P,O,b,D,N,B){return N===void 0&&(N=!1),B===void 0&&(B=0),this.commandBuffer.push(s.BEGIN_PATH),this.commandBuffer.push(s.MOVE_TO,A,P),this.commandBuffer.push(s.ARC,A,P,O,b,D,N,B),this.commandBuffer.push(s.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(s.SAVE),this},restore:function(){return this.commandBuffer.push(s.RESTORE),this},translateCanvas:function(A,P){return this.commandBuffer.push(s.TRANSLATE,A,P),this},scaleCanvas:function(A,P){return this.commandBuffer.push(s.SCALE,A,P),this},rotateCanvas:function(A){return this.commandBuffer.push(s.ROTATE,A),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(A,P,O){var b=this.scene.sys,D=b.game.renderer;P===void 0&&(P=b.scale.width),O===void 0&&(O=b.scale.height),R.TargetCamera.setScene(this.scene),R.TargetCamera.setViewport(0,0,P,O),R.TargetCamera.scrollX=this.x,R.TargetCamera.scrollY=this.y;var N,B;if(typeof A=="string")if(b.textures.exists(A)){N=b.textures.get(A);var U=N.getSourceImage();U instanceof HTMLCanvasElement&&(B=U.getContext("2d"))}else N=b.textures.createCanvas(A,P,O),B=N.getSourceImage().getContext("2d");else A instanceof HTMLCanvasElement&&(B=A.getContext("2d"));return B&&(this.renderCanvas(D,this,R.TargetCamera,null,B,!1),N&&N.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});R.TargetCamera=new e,o.exports=R},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a,n){n===void 0&&(n=new e);var i=s.width/2,r=s.height/2;return n.x=s.x+i*Math.cos(a),n.y=s.y+r*Math.sin(a),n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(0),s=t(11),a=t(176),n=t(101),i=t(9),r=t(75),f=t(110),l=t(1071),h=t(20),c=t(79),v=new u({Extends:f,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Mask,s.Pipeline,s.Visible,i,l],initialize:function(m,y){f.call(this,m),i.call(this),this.scene=m,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=m.sys,this.events=m.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPipeline(),this.clearAlpha(),this.setBlendMode(e.SKIP_CHECK),y&&this.add(y),m.sys.queueDepthSort()},setActive:function(d){return this.active=d,this},setName:function(d){return this.name=d,this},setState:function(d){return this.state=d,this},setDataEnabled:function(){return this.data||(this.data=new n(this)),this},setData:function(d,m){return this.data||(this.data=new n(this)),this.data.set(d,m),this},incData:function(d,m){return this.data||(this.data=new n(this)),this.data.inc(d,m),this},toggleData:function(d){return this.data||(this.data=new n(this)),this.data.toggle(d),this},getData:function(d){return this.data||(this.data=new n(this)),this.data.get(d)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return a(this)},willRender:function(d){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&d.id)},getIndexList:function(){for(var d=this,m=this.parentContainer,y=[];m&&(y.unshift(m.getIndex(d)),d=m,m.parentContainer);)m=m.parentContainer;return y.unshift(this.displayList.getIndex(d)),y},addChildCallback:function(d){d.displayList&&d.displayList!==this&&d.removeFromDisplayList(),d.displayList||(this.queueDepthSort(),d.displayList=this,d.emit(r.ADDED_TO_SCENE,d,this.scene),this.events.emit(h.ADDED_TO_SCENE,d,this.scene))},removeChildCallback:function(d){this.queueDepthSort(),d.displayList=null,d.emit(r.REMOVED_FROM_SCENE,d,this.scene),this.events.emit(h.REMOVED_FROM_SCENE,d,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(c(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(d,m){return d._depth-m._depth},getChildren:function(){return this.list},destroy:function(){if(!(!this.scene||this.ignoreDestroy)){this.emit(r.DESTROY,this);for(var d=this.list.length;d--;)this.list[d].destroy();this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(15),a=t(450),n=t(110),i=t(452),r=t(1075),f=new e({Extends:s,Mixins:[u.Depth,u.Mask,u.Pipeline,u.Transform,u.Visible,r],initialize:function(h,c,v,d){if(s.call(this,h,"ParticleEmitterManager"),this.blendMode=-1,this.timeScale=1,this.texture=null,this.frame=null,this.frameNames=[],v!==null&&(typeof v=="object"||Array.isArray(v))&&(d=v,v=null),this.setTexture(c,v),this.initPipeline(),this.emitters=new n(this),this.wells=new n(this),d){Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)this.createEmitter(d[m])}},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setTexture:function(l,h){return this.texture=this.scene.sys.textures.get(l),this.setFrame(h)},setFrame:function(l){this.frame=this.texture.get(l);var h=this.texture.getFramesFromTextureSource(this.frame.sourceIndex),c=[];return h.forEach(function(v){c.push(v.name)}),this.frameNames=c,this.defaultFrame=this.frame,this},setEmitterFrames:function(l,h){Array.isArray(l)||(l=[l]);var c=h.frames;c.length=0;for(var v=0;v<l.length;v++){var d=l[v];this.frameNames.indexOf(d)!==-1&&c.push(this.texture.get(d))}return c.length>0?h.defaultFrame=c[0]:h.defaultFrame=this.defaultFrame,this},addEmitter:function(l){return this.emitters.add(l)},createEmitter:function(l){return this.addEmitter(new i(this,l))},removeEmitter:function(l){return this.emitters.remove(l,!0)},addGravityWell:function(l){return this.wells.add(l)},createGravityWell:function(l){return this.addGravityWell(new a(l))},emitParticle:function(l,h,c){for(var v=this.emitters.list,d=0;d<v.length;d++){var m=v[d];m.active&&m.emitParticle(l,h,c)}return this},emitParticleAt:function(l,h,c){return this.emitParticle(c,l,h)},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},getProcessors:function(){return this.wells.getAll("active",!0)},preUpdate:function(l,h){h*=this.timeScale;for(var c=this.emitters.list,v=0;v<c.length;v++){var d=c[v];d.active&&d.preUpdate(l,h)}},setAlpha:function(){},setScrollFactor:function(){},setBlendMode:function(){}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(133),s=t(31),a=t(0),n=t(11),i=t(33),r=t(109),f=t(15),l=t(1),h=t(92),c=t(1079),v=t(141),d=t(12),m=t(222),y=new a({Extends:f,Mixins:[n.Alpha,n.BlendMode,n.ComputedSize,n.Crop,n.Depth,n.Flip,n.GetBounds,n.Mask,n.Origin,n.Pipeline,n.ScrollFactor,n.Tint,n.Transform,n.Visible,c],initialize:function(C,R,A,P,O,b,D){R===void 0&&(R=0),A===void 0&&(A=0),P===void 0&&(P=32),O===void 0&&(O=32),f.call(this,C,"RenderTexture"),this.renderer=C.sys.renderer,this.textureManager=C.sys.textures,this.globalTint=16777215,this.globalAlpha=1,this.canvas=null,this.dirty=!1,this._crop=this.resetCropObject(),this.texture=null,this.frame=null,this._saved=!1,b===void 0?(this.canvas=s.create2D(this,P,O),this.texture=C.sys.textures.addCanvas(m(),this.canvas),this.frame=this.texture.get()):(this.texture=C.sys.textures.get(b),this.frame=this.texture.get(D),this.canvas=this.frame.source.image,this._saved=!0,this.dirty=!0,this.width=this.frame.cutWidth,this.height=this.frame.cutHeight),this.context=this.canvas.getContext("2d"),this._eraseMode=!1,this.camera=new u(0,0,P,O),this.renderTarget=null;var N=this.renderer;N?N.type===i.WEBGL?(this.drawGameObject=this.batchGameObjectWebGL,this.renderTarget=new v(N,P,O,1,0,!1)):N.type===i.CANVAS&&(this.drawGameObject=this.batchGameObjectCanvas):this.drawGameObject=l,this.camera.setScene(C),this.setPosition(R,A),b===void 0&&this.setSize(P,O),this.setOrigin(0,0),this.initPipeline(h.SINGLE_PIPELINE)},setSize:function(T,C){return this.resize(T,C)},resize:function(T,C){C===void 0&&(C=T);var R=this.frame;if(T!==this.width||C!==this.height){if(R.name==="__BASE"){this.canvas.width=T,this.canvas.height=C,this.texture.width=T,this.texture.height=C;var A=this.renderTarget;A&&(A.resize(T,C),R.glTexture=A.texture,R.source.isRenderTexture=!0,R.source.isGLTexture=!0,R.source.glTexture=A.texture),this.camera.setSize(T,C),R.source.width=T,R.source.height=C,R.setSize(T,C),this.width=T,this.height=C}}else{var P=this.texture.getSourceImage();R.cutX+T>P.width&&(T=P.width-R.cutX),R.cutY+C>P.height&&(C=P.height-R.cutY),R.setSize(T,C,R.cutX,R.cutY)}this.updateDisplayOrigin();var O=this.input;return O&&!O.customHitArea&&(O.hitArea.width=T,O.hitArea.height=C),this},setGlobalTint:function(T){return this.globalTint=T,this},setGlobalAlpha:function(T){return this.globalAlpha=T,this},saveTexture:function(T){return this.textureManager.renameTexture(this.texture.key,T),this._saved=!0,this.texture},fill:function(T,C,R,A,P,O){var b=this.frame,D=this.camera,N=this.renderer;C===void 0&&(C=1),R===void 0&&(R=0),A===void 0&&(A=0),P===void 0&&(P=b.cutWidth),O===void 0&&(O=b.cutHeight);var B=(T>>16&255)/255,U=(T>>8&255)/255,G=(T&255)/255,W=this.renderTarget;if(D.preRender(),W){W.bind(!0);var $=this.pipeline;$.manager.set($);var q=W.width,_=W.height,V=N.width,w=N.height,z=V/q,Y=w/_;$.drawFillRect(R*z,A*Y,P*z,O*Y,d.getTintFromFloats(G,U,B,1),C),W.unbind(!0)}else{var H=this.context;N.setContext(H),H.fillStyle="rgba("+B+","+U+","+G+","+C+")",H.fillRect(R+b.cutX,A+b.cutY,P,O),N.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var T=this.renderTarget;if(T)T.clear();else{var C=this.context;C.save(),C.setTransform(1,0,0,1,0,0),C.clearRect(this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight),C.restore()}this.dirty=!1}return this},erase:function(T,C,R){return this._eraseMode=!0,this.draw(T,C,R,1,16777215),this._eraseMode=!1,this},draw:function(T,C,R,A,P){return this.beginDraw(),this.batchDraw(T,C,R,A,P),this.endDraw(),this},drawFrame:function(T,C,R,A,P,O){return this.beginDraw(),this.batchDrawFrame(T,C,R,A,P,O),this.endDraw(),this},beginDraw:function(){var T=this.camera,C=this.renderer,R=this.renderTarget;return T.preRender(),R?C.beginCapture(R.width,R.height):C.setContext(this.context),this},batchDraw:function(T,C,R,A,P){return A===void 0&&(A=this.globalAlpha),P===void 0?P=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):P=(P>>16)+(P&65280)+((P&255)<<16),Array.isArray(T)||(T=[T]),this.batchList(T,C,R,A,P),this},batchDrawFrame:function(T,C,R,A,P,O){R===void 0&&(R=0),A===void 0&&(A=0),P===void 0&&(P=this.globalAlpha),O===void 0?O=(this.globalTint>>16)+(this.globalTint&65280)+((this.globalTint&255)<<16):O=(O>>16)+(O&65280)+((O&255)<<16);var b=this.textureManager.getFrame(T,C);return b&&(this.renderTarget?this.pipeline.batchTextureFrame(b,R,A,O,P,this.camera.matrix,null):this.batchTextureFrame(b,R+this.frame.cutX,A+this.frame.cutY,P,O)),this},endDraw:function(T){T===void 0&&(T=this._eraseMode);var C=this.renderer,R=this.renderTarget;if(R){var A=C.endCapture(),P=C.pipelines.setUtility();P.blitFrame(A,R,1,!1,!1,T),C.resetScissor(),C.resetViewport()}else C.setContext();return this.dirty=!0,this},batchList:function(T,C,R,A,P){for(var O=0;O<T.length;O++){var b=T[O];!b||b===this||(b.renderWebGL||b.renderCanvas?this.drawGameObject(b,C,R):b.isParent||b.list?this.batchGroup(b.getChildren(),C,R):typeof b=="string"?this.batchTextureFrameKey(b,null,C,R,A,P):b instanceof r?this.batchTextureFrame(b,C,R,A,P):Array.isArray(b)&&this.batchList(b,C,R,A,P))}},batchGroup:function(T,C,R){C===void 0&&(C=0),R===void 0&&(R=0),C+=this.frame.cutX,R+=this.frame.cutY;for(var A=0;A<T.length;A++){var P=T[A];if(P.willRender(this.camera)){var O=P.x+C,b=P.y+R;this.drawGameObject(P,O,b)}}},batchGameObjectWebGL:function(T,C,R){C===void 0&&(C=T.x),R===void 0&&(R=T.y);var A=T.x,P=T.y;T.setPosition(C+this.frame.cutX,R+this.frame.cutY),T.renderDirect?T.renderDirect(this.renderer,T,this.camera):T.renderWebGL(this.renderer,T,this.camera),T.setPosition(A,P)},batchGameObjectCanvas:function(T,C,R){C===void 0&&(C=T.x),R===void 0&&(R=T.y);var A=T.x,P=T.y;if(this._eraseMode){var O=T.blendMode;T.blendMode=e.ERASE}T.setPosition(C+this.frame.cutX,R+this.frame.cutY),T.renderCanvas(this.renderer,T,this.camera,null),T.setPosition(A,P),this._eraseMode&&(T.blendMode=O)},batchTextureFrameKey:function(T,C,R,A,P,O){var b=this.textureManager.getFrame(T,C);b&&this.batchTextureFrame(b,R,A,P,O)},batchTextureFrame:function(T,C,R,A,P){C===void 0&&(C=0),R===void 0&&(R=0),C+=this.frame.cutX,R+=this.frame.cutY;var O=this.renderTarget;if(O)this.pipeline.batchTextureFrame(T,C,R,P,A,this.camera.matrix,null);else{var b=this.context,D=T.canvasData,N=T.source.image,B=this.camera.matrix;b.save(),b.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",b.globalAlpha=A,B.setToContext(b),b.drawImage(N,D.x,D.y,D.width,D.height,C,R,D.width,D.height),b.restore()}},snapshotArea:function(T,C,R,A,P,O,b){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,T,C,R,A,O,b):this.renderer.snapshotCanvas(this.canvas,P,!1,T,C,R,A,O,b),this},snapshot:function(T,C,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,T,!1,0,0,this.width,this.height,C,R):this.renderer.snapshotCanvas(this.canvas,T,!1,0,0,this.width,this.height,C,R),this},snapshotPixel:function(T,C,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,R,!0,T,C):this.renderer.snapshotCanvas(this.canvas,R,!0,T,C),this},preDestroy:function(){this._saved||(s.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.texture.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.texture=null)}});o.exports=y},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var u=Math.random()*16|0,s=e==="x"?u:u&3|8;return s.toString(16)})};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),u=t(0),s=t(11),a=t(15),n=t(92),i=t(1085),r=t(3),f=new u({Extends:a,Mixins:[s.AlphaSingle,s.BlendMode,s.Depth,s.Flip,s.Mask,s.Pipeline,s.Size,s.Texture,s.Transform,s.Visible,s.ScrollFactor,i],initialize:function(h,c,v,d,m,y,T,C,R){d===void 0&&(d="__DEFAULT"),y===void 0&&(y=2),T===void 0&&(T=!0),a.call(this,h,"Rope"),this.anims=new e(this),this.points=y,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=d==="__DEFAULT",this.dirty=!1,this.horizontal=T,this._flipX=!1,this._flipY=!1,this._perp=new r,this.debugCallback=null,this.debugGraphic=null,this.setTexture(d,m),this.setPosition(c,v),this.setSizeToFrame(),this.initPipeline(n.ROPE_PIPELINE),Array.isArray(y)&&this.resizeArrays(y.length),this.setPoints(y,C,R),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(l,h){var c=this.anims.currentFrame;this.anims.update(l,h),this.anims.currentFrame!==c&&(this.updateUVs(),this.updateVertices())},play:function(l,h,c){return this.anims.play(l,h,c),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(l,h,c){return l===void 0&&(l=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(l,h,c))},setVertical:function(l,h,c){return l===void 0&&(l=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(l,h,c)):this},setTintFill:function(l){return l===void 0&&(l=!1),this.tintFill=l,this},setAlphas:function(l,h){var c=this.points.length;if(c<1)return this;var v=this.alphas;l===void 0?l=[1]:!Array.isArray(l)&&h===void 0&&(l=[l]);var d,m=0;if(h!==void 0)for(d=0;d<c;d++)m=d*2,v[m]=l,v[m+1]=h;else if(l.length===c)for(d=0;d<c;d++)m=d*2,v[m]=l[d],v[m+1]=l[d];else{var y=l[0];for(d=0;d<c;d++)m=d*2,l.length>m&&(y=l[m]),v[m]=y,l.length>m+1&&(y=l[m+1]),v[m+1]=y}return this},setColors:function(l){var h=this.points.length;if(h<1)return this;var c=this.colors;l===void 0?l=[16777215]:Array.isArray(l)||(l=[l]);var v,d=0;if(l.length===h)for(v=0;v<h;v++)d=v*2,c[d]=l[v],c[d+1]=l[v];else{var m=l[0];for(v=0;v<h;v++)d=v*2,l.length>d&&(m=l[d]),c[d]=m,l.length>d+1&&(m=l[d+1]),c[d+1]=m}return this},setPoints:function(l,h,c){if(l===void 0&&(l=2),typeof l=="number"){var v=l;v<2&&(v=2),l=[];var d,m,y;if(this.horizontal)for(y=-this.frame.halfWidth,m=this.frame.width/(v-1),d=0;d<v;d++)l.push({x:y+d*m,y:0});else for(y=-this.frame.halfHeight,m=this.frame.height/(v-1),d=0;d<v;d++)l.push({x:0,y:y+d*m})}var T=l.length,C=this.points.length;return T<1?(console.warn("Rope: Not enough points given"),this):(T===1&&(l.unshift({x:0,y:0}),T++),C!==T&&this.resizeArrays(T),this.points=l,this.updateUVs(),h!=null&&this.setColors(h),c!=null&&this.setAlphas(c),this)},updateUVs:function(){for(var l=this.uv,h=this.points.length,c=this.frame.u0,v=this.frame.v0,d=this.frame.u1,m=this.frame.v1,y=(d-c)/(h-1),T=(m-v)/(h-1),C=0;C<h;C++){var R=C*4,A,P,O,b;this.horizontal?(this._flipX?(A=d-C*y,O=d-C*y):(A=c+C*y,O=c+C*y),this._flipY?(P=m,b=v):(P=v,b=m)):(this._flipX?(A=c,O=d):(A=d,O=c),this._flipY?(P=m-C*T,b=m-C*T):(P=v+C*T,b=v+C*T)),l[R+0]=A,l[R+1]=P,l[R+2]=O,l[R+3]=b}return this},resizeArrays:function(l){var h=this.colors,c=this.alphas;this.vertices=new Float32Array(l*4),this.uv=new Float32Array(l*4),h=new Uint32Array(l*2),c=new Float32Array(l*2);for(var v=0;v<l*2;v++)h[v]=16777215,c[v]=1;return this.colors=h,this.alphas=c,this.dirty=!0,this},updateVertices:function(){var l=this._perp,h=this.points,c=this.vertices,v=h.length;if(this.dirty=!1,!(v<1)){for(var d,m=h[0],y=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,T=0;T<v;T++){var C=h[T],R=T*4;T<v-1?d=h[T+1]:d=C,l.x=d.y-m.y,l.y=-(d.x-m.x);var A=l.length();l.x/=A,l.y/=A,l.x*=y,l.y*=y,c[R]=C.x+l.x,c[R+1]=C.y+l.y,c[R+2]=C.x-l.x,c[R+3]=C.y-l.y,m=C}return this}},setDebug:function(l,h){return this.debugGraphic=l,!l&&!h?this.debugCallback=null:h?this.debugCallback=h:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(l,h,c){var v=l.debugGraphic,d=c[0],m=c[1],y=c[2],T=c[3];v.lineBetween(d,m,y,T);for(var C=4;C<h;C+=4){var R=c[C+0],A=c[C+1],P=c[C+2],O=c[C+3];v.lineBetween(d,m,R,A),v.lineBetween(y,T,P,O),v.lineBetween(y,T,R,A),v.lineBetween(R,A,P,O),d=R,m=A,y=P,T=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(l){return this._flipX=l,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(l){return this._flipY=l,this.updateUVs()}}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),u=t(31),s=t(0),a=t(11),n=t(22),i=t(15),r=t(458),f=t(6),l=t(202),h=t(1088),c=t(459),v=new s({Extends:i,Mixins:[a.Alpha,a.BlendMode,a.ComputedSize,a.Crop,a.Depth,a.Flip,a.GetBounds,a.Mask,a.Origin,a.Pipeline,a.ScrollFactor,a.Tint,a.Transform,a.Visible,h],initialize:function(m,y,T,C,R){y===void 0&&(y=0),T===void 0&&(T=0),i.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(y,T),this.setOrigin(0,0),this.initPipeline(),this.canvas=u.create(this),this.context=this.canvas.getContext("2d"),this.style=new c(this,R),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=m.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(C),R&&R.padding&&this.setPadding(R.padding),R&&R.lineSpacing&&this.setLineSpacing(R.lineSpacing),m.sys.game.events.on(n.CONTEXT_RESTORED,function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",e(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(d){var m=this.style;if(m.wordWrapCallback){var y=m.wordWrapCallback.call(m.wordWrapCallbackScope,d,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(d,this.context,this.style.wordWrapWidth):this.basicWordWrap(d,this.context,this.style.wordWrapWidth):d},advancedWordWrap:function(d,m,y){for(var T="",C=d.replace(/ +/gi," ").split(this.splitRegExp),R=C.length,A=0;A<R;A++){var P=C[A],O="";P=P.replace(/^ *|\s*$/gi,"");var b=m.measureText(P).width;if(b<y){T+=P+`
`;continue}for(var D=y,N=P.split(" "),B=0;B<N.length;B++){var U=N[B],G=U+" ",W=m.measureText(G).width;if(W>D){if(B===0){for(var $=G;$.length&&($=$.slice(0,-1),W=m.measureText($).width,!(W<=D)););if(!$.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");var q=U.substr($.length);N[B]=q,O+=$}var _=N[B].length?B:B+1,V=N.slice(_).join(" ").replace(/[ \n]*$/gi,"");C[A+1]=V+" "+(C[A+1]||""),R=C.length;break}else O+=G,D-=W}T+=O.replace(/[ \n]*$/gi,"")+`
`}return T=T.replace(/[\s|\n]*$/gi,""),T},basicWordWrap:function(d,m,y){for(var T="",C=d.split(this.splitRegExp),R=C.length-1,A=m.measureText(" ").width,P=0;P<=R;P++){for(var O=y,b=C[P].split(" "),D=b.length-1,N=0;N<=D;N++){var B=b[N],U=m.measureText(B).width,G=U;N<D&&(G+=A),G>O&&N>0&&(T+=`
`,O=y),T+=B,N<D?(T+=" ",O-=G):O-=U}P<R&&(T+=`
`)}return T},getWrappedText:function(d){d===void 0&&(d=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(d);return m.split(this.splitRegExp)},setText:function(d){return!d&&d!==0&&(d=""),Array.isArray(d)&&(d=d.join(`
`)),d!==this._text&&(this._text=d.toString(),this.updateText()),this},setStyle:function(d){return this.style.setStyle(d)},setFont:function(d){return this.style.setFont(d)},setFontFamily:function(d){return this.style.setFontFamily(d)},setFontSize:function(d){return this.style.setFontSize(d)},setFontStyle:function(d){return this.style.setFontStyle(d)},setFixedSize:function(d,m){return this.style.setFixedSize(d,m)},setBackgroundColor:function(d){return this.style.setBackgroundColor(d)},setFill:function(d){return this.style.setFill(d)},setColor:function(d){return this.style.setColor(d)},setStroke:function(d,m){return this.style.setStroke(d,m)},setShadow:function(d,m,y,T,C,R){return this.style.setShadow(d,m,y,T,C,R)},setShadowOffset:function(d,m){return this.style.setShadowOffset(d,m)},setShadowColor:function(d){return this.style.setShadowColor(d)},setShadowBlur:function(d){return this.style.setShadowBlur(d)},setShadowStroke:function(d){return this.style.setShadowStroke(d)},setShadowFill:function(d){return this.style.setShadowFill(d)},setWordWrapWidth:function(d,m){return this.style.setWordWrapWidth(d,m)},setWordWrapCallback:function(d,m){return this.style.setWordWrapCallback(d,m)},setAlign:function(d){return this.style.setAlign(d)},setResolution:function(d){return this.style.setResolution(d)},setLineSpacing:function(d){return this.lineSpacing=d,this.updateText()},setPadding:function(d,m,y,T){if(typeof d=="object"){var C=d,R=f(C,"x",null);R!==null?(d=R,y=R):(d=f(C,"left",0),y=f(C,"right",d));var A=f(C,"y",null);A!==null?(m=A,T=A):(m=f(C,"top",0),T=f(C,"bottom",m))}else d===void 0&&(d=0),m===void 0&&(m=d),y===void 0&&(y=d),T===void 0&&(T=m);return this.padding.left=d,this.padding.top=m,this.padding.right=y,this.padding.bottom=T,this.updateText()},setMaxLines:function(d){return this.style.setMaxLines(d)},updateText:function(){var d=this.canvas,m=this.context,y=this.style,T=y.resolution,C=y.metrics;y.syncFont(d,m);var R=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(R=this.runWordWrap(this._text));var A=R.split(this.splitRegExp),P=r(this,C,A),O=this.padding,b;y.fixedWidth===0?(this.width=P.width+O.left+O.right,b=P.width):(this.width=y.fixedWidth,b=this.width-O.left-O.right,b<P.width&&(b=P.width)),y.fixedHeight===0?this.height=P.height+O.top+O.bottom:this.height=y.fixedHeight;var D=this.width,N=this.height;this.updateDisplayOrigin(),D*=T,N*=T,D=Math.max(D,1),N=Math.max(N,1),d.width!==D||d.height!==N?(d.width=D,d.height=N,this.frame.setSize(D,N),y.syncFont(d,m)):m.clearRect(0,0,D,N),m.save(),m.scale(T,T),y.backgroundColor&&(m.fillStyle=y.backgroundColor,m.fillRect(0,0,D,N)),y.syncStyle(d,m),m.textBaseline="alphabetic",m.translate(O.left,O.top);for(var B,U,G=0;G<P.lines;G++){if(B=y.strokeThickness/2,U=y.strokeThickness/2+G*P.lineHeight+C.ascent,G>0&&(U+=P.lineSpacing*G),y.rtl)B=D-B;else if(y.align==="right")B+=b-P.lineWidths[G];else if(y.align==="center")B+=(b-P.lineWidths[G])/2;else if(y.align==="justify"){var W=.85;if(P.lineWidths[G]/P.width>=W){var $=P.width-P.lineWidths[G],q=m.measureText(" ").width,_=A[G].trim(),V=_.split(" ");$+=(A[G].length-_.length)*q;for(var w=Math.floor($/q),z=0;w>0;)V[z]+=" ",z=(z+1)%(V.length-1||1),--w;A[G]=V.join(" ")}}this.autoRound&&(B=Math.round(B),U=Math.round(U)),y.strokeThickness&&(this.style.syncShadow(m,y.shadowStroke),m.strokeText(A[G],B,U)),y.color&&(this.style.syncShadow(m,y.shadowFill),m.fillText(A[G],B,U))}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var Y=this.input;return Y&&!Y.customHitArea&&(Y.hitArea.width=this.width,Y.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(d){this.setText(d)}},toJSON:function(){var d=a.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return d.data=m,d},preDestroy:function(){this.style.rtl&&l(this.canvas),u.remove(this.canvas),this.texture.destroy()}});o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(0),s=t(11),a=t(22),n=t(15),i=t(361),r=t(192),f=t(1091),l=t(3),h=8,c=new u({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Tint,s.Transform,s.Visible,f],initialize:function(d,m,y,T,C,R,A){var P=d.sys.renderer;n.call(this,d,"TileSprite");var O=d.sys.textures.get(R),b=O.get(A);!T||!C?(T=b.width,C=b.height):(T=Math.floor(T),C=Math.floor(C)),this._tilePosition=new l,this._tileScale=new l(1,1),this.dirty=!1,this.renderer=P,this.canvas=e.create(this,T,C),this.context=this.canvas.getContext("2d"),this.displayTexture=O,this.displayFrame=b,this._crop=this.resetCropObject(),this.texture=d.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=i(b.width),this.potHeight=i(b.height),this.fillCanvas=e.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d"),this.fillPattern=null,this.setPosition(m,y),this.setSize(T,C),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),d.sys.game.events.on(a.CONTEXT_RESTORED,function(D){if(D){var N=D.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=D.createTexture2D(0,N.LINEAR,N.LINEAR,N.REPEAT,N.REPEAT,N.RGBA,this.fillCanvas,this.potWidth,this.potHeight)}},this)},setTexture:function(v,d){return this.displayTexture=this.scene.sys.textures.get(v),this.setFrame(d)},setFrame:function(v){var d=this.displayTexture.get(v);return this.potWidth=i(d.width),this.potHeight=i(d.height),this.canvas.width=0,!d.cutWidth||!d.cutHeight?this.renderFlags&=~h:this.renderFlags|=h,this.displayFrame=d,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(v,d){return v!==void 0&&(this.tilePositionX=v),d!==void 0&&(this.tilePositionY=d),this},setTileScale:function(v,d){return v===void 0&&(v=this.tileScaleX),d===void 0&&(d=v),this.tileScaleX=v,this.tileScaleY=d,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var v=this.displayFrame;if(v.source.isRenderTexture||v.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var d=this.fillContext,m=this.fillCanvas,y=this.potWidth,T=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=v.cutWidth,T=v.cutHeight),d.clearRect(0,0,y,T),m.width=y,m.height=T,d.drawImage(v.source.image,v.cutX,v.cutY,v.cutWidth,v.cutHeight,0,0,y,T),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=d.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var v=this.canvas;if((v.width!==this.width||v.height!==this.height)&&(v.width=this.width,v.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var d=this.context;this.scene.sys.game.config.antialias||r.disable(d);var m=this._tileScale.x,y=this._tileScale.y,T=this._tilePosition.x,C=this._tilePosition.y;d.clearRect(0,0,this.width,this.height),d.save(),d.scale(m,y),d.translate(-T,-C),d.fillStyle=this.fillPattern,d.fillRect(T,C,this.width/m,this.height/y),d.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),e.remove(this.canvas),e.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(v){this._tilePosition.x=v,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(v){this._tilePosition.y=v,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(v){this._tileScale.x=v,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(v){this._tileScale.y=v,this.dirty=!0}}});o.exports=c},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(18),s=t(11),a=t(75),n=t(22),i=t(51),r=t(15),f=t(70),l=t(222),h=t(1094),c=t(14),v=new e({Extends:r,Mixins:[s.Alpha,s.BlendMode,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScrollFactor,s.Size,s.TextureCrop,s.Tint,s.Transform,s.Visible,h],initialize:function(m,y,T,C){r.call(this,m,"Video"),this.video=null,this.videoTexture=null,this.videoTextureSource=null,this.snapshotTexture=null,this.flipY=!1,this._key=l(),this.touchLocked=!0,this.playWhenUnlocked=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={play:this.playHandler.bind(this),error:this.loadErrorHandler.bind(this),end:this.completeHandler.bind(this),time:this.timeUpdateHandler.bind(this),seeking:this.seekingHandler.bind(this),seeked:this.seekedHandler.bind(this)},this._crop=this.resetCropObject(),this.markers={},this._markerIn=-1,this._markerOut=c.MAX_SAFE_INTEGER,this._lastUpdate=0,this._cacheKey="",this._isSeeking=!1,this.removeVideoElementOnDestroy=!1,this.setPosition(y,T),this.initPipeline(),C&&this.changeSource(C,!1);var R=m.sys.game.events;R.on(n.PAUSE,this.globalPause,this),R.on(n.RESUME,this.globalResume,this);var A=m.sys.sound;A&&A.on(f.GLOBAL_MUTE,this.globalMute,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},play:function(d,m,y){if(this.touchLocked&&this.playWhenUnlocked||this.isPlaying())return this;var T=this.video;if(!T)return console.warn("Video not loaded"),this;d===void 0&&(d=T.loop);var C=this.scene.sys.sound;C&&C.mute&&this.setMute(!0),isNaN(m)||(this._markerIn=m),!isNaN(y)&&y>m&&(this._markerOut=y),T.loop=d;var R=this._callbacks,A=T.play();return A!==void 0?A.then(this.playPromiseSuccessHandler.bind(this)).catch(this.playPromiseErrorHandler.bind(this)):(T.addEventListener("playing",R.play,!0),T.readyState<2&&(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval))),T.addEventListener("ended",R.end,!0),T.addEventListener("timeupdate",R.time,!0),T.addEventListener("seeking",R.seeking,!0),T.addEventListener("seeked",R.seeked,!0),this},changeSource:function(d,m,y,T,C){m===void 0&&(m=!0);var R=this.video;R&&this.stop();var A=this.scene.sys.cache.video.get(d);return A?(this.video=A,this._cacheKey=d,this._codePaused=A.paused,this._codeMuted=A.muted,this.videoTexture?(this.scene.sys.textures.remove(this._key),this.videoTexture=this.scene.sys.textures.create(this._key,A,A.videoWidth,A.videoHeight),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,A.videoWidth,A.videoHeight),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,A.videoWidth,A.videoHeight)):this.updateTexture(),A.currentTime=0,this._lastUpdate=0,m&&this.play(y,T,C)):this.video=null,this},addMarker:function(d,m,y){return!isNaN(m)&&m>=0&&!isNaN(y)&&(this.markers[d]=[m,y]),this},playMarker:function(d,m){var y=this.markers[d];return y&&this.play(m,y[0],y[1]),this},removeMarker:function(d){return delete this.markers[d],this},snapshot:function(d,m){return d===void 0&&(d=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,d,m)},snapshotArea:function(d,m,y,T,C,R){d===void 0&&(d=0),m===void 0&&(m=0),y===void 0&&(y=this.width),T===void 0&&(T=this.height),C===void 0&&(C=y),R===void 0&&(R=T);var A=this.video,P=this.snapshotTexture;return P?(P.setSize(C,R),A&&P.context.drawImage(A,d,m,y,T,0,0,C,R)):(P=this.scene.sys.textures.createCanvas(l(),C,R),this.snapshotTexture=P,A&&P.context.drawImage(A,d,m,y,T,0,0,C,R)),P.update()},saveSnapshotTexture:function(d){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,d):this.snapshotTexture=this.scene.sys.textures.createCanvas(d,this.width,this.height),this.snapshotTexture},loadURL:function(d,m,y){y===void 0&&(y=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var T=document.createElement("video");return T.controls=!1,y&&(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")),T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.addEventListener("error",this._callbacks.error,!0),T.src=d,T.load(),this.video=T,this},loadMediaStream:function(d,m,y){y===void 0&&(y=!1),this.video&&this.stop(),this.videoTexture&&this.scene.sys.textures.remove(this._key);var T=document.createElement("video");T.controls=!1,y&&(T.muted=!0,T.defaultMuted=!0,T.setAttribute("autoplay","autoplay")),T.setAttribute("playsinline","playsinline"),T.setAttribute("preload","auto"),T.addEventListener("error",this._callbacks.error,!0);try{T.srcObject=d}catch{T.src=window.URL.createObjectURL(d)}return T.load(),this.video=T,this},playPromiseSuccessHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn)},playPromiseErrorHandler:function(d){this.scene.sys.input.once(i.POINTER_DOWN,this.unlockHandler,this),this.touchLocked=!0,this.playWhenUnlocked=!0,this.emit(a.VIDEO_ERROR,this,d)},playHandler:function(){this._codePaused=!1,this.touchLocked=!1,this.emit(a.VIDEO_PLAY,this),this.video.removeEventListener("playing",this._callbacks.play,!0)},loadErrorHandler:function(d){this.stop(),this.emit(a.VIDEO_ERROR,this,d)},unlockHandler:function(){this.touchLocked=!1,this.playWhenUnlocked=!1,this.emit(a.VIDEO_UNLOCKED,this),this._markerIn>-1&&(this.video.currentTime=this._markerIn),this.video.play(),this.emit(a.VIDEO_PLAY,this)},completeHandler:function(){this.emit(a.VIDEO_COMPLETE,this)},timeUpdateHandler:function(){this.video&&this.video.currentTime<this._lastUpdate&&(this.emit(a.VIDEO_LOOP,this),this._lastUpdate=0)},preUpdate:function(){var d=this.video;if(d){var m=d.currentTime;m!==this._lastUpdate&&(this._lastUpdate=m,this.updateTexture(),m>=this._markerOut&&(d.loop?(d.currentTime=this._markerIn,this.updateTexture(),this._lastUpdate=m,this.emit(a.VIDEO_LOOP,this)):(this.emit(a.VIDEO_COMPLETE,this),this.stop())))}},checkVideoProgress:function(){this.video.readyState>=2?this.updateTexture():(this.retry--,this.retry>0?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):this.emit(a.VIDEO_TIMEOUT,this))},updateTexture:function(){var d=this.video,m=d.videoWidth,y=d.videoHeight;if(!this.videoTexture)this.videoTexture=this.scene.sys.textures.create(this._key,d,m,y),this.videoTextureSource=this.videoTexture.source[0],this.videoTexture.add("__BASE",0,0,0,m,y),this.setTexture(this.videoTexture),this.setSizeToFrame(),this.updateDisplayOrigin(),this.emit(a.VIDEO_CREATED,this,m,y);else{var T=this.videoTextureSource;T.source!==d&&(T.source=d,T.width=m,T.height=y),T.update()}},getVideoKey:function(){return this._cacheKey},seekTo:function(d){var m=this.video;if(m){var y=m.duration;if(y!==1/0&&!isNaN(y)){var T=y*d;this.setCurrentTime(T)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(d){var m=this.video;if(m){if(typeof d=="string"){var y=d[0],T=parseFloat(d.substr(1));y==="+"?d=m.currentTime+T:y==="-"&&(d=m.currentTime-T)}m.currentTime=d,this._lastUpdate=d}return this},isSeeking:function(){return this._isSeeking},seekingHandler:function(){this._isSeeking=!0,this.emit(a.VIDEO_SEEKING,this)},seekedHandler:function(){this._isSeeking=!1,this.emit(a.VIDEO_SEEKED,this);var d=this.video;d&&this.updateTexture()},getProgress:function(){var d=this.video;if(d){var m=d.currentTime,y=d.duration;if(y!==1/0&&!isNaN(y))return m/y}return 0},getDuration:function(){return this.video?this.video.duration:0},setMute:function(d){d===void 0&&(d=!0),this._codeMuted=d;var m=this.video;return m&&(m.muted=this._systemMuted?!0:d),this},isMuted:function(){return this._codeMuted},globalMute:function(d,m){this._systemMuted=m;var y=this.video;y&&(y.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&this.video.pause()},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&this.video.play()},setPaused:function(d){d===void 0&&(d=!0);var m=this.video;return this._codePaused=d,m&&(d?m.paused||m.pause():d||m.paused&&!this._systemPaused&&m.play()),this},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(d){return d===void 0&&(d=1),this.video&&(this.video.volume=u(d,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(d){return this.video&&(this.video.playbackRate=d),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(d){return d===void 0&&(d=!0),this.video&&(this.video.loop=d),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(d,m){return m===void 0&&(m=!1),this.videoTexture&&this.scene.sys.textures.renameTexture(this._key,d),this._key=d,this.flipY=m,this.videoTextureSource&&this.videoTextureSource.setFlipY(m),this.videoTexture},stop:function(){var d=this.video;if(d){var m=this._callbacks;for(var y in m)d.removeEventListener(y,m[y],!0);d.pause()}return this._retryID&&window.clearTimeout(this._retryID),this.emit(a.VIDEO_STOP,this),this},removeVideoElement:function(){var d=this.video;if(d){for(d.parentNode&&d.parentNode.removeChild(d);d.hasChildNodes();)d.removeChild(d.firstChild);d.removeAttribute("autoplay"),d.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(),this.removeVideoElementOnDestroy&&this.removeVideoElement();var d=this.scene.sys.game.events;d.off(n.PAUSE,this.globalPause,this),d.off(n.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(f.GLOBAL_MUTE,this.globalMute,this),this._retryID&&window.clearTimeout(this._retryID)}});o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(228),s=t(470),a=t(56),n=new e({initialize:function(r){this.type=a.POLYGON,this.area=0,this.points=[],r&&this.setTo(r)},contains:function(i,r){return u(this,i,r)},setTo:function(i){if(this.area=0,this.points=[],typeof i=="string"&&(i=i.split(" ")),!Array.isArray(i))return this;for(var r,f=Number.MAX_VALUE,l=0;l<i.length;l++)r={x:0,y:0},typeof i[l]=="number"||typeof i[l]=="string"?(r.x=parseFloat(i[l]),r.y=parseFloat(i[l+1]),l++):Array.isArray(i[l])?(r.x=i[l][0],r.y=i[l][1]):(r.x=i[l].x,r.y=i[l].y),this.points.push(r),r.y<f&&(f=r.y);return this.calculateArea(f),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var i=0,r,f,l=0;l<this.points.length-1;l++)r=this.points[l],f=this.points[l+1],i+=(f.x-r.x)*(r.y+f.y);return r=this.points[0],f=this.points[this.points.length-1],i+=(r.x-f.x)*(f.y+r.y),this.area=-i*.5,this.area},getPoints:function(i,r,f){return s(this,i,r,f)}});o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){for(var a=!1,n=-1,i=e.points.length-1;++n<e.points.length;i=n){var r=e.points[n].x,f=e.points[n].y,l=e.points[i].x,h=e.points[i].y;(f<=s&&s<h||h<=s&&s<f)&&u<(l-r)*(s-f)/(h-f)+r&&(a=!a)}return a};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(15),a=t(2),n=t(17),i=t(478),r=t(1176),f=t(25),l=new e({Extends:s,Mixins:[u.ComputedSize,u.Depth,u.GetBounds,u.Mask,u.Origin,u.ScrollFactor,u.Transform,u.Visible,r],initialize:function(c,v,d,m,y,T,C,R){d===void 0&&(d=0),m===void 0&&(m=0),y===void 0&&(y=128),T===void 0&&(T=128),s.call(this,c,"Shader"),this.blendMode=-1,this.shader;var A=c.sys.renderer;this.renderer=A,this.gl=A.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=A.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new f,this._tempMatrix2=new f,this._tempMatrix3=new f,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=A.width,this._rendererHeight=A.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(d,m),this.setSize(y,T),this.setOrigin(.5,.5),this.setShader(v,C,R)},willRender:function(h){return this.renderToTexture?!0:!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},setRenderToTexture:function(h,c){if(c===void 0&&(c=!1),!this.renderToTexture){var v=this.width,d=this.height,m=this.renderer;this.glTexture=m.createTextureFromSource(null,v,d,0),this.glTexture.flipY=c,this.framebuffer=m.createFramebuffer(v,d,this.glTexture,!1),this._rendererWidth=v,this._rendererHeight=d,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),h&&(this.texture=this.scene.sys.textures.addGLTexture(h,this.glTexture,v,d))}return this.shader&&(m.pipelines.clear(),this.load(),this.flush(),m.pipelines.rebind()),this},setShader:function(h,c,v){if(c===void 0&&(c=[]),typeof h=="string"){var d=this.scene.sys.cache.shader;if(!d.has(h))return console.warn("Shader missing: "+h),this;this.shader=d.get(h)}else this.shader=h;var m=this.gl,y=this.renderer;this.program&&m.deleteProgram(this.program);var T=y.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);m.uniformMatrix4fv(m.getUniformLocation(T,"uViewMatrix"),!1,this.viewMatrix),m.uniformMatrix4fv(m.getUniformLocation(T,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(T,"uResolution"),this.width,this.height),this.program=T;var C=new Date,R={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[C.getFullYear(),C.getMonth(),C.getDate(),C.getHours()*60*60+C.getMinutes()*60+C.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=n(!0,{},this.shader.uniforms,R):this.uniforms=R;for(var A=0;A<4;A++)c[A]&&this.setSampler2D("iChannel"+A,c[A],A,v);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(h){return this.pointer=h,this},projOrtho:function(h,c,v,d){var m=-1e3,y=1e3,T=1/(h-c),C=1/(v-d),R=1/(m-y),A=this.projectionMatrix;A[0]=-2*T,A[5]=-2*C,A[10]=2*R,A[12]=(h+c)*T,A[13]=(d+v)*C,A[14]=(y+m)*R;var P=this.program,O=this.gl,b=this.renderer;b.setProgram(P),O.uniformMatrix4fv(O.getUniformLocation(P,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=c,this._rendererHeight=v},initUniforms:function(){var h=this.gl,c=this.renderer.glFuncMap,v=this.program;this._textureCount=0;for(var d in this.uniforms){var m=this.uniforms[d],y=m.type,T=c[y];m.uniformLocation=h.getUniformLocation(v,d),y!=="sampler2D"&&(m.glMatrix=T.matrix,m.glValueLength=T.length,m.glFunc=T.func)}},setSampler2DBuffer:function(h,c,v,d,m,y){m===void 0&&(m=0),y===void 0&&(y={});var T=this.uniforms[h];return T.value=c,y.width=v,y.height=d,T.textureData=y,this._textureCount=m,this.initSampler2D(T),this},setSampler2D:function(h,c,v,d){v===void 0&&(v=0);var m=this.scene.sys.textures;if(m.exists(c)){var y=m.getFrame(c);if(y.glTexture&&y.glTexture.isRenderTexture)return this.setSampler2DBuffer(h,y.glTexture,y.width,y.height,v,d);var T=this.uniforms[h],C=y.source;T.textureKey=c,T.source=C.image,T.value=y.glTexture,C.isGLTexture&&(d||(d={}),d.width=C.width,d.height=C.height),d&&(T.textureData=d),this._textureCount=v,this.initSampler2D(T)}return this},setUniform:function(h,c){return i(this.uniforms,h,c),this},getUniform:function(h){return a(this.uniforms,h,null)},setChannel0:function(h,c){return this.setSampler2D("iChannel0",h,0,c)},setChannel1:function(h,c){return this.setSampler2D("iChannel1",h,1,c)},setChannel2:function(h,c){return this.setSampler2D("iChannel2",h,2,c)},setChannel3:function(h,c){return this.setSampler2D("iChannel3",h,3,c)},initSampler2D:function(h){if(h.value){var c=this.gl;c.activeTexture(c.TEXTURE0+this._textureCount),c.bindTexture(c.TEXTURE_2D,h.value);var v=h.textureData;if(v&&!h.value.isRenderTexture){var d=c[a(v,"magFilter","linear").toUpperCase()],m=c[a(v,"minFilter","linear").toUpperCase()],y=c[a(v,"wrapS","repeat").toUpperCase()],T=c[a(v,"wrapT","repeat").toUpperCase()],C=c[a(v,"format","rgba").toUpperCase()];if(v.repeat&&(y=c.REPEAT,T=c.REPEAT),c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!!v.flipY),v.width){var R=a(v,"width",512),A=a(v,"height",2),P=a(v,"border",0);c.texImage2D(c.TEXTURE_2D,0,C,R,A,P,C,c.UNSIGNED_BYTE,null)}else c.texImage2D(c.TEXTURE_2D,0,C,c.RGBA,c.UNSIGNED_BYTE,h.source);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,d),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,m),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,y),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,T)}this.renderer.setProgram(this.program),c.uniform1i(h.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var h=this.gl,c=this.uniforms,v,d,m,y,T,C=0;for(var R in c)v=c[R],m=v.glFunc,d=v.glValueLength,y=v.uniformLocation,T=v.value,T!==null&&(d===1?v.glMatrix?m.call(h,y,v.transpose,T):m.call(h,y,T):d===2?m.call(h,y,T.x,T.y):d===3?m.call(h,y,T.x,T.y,T.z):d===4?m.call(h,y,T.x,T.y,T.z,T.w):v.type==="sampler2D"&&(h.activeTexture(h.TEXTURE0+C),h.bindTexture(h.TEXTURE_2D,T),h.uniform1i(y,C),C++))},load:function(h){var c=this.gl,v=this.width,d=this.height,m=this.renderer,y=this.program,T=this.viewMatrix;if(!this.renderToTexture){var C=-this._displayOriginX,R=-this._displayOriginY;T[0]=h[0],T[1]=h[1],T[4]=h[2],T[5]=h[3],T[8]=h[4],T[9]=h[5],T[12]=T[0]*C+T[4]*R,T[13]=T[1]*C+T[5]*R}c.useProgram(y),c.uniformMatrix4fv(c.getUniformLocation(y,"uViewMatrix"),!1,T),c.uniform2f(c.getUniformLocation(y,"uResolution"),this.width,this.height);var A=this.uniforms,P=A.resolution;P.value.x=v,P.value.y=d,A.time.value=m.game.loop.getDuration();var O=this.pointer;if(O){var b=A.mouse,D=O.x/v,N=1-O.y/d;b.value.x=D.toFixed(2),b.value.y=N.toFixed(2)}this.syncUniforms()},flush:function(){var h=this.width,c=this.height,v=this.program,d=this.gl,m=this.vertexBuffer,y=this.renderer,T=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(y.setFramebuffer(this.framebuffer),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT)),d.bindBuffer(d.ARRAY_BUFFER,m);var C=d.getAttribLocation(v,"inPosition");C!==-1&&(d.enableVertexAttribArray(C),d.vertexAttribPointer(C,2,d.FLOAT,!1,T,0));var R=this.vertexViewF32;R[3]=c,R[4]=h,R[5]=c,R[8]=h,R[9]=c,R[10]=h;var A=6;d.bufferSubData(d.ARRAY_BUFFER,0,this.bytes.subarray(0,A*T)),d.drawArrays(d.TRIANGLES,0,A),this.renderToTexture&&y.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var h=this.gl;h.deleteProgram(this.program),h.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(36),a=t(116),n=t(15),i=t(479),r=t(480),f=t(19),l=t(69),h=t(1179),c=t(79),v=t(39),d=t(117),m=new e({Extends:n,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.Size,u.Texture,u.Transform,u.Visible,u.ScrollFactor,h],initialize:function(T,C,R,A,P,O,b,D,N,B,U,G){C===void 0&&(C=0),R===void 0&&(R=0),A===void 0&&(A="__WHITE"),n.call(this,T,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new v,this.modelScale=new v(1,1,1),this.modelRotation=new v,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new l,this.viewPosition=new v,this.viewMatrix=new l,this.projectionMatrix=new l,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1;var W=T.sys.renderer;this.setPosition(C,R),this.setTexture(A,P),this.setSize(W.width,W.height),this.initPipeline(),this.setPerspective(W.width,W.height),O&&this.addVertices(O,b,D,N,B,U,G)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(y){return this.viewPosition.addScale(v.LEFT,y),this.dirtyCache[10]=1,this},panY:function(y){return this.viewPosition.y+=v.DOWN.y*y,this.dirtyCache[10]=1,this},panZ:function(y){return this.viewPosition.z+=y,this.dirtyCache[10]=1,this},setPerspective:function(y,T,C,R,A){return C===void 0&&(C=45),R===void 0&&(R=.01),A===void 0&&(A=1e3),this.projectionMatrix.perspective(s(C),y/T,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(y,T,C,R){return y===void 0&&(y=this.scene.sys.renderer.getAspectRatio()),T===void 0&&(T=1),C===void 0&&(C=-1e3),R===void 0&&(R=1e3),this.projectionMatrix.ortho(-y,y,-T,T,C,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(y){y.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(y,T,C,R,A,P,O,b,D){var N=this.scene.sys.cache.obj.get(y);return N&&r(N,this,T,C,R,A,P,O,b,D),this},sortByDepth:function(y,T){return y.depth-T.depth},depthSort:function(){return c(this.faces,this.sortByDepth),this},addVertex:function(y,T,C,R,A,P,O){var b=new d(y,T,C,R,A,P,O);return this.vertices.push(b),b},addFace:function(y,T,C){var R=new a(y,T,C);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(y,T,C,R,A,P,O){var b=i(y,T,C,R,A,P,O);return b&&(this.faces=this.faces.concat(b.faces),this.vertices=this.vertices.concat(b.vertices)),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(y){return this.faces[y]},getFaceAt:function(y,T,C){C===void 0&&(C=this.scene.sys.cameras.main);for(var R=f(this,C).calc,A=this.faces,P=[],O=0;O<A.length;O++){var b=A[O];b.contains(y,T,R)&&P.push(b)}return c(P,this.sortByDepth)},setDebug:function(y,T){return this.debugGraphic=y,!y&&!T?this.debugCallback=null:T?this.debugCallback=T:this.debugCallback=this.renderDebug,this},isDirty:function(){var y=this.modelPosition,T=this.modelRotation,C=this.modelScale,R=this.dirtyCache,A=y.x,P=y.y,O=y.z,b=T.x,D=T.y,N=T.z,B=C.x,U=C.y,G=C.z,W=this.getFaceCount(),$=R[0],q=R[1],_=R[2],V=R[3],w=R[4],z=R[5],Y=R[6],H=R[7],j=R[8],Z=R[9];return R[0]=A,R[1]=P,R[2]=O,R[3]=b,R[4]=D,R[5]=N,R[6]=B,R[7]=U,R[8]=G,R[9]=W,$!==A||q!==P||_!==O||V!==b||w!==D||z!==N||Y!==B||H!==U||j!==G||Z!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var y=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!y[10]&&!this.isDirty())){var T=this.width,C=this.height,R=this.viewMatrix,A=this.viewPosition;y[10]&&(R.identity(),R.translate(A),R.invert(),y[10]=0);var P=this.transformMatrix;P.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var O=A.z,b=this.faces,D=0;D<b.length;D++)b[D].transformCoordinatesLocal(P,T,C,O);this.depthSort()}},renderDebug:function(y,T){for(var C=y.debugGraphic,R=0;R<T.length;R++){var A=T[R],P=A.vertex1.tx,O=A.vertex1.ty,b=A.vertex2.tx,D=A.vertex2.ty,N=A.vertex3.tx,B=A.vertex3.ty;C.strokeTriangle(P,O,b,D,N,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null}});o.exports=m},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(50),u=function(s,a){return e(s.x,s.y,a.x,a.y)<=s.radius+a.radius};o.exports=u},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(233),s=function(a,n,i){if(i===void 0&&(i=[]),u(a,n)){var r=a.x1,f=a.y1,l=a.x2,h=a.y2,c=n.x,v=n.y,d=n.radius,m=l-r,y=h-f,T=r-c,C=f-v,R=m*m+y*y,A=2*(m*T+y*C),P=T*T+C*C-d*d,O=A*A-4*R*P,b,D;if(O===0){var N=-A/(2*R);b=r+N*m,D=f+N*y,N>=0&&N<=1&&i.push(new e(b,D))}else if(O>0){var B=(-A-Math.sqrt(O))/(2*R);b=r+B*m,D=f+B*y,B>=0&&B<=1&&i.push(new e(b,D));var U=(-A+Math.sqrt(O))/(2*R);b=r+U*m,D=f+U*y,U>=0&&U<=1&&i.push(new e(b,D))}}return i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),u=t(4),s=new u,a=function(n,i,r){if(r===void 0&&(r=s),e(i,n.x1,n.y1))return r.x=n.x1,r.y=n.y1,!0;if(e(i,n.x2,n.y2))return r.x=n.x2,r.y=n.y2,!0;var f=n.x2-n.x1,l=n.y2-n.y1,h=i.x-n.x1,c=i.y-n.y1,v=f*f+l*l,d=f,m=l;if(v>0){var y=(h*f+c*l)/v;d*=y,m*=y}r.x=n.x1+d,r.y=n.y1+m;var T=d*d+m*m;return T<=v&&d*f+m*l>=0&&e(i,r.x,r.y)};o.exports=a},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(96),s=t(488),a=function(n,i,r){if(r===void 0&&(r=[]),s(n,i))for(var f=i.getLineA(),l=i.getLineB(),h=i.getLineC(),c=i.getLineD(),v=[new e,new e,new e,new e],d=[u(f,n,v[0]),u(l,n,v[1]),u(h,n,v[2]),u(c,n,v[3])],m=0;m<4;m++)d[m]&&r.push(v[m]);return r};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s===void 0&&(s=!1),a===void 0&&(a=[]);for(var n=e.x3-e.x1,i=e.y3-e.y1,r=e.x2-e.x1,f=e.y2-e.y1,l=n*n+i*i,h=n*r+i*f,c=r*r+f*f,v=l*c-h*h,d=v===0?0:1/v,m,y,T,C,R,A,P=e.x1,O=e.y1,b=0;b<u.length&&(T=u[b].x-P,C=u[b].y-O,R=n*T+i*C,A=r*T+f*C,m=(c*R-h*A)*d,y=(l*A-h*R)*d,!(m>=0&&y>=0&&m+y<1&&(a.push({x:u[b].x,y:u[b].y}),s)));b++);return a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=Math.cos(a),i=Math.sin(a),r=e.x1-u,f=e.y1-s;return e.x1=r*n-f*i+u,e.y1=r*i+f*n+s,r=e.x2-u,f=e.y2-s,e.x2=r*n-f*i+u,e.y2=r*i+f*n+s,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height===0?NaN:e.width/e.height};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=Math.cos(a),i=Math.sin(a),r=e.x1-u,f=e.y1-s;return e.x1=r*n-f*i+u,e.y1=r*i+f*n+s,r=e.x2-u,f=e.y2-s,e.x2=r*n-f*i+u,e.y2=r*i+f*n+s,r=e.x3-u,f=e.y3-s,e.x3=r*n-f*i+u,e.y3=r*i+f*n+s,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BUTTON_DOWN:t(1310),BUTTON_UP:t(1311),CONNECTED:t(1312),DISCONNECTED:t(1313),GAMEPAD_BUTTON_DOWN:t(1314),GAMEPAD_BUTTON_UP:t(1315)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=t(156),s=function(a,n){var i=a===void 0?u():e({},a);if(n)for(var r in n)n[r]!==void 0&&(i[r]=n[r]);return i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=t(408),f=new e({Extends:s,initialize:function(h,c,v,d){var m="xml";if(i(c)){var y=c;c=n(y,"key"),v=n(y,"url"),d=n(y,"xhrSettings"),m=n(y,"extension",m)}var T={type:"xml",cache:h.cacheManager.xml,extension:m,responseType:"text",key:c,url:v,xhrSettings:d};s.call(this,h,T)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=r(this.xhrLoader.responseText),this.data?this.onProcessComplete():(console.warn("Invalid XMLFile: "+this.key),this.onProcessError())}});a.register("xml",function(l,h,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new f(this,l[v]));else this.addFile(new f(this,l,h,c));return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v){var d="text",m="txt",y=l.cacheManager.text;if(i(h)){var T=h;h=n(T,"key"),c=n(T,"url"),v=n(T,"xhrSettings"),m=n(T,"extension",m),d=n(T,"type",d),y=n(T,"cache",y)}var C={type:d,cache:y,extension:m,responseType:"text",key:h,url:c,xhrSettings:v};s.call(this,l,C)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("text",function(f,l,h){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,l,h));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Acceleration:t(1368),Angular:t(1369),Bounce:t(1370),Debug:t(1371),Drag:t(1372),Enable:t(1373),Friction:t(1374),Gravity:t(1375),Immovable:t(1376),Mass:t(1377),OverlapCirc:t(523),OverlapRect:t(244),Pushable:t(1378),Size:t(1379),Velocity:t(1380)}},function(o,x){var t=function(e,u,s,a,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var f=[],l=[],h=e.treeMinMax;if(h.minX=u,h.minY=s,h.maxX=u+a,h.maxY=s+n,r&&(l=e.staticTree.search(h)),i&&e.useTree)f=e.tree.search(h);else if(i){var c=e.bodies,v={position:{x:u,y:s},left:u,top:s,right:u+a,bottom:s+n,isCircle:!1},d=e.intersects;c.iterate(function(m){d(m,v)&&f.push(m)})}return l.concat(f)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={COLLIDE:t(1381),OVERLAP:t(1382),PAUSE:t(1383),RESUME:t(1384),TILE_COLLIDE:t(1385),TILE_OVERLAP:t(1386),WORLD_BOUNDS:t(1387),WORLD_STEP:t(1388)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),u=function(s,a,n,i){var r=0,f=s.deltaAbsX()+a.deltaAbsX()+i;return s._dx===0&&a._dx===0?(s.embedded=!0,a.embedded=!0):s._dx>a._dx?(r=s.right-a.x,r>f&&!n||s.checkCollision.right===!1||a.checkCollision.left===!1?r=0:(s.touching.none=!1,s.touching.right=!0,a.touching.none=!1,a.touching.left=!0,a.physicsType===e.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.right=!0),s.physicsType===e.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.left=!0))):s._dx<a._dx&&(r=s.x-a.width-a.x,-r>f&&!n||s.checkCollision.left===!1||a.checkCollision.right===!1?r=0:(s.touching.none=!1,s.touching.left=!0,a.touching.none=!1,a.touching.right=!0,a.physicsType===e.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.left=!0),s.physicsType===e.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.right=!0))),s.overlapX=r,a.overlapX=r,r};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),u=function(s,a,n,i){var r=0,f=s.deltaAbsY()+a.deltaAbsY()+i;return s._dy===0&&a._dy===0?(s.embedded=!0,a.embedded=!0):s._dy>a._dy?(r=s.bottom-a.y,r>f&&!n||s.checkCollision.down===!1||a.checkCollision.up===!1?r=0:(s.touching.none=!1,s.touching.down=!0,a.touching.none=!1,a.touching.up=!0,a.physicsType===e.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.down=!0),s.physicsType===e.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.up=!0))):s._dy<a._dy&&(r=s.y-a.bottom,-r>f&&!n||s.checkCollision.up===!1||a.checkCollision.down===!1?r=0:(s.touching.none=!1,s.touching.up=!0,a.touching.none=!1,a.touching.down=!0,a.physicsType===e.STATIC_BODY&&!n&&(s.blocked.none=!1,s.blocked.up=!0),s.physicsType===e.STATIC_BODY&&!n&&(a.blocked.none=!1,a.blocked.down=!0))),s.overlapY=r,a.overlapY=r,r};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return!(u.right<=e.left||u.bottom<=e.top||u.position.x>=e.right||u.position.y>=e.bottom)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Bounce:t(1495),Collision:t(1496),Force:t(1497),Friction:t(1498),Gravity:t(1499),Mass:t(1500),Sensor:t(1501),SetBody:t(1502),Sleep:t(1503),Static:t(1520),Transform:t(1521),Velocity:t(1522)}},function(o,x){var t={};o.exports=t,function(){t.create=function(e,u){var s=e.bodyA,a=e.bodyB,n={id:t.id(s,a),bodyA:s,bodyB:a,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:s.isSensor||a.isSensor,timeCreated:u,timeUpdated:u,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return t.update(n,e,u),n},t.update=function(e,u,s){if(e.collision=u,u.collided){var a=u.supports,n=e.activeContacts,i=u.parentA,r=u.parentB;e.inverseMass=i.inverseMass+r.inverseMass,e.friction=Math.min(i.friction,r.friction),e.frictionStatic=Math.max(i.frictionStatic,r.frictionStatic),e.restitution=Math.max(i.restitution,r.restitution),e.slop=Math.max(i.slop,r.slop);for(var f=0;f<a.length;f++)n[f]=a[f].contact;var l=a.length;l<n.length&&(n.length=l),e.separation=u.depth,t.setActive(e,!0,s)}else e.isActive===!0&&t.setActive(e,!1,s)},t.setActive=function(e,u,s){u?(e.isActive=!0,e.timeUpdated=s):(e.isActive=!1,e.activeContacts.length=0)},t.id=function(e,u){return e.id<u.id?"A"+e.id+"B"+u.id:"A"+u.id+"B"+e.id}}()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CalculateFacesAt:t(252),CalculateFacesWithin:t(63),CheckIsoBounds:t(541),Copy:t(1420),CreateFromTiles:t(1421),CullBounds:t(543),CullTiles:t(544),Fill:t(1422),FilterTiles:t(1423),FindByIndex:t(1424),FindTile:t(1425),ForEachTile:t(1426),GetCullTilesFunction:t(1427),GetTileAt:t(158),GetTileAtWorldXY:t(1428),GetTilesWithin:t(26),GetTilesWithinShape:t(1429),GetTilesWithinWorldXY:t(529),GetTileToWorldXFunction:t(1430),GetTileToWorldXYFunction:t(1431),GetTileToWorldYFunction:t(1432),GetWorldToTileXFunction:t(1433),GetWorldToTileXYFunction:t(1434),GetWorldToTileYFunction:t(1435),HasTileAt:t(562),HasTileAtWorldXY:t(1436),HexagonalCullBounds:t(546),HexagonalCullTiles:t(545),HexagonalTileToWorldXY:t(550),HexagonalTileToWorldY:t(554),HexagonalWorldToTileXY:t(556),HexagonalWorldToTileY:t(560),IsInLayerBounds:t(119),IsometricCullTiles:t(547),IsometricTileToWorldXY:t(551),IsometricWorldToTileXY:t(557),PutTileAt:t(257),PutTileAtWorldXY:t(1437),PutTilesAt:t(1438),Randomize:t(1439),RemoveTileAt:t(563),RemoveTileAtWorldXY:t(1440),RenderDebug:t(1441),ReplaceByIndex:t(542),RunCull:t(159),SetCollision:t(1442),SetCollisionBetween:t(1443),SetCollisionByExclusion:t(1444),SetCollisionByProperty:t(1445),SetCollisionFromCollisionGroup:t(1446),SetLayerCollisionIndex:t(160),SetTileCollision:t(72),SetTileIndexCallback:t(1447),SetTileLocationCallback:t(1448),Shuffle:t(1449),StaggeredCullBounds:t(549),StaggeredCullTiles:t(548),StaggeredTileToWorldXY:t(552),StaggeredTileToWorldY:t(555),StaggeredWorldToTileXY:t(558),StaggeredWorldToTileY:t(561),SwapByIndex:t(1450),TileToWorldX:t(253),TileToWorldXY:t(553),TileToWorldY:t(254),WeightedRandomize:t(1451),WorldToTileX:t(255),WorldToTileXY:t(559),WorldToTileY:t(256)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),u=function(s,a,n){var i=e(s,a,!0,n),r=e(s,a-1,!0,n),f=e(s,a+1,!0,n),l=e(s-1,a,!0,n),h=e(s+1,a,!0,n),c=i&&i.collides;return c&&(i.faceTop=!0,i.faceBottom=!0,i.faceLeft=!0,i.faceRight=!0),r&&r.collides&&(c&&(i.faceTop=!1),r.faceBottom=!c),f&&f.collides&&(c&&(i.faceBottom=!1),f.faceTop=!c),l&&l.collides&&(c&&(i.faceLeft=!1),l.faceRight=!c),h&&h.collides&&(c&&(i.faceRight=!1),h.faceLeft=!c),i&&!i.collides&&i.resetFaces(),i};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=s.baseTileWidth,n=s.tilemapLayer,i=0;return n&&(u||(u=n.scene.cameras.main),i=n.x+u.scrollX*(1-n.scrollFactorX),a*=n.scaleX),i+e*a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=s.baseTileHeight,n=s.tilemapLayer,i=0;return n&&(u||(u=n.scene.cameras.main),i=n.y+u.scrollY*(1-n.scrollFactorY),a*=n.scaleY),i+e*a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u===void 0&&(u=!0);var n=a.baseTileWidth,i=a.tilemapLayer;return i&&(s||(s=i.scene.cameras.main),e=e-(i.x+s.scrollX*(1-i.scrollFactorX)),n*=i.scaleX),u?Math.floor(e/n):e/n};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u===void 0&&(u=!0);var n=a.baseTileHeight,i=a.tilemapLayer;return i&&(s||(s=i.scene.cameras.main),e=e-(i.y+s.scrollY*(1-i.scrollFactorY)),n*=i.scaleY),u?Math.floor(e/n):e/n};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),u=t(119),s=t(252),a=t(72),n=function(i,r,f,l,h){if(l===void 0&&(l=!0),!u(r,f,h))return null;var c=h.data[f][r],v=c&&c.collides;if(i instanceof e)h.data[f][r]===null&&(h.data[f][r]=new e(h,i.index,r,f,h.tileWidth,h.tileHeight)),h.data[f][r].copy(i);else{var d=i;h.data[f][r]===null?h.data[f][r]=new e(h,d,r,f,h.tileWidth,h.tileHeight):h.data[f][r].index=d}var m=h.data[f][r],y=h.collideIndexes.indexOf(m.index)!==-1;return a(m,y),l&&v!==m.collides&&s(r,f,h),m};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=function(s){return s=s.toLowerCase(),s==="isometric"?e.ISOMETRIC:s==="staggered"?e.STAGGERED:s==="hexagonal"?e.HEXAGONAL:e.ORTHOGONAL};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(120),s=t(121),a=t(85),n=function(i,r,f,l,h){for(var c=new u({tileWidth:f,tileHeight:l}),v=new s({name:i,tileWidth:f,tileHeight:l,format:e.ARRAY_2D,layers:[c]}),d=[],m=r.length,y=0,T=0;T<r.length;T++){d[T]=[];for(var C=r[T],R=0;R<C.length;R++){var A=parseInt(C[R],10);isNaN(A)||A===-1?d[T][R]=h?null:new a(c,-1,R,T,f,l):d[T][R]=new a(c,A,R,T,f,l)}y===0&&(y=C.length)}return v.width=c.width=y,v.height=c.height=m,v.widthInPixels=c.widthInPixels=y*f,v.heightInPixels=c.heightInPixels=m*l,c.data=d,v};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(571),u=t(261),s=function(i){return{x:i.x,y:i.y}},a=["id","name","type","rotation","properties","visible","x","y","width","height"],n=function(i,r,f){r===void 0&&(r=0),f===void 0&&(f=0);var l=e(i,a);if(l.x+=r,l.y+=f,i.gid){var h=u(i.gid);l.gid=h.gid,l.flippedHorizontal=h.flippedHorizontal,l.flippedVertical=h.flippedVertical,l.flippedAntiDiagonal=h.flippedAntiDiagonal}else i.polyline?l.polyline=i.polyline.map(s):i.polygon?l.polygon=i.polygon.map(s):i.ellipse?l.ellipse=i.ellipse:i.text?l.text=i.text:i.point?l.point=!0:l.rectangle=!0;return l};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=2147483648,e=1073741824,u=536870912,s=function(a){var n=!!(a&t),i=!!(a&e),r=!!(a&u);a=a&~(t|e|u);var f=0,l=!1;return n&&i&&r?(f=Math.PI/2,l=!0):n&&i&&!r?(f=Math.PI,l=!1):n&&!i&&r?(f=Math.PI/2,l=!1):n&&!i&&!r?(f=0,l=!0):!n&&i&&r?(f=3*Math.PI/2,l=!1):!n&&i&&!r?(f=Math.PI,l=!0):!n&&!i&&r?(f=3*Math.PI/2,l=!0):!n&&!i&&!r&&(f=0,l=!1),{gid:a,flippedHorizontal:n,flippedVertical:i,flippedAntiDiagonal:r,rotation:f,flipped:l}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(121),s=t(564),a=t(580),n=function(i,r,f,l,h,c,v,d){f===void 0&&(f=32),l===void 0&&(l=32),h===void 0&&(h=10),c===void 0&&(c=10),d===void 0&&(d=!1);var m=null;if(Array.isArray(v)){var y=r!==void 0?r:"map";m=s(y,e.ARRAY_2D,v,f,l,d)}else if(r!==void 0){var T=i.cache.tilemap.get(r);T?m=s(r,T.format,T.data,f,l,d):console.warn("No map data found for key "+r)}return m===null&&(m=new u({tileWidth:f,tileHeight:l,width:h,height:c})),new a(i,m)};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=function(s){var a=e(s,"targets",null);return a===null||(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a])),a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(n){return!!n.getActive&&typeof n.getActive=="function"}function e(n){return!!n.getStart&&typeof n.getStart=="function"}function u(n){return!!n.getEnd&&typeof n.getEnd=="function"}function s(n){return e(n)||u(n)||t(n)}var a=function(n,i){var r,f=function(A,P,O){return O},l=function(A,P,O){return O},h=null,c=typeof i;if(c==="number")f=function(){return i};else if(c==="string"){var v=i[0],d=parseFloat(i.substr(2));switch(v){case"+":f=function(A,P,O){return O+d};break;case"-":f=function(A,P,O){return O-d};break;case"*":f=function(A,P,O){return O*d};break;case"/":f=function(A,P,O){return O/d};break;default:f=function(){return parseFloat(i)}}}else if(c==="function")f=i;else if(c==="object")if(s(i))t(i)&&(h=i.getActive),u(i)&&(f=i.getEnd),e(i)&&(l=i.getStart);else if(i.hasOwnProperty("value"))r=a(n,i.value);else{var m=i.hasOwnProperty("to"),y=i.hasOwnProperty("from"),T=i.hasOwnProperty("start");if(m&&(y||T)){if(r=a(n,i.to),T){var C=a(n,i.start);r.getActive=C.getEnd}if(y){var R=a(n,i.from);r.getStart=R.getEnd}}}return r||(r={getActive:h,getEnd:f,getStart:l}),r};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),s=t(267),a=t(16),n=t(5),i=t(100),r=t(14),f=new e({Extends:u,initialize:function(h,c,v){u.call(this),this.parent=h,this.parentIsTimeline=h.hasOwnProperty("isTimeline"),this.data=c,this.totalData=c.length,this.targets=v,this.totalTargets=v.length,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.startDelay=0,this.hasStarted=!1,this.isSeeking=!1,this.completeDelay=0,this.countdown=0,this.offset=0,this.calculatedOffset=0,this.state=i.PENDING_ADD,this._pausedState=i.INIT,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onActive:null,onComplete:null,onLoop:null,onRepeat:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope},getValue:function(l){return l===void 0&&(l=0),this.data[l].current},setTimeScale:function(l){return this.timeScale=l,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===i.ACTIVE},isPaused:function(){return this.state===i.PAUSED},hasTarget:function(l){return this.targets.indexOf(l)!==-1},updateTo:function(l,h,c){c===void 0&&(c=!1);for(var v=0;v<this.totalData;v++){var d=this.data[v];d.key===l&&(d.end=h,c&&(d.start=d.current))}return this},restart:function(){return this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0,this.state===i.ACTIVE?this.seek(0):this.state===i.REMOVED?(this.seek(0),this.parent.makeActive(this),this):this.state===i.PENDING_ADD?this:this.play()},calcDuration:function(){for(var l=0,h=r.MAX_SAFE_INTEGER,c=this.data,v=0;v<this.totalData;v++){var d=c[v];d.t1=d.duration+d.hold,d.yoyo&&(d.t1+=d.duration),d.t2=d.t1+d.repeatDelay,d.totalDuration=d.delay+d.t1,d.repeat===-1?d.totalDuration+=d.t2*999999999999:d.repeat>0&&(d.totalDuration+=d.t2*d.repeat),d.totalDuration>l&&(l=d.totalDuration),d.delay<h&&(h=d.delay)}this.duration=Math.max(l,.001),this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay,this.startDelay=h},init:function(){if(this.paused&&!this.parentIsTimeline)return this.state=i.PENDING_ADD,this._pausedState=i.INIT,!1;for(var l=this.data,h=this.totalTargets,c=0;c<this.totalData;c++){var v=l[c],d=v.target,m=v.gen,y=v.key,T=v.index;v.delay=m.delay(d,y,0,T,h,this),v.duration=Math.max(m.duration(d,y,0,T,h,this),.001),v.hold=m.hold(d,y,0,T,h,this),v.repeat=m.repeat(d,y,0,T,h,this),v.repeatDelay=m.repeatDelay(d,y,0,T,h,this)}return this.calcDuration(),this.progress=0,this.totalProgress=0,this.elapsed=0,this.totalElapsed=0,this.state=i.INIT,!0},makeActive:function(){this.parent.makeActive(this),this.dispatchTweenEvent(s.TWEEN_ACTIVE,this.callbacks.onActive)},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=i.LOOP_DELAY):(this.state=i.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=i.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete))},pause:function(){return this.state===i.PAUSED?this:(this.paused=!0,this._pausedState=this.state,this.state=i.PAUSED,this)},play:function(l){l===void 0&&(l=!1);var h=this.state;return h===i.INIT&&!this.parentIsTimeline?(this.resetTweenData(!1),this.state=i.ACTIVE,this):h===i.ACTIVE||h===i.PENDING_ADD&&this._pausedState===i.PENDING_ADD?this:!this.parentIsTimeline&&(h===i.PENDING_REMOVE||h===i.REMOVED)?(this.seek(0),this.parent.makeActive(this),this):(this.parentIsTimeline?(this.resetTweenData(l),this.calculatedOffset===0?this.state=i.ACTIVE:(this.countdown=this.calculatedOffset,this.state=i.OFFSET_DELAY)):this.paused?(this.paused=!1,this.makeActive()):(this.resetTweenData(l),this.state=i.ACTIVE,this.makeActive()),this)},resetTweenData:function(l){for(var h=this.data,c=this.totalData,v=this.totalTargets,d=0;d<c;d++){var m=h[d],y=m.target,T=m.key,C=m.index;m.progress=0,m.elapsed=0,m.repeatCounter=m.repeat===-1?999999999999:m.repeat,l?(m.start=m.getStartValue(y,T,m.start,C,v,this),m.end=m.getEndValue(y,T,m.end,C,v,this),m.current=m.start,m.state=i.PLAYING_FORWARD):m.state=i.PENDING_RENDER,m.delay>0&&(m.elapsed=m.delay,m.state=i.DELAY),m.getActiveValue&&(y[T]=m.getActiveValue(m.target,m.key,m.start))}},resume:function(){return this.state===i.PAUSED?(this.paused=!1,this.state=this._pausedState):this.play(),this},seek:function(l,h){h===void 0&&(h=16.6),this.state===i.REMOVED&&this.makeActive(),this.elapsed=0,this.progress=0,this.totalElapsed=0,this.totalProgress=0;for(var c=this.data,v=this.totalTargets,d=0;d<this.totalData;d++){var m=c[d],y=m.target,T=m.gen,C=m.key,R=m.index;m.progress=0,m.elapsed=0,m.repeatCounter=m.repeat===-1?999999999999:m.repeat,m.delay=T.delay(y,C,0,R,v,this),m.duration=Math.max(T.duration(y,C,0,R,v,this),.001),m.hold=T.hold(y,C,0,R,v,this),m.repeat=T.repeat(y,C,0,R,v,this),m.repeatDelay=T.repeatDelay(y,C,0,R,v,this),m.current=m.start,m.state=i.PLAYING_FORWARD,this.updateTweenData(this,m,0,R,v),m.delay>0&&(m.elapsed=m.delay,m.state=i.DELAY)}this.calcDuration();var A=!1;this.state===i.PAUSED&&(A=!0,this.state=i.ACTIVE),this.isSeeking=!0;do this.update(0,h);while(this.totalProgress<l);return this.isSeeking=!1,A&&(this.state=i.PAUSED),this},setCallback:function(l,h,c,v){return this.callbacks[l]={func:h,scope:v,params:c},this},complete:function(l){return l===void 0&&(l=0),l?(this.state=i.COMPLETE_DELAY,this.countdown=l):(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete)),this},remove:function(){return this.parent.remove(this),this},stop:function(l){return this.state===i.ACTIVE&&l!==void 0&&this.seek(l),this.state!==i.REMOVED&&((this.state===i.PAUSED||this.state===i.PENDING_ADD)&&(this.parentIsTimeline?(this.parent.manager._destroy.push(this),this.parent.manager._toProcess++):(this.parent._destroy.push(this),this.parent._toProcess++)),this.dispatchTweenEvent(s.TWEEN_STOP,this.callbacks.onStop),this.removeAllListeners(),this.state=i.PENDING_REMOVE),this},update:function(l,h){if(this.state===i.PAUSED)return!1;switch(this.useFrames&&(h=1*this.parent.timeScale),h*=this.timeScale,this.elapsed+=h,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=h,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case i.ACTIVE:!this.hasStarted&&!this.isSeeking&&(this.startDelay-=h,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchTweenEvent(s.TWEEN_START,this.callbacks.onStart)));for(var c=!1,v=0;v<this.totalData;v++){var d=this.data[v];this.updateTweenData(this,d,h)&&(c=!0)}c||this.nextState();break;case i.LOOP_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=i.ACTIVE,this.dispatchTweenEvent(s.TWEEN_LOOP,this.callbacks.onLoop));break;case i.OFFSET_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=i.ACTIVE);break;case i.COMPLETE_DELAY:this.countdown-=h,this.countdown<=0&&(this.state=i.PENDING_REMOVE,this.dispatchTweenEvent(s.TWEEN_COMPLETE,this.callbacks.onComplete));break}return this.state===i.PENDING_REMOVE},dispatchTweenDataEvent:function(l,h,c){this.isSeeking||(this.emit(l,this,c.key,c.target,c.current,c.previous),h&&(h.params[1]=c.target,h.func.apply(h.scope,h.params)))},dispatchTweenEvent:function(l,h){this.isSeeking||(this.emit(l,this,this.targets),h&&(h.params[1]=this.targets,h.func.apply(h.scope,h.params)))},setStateFromEnd:function(l,h,c){return h.yoyo?(h.elapsed=c,h.progress=c/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),this.dispatchTweenDataEvent(s.TWEEN_YOYO,l.callbacks.onYoyo,h),h.start=h.getStartValue(h.target,h.key,h.start,h.index,l.totalTargets,l),i.PLAYING_BACKWARD):h.repeatCounter>0?(h.repeatCounter--,h.elapsed=c,h.progress=c/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.start=h.getStartValue(h.target,h.key,h.start,h.index,l.totalTargets,l),h.end=h.getEndValue(h.target,h.key,h.start,h.index,l.totalTargets,l),h.repeatDelay>0?(h.elapsed=h.repeatDelay-c,h.current=h.start,h.target[h.key]=h.current,i.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,l.callbacks.onRepeat,h),i.PLAYING_FORWARD)):i.COMPLETE},setStateFromStart:function(l,h,c){return h.repeatCounter>0?(h.repeatCounter--,h.elapsed=c,h.progress=c/h.duration,h.flipX&&h.target.toggleFlipX(),h.flipY&&h.target.toggleFlipY(),h.end=h.getEndValue(h.target,h.key,h.start,h.index,l.totalTargets,l),h.repeatDelay>0?(h.elapsed=h.repeatDelay-c,h.current=h.start,h.target[h.key]=h.current,i.REPEAT_DELAY):(this.dispatchTweenDataEvent(s.TWEEN_REPEAT,l.callbacks.onRepeat,h),i.PLAYING_FORWARD)):i.COMPLETE},updateTweenData:function(l,h,c){var v=h.target;switch(h.state){case i.PLAYING_FORWARD:case i.PLAYING_BACKWARD:if(!v){h.state=i.COMPLETE;break}var d=h.elapsed,m=h.duration,y=0;d+=c,d>m&&(y=d-m,d=m);var T=h.state===i.PLAYING_FORWARD,C=d/m;if(h.elapsed=d,h.progress=C,h.previous=h.current,C===1)T?(h.current=h.end,v[h.key]=h.end,h.hold>0?(h.elapsed=h.hold-y,h.state=i.HOLD_DELAY):h.state=this.setStateFromEnd(l,h,y)):(h.current=h.start,v[h.key]=h.start,h.state=this.setStateFromStart(l,h,y));else{var R=T?h.ease(C):h.ease(1-C);h.current=h.start+(h.end-h.start)*R,v[h.key]=h.current}this.dispatchTweenDataEvent(s.TWEEN_UPDATE,l.callbacks.onUpdate,h);break;case i.DELAY:h.elapsed-=c,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=i.PENDING_RENDER);break;case i.REPEAT_DELAY:h.elapsed-=c,h.elapsed<=0&&(h.elapsed=Math.abs(h.elapsed),h.state=i.PLAYING_FORWARD,this.dispatchTweenDataEvent(s.TWEEN_REPEAT,l.callbacks.onRepeat,h));break;case i.HOLD_DELAY:h.elapsed-=c,h.elapsed<=0&&(h.state=this.setStateFromEnd(l,h,Math.abs(h.elapsed)));break;case i.PENDING_RENDER:v?(h.start=h.getStartValue(v,h.key,v[h.key],h.index,l.totalTargets,l),h.end=h.getEndValue(v,h.key,h.start,h.index,l.totalTargets,l),h.current=h.start,v[h.key]=h.start,h.state=i.PLAYING_FORWARD):h.state=i.COMPLETE;break}return h.state!==i.COMPLETE}});f.TYPES=["onActive","onComplete","onLoop","onRepeat","onStart","onStop","onUpdate","onYoyo"],n.register("tween",function(l){return this.scene.sys.tweens.add(l)}),a.register("tween",function(l){return this.scene.sys.tweens.create(l)}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={TIMELINE_COMPLETE:t(1466),TIMELINE_LOOP:t(1467),TIMELINE_PAUSE:t(1468),TIMELINE_RESUME:t(1469),TIMELINE_START:t(1470),TIMELINE_UPDATE:t(1471),TWEEN_ACTIVE:t(1472),TWEEN_COMPLETE:t(1473),TWEEN_LOOP:t(1474),TWEEN_REPEAT:t(1475),TWEEN_START:t(1476),TWEEN_STOP:t(1477),TWEEN_UPDATE:t(1478),TWEEN_YOYO:t(1479)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n,i,r,f,l,h,c,v,d,m,y){return{target:e,index:u,key:s,getActiveValue:i,getEndValue:a,getStartValue:n,ease:r,duration:0,totalDuration:0,delay:0,yoyo:h,hold:0,repeat:0,repeatDelay:0,flipX:m,flipY:y,progress:0,elapsed:0,repeatCounter:0,start:0,previous:0,current:0,end:0,t1:0,t2:0,gen:{delay:f,duration:l,hold:c,repeat:v,repeatDelay:d},state:0}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),u=function(s){return e(s,-Math.PI,Math.PI)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),u=function(s){return e(s,-180,180)};o.exports=u},function(o,x,t){var e={};o.exports=e;var u=t(83),s=t(32);(function(){e.fromVertices=function(a){for(var n={},i=0;i<a.length;i++){var r=(i+1)%a.length,f=u.normalise({x:a[r].y-a[i].y,y:a[i].x-a[r].x}),l=f.y===0?1/0:f.x/f.y;l=l.toFixed(3).toString(),n[l]=f}return s.values(n)},e.rotate=function(a,n){if(n!==0)for(var i=Math.cos(n),r=Math.sin(n),f=0;f<a.length;f++){var l=a[f],h;h=l.x*i-l.y*r,l.y=l.x*r+l.y*i,l.x=h}}})()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AFTER_ADD:t(1504),AFTER_REMOVE:t(1505),AFTER_UPDATE:t(1506),BEFORE_ADD:t(1507),BEFORE_REMOVE:t(1508),BEFORE_UPDATE:t(1509),COLLISION_ACTIVE:t(1510),COLLISION_END:t(1511),COLLISION_START:t(1512),DRAG_END:t(1513),DRAG:t(1514),DRAG_START:t(1515),PAUSE:t(1516),RESUME:t(1517),SLEEP_END:t(1518),SLEEP_START:t(1519)}},function(o,x,t){var e={};o.exports=e;var u=t(274),s=t(250),a=t(84);(function(){e.collisions=function(n,i){for(var r=[],f=i.pairs.table,l=i.metrics,h=0;h<n.length;h++){var c=n[h][0],v=n[h][1];if(!((c.isStatic||c.isSleeping)&&(v.isStatic||v.isSleeping))&&e.canCollide(c.collisionFilter,v.collisionFilter)&&(l.midphaseTests+=1,a.overlaps(c.bounds,v.bounds)))for(var d=c.parts.length>1?1:0;d<c.parts.length;d++)for(var m=c.parts[d],y=v.parts.length>1?1:0;y<v.parts.length;y++){var T=v.parts[y];if(m===c&&T===v||a.overlaps(m.bounds,T.bounds)){var C=s.id(m,T),R=f[C],A;R&&R.isActive?A=R.collision:A=null;var P=u.collides(m,T,A);l.narrowphaseTests+=1,P.reused&&(l.narrowReuseCount+=1),P.collided&&(r.push(P),l.narrowDetections+=1)}}}return r},e.canCollide=function(n,i){return n.group===i.group&&n.group!==0?n.group>0:(n.mask&i.category)!==0&&(i.mask&n.category)!==0}})()},function(o,x,t){var e={};o.exports=e;var u=t(64),s=t(83);(function(){e.collides=function(a,n,i){var r,f,l,h,c=!1;if(i){var v=a.parent,d=n.parent,m=v.speed*v.speed+v.angularSpeed*v.angularSpeed+d.speed*d.speed+d.angularSpeed*d.angularSpeed;c=i&&i.collided&&m<.2,h=i}else h={collided:!1,bodyA:a,bodyB:n};if(i&&c){var y=h.axisBody,T=y===a?n:a,C=[y.axes[i.axisNumber]];if(l=e._overlapAxes(y.vertices,T.vertices,C),h.reused=!0,l.overlap<=0)return h.collided=!1,h}else{if(r=e._overlapAxes(a.vertices,n.vertices,a.axes),r.overlap<=0||(f=e._overlapAxes(n.vertices,a.vertices,n.axes),f.overlap<=0))return h.collided=!1,h;r.overlap<f.overlap?(l=r,h.axisBody=a):(l=f,h.axisBody=n),h.axisNumber=l.axisNumber}h.bodyA=a.id<n.id?a:n,h.bodyB=a.id<n.id?n:a,h.collided=!0,h.depth=l.overlap,h.parentA=h.bodyA.parent,h.parentB=h.bodyB.parent,a=h.bodyA,n=h.bodyB,s.dot(l.axis,s.sub(n.position,a.position))<0?h.normal={x:l.axis.x,y:l.axis.y}:h.normal={x:-l.axis.x,y:-l.axis.y},h.tangent=s.perp(h.normal),h.penetration=h.penetration||{},h.penetration.x=h.normal.x*h.depth,h.penetration.y=h.normal.y*h.depth;var R=e._findSupports(a,n,h.normal),A=[];if(u.contains(a.vertices,R[0])&&A.push(R[0]),u.contains(a.vertices,R[1])&&A.push(R[1]),A.length<2){var P=e._findSupports(n,a,s.neg(h.normal));u.contains(n.vertices,P[0])&&A.push(P[0]),A.length<2&&u.contains(n.vertices,P[1])&&A.push(P[1])}return A.length<1&&(A=[R[0]]),h.supports=A,h},e._overlapAxes=function(a,n,i){for(var r=s._temp[0],f=s._temp[1],l={overlap:Number.MAX_VALUE},h,c,v=0;v<i.length;v++){if(c=i[v],e._projectToAxis(r,a,c),e._projectToAxis(f,n,c),h=Math.min(r.max-f.min,f.max-r.min),h<=0)return l.overlap=h,l;h<l.overlap&&(l.overlap=h,l.axis=c,l.axisNumber=v)}return l},e._projectToAxis=function(a,n,i){for(var r=s.dot(n[0],i),f=r,l=1;l<n.length;l+=1){var h=s.dot(n[l],i);h>f?f=h:h<r&&(r=h)}a.min=r,a.max=f},e._findSupports=function(a,n,i){for(var r=Number.MAX_VALUE,f=s._temp[0],l=n.vertices,h=a.position,c,v,d,m,y=0;y<l.length;y++)v=l[y],f.x=v.x-h.x,f.y=v.y-h.y,c=-s.dot(i,f),c<r&&(r=c,d=v);var T=d.index-1>=0?d.index-1:l.length-1;v=l[T],f.x=v.x-h.x,f.y=v.y-h.y,r=-s.dot(i,f),m=v;var C=(d.index+1)%l.length;return v=l[C],f.x=v.x-h.x,f.y=v.y-h.y,c=-s.dot(i,f),c<r&&(m=v),[d,m]}})()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AlignTo:t(601),Angle:t(602),Call:t(603),GetFirst:t(604),GetLast:t(605),GridAlign:t(606),IncAlpha:t(678),IncX:t(679),IncXY:t(680),IncY:t(681),PlaceOnCircle:t(682),PlaceOnEllipse:t(683),PlaceOnLine:t(684),PlaceOnRectangle:t(685),PlaceOnTriangle:t(686),PlayAnimation:t(687),PropertyValueInc:t(46),PropertyValueSet:t(27),RandomCircle:t(688),RandomEllipse:t(689),RandomLine:t(690),RandomRectangle:t(691),RandomTriangle:t(692),Rotate:t(693),RotateAround:t(694),RotateAroundDistance:t(695),ScaleX:t(696),ScaleXY:t(697),ScaleY:t(698),SetAlpha:t(699),SetBlendMode:t(700),SetDepth:t(701),SetHitArea:t(702),SetOrigin:t(703),SetRotation:t(704),SetScale:t(705),SetScaleX:t(706),SetScaleY:t(707),SetScrollFactor:t(708),SetScrollFactorX:t(709),SetScrollFactorY:t(710),SetTint:t(711),SetVisible:t(712),SetX:t(713),SetXY:t(714),SetY:t(715),ShiftPosition:t(716),Shuffle:t(717),SmootherStep:t(718),SmoothStep:t(719),Spread:t(720),ToggleVisible:t(721),WrapInRectangle:t(722)}},function(o,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),u=[];u[e.BOTTOM_CENTER]=t(277),u[e.BOTTOM_LEFT]=t(278),u[e.BOTTOM_RIGHT]=t(279),u[e.LEFT_BOTTOM]=t(280),u[e.LEFT_CENTER]=t(281),u[e.LEFT_TOP]=t(282),u[e.RIGHT_BOTTOM]=t(283),u[e.RIGHT_CENTER]=t(284),u[e.RIGHT_TOP]=t(285),u[e.TOP_CENTER]=t(286),u[e.TOP_LEFT]=t(287),u[e.TOP_RIGHT]=t(288);var s=function(a,n,i,r,f){return u[i](a,n,r,f)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(87),s=t(88),a=t(52),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),s(i,u(r)+f),a(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(43),s=t(53),a=t(52),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),s(i,u(r)-f),a(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(44),s=t(54),a=t(52),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),s(i,u(r)+f),a(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(43),s=t(55),a=t(54),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)-f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),u=t(43),s=t(90),a=t(54),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)-f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),u=t(45),s=t(54),a=t(52),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),s(i,e(r)-f),a(i,u(r)-l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(44),s=t(55),a=t(53),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)+f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),u=t(44),s=t(90),a=t(53),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)+f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),u=t(45),s=t(53),a=t(52),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),s(i,e(r)+f),a(i,u(r)-l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),u=t(45),s=t(55),a=t(88),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,e(r)+f),s(i,u(r)-l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),u=t(45),s=t(55),a=t(53),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,e(r)-f),s(i,u(r)-l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),u=t(45),s=t(55),a=t(54),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,e(r)+f),s(i,u(r)-l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),u=[];u[e.BOTTOM_CENTER]=t(290),u[e.BOTTOM_LEFT]=t(291),u[e.BOTTOM_RIGHT]=t(292),u[e.CENTER]=t(293),u[e.LEFT_CENTER]=t(295),u[e.RIGHT_CENTER]=t(296),u[e.TOP_CENTER]=t(297),u[e.TOP_LEFT]=t(298),u[e.TOP_RIGHT]=t(299),u[e.LEFT_BOTTOM]=u[e.BOTTOM_LEFT],u[e.LEFT_TOP]=u[e.TOP_LEFT],u[e.RIGHT_BOTTOM]=u[e.BOTTOM_RIGHT],u[e.RIGHT_TOP]=u[e.TOP_RIGHT];var s=function(a,n,i,r,f){return u[i](a,n,r,f)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(87),s=t(55),a=t(88),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)+f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(43),s=t(55),a=t(53),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)-f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(44),s=t(55),a=t(54),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)+f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(294),u=t(87),s=t(89),a=function(n,i,r,f){return r===void 0&&(r=0),f===void 0&&(f=0),e(n,u(i)+r,s(i)+f),n};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(88),u=t(90),s=function(a,n,i){return e(a,n),u(a,i)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),u=t(43),s=t(90),a=t(53),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)-f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(89),u=t(44),s=t(90),a=t(54),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),a(i,u(r)+f),s(i,e(r)+l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(87),u=t(45),s=t(88),a=t(52),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),s(i,e(r)+f),a(i,u(r)-l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(43),u=t(45),s=t(53),a=t(52),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),s(i,e(r)-f),a(i,u(r)-l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(44),u=t(45),s=t(54),a=t(52),n=function(i,r,f,l){return f===void 0&&(f=0),l===void 0&&(l=0),s(i,e(r)+f),a(i,u(r)-l),i};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(169),u=t(98),s=t(14),a=t(4),n=function(i,r,f){f===void 0&&(f=new a);var l=u(r,0,s.PI2);return e(i,l,f)};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(302),u=t(169),s=t(98),a=t(14),n=function(i,r,f,l){l===void 0&&(l=[]),!r&&f>0&&(r=e(i)/f);for(var h=0;h<r;h++){var c=s(h/r,0,a.PI2);l.push(u(i,c))}return l};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 2*(Math.PI*e.radius)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=2,s={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a){return a===void 0&&(a=1),this.alpha=a,this},alpha:{get:function(){return this._alpha},set:function(a){var n=e(a,0,1);this._alpha=n,n===0?this.renderFlags&=~u:this.renderFlags|=u}}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u={_blendMode:e.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(s){typeof s=="string"&&(s=e[s]),s|=0,s>=-1&&(this._blendMode=s)}},setBlendMode:function(s){return this.blendMode=s,this}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_depth:0,depth:{get:function(){return this._depth},set:function(e){this.displayList&&this.displayList.queueDepthSort(),this._depth=e}},setDepth:function(e){return e===void 0&&(e=0),this.depth=e,this}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(171),u=t(130),s=function(a,n,i,r){r===void 0&&(r=[]),!n&&i>0&&(n=u(a)/i);for(var f=0;f<n;f++){var l=f/n;r.push(e(a,l))}return r};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a,n){return n===void 0&&(n=new e),n.x=s.x1+(s.x2-s.x1)*a,n.y=s.y1+(s.y2-s.y1)*a,n};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=Math.cos(a),i=Math.sin(a),r=e.x-u,f=e.y-s;return e.x=r*n-f*i+u,e.y=r*i+f*n+s,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(310),u=t(311),s={mask:null,setMask:function(a){return this.mask=a,this},clearMask:function(a){return a===void 0&&(a=!1),a&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(a){return a===void 0&&(this.texture||this.shader)&&(a=this),new e(this.scene,a)},createGeometryMask:function(a){return a===void 0&&this.type==="Graphics"&&(a=this),new u(this.scene,a)}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(22),s=t(91),a=new e({initialize:function(i,r){var f=i.sys.renderer;this.renderer=f,this.bitmapMask=r,this.maskTexture=null,this.mainTexture=null,this.dirty=!0,this.mainFramebuffer=null,this.maskFramebuffer=null,this.invertAlpha=!1,this.isStencil=!1,this.createMask(),i.sys.game.events.on(u.CONTEXT_RESTORED,this.createMask,this),f&&f.on(s.RESIZE,this.createMask,this)},createMask:function(){var n=this.renderer;if(!(!n||!n.gl)){this.mainTexture&&this.clearMask();var i=n.width,r=n.height,f=(i&i-1)===0&&(r&r-1)===0,l=n.gl,h=f?l.REPEAT:l.CLAMP_TO_EDGE,c=l.LINEAR;this.mainTexture=n.createTexture2D(0,c,c,h,h,l.RGBA,null,i,r),this.maskTexture=n.createTexture2D(0,c,c,h,h,l.RGBA,null,i,r),this.mainFramebuffer=n.createFramebuffer(i,r,this.mainTexture,!0),this.maskFramebuffer=n.createFramebuffer(i,r,this.maskTexture,!0)}},clearMask:function(){var n=this.renderer;!n||!n.gl||!this.mainTexture||(n.deleteTexture(this.mainTexture),n.deleteTexture(this.maskTexture),n.deleteFramebuffer(this.mainFramebuffer),n.deleteFramebuffer(this.maskFramebuffer),this.mainTexture=null,this.maskTexture=null,this.mainFramebuffer=null,this.maskFramebuffer=null)},setBitmap:function(n){this.bitmapMask=n},preRenderWebGL:function(n,i,r){n.pipelines.BITMAPMASK_PIPELINE.beginMask(this,i,r)},postRenderWebGL:function(n,i){n.pipelines.BITMAPMASK_PIPELINE.endMask(this,i)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.clearMask(),this.renderer&&this.renderer.off(s.RESIZE,this.createMask,this),this.bitmapMask=null,this.prevFramebuffer=null,this.renderer=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n){this.geometryMask=n,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(s){return this.geometryMask=s,this},setInvertAlpha:function(s){return s===void 0&&(s=!0),this.invertAlpha=s,this},preRenderWebGL:function(s,a,n){var i=s.gl;s.flush(),s.maskStack.length===0&&(i.enable(i.STENCIL_TEST),i.clear(i.STENCIL_BUFFER_BIT),s.maskCount=0),s.currentCameraMask.mask!==this&&(s.currentMask.mask=this),s.maskStack.push({mask:this,camera:n}),this.applyStencil(s,n,!0),s.maskCount++},applyStencil:function(s,a,n){var i=s.gl,r=this.geometryMask,f=s.maskCount;i.colorMask(!1,!1,!1,!1),n?(i.stencilFunc(i.EQUAL,f,255),i.stencilOp(i.KEEP,i.KEEP,i.INCR)):(i.stencilFunc(i.EQUAL,f+1,255),i.stencilOp(i.KEEP,i.KEEP,i.DECR)),r.renderWebGL(s,r,a),s.flush(),i.colorMask(!0,!0,!0,!0),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),n?this.invertAlpha?i.stencilFunc(i.NOTEQUAL,f+1,255):i.stencilFunc(i.EQUAL,f+1,255):this.invertAlpha?i.stencilFunc(i.NOTEQUAL,f,255):i.stencilFunc(i.EQUAL,f,255)},postRenderWebGL:function(s){var a=s.gl;s.maskStack.pop(),s.maskCount--,s.flush();var n=s.currentMask;if(s.maskStack.length===0)n.mask=null,a.disable(a.STENCIL_TEST);else{var i=s.maskStack[s.maskStack.length-1];i.mask.applyStencil(s,i.camera,!1),s.currentCameraMask.mask!==i.mask?(n.mask=i.mask,n.camera=i.camera):n.mask=null}},preRenderCanvas:function(s,a,n){var i=this.geometryMask;s.currentContext.save(),i.renderCanvas(s,i,n,null,null,!0),s.currentContext.clip()},postRenderCanvas:function(s){s.currentContext.restore()},destroy:function(){this.geometryMask=null}});o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(e,u){return u===void 0&&(u=e),this.scrollFactorX=e,this.scrollFactorY=u,this}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(25),s=t(177),a=t(269),n=t(270),i=t(3),r=4,f={_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(l){this._scaleX=l,this._scaleY=l,l===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleX:{get:function(){return this._scaleX},set:function(l){this._scaleX=l,l===0?this.renderFlags&=~r:this.renderFlags|=r}},scaleY:{get:function(){return this._scaleY},set:function(l){this._scaleY=l,l===0?this.renderFlags&=~r:this.renderFlags|=r}},angle:{get:function(){return n(this._rotation*e.RAD_TO_DEG)},set:function(l){this.rotation=n(l)*e.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(l){this._rotation=a(l)}},setPosition:function(l,h,c,v){return l===void 0&&(l=0),h===void 0&&(h=l),c===void 0&&(c=0),v===void 0&&(v=0),this.x=l,this.y=h,this.z=c,this.w=v,this},copyPosition:function(l){return l.x!==void 0&&(this.x=l.x),l.y!==void 0&&(this.y=l.y),l.z!==void 0&&(this.z=l.z),l.w!==void 0&&(this.w=l.w),this},setRandomPosition:function(l,h,c,v){return l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),this.x=l+Math.random()*c,this.y=h+Math.random()*v,this},setRotation:function(l){return l===void 0&&(l=0),this.rotation=l,this},setAngle:function(l){return l===void 0&&(l=0),this.angle=l,this},setScale:function(l,h){return l===void 0&&(l=1),h===void 0&&(h=l),this.scaleX=l,this.scaleY=h,this},setX:function(l){return l===void 0&&(l=0),this.x=l,this},setY:function(l){return l===void 0&&(l=0),this.y=l,this},setZ:function(l){return l===void 0&&(l=0),this.z=l,this},setW:function(l){return l===void 0&&(l=0),this.w=l,this},getLocalTransformMatrix:function(l){return l===void 0&&(l=new u),l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(l,h){l===void 0&&(l=new u),h===void 0&&(h=new u);var c=this.parentContainer;if(!c)return this.getLocalTransformMatrix(l);for(l.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);c;)h.applyITRS(c.x,c.y,c._rotation,c._scaleX,c._scaleY),h.multiply(l,l),c=c.parentContainer;return l},getLocalPoint:function(l,h,c,v){c||(c=new i),v||(v=this.scene.sys.cameras.main);var d=v.scrollX,m=v.scrollY,y=l+d*this.scrollFactorX-d,T=h+m*this.scrollFactorY-m;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(y,T,c):s(y,T,this.x,this.y,this.rotation,this.scaleX,this.scaleY,c),this._originComponent&&(c.x+=this._displayOriginX,c.y+=this._displayOriginY),c},getParentRotation:function(){for(var l=0,h=this.parentContainer;h;)l+=h.rotation,h=h.parentContainer;return l}};o.exports=f},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=1,e={_visible:!0,visible:{get:function(){return this._visible},set:function(u){u?(this._visible=!0,this.renderFlags|=t):(this._visible=!1,this.renderFlags&=~t)}},setVisible:function(u){return this.visible=u,this}};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CHANGE_DATA:t(638),CHANGE_DATA_KEY:t(639),DESTROY:t(640),REMOVE_DATA:t(641),SET_DATA:t(642)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(130),u=t(4),s=function(a,n,i,r){if(r===void 0&&(r=[]),!n&&!i)return r;n?i=Math.round(e(a)/n):n=e(a)/i;for(var f=a.x,l=a.y,h=0,c=0;c<i;c++)switch(r.push(new u(f,l)),h){case 0:f+=n,f>=a.right&&(h=1,l+=f-a.right,f=a.right);break;case 1:l+=n,l>=a.bottom&&(h=2,f-=l-a.bottom,l=a.bottom);break;case 2:f-=n,f<=a.left&&(h=3,l-=a.left-f,f=a.left);break;case 3:l-=n,l<=a.top&&(h=0,l=a.top);break}return r};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){u===void 0&&(u=1),s===void 0&&(s=[]);var a=Math.round(e.x1),n=Math.round(e.y1),i=Math.round(e.x2),r=Math.round(e.y2),f=Math.abs(i-a),l=Math.abs(r-n),h=a<i?1:-1,c=n<r?1:-1,v=f-l;s.push({x:a,y:n});for(var d=1;!(a===i&&n===r);){var m=v<<1;m>-l&&(v-=l,a+=h),m<f&&(v+=f,n+=c),d%u===0&&s.push({x:a,y:n}),d++}return s};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(u.length){if(u.length===1)return u[0]}else return NaN;var a=1,n,i;if(s){if(e<u[0][s])return u[0];for(;u[a][s]<e;)a++}else for(;u[a]<e;)a++;return a>u.length&&(a=u.length),s?(n=u[a-1][s],i=u[a][s],i-e<=e-n?u[a]:u[a-1]):(n=u[a-1],i=u[a],i-e<=e-n?i:n)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i,r,f){f===void 0&&(f=!1),this.textureKey=a,this.textureFrame=n,this.index=i,this.frame=r,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=f},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=/\D/g;return e.sort(function(s,a){return parseInt(s.replace(u,""),10)-parseInt(a.replace(u,""),10)}),e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(185),u=t(0),s=t(102),a=t(9),n=t(132),i=t(22),r=t(2),f=t(6),l=t(186),h=t(322),c=new u({Extends:a,initialize:function(d){a.call(this),this.game=d,this.textureManager=null,this.globalTimeScale=1,this.anims=new s,this.mixes=new s,this.paused=!1,this.name="AnimationManager",d.events.once(i.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(i.DESTROY,this.destroy,this)},addMix:function(v,d,m){var y=this.anims,T=this.mixes,C=typeof v=="string"?v:v.key,R=typeof d=="string"?d:d.key;if(y.has(C)&&y.has(R)){var A=T.get(C);A||(A={}),A[R]=m,T.set(C,A)}return this},removeMix:function(v,d){var m=this.mixes,y=typeof v=="string"?v:v.key,T=m.get(y);if(T)if(d){var C=typeof d=="string"?d:d.key;T.hasOwnProperty(C)&&delete T[C]}else d||m.delete(y);return this},getMix:function(v,d){var m=this.mixes,y=typeof v=="string"?v:v.key,T=typeof d=="string"?d:d.key,C=m.get(y);return C&&C.hasOwnProperty(T)?C[T]:0},add:function(v,d){return this.anims.has(v)?(console.warn("Animation key exists: "+v),this):(d.key=v,this.anims.set(v,d),this.emit(n.ADD_ANIMATION,v,d),this)},exists:function(v){return this.anims.has(v)},createFromAseprite:function(v,d){var m=[],y=this.game.cache.json.get(v);if(!y)return m;var T=this,C=f(y,"meta",null),R=f(y,"frames",null);if(C&&R){var A=f(C,"frameTags",[]);A.forEach(function(P){var O=[],b=r(P,"name",null),D=r(P,"from",0),N=r(P,"to",0),B=r(P,"direction","forward");if(b&&(!d||d&&d.indexOf(b)>-1)){for(var U=[],G=Number.MAX_SAFE_INTEGER,W=D;W<=N;W++){var $=W.toString(),q=R[$];if(q){var _=r(q,"duration",Number.MAX_SAFE_INTEGER);_<G&&(G=_),U.push({frame:$,duration:_})}}U.forEach(function(Y){O.push({key:v,frame:Y.frame,duration:G-Y.duration})});var V=G*O.length;B==="reverse"&&(O=O.reverse());var w={key:b,frames:O,duration:V,yoyo:B==="pingpong"},z=T.create(w);z&&m.push(z)}})}return m},create:function(v){var d=v.key,m=!1;return d&&(m=this.get(d),m||(m=new e(this,d,v),this.anims.set(d,m),this.emit(n.ADD_ANIMATION,d,m))),m},fromJSON:function(v,d){d===void 0&&(d=!1),d&&this.anims.clear(),typeof v=="string"&&(v=JSON.parse(v));var m=[];if(v.hasOwnProperty("anims")&&Array.isArray(v.anims)){for(var y=0;y<v.anims.length;y++)m.push(this.create(v.anims[y]));v.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=v.globalTimeScale)}else v.hasOwnProperty("key")&&v.type==="frame"&&m.push(this.create(v));return m},generateFrameNames:function(v,d){var m=f(d,"prefix",""),y=f(d,"start",0),T=f(d,"end",0),C=f(d,"suffix",""),R=f(d,"zeroPad",0),A=f(d,"outputArray",[]),P=f(d,"frames",!1),O=this.textureManager.get(v);if(!O)return A;var b;if(d)for(P||(P=h(y,T)),b=0;b<P.length;b++){var D=m+l(P[b],R,"0",1)+C;O.has(D)?A.push({key:v,frame:D}):console.warn("generateFrameNames: Frame missing: "+D+" from texture: "+v)}else for(P=O.getFrameNames(),b=0;b<P.length;b++)A.push({key:v,frame:P[b]});return A},generateFrameNumbers:function(v,d){var m=f(d,"start",0),y=f(d,"end",-1),T=f(d,"first",!1),C=f(d,"outputArray",[]),R=f(d,"frames",!1),A=this.textureManager.get(v);if(!A)return C;T&&A.has(T)&&C.push({key:v,frame:T}),R||(y===-1&&(y=A.frameTotal-2),R=h(m,y));for(var P=0;P<R.length;P++)A.has(R[P])?C.push({key:v,frame:R[P]}):console.warn("generateFrameNumbers: Frame "+P+" missing from texture: "+v);return C},get:function(v){return this.anims.get(v)},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(n.PAUSE_ALL)),this},play:function(v,d){Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)d[m].anims.play(v);return this},staggerPlay:function(v,d,m,y){m===void 0&&(m=0),y===void 0&&(y=!0),Array.isArray(d)||(d=[d]);var T=d.length;y||T--;for(var C=0;C<d.length;C++){var R=m<0?Math.abs(m)*(T-C):m*C;d[C].anims.playAfterDelay(v,R)}return this},remove:function(v){var d=this.get(v);return d&&(this.emit(n.REMOVE_ANIMATION,v,d),this.anims.delete(v),this.removeMix(v)),d},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(n.RESUME_ALL)),this},toJSON:function(v){var d={anims:[],globalTimeScale:this.globalTimeScale};return v!==void 0&&v!==""?d.anims.push(this.anims.get(v).toJSON()):this.anims.each(function(m,y){d.anims.push(y.toJSON())}),d},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});o.exports=c},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=[],i,r=!1;if((s||a)&&(r=!0,s||(s=""),a||(a="")),u<e)for(i=e;i>=u;i--)r?n.push(s+i.toString()+a):n.push(i);else for(i=e;i<=u;i++)r?n.push(s+i.toString()+a):n.push(i);return n};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(102),s=t(9),a=t(324),n=new e({initialize:function(){this.entries=new u,this.events=new s},add:function(i,r){return this.entries.set(i,r),this.events.emit(a.ADD,this,i,r),this},has:function(i){return this.entries.has(i)},exists:function(i){return this.entries.has(i)},get:function(i){return this.entries.get(i)},remove:function(i){var r=this.get(i);return r&&(this.entries.delete(i),this.events.emit(a.REMOVE,this,i,r.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ADD:t(736),REMOVE:t(737)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(323),u=t(0),s=t(22),a=new u({initialize:function(i){this.game=i,this.binary=new e,this.bitmapFont=new e,this.json=new e,this.physics=new e,this.shader=new e,this.audio=new e,this.video=new e,this.text=new e,this.html=new e,this.obj=new e,this.tilemap=new e,this.xml=new e,this.custom={},this.game.events.once(s.DESTROY,this.destroy,this)},addCustom:function(n){return this.custom.hasOwnProperty(n)||(this.custom[n]=new e),this.custom[n]},destroy:function(){for(var n=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],i=0;i<n.length;i++)this[n[i]].destroy(),this[n[i]]=null;for(var r in this.custom)this.custom[r].destroy();this.custom=null,this.game=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(133),u=t(190),s=t(18),a=t(0),n=t(11),i=t(333),r=t(37),f=t(135),l=t(10),h=t(3),c=new a({Extends:e,Mixins:[n.Flip,n.Tint,n.Pipeline],initialize:function(d,m,y,T){e.call(this,d,m,y,T),this.postPipelines=[],this.pipelineData={},this.inputEnabled=!0,this.fadeEffect=new i.Fade(this),this.flashEffect=new i.Flash(this),this.shakeEffect=new i.Shake(this),this.panEffect=new i.Pan(this),this.rotateToEffect=new i.RotateTo(this),this.zoomEffect=new i.Zoom(this),this.lerp=new h(1,1),this.followOffset=new h,this.deadzone=null,this._follow=null},setDeadzone:function(v,d){if(v===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=v,this.deadzone.height=d):this.deadzone=new l(0,0,v,d),this._follow){var m=this.width/2,y=this.height/2,T=this._follow.x-this.followOffset.x,C=this._follow.y-this.followOffset.y;this.midPoint.set(T,C),this.scrollX=T-m,this.scrollY=C-y}u(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(v,d,m,y,T,C){return this.fadeEffect.start(!1,v,d,m,y,!0,T,C)},fadeOut:function(v,d,m,y,T,C){return this.fadeEffect.start(!0,v,d,m,y,!0,T,C)},fadeFrom:function(v,d,m,y,T,C,R){return this.fadeEffect.start(!1,v,d,m,y,T,C,R)},fade:function(v,d,m,y,T,C,R){return this.fadeEffect.start(!0,v,d,m,y,T,C,R)},flash:function(v,d,m,y,T,C,R){return this.flashEffect.start(v,d,m,y,T,C,R)},shake:function(v,d,m,y,T){return this.shakeEffect.start(v,d,m,y,T)},pan:function(v,d,m,y,T,C,R){return this.panEffect.start(v,d,m,y,T,C,R)},rotateTo:function(v,d,m,y,T,C,R){return this.rotateToEffect.start(v,d,m,y,T,C,R)},zoomTo:function(v,d,m,y,T,C){return this.zoomEffect.start(v,d,m,y,T,C)},preRender:function(){this.renderList.length=0;var v=this.width,d=this.height,m=v*.5,y=d*.5,T=this.zoom,C=this.matrix,R=v*this.originX,A=d*this.originY,P=this._follow,O=this.deadzone,b=this.scrollX,D=this.scrollY;O&&u(O,this.midPoint.x,this.midPoint.y);var N=!1;if(P&&!this.panEffect.isRunning){var B=P.x-this.followOffset.x,U=P.y-this.followOffset.y;O?(B<O.x?b=f(b,b-(O.x-B),this.lerp.x):B>O.right&&(b=f(b,b+(B-O.right),this.lerp.x)),U<O.y?D=f(D,D-(O.y-U),this.lerp.y):U>O.bottom&&(D=f(D,D+(U-O.bottom),this.lerp.y))):(b=f(b,B-R,this.lerp.x),D=f(D,U-A,this.lerp.y)),N=!0}this.useBounds&&(b=this.clampX(b),D=this.clampY(D)),this.roundPixels&&(R=Math.round(R),A=Math.round(A),b=Math.round(b),D=Math.round(D)),this.scrollX=b,this.scrollY=D;var G=b+m,W=D+y;this.midPoint.set(G,W);var $=v/T,q=d/T,_=G-$/2,V=W-q/2;this.roundPixels&&(_=Math.round(_),V=Math.round(V)),this.worldView.setTo(_,V,$,q),C.applyITRS(this.x+R,this.y+A,this.rotation,T,T),C.translate(-R,-A),this.shakeEffect.preRender(),N&&this.emit(r.FOLLOW_UPDATE,this,P)},setLerp:function(v,d){return v===void 0&&(v=1),d===void 0&&(d=v),this.lerp.set(v,d),this},setFollowOffset:function(v,d){return v===void 0&&(v=0),d===void 0&&(d=0),this.followOffset.set(v,d),this},startFollow:function(v,d,m,y,T,C){d===void 0&&(d=!1),m===void 0&&(m=1),y===void 0&&(y=m),T===void 0&&(T=0),C===void 0&&(C=T),this._follow=v,this.roundPixels=d,m=s(m,0,1),y=s(y,0,1),this.lerp.set(m,y),this.followOffset.set(T,C);var R=this.width/2,A=this.height/2,P=v.x-T,O=v.y-C;return this.midPoint.set(P,O),this.scrollX=P-R,this.scrollY=O-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(v,d){this.visible&&(this.rotateToEffect.update(v,d),this.panEffect.update(v,d),this.zoomEffect.update(v,d),this.shakeEffect.update(v,d),this.flashEffect.update(v,d),this.fadeEffect.update(v,d))},destroy:function(){this.resetFX(),e.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});o.exports=c},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=function(s){var a=new e;s=s.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(l,h,c,v){return h+h+c+c+v+v});var n=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);if(n){var i=parseInt(n[1],16),r=parseInt(n[2],16),f=parseInt(n[3],16);a.setTo(i,r,f)}return a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){return a<<24|e<<16|u<<8|s};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){a===void 0&&(a={h:0,s:0,v:0}),e/=255,u/=255,s/=255;var n=Math.min(e,u,s),i=Math.max(e,u,s),r=i-n,f=0,l=i===0?0:r/i,h=i;return i!==n&&(i===e?f=(u-s)/r+(u<s?6:0):i===u?f=(s-e)/r+2:i===s&&(f=(e-u)/r+4),f/=6),a.hasOwnProperty("_h")?(a._h=f,a._s=l,a._v=h):(a.h=f,a.s=l,a.v=h),a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>16777215?{a:e>>>24,r:e>>16&255,g:e>>8&255,b:e&255}:{a:255,r:e>>16&255,g:e>>8&255,b:e&255}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=function(s){return new e(s.r,s.g,s.b,s.a)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=function(s){var a=new e,n=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(s.toLowerCase());if(n){var i=parseInt(n[1],10),r=parseInt(n[2],10),f=parseInt(n[3],10),l=n[4]!==void 0?parseFloat(n[4]):1;a.setTo(i,r,f,l*255)}return a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Fade:t(761),Flash:t(762),Pan:t(763),Shake:t(796),RotateTo:t(797),Zoom:t(798)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(764),Out:t(765),InOut:t(766)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(767),Out:t(768),InOut:t(769)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(770),Out:t(771),InOut:t(772)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(773),Out:t(774),InOut:t(775)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(776),Out:t(777),InOut:t(778)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(779),Out:t(780),InOut:t(781)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=t(782)},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(783),Out:t(784),InOut:t(785)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(786),Out:t(787),InOut:t(788)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(789),Out:t(790),InOut:t(791)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={In:t(792),Out:t(793),InOut:t(794)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=t(795)},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(33),s=t(347),a=t(2),n=t(6),i=t(7),r=t(193),f=t(1),l=t(197),h=t(187),c=new e({initialize:function(d){d===void 0&&(d={});var m=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],y="#ffffff";this.width=n(d,"width",1024),this.height=n(d,"height",768),this.zoom=n(d,"zoom",1),this.parent=n(d,"parent",void 0),this.scaleMode=n(d,"scaleMode",0),this.expandParent=n(d,"expandParent",!0),this.autoRound=n(d,"autoRound",!1),this.autoCenter=n(d,"autoCenter",0),this.resizeInterval=n(d,"resizeInterval",500),this.fullscreenTarget=n(d,"fullscreenTarget",null),this.minWidth=n(d,"minWidth",0),this.maxWidth=n(d,"maxWidth",0),this.minHeight=n(d,"minHeight",0),this.maxHeight=n(d,"maxHeight",0);var T=n(d,"scale",null);T&&(this.width=n(T,"width",this.width),this.height=n(T,"height",this.height),this.zoom=n(T,"zoom",this.zoom),this.parent=n(T,"parent",this.parent),this.scaleMode=n(T,"mode",this.scaleMode),this.expandParent=n(T,"expandParent",this.expandParent),this.autoRound=n(T,"autoRound",this.autoRound),this.autoCenter=n(T,"autoCenter",this.autoCenter),this.resizeInterval=n(T,"resizeInterval",this.resizeInterval),this.fullscreenTarget=n(T,"fullscreenTarget",this.fullscreenTarget),this.minWidth=n(T,"min.width",this.minWidth),this.maxWidth=n(T,"max.width",this.maxWidth),this.minHeight=n(T,"min.height",this.minHeight),this.maxHeight=n(T,"max.height",this.maxHeight)),this.renderType=n(d,"type",u.AUTO),this.canvas=n(d,"canvas",null),this.context=n(d,"context",null),this.canvasStyle=n(d,"canvasStyle",null),this.customEnvironment=n(d,"customEnvironment",!1),this.sceneConfig=n(d,"scene",null),this.seed=n(d,"seed",[(Date.now()*Math.random()).toString()]),r.RND=new r.RandomDataGenerator(this.seed),this.gameTitle=n(d,"title",""),this.gameURL=n(d,"url","https://phaser.io"),this.gameVersion=n(d,"version",""),this.autoFocus=n(d,"autoFocus",!0),this.domCreateContainer=n(d,"dom.createContainer",!1),this.domBehindCanvas=n(d,"dom.behindCanvas",!1),this.domPointerEvents=n(d,"dom.pointerEvents","none"),this.inputKeyboard=n(d,"input.keyboard",!0),this.inputKeyboardEventTarget=n(d,"input.keyboard.target",window),this.inputKeyboardCapture=n(d,"input.keyboard.capture",[]),this.inputMouse=n(d,"input.mouse",!0),this.inputMouseEventTarget=n(d,"input.mouse.target",null),this.inputMousePreventDefaultDown=n(d,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=n(d,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=n(d,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=n(d,"input.mouse.preventDefaultWheel",!0),this.inputTouch=n(d,"input.touch",s.input.touch),this.inputTouchEventTarget=n(d,"input.touch.target",null),this.inputTouchCapture=n(d,"input.touch.capture",!0),this.inputActivePointers=n(d,"input.activePointers",1),this.inputSmoothFactor=n(d,"input.smoothFactor",0),this.inputWindowEvents=n(d,"input.windowEvents",!0),this.inputGamepad=n(d,"input.gamepad",!1),this.inputGamepadEventTarget=n(d,"input.gamepad.target",window),this.disableContextMenu=n(d,"disableContextMenu",!1),this.audio=n(d,"audio",{}),this.hideBanner=n(d,"banner",null)===!1,this.hidePhaser=n(d,"banner.hidePhaser",!1),this.bannerTextColor=n(d,"banner.text",y),this.bannerBackgroundColor=n(d,"banner.background",m),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=n(d,"fps",null);var C=n(d,"render",d);this.pipeline=n(C,"pipeline",null),this.antialias=n(C,"antialias",!0),this.antialiasGL=n(C,"antialiasGL",!0),this.mipmapFilter=n(C,"mipmapFilter","LINEAR"),this.desynchronized=n(C,"desynchronized",!1),this.roundPixels=n(C,"roundPixels",!1),this.pixelArt=n(C,"pixelArt",this.zoom!==1),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=n(C,"transparent",!1),this.clearBeforeRender=n(C,"clearBeforeRender",!0),this.preserveDrawingBuffer=n(C,"preserveDrawingBuffer",!1),this.premultipliedAlpha=n(C,"premultipliedAlpha",!0),this.failIfMajorPerformanceCaveat=n(C,"failIfMajorPerformanceCaveat",!1),this.powerPreference=n(C,"powerPreference","default"),this.batchSize=n(C,"batchSize",4096),this.maxTextures=n(C,"maxTextures",-1),this.maxLights=n(C,"maxLights",10);var R=n(d,"backgroundColor",0);this.backgroundColor=h(R),this.transparent&&(this.backgroundColor=h(0),this.backgroundColor.alpha=0),this.preBoot=n(d,"callbacks.preBoot",f),this.postBoot=n(d,"callbacks.postBoot",f),this.physics=n(d,"physics",{}),this.defaultPhysicsSystem=n(this.physics,"default",!1),this.loaderBaseURL=n(d,"loader.baseURL",""),this.loaderPath=n(d,"loader.path","");var A=s.os.android?6:32;this.loaderMaxParallelDownloads=n(d,"loader.maxParallelDownloads",A),this.loaderCrossOrigin=n(d,"loader.crossOrigin",void 0),this.loaderResponseType=n(d,"loader.responseType",""),this.loaderAsync=n(d,"loader.async",!0),this.loaderUser=n(d,"loader.user",""),this.loaderPassword=n(d,"loader.password",""),this.loaderTimeout=n(d,"loader.timeout",0),this.loaderWithCredentials=n(d,"loader.withCredentials",!1),this.installGlobalPlugins=[],this.installScenePlugins=[];var P=n(d,"plugins",null),O=l.DefaultScene;P&&(Array.isArray(P)?this.defaultPlugins=P:i(P)&&(this.installGlobalPlugins=a(P,"global",[]),this.installScenePlugins=a(P,"scene",[]),Array.isArray(P.default)?O=P.default:Array.isArray(P.defaultMerge)&&(O=O.concat(P.defaultMerge)))),this.defaultPlugins=O;var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=n(d,"images.default",b+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=n(d,"images.missing",b+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=n(d,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=u.WEBGL:window.FORCE_CANVAS&&(this.renderType=u.CANVAS))}});o.exports=c},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={os:t(105),browser:t(136),features:t(191),input:t(808),audio:t(809),video:t(810),fullscreen:t(811),canvasFeatures:t(348)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u={supportInverseAlpha:!1,supportNewBlendModes:!1};function s(){var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",r="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",f=new Image;return f.onload=function(){var l=new Image;l.onload=function(){var h=e.create(l,6,1),c=h.getContext("2d");if(c.globalCompositeOperation="multiply",c.drawImage(f,0,0),c.drawImage(l,2,0),!c.getImageData(2,0,1,1))return!1;var v=c.getImageData(2,0,1,1).data;e.remove(l),u.supportNewBlendModes=v[0]===255&&v[1]===0&&v[2]===0},l.src=i+"/wCKxvRF"+r},f.src=i+"AP804Oa6"+r,!1}function a(){var i=e.create(this,2,1),r=i.getContext("2d");r.fillStyle="rgba(10, 20, 30, 0.5)",r.fillRect(0,0,1,1);var f=r.getImageData(0,0,1,1);if(f===null)return!1;r.putImageData(f,1,0);var l=r.getImageData(1,0,1,1);return l.data[0]===f.data[0]&&l.data[1]===f.data[1]&&l.data[2]===f.data[2]&&l.data[3]===f.data[3]}function n(){return typeof importScripts!="function"&&document!==void 0&&(u.supportNewBlendModes=s(),u.supportInverseAlpha=a()),u}o.exports=n()},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){return Math.atan2(a-u,s-e)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.atan2(u.y-e.y,u.x-e.x)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=e%(2*Math.PI),e>=0?e:e+2*Math.PI};o.exports=t},function(o,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.x-u.x,a=e.y-u.y;return Math.sqrt(s*s+a*a)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=e-s,i=u-a;return n*n+i*i};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return s===void 0&&(s=1e-4),e>u-s};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return s===void 0&&(s=1e-4),e<u+s};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(357),u=function(s,a){return e(s)/e(a)/e(s-a)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(e===0)return 1;for(var u=e;--e;)u*=e;return u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(n,i){var r=1-n;return r*r*r*i}function e(n,i){var r=1-n;return 3*r*r*n*i}function u(n,i){return 3*(1-n)*n*n*i}function s(n,i){return n*n*n*i}var a=function(n,i,r,f,l){return t(n,i)+e(n,r)+u(n,f)+s(n,l)};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(a,n){var i=1-a;return i*i*n}function e(a,n){return 2*(1-a)*a*n}function u(a,n){return a*a*n}var s=function(a,n,i,r){return t(a,n)+e(a,i)+u(a,r)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),u=function(s,a,n){return a+(n-a)*e(s,0,1)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=Math.log(e)/.6931471805599453;return 1<<Math.ceil(u)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.x,a=e.y;return e.x=s*Math.cos(u)-a*Math.sin(u),e.y=s*Math.sin(u)+a*Math.cos(u),e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0?Math.ceil(e):Math.floor(e)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a){this.val=new Float32Array(9),a?this.copy(a):this.identity()},clone:function(){return new u(this)},set:function(s){return this.copy(s)},copy:function(s){var a=this.val,n=s.val;return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a[6]=n[6],a[7]=n[7],a[8]=n[8],this},fromMat4:function(s){var a=s.val,n=this.val;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[4],n[4]=a[5],n[5]=a[6],n[6]=a[8],n[7]=a[9],n[8]=a[10],this},fromArray:function(s){var a=this.val;return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4],a[5]=s[5],a[6]=s[6],a[7]=s[7],a[8]=s[8],this},identity:function(){var s=this.val;return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=1,s[5]=0,s[6]=0,s[7]=0,s[8]=1,this},transpose:function(){var s=this.val,a=s[1],n=s[2],i=s[5];return s[1]=s[3],s[2]=s[6],s[3]=a,s[5]=s[7],s[6]=n,s[7]=i,this},invert:function(){var s=this.val,a=s[0],n=s[1],i=s[2],r=s[3],f=s[4],l=s[5],h=s[6],c=s[7],v=s[8],d=v*f-l*c,m=-v*r+l*h,y=c*r-f*h,T=a*d+n*m+i*y;return T?(T=1/T,s[0]=d*T,s[1]=(-v*n+i*c)*T,s[2]=(l*n-i*f)*T,s[3]=m*T,s[4]=(v*a-i*h)*T,s[5]=(-l*a+i*r)*T,s[6]=y*T,s[7]=(-c*a+n*h)*T,s[8]=(f*a-n*r)*T,this):null},adjoint:function(){var s=this.val,a=s[0],n=s[1],i=s[2],r=s[3],f=s[4],l=s[5],h=s[6],c=s[7],v=s[8];return s[0]=f*v-l*c,s[1]=i*c-n*v,s[2]=n*l-i*f,s[3]=l*h-r*v,s[4]=a*v-i*h,s[5]=i*r-a*l,s[6]=r*c-f*h,s[7]=n*h-a*c,s[8]=a*f-n*r,this},determinant:function(){var s=this.val,a=s[0],n=s[1],i=s[2],r=s[3],f=s[4],l=s[5],h=s[6],c=s[7],v=s[8];return a*(v*f-l*c)+n*(-v*r+l*h)+i*(c*r-f*h)},multiply:function(s){var a=this.val,n=a[0],i=a[1],r=a[2],f=a[3],l=a[4],h=a[5],c=a[6],v=a[7],d=a[8],m=s.val,y=m[0],T=m[1],C=m[2],R=m[3],A=m[4],P=m[5],O=m[6],b=m[7],D=m[8];return a[0]=y*n+T*f+C*c,a[1]=y*i+T*l+C*v,a[2]=y*r+T*h+C*d,a[3]=R*n+A*f+P*c,a[4]=R*i+A*l+P*v,a[5]=R*r+A*h+P*d,a[6]=O*n+b*f+D*c,a[7]=O*i+b*l+D*v,a[8]=O*r+b*h+D*d,this},translate:function(s){var a=this.val,n=s.x,i=s.y;return a[6]=n*a[0]+i*a[3]+a[6],a[7]=n*a[1]+i*a[4]+a[7],a[8]=n*a[2]+i*a[5]+a[8],this},rotate:function(s){var a=this.val,n=a[0],i=a[1],r=a[2],f=a[3],l=a[4],h=a[5],c=Math.sin(s),v=Math.cos(s);return a[0]=v*n+c*f,a[1]=v*i+c*l,a[2]=v*r+c*h,a[3]=v*f-c*n,a[4]=v*l-c*i,a[5]=v*h-c*r,this},scale:function(s){var a=this.val,n=s.x,i=s.y;return a[0]=n*a[0],a[1]=n*a[1],a[2]=n*a[2],a[3]=i*a[3],a[4]=i*a[4],a[5]=i*a[5],this},fromQuat:function(s){var a=s.x,n=s.y,i=s.z,r=s.w,f=a+a,l=n+n,h=i+i,c=a*f,v=a*l,d=a*h,m=n*l,y=n*h,T=i*h,C=r*f,R=r*l,A=r*h,P=this.val;return P[0]=1-(m+T),P[3]=v+A,P[6]=d-R,P[1]=v-A,P[4]=1-(c+T),P[7]=y+C,P[2]=d+R,P[5]=y-C,P[8]=1-(c+m),this},normalFromMat4:function(s){var a=s.val,n=this.val,i=a[0],r=a[1],f=a[2],l=a[3],h=a[4],c=a[5],v=a[6],d=a[7],m=a[8],y=a[9],T=a[10],C=a[11],R=a[12],A=a[13],P=a[14],O=a[15],b=i*c-r*h,D=i*v-f*h,N=i*d-l*h,B=r*v-f*c,U=r*d-l*c,G=f*d-l*v,W=m*A-y*R,$=m*P-T*R,q=m*O-C*R,_=y*P-T*A,V=y*O-C*A,w=T*O-C*P,z=b*w-D*V+N*_+B*q-U*$+G*W;return z?(z=1/z,n[0]=(c*w-v*V+d*_)*z,n[1]=(v*q-h*w-d*$)*z,n[2]=(h*V-c*q+d*W)*z,n[3]=(f*V-r*w-l*_)*z,n[4]=(i*w-f*q+l*$)*z,n[5]=(r*q-i*V-l*W)*z,n[6]=(A*G-P*U+O*B)*z,n[7]=(P*N-R*G-O*D)*z,n[8]=(R*U-A*N+O*b)*z,this):null}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(364),s=t(1),a=t(39),n=1e-6,i=new Int8Array([1,2,0]),r=new Float32Array([0,0,0]),f=new a(1,0,0),l=new a(0,1,0),h=new a,c=new u,v=new e({initialize:function(m,y,T,C){this.onChangeCallback=s,this.set(m,y,T,C)},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(d){this._w=d,this.onChangeCallback(this)}},copy:function(d){return this.set(d)},set:function(d,m,y,T,C){return C===void 0&&(C=!0),typeof d=="object"?(this._x=d.x||0,this._y=d.y||0,this._z=d.z||0,this._w=d.w||0):(this._x=d||0,this._y=m||0,this._z=y||0,this._w=T||0),C&&this.onChangeCallback(this),this},add:function(d){return this._x+=d.x,this._y+=d.y,this._z+=d.z,this._w+=d.w,this.onChangeCallback(this),this},subtract:function(d){return this._x-=d.x,this._y-=d.y,this._z-=d.z,this._w-=d.w,this.onChangeCallback(this),this},scale:function(d){return this._x*=d,this._y*=d,this._z*=d,this._w*=d,this.onChangeCallback(this),this},length:function(){var d=this.x,m=this.y,y=this.z,T=this.w;return Math.sqrt(d*d+m*m+y*y+T*T)},lengthSq:function(){var d=this.x,m=this.y,y=this.z,T=this.w;return d*d+m*m+y*y+T*T},normalize:function(){var d=this.x,m=this.y,y=this.z,T=this.w,C=d*d+m*m+y*y+T*T;return C>0&&(C=1/Math.sqrt(C),this._x=d*C,this._y=m*C,this._z=y*C,this._w=T*C),this.onChangeCallback(this),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,m){m===void 0&&(m=0);var y=this.x,T=this.y,C=this.z,R=this.w;return this.set(y+m*(d.x-y),T+m*(d.y-T),C+m*(d.z-C),R+m*(d.w-R))},rotationTo:function(d,m){var y=d.x*m.x+d.y*m.y+d.z*m.z;return y<-.999999?(h.copy(f).cross(d).length()<n&&h.copy(l).cross(d),h.normalize(),this.setAxisAngle(h,Math.PI)):y>.999999?this.set(0,0,0,1):(h.copy(d).cross(m),this._x=h.x,this._y=h.y,this._z=h.z,this._w=1+y,this.normalize())},setAxes:function(d,m,y){var T=c.val;return T[0]=m.x,T[3]=m.y,T[6]=m.z,T[1]=y.x,T[4]=y.y,T[7]=y.z,T[2]=-d.x,T[5]=-d.y,T[8]=-d.z,this.fromMat3(c).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(d,m){m=m*.5;var y=Math.sin(m);return this.set(y*d.x,y*d.y,y*d.z,Math.cos(m))},multiply:function(d){var m=this.x,y=this.y,T=this.z,C=this.w,R=d.x,A=d.y,P=d.z,O=d.w;return this.set(m*O+C*R+y*P-T*A,y*O+C*A+T*R-m*P,T*O+C*P+m*A-y*R,C*O-m*R-y*A-T*P)},slerp:function(d,m){var y=this.x,T=this.y,C=this.z,R=this.w,A=d.x,P=d.y,O=d.z,b=d.w,D=y*A+T*P+C*O+R*b;D<0&&(D=-D,A=-A,P=-P,O=-O,b=-b);var N=1-m,B=m;if(1-D>n){var U=Math.acos(D),G=Math.sin(U);N=Math.sin((1-m)*U)/G,B=Math.sin(m*U)/G}return this.set(N*y+B*A,N*T+B*P,N*C+B*O,N*R+B*b)},invert:function(){var d=this.x,m=this.y,y=this.z,T=this.w,C=d*d+m*m+y*y+T*T,R=C?1/C:0;return this.set(-d*R,-m*R,-y*R,T*R)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(d){d*=.5;var m=this.x,y=this.y,T=this.z,C=this.w,R=Math.sin(d),A=Math.cos(d);return this.set(m*A+C*R,y*A+T*R,T*A-y*R,C*A-m*R)},rotateY:function(d){d*=.5;var m=this.x,y=this.y,T=this.z,C=this.w,R=Math.sin(d),A=Math.cos(d);return this.set(m*A-T*R,y*A+C*R,T*A+m*R,C*A-y*R)},rotateZ:function(d){d*=.5;var m=this.x,y=this.y,T=this.z,C=this.w,R=Math.sin(d),A=Math.cos(d);return this.set(m*A+y*R,y*A-m*R,T*A+C*R,C*A-T*R)},calculateW:function(){var d=this.x,m=this.y,y=this.z;return this.w=-Math.sqrt(1-d*d-m*m-y*y),this},setFromEuler:function(d,m){var y=d.x/2,T=d.y/2,C=d.z/2,R=Math.cos(y),A=Math.cos(T),P=Math.cos(C),O=Math.sin(y),b=Math.sin(T),D=Math.sin(C);switch(d.order){case"XYZ":{this.set(O*A*P+R*b*D,R*b*P-O*A*D,R*A*D+O*b*P,R*A*P-O*b*D,m);break}case"YXZ":{this.set(O*A*P+R*b*D,R*b*P-O*A*D,R*A*D-O*b*P,R*A*P+O*b*D,m);break}case"ZXY":{this.set(O*A*P-R*b*D,R*b*P+O*A*D,R*A*D+O*b*P,R*A*P-O*b*D,m);break}case"ZYX":{this.set(O*A*P-R*b*D,R*b*P+O*A*D,R*A*D-O*b*P,R*A*P+O*b*D,m);break}case"YZX":{this.set(O*A*P+R*b*D,R*b*P+O*A*D,R*A*D-O*b*P,R*A*P-O*b*D,m);break}case"XZY":{this.set(O*A*P-R*b*D,R*b*P-O*A*D,R*A*D+O*b*P,R*A*P+O*b*D,m);break}}return this},setFromRotationMatrix:function(d){var m=d.val,y=m[0],T=m[4],C=m[8],R=m[1],A=m[5],P=m[9],O=m[2],b=m[6],D=m[10],N=y+A+D,B;return N>0?(B=.5/Math.sqrt(N+1),this.set((b-P)*B,(C-O)*B,(R-T)*B,.25/B)):y>A&&y>D?(B=2*Math.sqrt(1+y-A-D),this.set(.25*B,(T+R)/B,(C+O)/B,(b-P)/B)):A>D?(B=2*Math.sqrt(1+A-y-D),this.set((T+R)/B,.25*B,(P+b)/B,(C-O)/B)):(B=2*Math.sqrt(1+D-y-A),this.set((C+O)/B,(P+b)/B,.25*B,(R-T)/B)),this},fromMat3:function(d){var m=d.val,y=m[0]+m[4]+m[8],T;if(y>0)T=Math.sqrt(y+1),this.w=.5*T,T=.5/T,this._x=(m[7]-m[5])*T,this._y=(m[2]-m[6])*T,this._z=(m[3]-m[1])*T;else{var C=0;m[4]>m[0]&&(C=1),m[8]>m[C*3+C]&&(C=2);var R=i[C],A=i[R];T=Math.sqrt(m[C*3+C]-m[R*3+R]-m[A*3+A]+1),r[C]=.5*T,T=.5/T,r[R]=(m[R*3+C]+m[C*3+R])*T,r[A]=(m[A*3+C]+m[C*3+A])*T,this._x=r[0],this._y=r[1],this._z=r[2],this._w=(m[A*3+R]-m[R*3+A])*T}return this.onChangeCallback(this),this}});o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(367),u=t(31),s=t(33),a=t(191),n=function(i){var r=i.config;if((r.customEnvironment||r.canvas)&&r.renderType===s.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!r.customEnvironment&&!r.canvas&&r.renderType!==s.HEADLESS)if(r.renderType===s.CANVAS||r.renderType!==s.CANVAS&&!a.webGL)if(a.canvas)r.renderType=s.CANVAS;else throw new Error("Cannot create Canvas or WebGL context, aborting.");else r.renderType=s.WEBGL;r.antialias||u.disableSmoothing();var f=i.scale.baseSize,l=f.width,h=f.height;if(r.canvas?(i.canvas=r.canvas,i.canvas.width=l,i.canvas.height=h):i.canvas=u.create(i,l,h,r.renderType),r.canvasStyle&&(i.canvas.style=r.canvasStyle),r.antialias||e.setCrisp(i.canvas),r.renderType!==s.HEADLESS){var c,v;c=t(368),v=t(371),r.renderType===s.WEBGL?i.renderer=new v(i):(i.renderer=new c(i),i.context=i.renderer.gameContext)}};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCrisp:function(e){var u=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return u.forEach(function(s){e.style["image-rendering"]=s}),e.style.msInterpolationMode="nearest-neighbor",e},setBicubic:function(e){return e.style["image-rendering"]="auto",e.style.msInterpolationMode="bicubic",e}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(37),u=t(369),s=t(0),a=t(33),n=t(9),i=t(91),r=t(370),f=t(104),l=t(106),h=t(25),c=new s({Extends:n,initialize:function(d){n.call(this);var m=d.config;this.config={clearBeforeRender:m.clearBeforeRender,backgroundColor:m.backgroundColor,antialias:m.antialias,roundPixels:m.roundPixels},this.game=d,this.type=a.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=d.canvas;var y={alpha:d.config.transparent,desynchronized:d.config.desynchronized};this.gameContext=m.context?m.context:this.gameCanvas.getContext("2d",y),this.currentContext=this.gameContext,this.antialias=d.config.antialias,this.blendModes=r(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new h,this._tempMatrix2=new h,this._tempMatrix3=new h,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(l.READY,this.boot,this)},boot:function(){var v=this.game,d=v.scale.baseSize;this.width=d.width,this.height=d.height,this.isBooted=!0,v.scale.on(f.RESIZE,this.onResize,this),this.resize(d.width,d.height)},onResize:function(v,d){(d.width!==this.width||d.height!==this.height)&&this.resize(d.width,d.height)},resize:function(v,d){this.width=v,this.height=d,this.emit(i.RESIZE,v,d)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(v){return this.currentContext.globalCompositeOperation=v,this},setContext:function(v){return this.currentContext=v||this.gameContext,this},setAlpha:function(v){return this.currentContext.globalAlpha=v,this},preRender:function(){var v=this.gameContext,d=this.config,m=this.width,y=this.height;v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),d.clearBeforeRender&&(v.clearRect(0,0,m,y),d.transparent||(v.fillStyle=d.backgroundColor.rgba,v.fillRect(0,0,m,y))),v.save(),this.drawCount=0,this.emit(i.PRE_RENDER)},render:function(v,d,m){var y=d.length;this.emit(i.RENDER,v,m);var T=m.x,C=m.y,R=m.width,A=m.height,P=m.renderToTexture?m.context:v.sys.context;P.save(),this.game.scene.customViewports&&(P.beginPath(),P.rect(T,C,R,A),P.clip()),this.currentContext=P;var O=m.mask;O&&O.preRenderCanvas(this,null,m._maskCamera),m.transparent||(P.fillStyle=m.backgroundColor.rgba,P.fillRect(T,C,R,A)),P.globalAlpha=m.alpha,P.globalCompositeOperation="source-over",this.drawCount+=y,m.renderToTexture&&m.emit(e.PRE_RENDER,m),m.matrix.copyToContext(P);for(var b=0;b<y;b++){var D=d[b];D.mask&&D.mask.preRenderCanvas(this,D,m),D.renderCanvas(this,D,m),D.mask&&D.mask.postRenderCanvas(this,D,m)}P.setTransform(1,0,0,1,0,0),P.globalCompositeOperation="source-over",P.globalAlpha=1,m.flashEffect.postRenderCanvas(P),m.fadeEffect.postRenderCanvas(P),m.dirty=!1,O&&O.postRenderCanvas(this),P.restore(),m.renderToTexture&&(m.emit(e.POST_RENDER,m),m.renderToGame&&v.sys.context.drawImage(m.canvas,T,C))},postRender:function(){var v=this.gameContext;v.restore(),this.emit(i.POST_RENDER);var d=this.snapshotState;d.callback&&(u(this.gameCanvas,d),d.callback=null)},snapshotCanvas:function(v,d,m,y,T,C,R,A,P){m===void 0&&(m=!1),this.snapshotArea(y,T,C,R,d,A,P);var O=this.snapshotState;return O.getPixel=m,u(this.canvas,O),O.callback=null,this},snapshot:function(v,d,m){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,v,d,m)},snapshotArea:function(v,d,m,y,T,C,R){var A=this.snapshotState;return A.callback=T,A.type=C,A.encoder=R,A.getPixel=!1,A.x=v,A.y=d,A.width=Math.min(m,this.gameCanvas.width),A.height=Math.min(y,this.gameCanvas.height),this},snapshotPixel:function(v,d,m){return this.snapshotArea(v,d,1,1,m),this.snapshotState.getPixel=!0,this},batchSprite:function(v,d,m,y){var T=m.alpha*v.alpha;if(T!==0){var C=this.currentContext,R=this._tempMatrix1,A=this._tempMatrix2,P=d.canvasData,O=P.x,b=P.y,D=d.cutWidth,N=d.cutHeight,B=d.customPivot,U=d.source.resolution,G=v.displayOriginX,W=v.displayOriginY,$=-G+d.x,q=-W+d.y;if(v.isCropped){var _=v._crop;(_.flipX!==v.flipX||_.flipY!==v.flipY)&&d.updateCropUVs(_,v.flipX,v.flipY),D=_.cw,N=_.ch,O=_.cx,b=_.cy,$=-G+_.x,q=-W+_.y,v.flipX&&($>=0?$=-($+D):$<0&&($=Math.abs($)-D)),v.flipY&&(q>=0?q=-(q+N):q<0&&(q=Math.abs(q)-N))}var V=1,w=1;v.flipX&&(B||($+=-d.realWidth+G*2),V=-1),v.flipY&&(B||(q+=-d.realHeight+W*2),w=-1),A.applyITRS(v.x,v.y,v.rotation,v.scaleX*V,v.scaleY*w),R.copyFrom(m.matrix),y?(R.multiplyWithOffset(y,-m.scrollX*v.scrollFactorX,-m.scrollY*v.scrollFactorY),A.e=v.x,A.f=v.y):(A.e-=m.scrollX*v.scrollFactorX,A.f-=m.scrollY*v.scrollFactorY),R.multiply(A),C.save(),R.setToContext(C),C.globalCompositeOperation=this.blendModes[v.blendMode],C.globalAlpha=T,C.imageSmoothingEnabled=!(!this.antialias||d.source.scaleMode),v.mask&&v.mask.preRenderCanvas(this,v,m),C.drawImage(d.source.image,O,b,D,N,$,q,D/U,N/U),v.mask&&v.mask.postRenderCanvas(this,v,m),C.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});o.exports=c},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(38),s=t(2),a=function(n,i){var r=s(i,"callback"),f=s(i,"type","image/png"),l=s(i,"encoder",.92),h=Math.abs(Math.round(s(i,"x",0))),c=Math.abs(Math.round(s(i,"y",0))),v=s(i,"width",n.width),d=s(i,"height",n.height),m=s(i,"getPixel",!1);if(m){var y=n.getContext("2d"),T=y.getImageData(h,c,1,1),C=T.data;r.call(null,new u(C[0],C[1],C[2],C[3]/255))}else if(h!==0||c!==0||v!==n.width||d!==n.height){var R=e.createWebGL(this,v,d),A=R.getContext("2d");A.drawImage(n,h,c,v,d,0,0,v,d);var P=new Image;P.onerror=function(){r.call(null),e.remove(R)},P.onload=function(){r.call(null,P),e.remove(R)},P.src=R.toDataURL(f,l)}else{var O=new Image;O.onerror=function(){r.call(null)},O.onload=function(){r.call(null,O)},O.src=n.toDataURL(f,l)}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(348),s=function(){var a=[],n=u.supportNewBlendModes,i="source-over";return a[e.NORMAL]=i,a[e.ADD]="lighter",a[e.MULTIPLY]=n?"multiply":i,a[e.SCREEN]=n?"screen":i,a[e.OVERLAY]=n?"overlay":i,a[e.DARKEN]=n?"darken":i,a[e.LIGHTEN]=n?"lighten":i,a[e.COLOR_DODGE]=n?"color-dodge":i,a[e.COLOR_BURN]=n?"color-burn":i,a[e.HARD_LIGHT]=n?"hard-light":i,a[e.SOFT_LIGHT]=n?"soft-light":i,a[e.DIFFERENCE]=n?"difference":i,a[e.EXCLUSION]=n?"exclusion":i,a[e.HUE]=n?"hue":i,a[e.SATURATION]=n?"saturation":i,a[e.COLOR]=n?"color":i,a[e.LUMINOSITY]=n?"luminosity":i,a[e.ERASE]="destination-out",a[e.SOURCE_IN]="source-in",a[e.SOURCE_OUT]="source-out",a[e.SOURCE_ATOP]="source-atop",a[e.DESTINATION_OVER]="destination-over",a[e.DESTINATION_IN]="destination-in",a[e.DESTINATION_OUT]="destination-out",a[e.DESTINATION_ATOP]="destination-atop",a[e.LIGHTER]="lighter",a[e.COPY]="copy",a[e.XOR]="xor",a};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),u=t(37),s=t(0),a=t(33),n=t(9),i=t(91),r=t(22),f=t(138),l=t(69),h=t(1),c=t(372),v=t(141),d=t(104),m=t(106),y=t(12),T=t(383),C=new s({Extends:n,initialize:function(A){n.call(this);var P=A.config,O={alpha:P.transparent,desynchronized:P.desynchronized,depth:!1,antialias:P.antialiasGL,premultipliedAlpha:P.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:P.failIfMajorPerformanceCaveat,powerPreference:P.powerPreference,preserveDrawingBuffer:P.preserveDrawingBuffer};this.config={clearBeforeRender:P.clearBeforeRender,antialias:P.antialias,backgroundColor:P.backgroundColor,contextCreation:O,roundPixels:P.roundPixels,maxTextures:P.maxTextures,maxTextureSize:P.maxTextureSize,batchSize:P.batchSize,maxLights:P.maxLights,mipmapFilter:P.mipmapFilter},this.game=A,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=A.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.currentActiveTexture=0,this.startActiveTexture=0,this.maxTextures=0,this.textureIndexes,this.tempTextures,this.textureZero,this.normalTexture,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=h,this.contextRestoredHandler=h,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats=[],this.compression={ETC1:!1,PVRTC:!1,S3TC:!1},this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.textureFlush=0,this.isTextureClean=!1,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.init(this.config)},init:function(R){var A,P=this.game,O=this.canvas,b=R.backgroundColor;if(P.config.context?A=P.config.context:A=O.getContext("webgl",R.contextCreation)||O.getContext("experimental-webgl",R.contextCreation),!A||A.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=A;var D=this;this.contextLostHandler=function(z){D.contextLost=!0,D.game.events.emit(r.CONTEXT_LOST,D),z.preventDefault()},this.contextRestoredHandler=function(){D.contextLost=!1,D.init(D.config),D.game.events.emit(r.CONTEXT_RESTORED,D)},O.addEventListener("webglcontextlost",this.contextLostHandler,!1),O.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),P.context=A;for(var N=0;N<=27;N++)this.blendModes.push({func:[A.ONE,A.ONE_MINUS_SRC_ALPHA],equation:A.FUNC_ADD});this.blendModes[1].func=[A.ONE,A.DST_ALPHA],this.blendModes[2].func=[A.DST_COLOR,A.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[A.ONE,A.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[A.ZERO,A.ONE_MINUS_SRC_ALPHA],equation:A.FUNC_REVERSE_SUBTRACT},this.glFormats[0]=A.BYTE,this.glFormats[1]=A.SHORT,this.glFormats[2]=A.UNSIGNED_BYTE,this.glFormats[3]=A.UNSIGNED_SHORT,this.glFormats[4]=A.FLOAT,this.glFuncMap={mat2:{func:A.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:A.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:A.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:A.uniform1f,length:1},"1fv":{func:A.uniform1fv,length:1},"1i":{func:A.uniform1i,length:1},"1iv":{func:A.uniform1iv,length:1},"2f":{func:A.uniform2f,length:2},"2fv":{func:A.uniform2fv,length:1},"2i":{func:A.uniform2i,length:2},"2iv":{func:A.uniform2iv,length:1},"3f":{func:A.uniform3f,length:3},"3fv":{func:A.uniform3fv,length:1},"3i":{func:A.uniform3i,length:3},"3iv":{func:A.uniform3iv,length:1},"4f":{func:A.uniform4f,length:4},"4fv":{func:A.uniform4fv,length:1},"4i":{func:A.uniform4i,length:4},"4iv":{func:A.uniform4iv,length:1}};var B=A.getSupportedExtensions();(!R.maxTextures||R.maxTextures===-1)&&(R.maxTextures=A.getParameter(A.MAX_TEXTURE_IMAGE_UNITS)),R.maxTextureSize||(R.maxTextureSize=A.getParameter(A.MAX_TEXTURE_SIZE));var U="WEBGL_compressed_texture_",G="WEBKIT_"+U;this.compression.ETC1=A.getExtension(U+"etc1")||A.getExtension(G+"etc1"),this.compression.PVRTC=A.getExtension(U+"pvrtc")||A.getExtension(G+"pvrtc"),this.compression.S3TC=A.getExtension(U+"s3tc")||A.getExtension(G+"s3tc"),this.supportedExtensions=B;var W="ANGLE_instanced_arrays";this.instancedArraysExtension=B.indexOf(W)>-1?A.getExtension(W):null;var $="OES_vertex_array_object";this.vaoExtension=B.indexOf($)>-1?A.getExtension($):null,A.disable(A.DEPTH_TEST),A.disable(A.CULL_FACE),A.enable(A.BLEND),A.clearColor(b.redGL,b.greenGL,b.blueGL,b.alphaGL),this.mipmapFilter=A[R.mipmapFilter],this.maxTextures=y.checkShaderMax(A,R.maxTextures),this.textureIndexes=[];var q=this.tempTextures;if(Array.isArray(q))for(var _=0;N<this.maxTextures;_++)A.deleteTexture(q[_]);else q=new Array(this.maxTextures);for(var V=0;V<this.maxTextures;V++){var w=A.createTexture();A.activeTexture(A.TEXTURE0+V),A.bindTexture(A.TEXTURE_2D,w),A.texImage2D(A.TEXTURE_2D,0,A.RGBA,1,1,0,A.RGBA,A.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),q[V]=w,this.textureIndexes.push(V)}return this.tempTextures=q,this.currentActiveTexture=1,this.startActiveTexture++,A.activeTexture(A.TEXTURE1),this.pipelines=new c(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new l().identity(),P.textures.once(m.READY,this.boot,this),this},boot:function(){var R=this.game,A=this.pipelines,P=R.scale.baseSize;this.width=P.width,this.height=P.height,this.isBooted=!0,this.renderTarget=new v(this,this.width,this.height,1,0,!0,!0),A.boot(R.config.pipeline),this.blankTexture=R.textures.getFrame("__DEFAULT"),this.whiteTexture=R.textures.getFrame("__WHITE");var O=this.gl;O.bindFramebuffer(O.FRAMEBUFFER,null),O.enable(O.SCISSOR_TEST),R.scale.on(d.RESIZE,this.onResize,this),this.resize(P.width,P.height)},onResize:function(R,A){(A.width!==this.width||A.height!==this.height)&&this.resize(A.width,A.height)},beginCapture:function(R,A){R===void 0&&(R=this.width),A===void 0&&(A=this.height),this.renderTarget.bind(!0,R,A),this.setProjectionMatrix(R,A),this.resetTextures()},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(R,A){var P=this.gl;return this.width=R,this.height=A,this.setProjectionMatrix(R,A),P.viewport(0,0,R,A),this.drawingBufferHeight=P.drawingBufferHeight,P.scissor(0,P.drawingBufferHeight-A,R,A),this.defaultScissor[2]=R,this.defaultScissor[3]=A,this.emit(i.RESIZE,R,A),this},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(R,A){return(R!==this.projectionWidth||A!==this.projectionHeight)&&(this.projectionWidth=R,this.projectionHeight=A,this.projectionMatrix.ortho(0,R,A,0,-1e3,1e3)),this},resetProjectionMatrix:function(){this.projectionWidth=this.width,this.projectionHeight=this.height,this.projectionMatrix.ortho(0,this.width,this.height,0,-1e3,1e3)},hasExtension:function(R){return this.supportedExtensions?this.supportedExtensions.indexOf(R):!1},getExtension:function(R){return this.hasExtension(R)?(R in this.extensions||(this.extensions[R]=this.gl.getExtension(R)),this.extensions[R]):null},flush:function(){this.pipelines.flush()},pushScissor:function(R,A,P,O,b){b===void 0&&(b=this.drawingBufferHeight);var D=this.scissorStack,N=[R,A,P,O];return D.push(N),this.setScissor(R,A,P,O,b),this.currentScissor=N,N},setScissor:function(R,A,P,O,b){b===void 0&&(b=this.drawingBufferHeight);var D=this.gl,N=this.currentScissor,B=P>0&&O>0;if(N&&B){var U=N[0],G=N[1],W=N[2],$=N[3];B=U!==R||G!==A||W!==P||$!==O}B&&(this.flush(),D.scissor(R,b-A-O,P,O))},resetScissor:function(){var R=this.gl;R.enable(R.SCISSOR_TEST);var A=this.currentScissor;if(A){var P=A[0],O=A[1],b=A[2],D=A[3];b>0&&D>0&&R.scissor(P,this.drawingBufferHeight-O-D,b,D)}},popScissor:function(){var R=this.scissorStack;R.pop();var A=R[R.length-1];A&&this.setScissor(A[0],A[1],A[2],A[3]),this.currentScissor=A},hasActiveStencilMask:function(){var R=this.currentMask.mask,A=this.currentCameraMask.mask;return R&&R.isStencil||A&&A.isStencil},resetViewport:function(){var R=this.gl;R.viewport(0,0,this.width,this.height),this.drawingBufferHeight=R.drawingBufferHeight},setBlendMode:function(R,A){A===void 0&&(A=!1);var P=this.gl,O=this.blendModes[R];return A||R!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==R?(this.flush(),P.enable(P.BLEND),P.blendEquation(O.equation),O.func.length>2?P.blendFuncSeparate(O.func[0],O.func[1],O.func[2],O.func[3]):P.blendFunc(O.func[0],O.func[1]),this.currentBlendMode=R,!0):!1},addBlendMode:function(R,A){var P=this.blendModes.push({func:R,equation:A});return P-1},updateBlendMode:function(R,A,P){return this.blendModes[R]&&(this.blendModes[R].func=A,P&&(this.blendModes[R].equation=P)),this},removeBlendMode:function(R){return R>17&&this.blendModes[R]&&this.blendModes.splice(R,1),this},setBlankTexture:function(){this.setTexture2D(this.blankTexture.glTexture)},setTextureSource:function(R){if(this.pipelines.forceZero())return this.setTextureZero(R.glTexture,!0),0;var A=this.gl,P=this.currentActiveTexture;return R.glIndexCounter<this.startActiveTexture&&(R.glIndexCounter=this.startActiveTexture,P<this.maxTextures?(R.glIndex=P,A.activeTexture(A.TEXTURE0+P),A.bindTexture(A.TEXTURE_2D,R.glTexture),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,R.glIndexCounter=this.startActiveTexture,R.glIndex=1,A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,R.glTexture),this.currentActiveTexture=2)),this.isTextureClean=!1,R.glIndex},isNewNormalMap:function(R,A){return this.textureZero!==R||this.normalTexture!==A},setTextureZero:function(R,A){if(this.textureZero!==R){A&&this.flush();var P=this.gl;P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,R),this.textureZero=R}},clearTextureZero:function(){this.textureZero=null},setNormalMap:function(R){if(this.normalTexture!==R){var A=this.gl;A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,R),this.normalTexture=R,this.currentActiveTexture===1&&(this.currentActiveTexture=2)}},clearNormalMap:function(){this.normalTexture=null,this.startActiveTexture++,this.currentActiveTexture=1,this.textureFlush++},unbindTextures:function(){for(var R=this.gl,A=this.tempTextures,P=0;P<A.length;P++)R.activeTexture(R.TEXTURE0+P),R.bindTexture(R.TEXTURE_2D,null);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++},resetTextures:function(R){if(R===void 0&&(R=!1),!this.isTextureClean){this.flush();var A=this.gl,P=this.tempTextures;if(R){for(var O=0;O<P.length;O++)A.activeTexture(A.TEXTURE0+O),A.bindTexture(A.TEXTURE_2D,P[O]);A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,P[1]),this.isTextureClean=!0}else A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,P[0]),A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,P[1]);this.normalTexture=null,this.textureZero=null,this.currentActiveTexture=1,this.startActiveTexture++,this.textureFlush++}},setTexture2D:function(R){if(this.pipelines.forceZero())return this.setTextureZero(R,!0),0;var A=this.gl,P=this.currentActiveTexture;return R.glIndexCounter<this.startActiveTexture&&(R.glIndexCounter=this.startActiveTexture,P<this.maxTextures?(R.glIndex=P,A.activeTexture(A.TEXTURE0+P),A.bindTexture(A.TEXTURE_2D,R),this.currentActiveTexture++):(this.flush(),this.startActiveTexture++,this.textureFlush++,R.glIndexCounter=this.startActiveTexture,R.glIndex=1,A.activeTexture(A.TEXTURE1),A.bindTexture(A.TEXTURE_2D,R),this.currentActiveTexture=2)),this.isTextureClean=!1,R.glIndex},pushFramebuffer:function(R,A,P,O){return R===this.currentFramebuffer?this:(this.fboStack.push(R),this.setFramebuffer(R,A,P,O))},setFramebuffer:function(R,A,P,O){if(A===void 0&&(A=!1),P===void 0&&(P=!1),O===void 0&&(O=!0),R===this.currentFramebuffer)return this;var b=this.gl,D=this.width,N=this.height;return R&&R.renderTexture&&O?(D=R.renderTexture.width,N=R.renderTexture.height):this.flush(),b.bindFramebuffer(b.FRAMEBUFFER,R),O&&b.viewport(0,0,D,N),A&&(R?(this.drawingBufferHeight=N,this.pushScissor(0,0,D,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=R,P&&this.resetTextures(),this},popFramebuffer:function(R,A,P){R===void 0&&(R=!1),A===void 0&&(A=!1),P===void 0&&(P=!0);var O=this.fboStack;O.pop();var b=O[O.length-1];return b||(b=null),this.setFramebuffer(b,R,A,P),b},setProgram:function(R){return R!==this.currentProgram?(this.flush(),this.gl.useProgram(R),this.currentProgram=R,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(R,A,P,O){var b=this.gl,D=b.NEAREST,N=b.NEAREST,B=b.CLAMP_TO_EDGE,U=null;A=R?R.width:A,P=R?R.height:P;var G=f(A,P);return G&&(B=b.REPEAT),O===a.ScaleModes.LINEAR&&this.config.antialias&&(D=G?this.mipmapFilter:b.LINEAR,N=b.LINEAR),!R&&typeof A=="number"&&typeof P=="number"?U=this.createTexture2D(0,D,N,B,B,b.RGBA,null,A,P):U=this.createTexture2D(0,D,N,B,B,b.RGBA,R),U},createTexture2D:function(R,A,P,O,b,D,N,B,U,G,W,$){G=G??!0,W===void 0&&(W=!1),$===void 0&&($=!1);var q=this.gl,_=q.createTexture();q.activeTexture(q.TEXTURE0);var V=q.getParameter(q.TEXTURE_BINDING_2D);return q.bindTexture(q.TEXTURE_2D,_),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,A),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,P),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,b),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,O),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,$),N==null?q.texImage2D(q.TEXTURE_2D,R,D,B,U,0,D,q.UNSIGNED_BYTE,null):(W||(B=N.width,U=N.height),q.texImage2D(q.TEXTURE_2D,R,D,D,q.UNSIGNED_BYTE,N)),f(B,U)&&q.generateMipmap(q.TEXTURE_2D),V&&q.bindTexture(q.TEXTURE_2D,V),_.isAlphaPremultiplied=G,_.isRenderTexture=!1,_.width=B,_.height=U,_.glIndex=0,_.glIndexCounter=-1,_},createFramebuffer:function(R,A,P,O){var b=this.gl,D=b.createFramebuffer(),N=0;if(this.setFramebuffer(D),O){var B=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,B),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,R,A),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_STENCIL_ATTACHMENT,b.RENDERBUFFER,B)}if(P.isRenderTexture=!0,P.isAlphaPremultiplied=!1,b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,P,0),N=b.checkFramebufferStatus(b.FRAMEBUFFER),N!==b.FRAMEBUFFER_COMPLETE){var U={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+U[N])}return D.renderTexture=P,this.setFramebuffer(null),this.resetTextures(),D},createProgram:function(R,A){var P=this.gl,O=P.createProgram(),b=P.createShader(P.VERTEX_SHADER),D=P.createShader(P.FRAGMENT_SHADER);if(P.shaderSource(b,R),P.shaderSource(D,A),P.compileShader(b),P.compileShader(D),!P.getShaderParameter(b,P.COMPILE_STATUS))throw new Error(`Vertex Shader failed:
`+P.getShaderInfoLog(b));if(!P.getShaderParameter(D,P.COMPILE_STATUS))throw new Error(`Fragment Shader failed:
`+P.getShaderInfoLog(D));if(P.attachShader(O,b),P.attachShader(O,D),P.linkProgram(O),!P.getProgramParameter(O,P.LINK_STATUS))throw new Error(`Link Program failed:
`+P.getProgramInfoLog(O));return P.useProgram(O),O},createVertexBuffer:function(R,A){var P=this.gl,O=P.createBuffer();return P.bindBuffer(P.ARRAY_BUFFER,O),P.bufferData(P.ARRAY_BUFFER,R,A),P.bindBuffer(P.ARRAY_BUFFER,null),O},createIndexBuffer:function(R,A){var P=this.gl,O=P.createBuffer();return P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,O),P.bufferData(P.ELEMENT_ARRAY_BUFFER,R,A),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,null),O},deleteTexture:function(R,A){return A&&this.resetTextures(!0),R&&this.gl.deleteTexture(R),this},deleteFramebuffer:function(R){return R&&(this.gl.deleteFramebuffer(R),e(this.fboStack,R),this.currentFramebuffer===R&&(this.currentFramebuffer=null)),this},deleteProgram:function(R){return R&&this.gl.deleteProgram(R),this},deleteBuffer:function(R){return this.gl.deleteBuffer(R),this},preRenderCamera:function(R){var A=R.x,P=R.y,O=R.width,b=R.height,D=R.backgroundColor;if(R.emit(u.PRE_RENDER,R),this.pipelines.preBatchCamera(R),this.pushScissor(A,P,O,b),R.mask&&(this.currentCameraMask.mask=R.mask,this.currentCameraMask.camera=R._maskCamera,R.mask.preRenderWebGL(this,R,R._maskCamera)),D.alphaGL>0){var N=this.pipelines.setMulti();N.drawFillRect(A,P,O,b,y.getTintFromFloats(D.blueGL,D.greenGL,D.redGL,1),D.alphaGL)}},getCurrentStencilMask:function(){var R=null,A=this.maskStack,P=this.currentCameraMask;return A.length>0?R=A[A.length-1]:P.mask&&P.mask.isStencil&&(R=P),R},postRenderCamera:function(R){var A=R.flashEffect,P=R.fadeEffect;if(A.isRunning||P.isRunning||P.isComplete){var O=this.pipelines.setMulti();A.postRenderWebGL(O,y.getTintFromFloats),P.postRenderWebGL(O,y.getTintFromFloats)}R.dirty=!1,this.popScissor(),R.mask&&(this.currentCameraMask.mask=null,R.mask.postRenderWebGL(this,R._maskCamera)),this.pipelines.postBatchCamera(R),R.emit(u.POST_RENDER,R)},preRender:function(){if(!this.contextLost){var R=this.gl;if(R.bindFramebuffer(R.FRAMEBUFFER,null),this.config.clearBeforeRender){var A=this.config.backgroundColor;R.clearColor(A.redGL,A.greenGL,A.blueGL,A.alphaGL),R.clear(R.COLOR_BUFFER_BIT|R.DEPTH_BUFFER_BIT|R.STENCIL_BUFFER_BIT)}R.enable(R.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&R.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.textureFlush=0,this.emit(i.PRE_RENDER)}},render:function(R,A,P){if(!this.contextLost){var O=A.length;if(this.emit(i.RENDER,R,P),this.preRenderCamera(P),O===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(P);return}this.currentType="";for(var b=this.currentMask,D=0;D<O;D++){this.finalType=D===O-1;var N=A[D],B=N.mask;b=this.currentMask,b.mask&&b.mask!==B&&b.mask.postRenderWebGL(this,b.camera),B&&b.mask!==B&&B.preRenderWebGL(this,N,P),N.blendMode!==this.currentBlendMode&&this.setBlendMode(N.blendMode);var U=N.type;U!==this.currentType&&(this.newType=!0,this.currentType=U),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=A[D+1].type===this.currentType,N.renderWebGL(this,N,P),this.newType=!1}b=this.currentMask,b.mask&&b.mask.postRenderWebGL(this,b.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(P)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(i.POST_RENDER);var R=this.snapshotState;R.callback&&(T(this.canvas,R),R.callback=null),this.textureFlush>0&&(this.startActiveTexture++,this.currentActiveTexture=1)}},snapshot:function(R,A,P){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,R,A,P)},snapshotArea:function(R,A,P,O,b,D,N){var B=this.snapshotState;return B.callback=b,B.type=D,B.encoder=N,B.getPixel=!1,B.x=R,B.y=A,B.width=Math.min(P,this.gl.drawingBufferWidth),B.height=Math.min(O,this.gl.drawingBufferHeight),this},snapshotPixel:function(R,A,P){return this.snapshotArea(R,A,1,1,P),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(R,A,P,O,b,D,N,B,U,G,W){b===void 0&&(b=!1),D===void 0&&(D=0),N===void 0&&(N=0),B===void 0&&(B=A),U===void 0&&(U=P);var $=this.currentFramebuffer;this.snapshotArea(D,N,B,U,O,G,W);var q=this.snapshotState;return q.getPixel=b,q.isFramebuffer=!0,q.bufferWidth=A,q.bufferHeight=P,this.setFramebuffer(R),T(this.canvas,q),this.setFramebuffer($),q.callback=null,q.isFramebuffer=!1,this},canvasToTexture:function(R,A,P,O){return P===void 0&&(P=!1),O===void 0&&(O=!1),A?this.updateCanvasTexture(R,A,O):this.createCanvasTexture(R,P,O)},createCanvasTexture:function(R,A,P){A===void 0&&(A=!1),P===void 0&&(P=!1);var O=this.gl,b=O.NEAREST,D=O.NEAREST,N=R.width,B=R.height,U=O.CLAMP_TO_EDGE,G=f(N,B);return!A&&G&&(U=O.REPEAT),this.config.antialias&&(b=G?this.mipmapFilter:O.LINEAR,D=O.LINEAR),this.createTexture2D(0,b,D,U,U,O.RGBA,R,N,B,!0,!1,P)},updateCanvasTexture:function(R,A,P){P===void 0&&(P=!1);var O=this.gl,b=R.width,D=R.height;if(b>0&&D>0){O.activeTexture(O.TEXTURE0);var N=O.getParameter(O.TEXTURE_BINDING_2D);O.bindTexture(O.TEXTURE_2D,A),O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,P),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,R),A.width=b,A.height=D,N&&O.bindTexture(O.TEXTURE_2D,N)}return A},createVideoTexture:function(R,A,P){A===void 0&&(A=!1),P===void 0&&(P=!1);var O=this.gl,b=O.NEAREST,D=O.NEAREST,N=R.videoWidth,B=R.videoHeight,U=O.CLAMP_TO_EDGE,G=f(N,B);return!A&&G&&(U=O.REPEAT),this.config.antialias&&(b=G?this.mipmapFilter:O.LINEAR,D=O.LINEAR),this.createTexture2D(0,b,D,U,U,O.RGBA,R,N,B,!0,!0,P)},updateVideoTexture:function(R,A,P){P===void 0&&(P=!1);var O=this.gl,b=R.videoWidth,D=R.videoHeight;if(b>0&&D>0){O.activeTexture(O.TEXTURE0);var N=O.getParameter(O.TEXTURE_BINDING_2D);O.bindTexture(O.TEXTURE_2D,A),O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,P),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,R),A.width=b,A.height=D,N&&O.bindTexture(O.TEXTURE_2D,N)}return A},setTextureFilter:function(R,A){var P=this.gl,O=[P.LINEAR,P.NEAREST][A];P.activeTexture(P.TEXTURE0);var b=P.getParameter(P.TEXTURE_BINDING_2D);return P.bindTexture(P.TEXTURE_2D,R),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,O),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,O),b&&P.bindTexture(P.TEXTURE_2D,b),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);for(var R=this.gl,A=this.tempTextures,P=0;P<A.length;P++)R.deleteTexture(A[P]);this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});o.exports=C},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(92),s=t(102),a=t(373),n=t(376),i=t(377),r=t(108),f=t(378),l=t(379),h=t(380),c=t(381),v=new e({initialize:function(m){this.game=m.game,this.renderer=m,this.classes=new s([[u.UTILITY_PIPELINE,c],[u.MULTI_PIPELINE,r],[u.BITMAPMASK_PIPELINE,a],[u.SINGLE_PIPELINE,h],[u.ROPE_PIPELINE,l],[u.LIGHT_PIPELINE,i],[u.POINTLIGHT_PIPELINE,f],[u.GRAPHICS_PIPELINE,n]]),this.postPipelineClasses=new s,this.pipelines=new s,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(d){var m,y,T=this,C=this.game;if(this.classes.each(function(A,P){m=T.add(A,new P({game:C})),A===u.UTILITY_PIPELINE&&(T.UTILITY_PIPELINE=m,T.fullFrame1=m.fullFrame1,T.fullFrame2=m.fullFrame2,T.halfFrame1=m.halfFrame1,T.halfFrame2=m.halfFrame2)}),this.MULTI_PIPELINE=this.get(u.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(u.BITMAPMASK_PIPELINE),d)for(y in d){var R=d[y];m=new R(C),m.isPostFX?this.postPipelineClasses.set(y,R):this.has(y)||(this.classes.set(y,R),this.add(y,m))}},add:function(d,m){if(m.isPostFX){console.warn(d+" is a Post Pipeline. Use `addPostPipeline` instead");return}var y=this.pipelines,T=this.renderer;return y.has(d)?console.warn("Pipeline exists: "+d):(m.name=d,m.manager=this,y.set(d,m)),m.hasBooted||m.boot(),T.width!==0&&T.height!==0&&m.resize(T.width,T.height),m},addPostPipeline:function(d,m){this.postPipelineClasses.has(d)||this.postPipelineClasses.set(d,m)},flush:function(){this.current&&this.current.flush()},has:function(d){var m=this.pipelines;return typeof d=="string"?m.has(d):!!m.contains(d)},get:function(d){var m=this.pipelines;if(typeof d=="string")return m.get(d);if(m.contains(d))return d},getPostPipeline:function(d,m){var y=this.postPipelineClasses,T;if(typeof d=="string"?T=y.get(d):typeof d=="function"?y.contains(d)&&(T=d):typeof d=="object"&&(T=y.get(d.name)),T){var C=new T(this.game);return m&&(C.gameObject=m),C}},remove:function(d,m,y){m===void 0&&(m=!0),y===void 0&&(y=!0),this.pipelines.delete(d),m&&this.classes.delete(d),y&&this.postPipelineClasses.delete(d)},set:function(d,m,y){if(!d.isPostFX)return this.isCurrent(d,y)||(this.flush(),this.current&&this.current.unbind(),this.current=d,d.bind(y)),d.updateProjectionMatrix(),d.onBind(m),d},preBatch:function(d){if(d.hasPostPipeline){this.flush();for(var m=d.postPipelines,y=m.length-1;y>=0;y--){var T=m[y];T.active&&T.preBatch(d)}}},postBatch:function(d){if(d.hasPostPipeline){this.flush();for(var m=d.postPipelines,y=0;y<m.length;y++){var T=m[y];T.active&&T.postBatch(d)}}},preBatchCamera:function(d){if(d.hasPostPipeline){this.flush();for(var m=d.postPipelines,y=m.length-1;y>=0;y--){var T=m[y];T.active&&T.preBatch(d)}}},postBatchCamera:function(d){if(d.hasPostPipeline){this.flush();for(var m=d.postPipelines,y=0;y<m.length;y++){var T=m[y];T.active&&T.postBatch(d)}}},isCurrent:function(d,m){var y=this.renderer,T=this.current;return T&&!m&&(m=T.currentShader),!(T!==d||m.program!==y.currentProgram)},copyFrame:function(d,m,y,T,C){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(d,m,y,T,C),this},copyToGame:function(d){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(d),this},drawFrame:function(d,m,y,T){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(d,m,y,T),this},blendFrames:function(d,m,y,T,C){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(d,m,y,T,C),this},blendFramesAdditive:function(d,m,y,T,C){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(d,m,y,T,C),this},clearFrame:function(d,m){return this.UTILITY_PIPELINE.clearFrame(d,m),this},blitFrame:function(d,m,y,T,C,R){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(d,m,y,T,C,R),this},copyFrameRect:function(d,m,y,T,C,R,A,P){return this.UTILITY_PIPELINE.copyFrameRect(d,m,y,T,C,R,A,P),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(d){return this.UTILITY_PIPELINE.bind(d)},rebind:function(d){d===void 0&&this.previous&&(d=this.previous);var m=this.renderer,y=m.gl;y.disable(y.DEPTH_TEST),y.disable(y.CULL_FACE),m.hasActiveStencilMask()?y.clear(y.DEPTH_BUFFER_BIT):(y.disable(y.STENCIL_TEST),y.clear(y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT)),y.viewport(0,0,m.width,m.height),m.currentProgram=null,m.setBlendMode(0,!0);var T=this.pipelines.entries;for(var C in T)T[C].glReset=!0;d&&(this.current=d,d.rebind()),m.resetTextures()},clear:function(){var d=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,d.currentProgram=null,d.setBlendMode(0,!0)},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.current=null,this.previous=null}});o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=t(866),a=t(867),n=t(107),i=t(58),r=new e({Extends:i,initialize:function(l){l.fragShader=u(l,"fragShader",s),l.vertShader=u(l,"vertShader",a),l.batchSize=u(l,"batchSize",1),l.vertices=u(l,"vertices",[-1,1,-1,-7,7,1]),l.attributes=u(l,"attributes",[{name:"inPosition",size:2,type:n.FLOAT}]),i.call(this,l)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(f,l){i.prototype.resize.call(this,f,l),this.set2f("uResolution",f,l)},beginMask:function(f,l,h){var c=this.gl;if(f.bitmapMask&&c){var v=this.renderer;v.flush(),v.pushFramebuffer(f.mainFramebuffer),c.disable(c.STENCIL_TEST),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),v.currentCameraMask.mask!==f&&(v.currentMask.mask=f,v.currentMask.camera=h)}},endMask:function(f,l){var h=this.gl,c=this.renderer,v=f.bitmapMask;if(v&&h){c.flush(),c.pushFramebuffer(f.maskFramebuffer),h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT),c.setBlendMode(0,!0),v.renderWebGL(c,v,l),c.flush(),c.popFramebuffer(),c.popFramebuffer();var d=c.getCurrentStencilMask();d?(h.enable(h.STENCIL_TEST),d.mask.applyStencil(c,d.camera,!0)):c.currentMask.mask=null,c.pipelines.set(this),h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,f.maskTexture),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,f.mainTexture),this.set1i("uInvertMaskAlpha",f.invertAlpha),h.drawArrays(this.topology,0,3),c.resetTextures()}}});o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AFTER_FLUSH:t(868),BEFORE_FLUSH:t(869),BIND:t(870),BOOT:t(871),DESTROY:t(872),REBIND:t(873),RESIZE:t(874)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=t(107),a=new e({initialize:function(i,r,f,l,h){this.pipeline=i,this.name=r,this.renderer=i.renderer,this.gl=this.renderer.gl,this.program=this.renderer.createProgram(f,l),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(h),this.createUniforms()},createAttributes:function(n){var i=0,r=0,f=[];this.vertexComponentCount=0;for(var l=0;l<n.length;l++){var h=n[l],c=h.name,v=u(h,"size",1),d=u(h,"type",s.FLOAT),m=d.enum,y=d.size,T=!!h.normalized;f.push({name:c,size:v,type:m,normalized:T,offset:r,enabled:!1,location:-1}),y===4?i+=v:i++,r+=v*y}this.vertexSize=r,this.vertexComponentCount=i,this.attributes=f},bind:function(n,i){return n===void 0&&(n=!1),i===void 0&&(i=!1),i&&this.pipeline.flush(),this.renderer.setProgram(this.program),n&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(n){n===void 0&&(n=!1);for(var i=this.gl,r=this.vertexSize,f=this.attributes,l=this.program,h=0;h<f.length;h++){var c=f[h],v=c.size,d=c.type,m=c.offset,y=c.enabled,T=c.location,C=!!c.normalized;if(n){var R=i.getAttribLocation(l,c.name);R>=0?(i.enableVertexAttribArray(R),i.vertexAttribPointer(R,v,d,C,r,m),c.enabled=!0,c.location=R):R!==-1&&i.disableVertexAttribArray(R)}else y?i.vertexAttribPointer(T,v,d,C,r,m):!y&&T>-1&&(i.disableVertexAttribArray(T),c.location=-1)}return this},createUniforms:function(){var n=this.gl,i=this.program,r=this.uniforms,f,l,h,c=n.getProgramParameter(i,n.ACTIVE_UNIFORMS);for(f=0;f<c;f++){var v=n.getActiveUniform(i,f);if(v){l=v.name,h=n.getUniformLocation(i,l),h!==null&&(r[l]={name:l,location:h,value1:null,value2:null,value3:null,value4:null});var d=l.indexOf("[");d>0&&(l=l.substr(0,d),r.hasOwnProperty(l)||(h=n.getUniformLocation(i,l),h!==null&&(r[l]={name:l,location:h,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(n){return this.uniforms.hasOwnProperty(n)},resetUniform:function(n){var i=this.uniforms[n];return i&&(i.value1=null,i.value2=null,i.value3=null,i.value4=null),this},setUniform1:function(n,i,r,f){var l=this.uniforms[i];return l?((f||l.value1!==r)&&(l.value1=r,this.renderer.setProgram(this.program),n.call(this.gl,l.location,r),this.pipeline.currentShader=this),this):this},setUniform2:function(n,i,r,f,l){var h=this.uniforms[i];return h?((l||h.value1!==r||h.value2!==f)&&(h.value1=r,h.value2=f,this.renderer.setProgram(this.program),n.call(this.gl,h.location,r,f),this.pipeline.currentShader=this),this):this},setUniform3:function(n,i,r,f,l,h){var c=this.uniforms[i];return c?((h||c.value1!==r||c.value2!==f||c.value3!==l)&&(c.value1=r,c.value2=f,c.value3=l,this.renderer.setProgram(this.program),n.call(this.gl,c.location,r,f,l),this.pipeline.currentShader=this),this):this},setUniform4:function(n,i,r,f,l,h,c){var v=this.uniforms[i];return v?((c||v.value1!==r||v.value2!==f||v.value3!==l||v.value4!==h)&&(v.value1=r,v.value2=f,v.value3=l,v.value4=h,this.renderer.setProgram(this.program),n.call(this.gl,v.location,r,f,l,h),this.pipeline.currentShader=this),this):this},set1f:function(n,i){return this.setUniform1(this.gl.uniform1f,n,i)},set2f:function(n,i,r){return this.setUniform2(this.gl.uniform2f,n,i,r)},set3f:function(n,i,r,f){return this.setUniform3(this.gl.uniform3f,n,i,r,f)},set4f:function(n,i,r,f,l){return this.setUniform4(this.gl.uniform4f,n,i,r,f,l)},set1fv:function(n,i){return this.setUniform1(this.gl.uniform1fv,n,i,!0)},set2fv:function(n,i){return this.setUniform1(this.gl.uniform2fv,n,i,!0)},set3fv:function(n,i){return this.setUniform1(this.gl.uniform3fv,n,i,!0)},set4fv:function(n,i){return this.setUniform1(this.gl.uniform4fv,n,i,!0)},set1iv:function(n,i){return this.setUniform1(this.gl.uniform1iv,n,i,!0)},set2iv:function(n,i){return this.setUniform1(this.gl.uniform2iv,n,i,!0)},set3iv:function(n,i){return this.setUniform1(this.gl.uniform3iv,n,i,!0)},set4iv:function(n,i){return this.setUniform1(this.gl.uniform4iv,n,i,!0)},set1i:function(n,i){return this.setUniform1(this.gl.uniform1i,n,i)},set2i:function(n,i,r){return this.setUniform2(this.gl.uniform2i,n,i,r)},set3i:function(n,i,r,f){return this.setUniform3(this.gl.uniform3i,n,i,r,f)},set4i:function(n,i,r,f,l){return this.setUniform4(this.gl.uniform4i,n,i,r,f,l)},setMatrix2fv:function(n,i,r){return this.setUniform2(this.gl.uniformMatrix2fv,n,i,r,!0)},setMatrix3fv:function(n,i,r){return this.setUniform2(this.gl.uniformMatrix3fv,n,i,r,!0)},setMatrix4fv:function(n,i,r){return this.setUniform2(this.gl.uniformMatrix4fv,n,i,r,!0)},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(59),s=t(2),a=t(875),n=t(876),i=t(25),r=t(107),f=t(58),l=new e({Extends:f,initialize:function(c){c.fragShader=s(c,"fragShader",a),c.vertShader=s(c,"vertShader",n),c.attributes=s(c,"attributes",[{name:"inPosition",size:2},{name:"inColor",size:4,type:r.UNSIGNED_BYTE,normalized:!0}]),f.call(this,c),this.calcMatrix=new i,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},batchFillRect:function(h,c,v,d,m,y){this.renderer.pipelines.set(this);var T=this.calcMatrix;y&&y.multiply(m,T);var C=h+v,R=c+d,A=T.getX(h,c),P=T.getY(h,c),O=T.getX(h,R),b=T.getY(h,R),D=T.getX(C,R),N=T.getY(C,R),B=T.getX(C,c),U=T.getY(C,c),G=this.fillTint;this.batchQuad(A,P,O,b,D,N,B,U,G.TL,G.TR,G.BL,G.BR)},batchFillTriangle:function(h,c,v,d,m,y,T,C){this.renderer.pipelines.set(this);var R=this.calcMatrix;C&&C.multiply(T,R);var A=R.getX(h,c),P=R.getY(h,c),O=R.getX(v,d),b=R.getY(v,d),D=R.getX(m,y),N=R.getY(m,y),B=this.fillTint;this.batchTri(A,P,O,b,D,N,B.TL,B.TR,B.BL)},batchStrokeTriangle:function(h,c,v,d,m,y,T,C,R){var A=this.tempTriangle;A[0].x=h,A[0].y=c,A[0].width=T,A[1].x=v,A[1].y=d,A[1].width=T,A[2].x=m,A[2].y=y,A[2].width=T,A[3].x=h,A[3].y=c,A[3].width=T,this.batchStrokePath(A,T,!1,C,R)},batchFillPath:function(h,c,v){this.renderer.pipelines.set(this);var d=this.calcMatrix;v&&v.multiply(c,d);for(var m=h.length,y=this.polygonCache,T,C,R=this.fillTint.TL,A=this.fillTint.TR,P=this.fillTint.BL,O=0;O<m;++O)C=h[O],y.push(C.x,C.y);T=u(y),m=T.length;for(var b=0;b<m;b+=3){var D=T[b+0]*2,N=T[b+1]*2,B=T[b+2]*2,U=y[D+0],G=y[D+1],W=y[N+0],$=y[N+1],q=y[B+0],_=y[B+1],V=d.getX(U,G),w=d.getY(U,G),z=d.getX(W,$),Y=d.getY(W,$),H=d.getX(q,_),j=d.getY(q,_);this.batchTri(V,w,z,Y,H,j,R,A,P)}y.length=0},batchStrokePath:function(h,c,v,d,m){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var y=h.length-1,T=0;T<y;T++){var C=h[T],R=h[T+1];this.batchLine(C.x,C.y,R.x,R.y,C.width/2,R.width/2,c,T,!v&&T===y-1,d,m)}},batchLine:function(h,c,v,d,m,y,T,C,R,A,P){this.renderer.pipelines.set(this);var O=this.calcMatrix;P&&P.multiply(A,O);var b=v-h,D=d-c,N=Math.sqrt(b*b+D*D),B=m*(d-c)/N,U=m*(h-v)/N,G=y*(d-c)/N,W=y*(h-v)/N,$=v-G,q=d-W,_=h-B,V=c-U,w=v+G,z=d+W,Y=h+B,H=c+U,j=O.getX($,q),Z=O.getY($,q),k=O.getX(_,V),nt=O.getY(_,V),rt=O.getX(w,z),ht=O.getY(w,z),vt=O.getX(Y,H),ot=O.getY(Y,H),Et=this.strokeTint,Tt=Et.TL,Pt=Et.TR,Xt=Et.BL,zt=Et.BR;if(this.batchQuad(vt,ot,k,nt,j,Z,rt,ht,Tt,Pt,Xt,zt),!(T<=2)){var Ut=this.prevQuad,Mt=this.firstQuad;C>0&&Ut[4]?this.batchQuad(vt,ot,k,nt,Ut[0],Ut[1],Ut[2],Ut[3],Tt,Pt,Xt,zt):(Mt[0]=vt,Mt[1]=ot,Mt[2]=k,Mt[3]=nt,Mt[4]=1),R&&Mt[4]?this.batchQuad(j,Z,rt,ht,Mt[0],Mt[1],Mt[2],Mt[3],Tt,Pt,Xt,zt):(Ut[0]=j,Ut[1]=Z,Ut[2]=rt,Ut[3]=ht,Ut[4]=1)}},batchVert:function(h,c,v){var d=this.vertexViewF32,m=this.vertexViewU32,y=this.vertexCount*this.currentShader.vertexComponentCount-1;d[++y]=h,d[++y]=c,m[++y]=v,this.vertexCount++},batchQuad:function(h,c,v,d,m,y,T,C,R,A,P,O){var b=!1;return this.shouldFlush(6)&&(this.flush(),b=!0),this.batchVert(h,c,R),this.batchVert(v,d,P),this.batchVert(m,y,O),this.batchVert(h,c,R),this.batchVert(m,y,O),this.batchVert(T,C,A),b},batchTri:function(h,c,v,d,m,y,T,C,R){var A=!1;return this.shouldFlush(3)&&(this.flush(),A=!0),this.batchVert(h,c,T),this.batchVert(v,d,C),this.batchVert(m,y,R),A},destroy:function(){return f.prototype.destroy.call(this),this.polygonCache=null,this}});o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=t(877),a=t(108),n=t(3),i=t(58),r=10,f=new n,l=new e({Extends:a,initialize:function(c){r=c.game.renderer.config.maxLights;for(var v=u(c,"fragShader",s),d=[],m=1;m<=r;m++)d.push({name:"lights"+m,fragShader:v.replace("%LIGHT_COUNT%",m.toString())});c.shaders=d,a.call(this,c),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.lightsActive=!0},boot:function(){i.prototype.boot.call(this);var h=this.gl,c=h.createTexture();h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,c),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,1,1,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:c};for(var v=0;v<this.shaders.length;v++)this["lightShader"+(v+1)]=this.shaders[v]},onRender:function(h,c){var v=h.sys.lights;if(this.lightsActive=!1,!(!v||!v.active)){var d=v.getLights(c),m=d.length;if(m!==0){this.lightsActive=!0,this.setShader(this["lightShader"+m],!0);var y,T=this.renderer,C=T.height,R=c.matrix;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),y=0;y<m;y++){var A=d[y].light,P=A.color,O="uLights["+y+"].";R.transformPoint(A.x,A.y,f),this.set2f(O+"position",f.x-c.scrollX*A.scrollFactorX*c.zoom,C-(f.y-c.scrollY*A.scrollFactorY*c.zoom)),this.set3f(O+"color",P.r,P.g,P.b),this.set1f(O+"intensity",A.intensity),this.set1f(O+"radius",A.radius)}this.currentNormalMapRotation=null}}},setNormalMapRotation:function(h){if(h!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var c=this.inverseRotationMatrix;if(h){var v=-h,d=Math.cos(v),m=Math.sin(v);c[1]=m,c[3]=-m,c[0]=c[4]=d}else c[0]=c[4]=1,c[1]=c[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=h}},setTexture2D:function(h,c){var v=this.renderer;h===void 0&&(h=v.tempTextures[0]);var d=this.getNormalMap(c);v.isNewNormalMap(h,d)&&(this.flush(),v.setTextureZero(h),v.setNormalMap(d));var m=c?c.rotation:0;return this.setNormalMapRotation(m),this.currentUnit=0,0},setGameObject:function(h,c){c===void 0&&(c=h.frame);var v=this.renderer,d=c.glTexture,m=this.getNormalMap(h);return v.isNewNormalMap()&&(this.flush(),v.setTextureZero(d),v.setNormalMap(m)),this.setNormalMapRotation(h.rotation),this.currentUnit=0,0},getNormalMap:function(h){var c;return h?h.displayTexture?c=h.displayTexture.dataSource[h.displayFrame.sourceIndex]:h.texture?c=h.texture.dataSource[h.frame.sourceIndex]:h.tileset&&(Array.isArray(h.tileset)?c=h.tileset[0].image.dataSource[0]:c=h.tileset.image.dataSource[0]):c=this.defaultNormalMap,c||(c=this.defaultNormalMap),c.glTexture},batchSprite:function(h,c,v){this.lightsActive&&a.prototype.batchSprite.call(this,h,c,v)},batchTexture:function(h,c,v,d,m,y,T,C,R,A,P,O,b,D,N,B,U,G,W,$,q,_,V,w,z,Y,H,j,Z,k,nt,rt){this.lightsActive&&a.prototype.batchTexture.call(this,h,c,v,d,m,y,T,C,R,A,P,O,b,D,N,B,U,G,W,$,q,_,V,w,z,Y,H,j,Z,k,nt,rt)},batchTextureFrame:function(h,c,v,d,m,y,T){this.lightsActive&&a.prototype.batchTextureFrame.call(this,h,c,v,d,m,y,T)}});l.LIGHT_COUNT=r,o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=t(880),a=t(881),n=t(58),i=new e({Extends:n,initialize:function(f){f.vertShader=u(f,"vertShader",a),f.fragShader=u(f,"fragShader",s),f.attributes=u(f,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),n.call(this,f)},onRender:function(r,f){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",f.zoom)},batchPointLight:function(r,f,l,h,c,v,d,m,y,T,C,R){var A=r.color,P=r.intensity,O=r.radius,b=r.attenuation,D=A.r*P,N=A.g*P,B=A.b*P,U=f.alpha*r.alpha;this.shouldFlush(6)&&this.flush(),this.batchLightVert(l,h,C,R,O,b,D,N,B,U),this.batchLightVert(c,v,C,R,O,b,D,N,B,U),this.batchLightVert(d,m,C,R,O,b,D,N,B,U),this.batchLightVert(l,h,C,R,O,b,D,N,B,U),this.batchLightVert(d,m,C,R,O,b,D,N,B,U),this.batchLightVert(y,T,C,R,O,b,D,N,B,U)},batchLightVert:function(r,f,l,h,c,v,d,m,y,T){var C=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;C[++R]=r,C[++R]=f,C[++R]=l,C[++R]=h,C[++R]=c,C[++R]=v,C[++R]=d,C[++R]=m,C[++R]=y,C[++R]=T,this.vertexCount++}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=t(108),a=new e({Extends:s,initialize:function(i){i.topology=5,i.batchSize=u(i,"batchSize",256),s.call(this,i)}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=t(108),a=t(882),n=t(883),i=t(58),r=new e({Extends:s,initialize:function(l){l.fragShader=u(l,"fragShader",a),l.vertShader=u(l,"vertShader",n),l.forceZero=!0,s.call(this,l)},boot:function(){i.prototype.boot.call(this),this.set1i("uMainSampler",0)}});o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(884),u=t(35),s=t(0),a=t(198),n=t(885),i=t(886),r=t(2),f=t(887),l=t(382),h=t(58),c=new s({Extends:h,initialize:function(d){d.renderTarget=r(d,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),d.vertShader=r(d,"vertShader",l),d.shaders=r(d,"shaders",[{name:"Copy",fragShader:i},{name:"AddBlend",fragShader:e},{name:"LinearBlend",fragShader:f},{name:"ColorMatrix",fragShader:n}]),d.attributes=r(d,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),d.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],d.batchSize=1,h.call(this,d),this.colorMatrix=new a,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){h.prototype.boot.call(this);var v=this.shaders,d=this.renderTargets;this.copyShader=v[0],this.addShader=v[1],this.linearShader=v[2],this.colorMatrixShader=v[3],this.fullFrame1=d[0],this.fullFrame2=d[1],this.halfFrame1=d[2],this.halfFrame2=d[3]},copyFrame:function(v,d,m,y,T){m===void 0&&(m=1),y===void 0&&(y=!0),T===void 0&&(T=!0);var C=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,v.texture),d?(C.viewport(0,0,d.width,d.height),C.bindFramebuffer(C.FRAMEBUFFER,d.framebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,d.texture,0)):C.viewport(0,0,v.width,v.height),y&&(T?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT)),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindTexture(C.TEXTURE_2D,null)},blitFrame:function(v,d,m,y,T,C){m===void 0&&(m=1),y===void 0&&(y=!0),T===void 0&&(T=!0),C===void 0&&(C=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",m),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,v.texture),v.height>d.height)R.viewport(0,0,v.width,v.height),this.setTargetUVs(v,d);else{var A=d.height-v.height;R.viewport(0,A,v.width,v.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,d.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,d.texture,0),y&&(T?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),C){var P=this.renderer.currentBlendMode;this.renderer.setBlendMode(u.ERASE)}R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),C&&this.renderer.setBlendMode(P),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(v,d,m,y,T,C,R,A){R===void 0&&(R=!0),A===void 0&&(A=!0);var P=this.gl;P.bindFramebuffer(P.FRAMEBUFFER,v.framebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,v.texture,0),R&&(A?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,d.texture),P.copyTexSubImage2D(P.TEXTURE_2D,0,0,0,m,y,T,C),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},copyToGame:function(v){var d=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,v.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),this.renderer.resetTextures()},drawFrame:function(v,d,m,y){m===void 0&&(m=!0),y===void 0&&(y=this.colorMatrix);var T=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",y.getData()),this.set1f("uAlpha",y.alpha),T.activeTexture(T.TEXTURE0),T.bindTexture(T.TEXTURE_2D,v.texture),d?(T.viewport(0,0,d.width,d.height),T.bindFramebuffer(T.FRAMEBUFFER,d.framebuffer),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,d.texture,0)):T.viewport(0,0,v.width,v.height),m?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT),T.bufferData(T.ARRAY_BUFFER,this.vertexData,T.STATIC_DRAW),T.drawArrays(T.TRIANGLES,0,6),T.bindFramebuffer(T.FRAMEBUFFER,null),T.bindTexture(T.TEXTURE_2D,null)},blendFrames:function(v,d,m,y,T,C){y===void 0&&(y=1),T===void 0&&(T=!0),C===void 0&&(C=this.linearShader);var R=this.gl;this.setShader(C),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",y),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,v.texture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,d.texture),m?(R.bindFramebuffer(R.FRAMEBUFFER,m.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,m.texture,0),R.viewport(0,0,m.width,m.height)):R.viewport(0,0,v.width,v.height),T?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},blendFramesAdditive:function(v,d,m,y,T){this.blendFrames(v,d,m,y,T,this.addShader)},clearFrame:function(v,d){d===void 0&&(d=!0);var m=this.gl;m.viewport(0,0,v.width,v.height),m.bindFramebuffer(m.FRAMEBUFFER,v.framebuffer),d?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT);var y=this.renderer.currentFramebuffer;m.bindFramebuffer(m.FRAMEBUFFER,y)},setUVs:function(v,d,m,y,T,C,R,A){var P=this.vertexViewF32;P[2]=v,P[3]=d,P[6]=m,P[7]=y,P[10]=T,P[11]=C,P[14]=v,P[15]=d,P[18]=T,P[19]=C,P[22]=R,P[23]=A},setTargetUVs:function(v,d){var m=d.height/v.height;m>.5?m=.5-(m-.5):m=.5+(.5-m),this.setUVs(0,m,0,1+m,1,1+m,1,m)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});o.exports=c},function(o,x){o.exports=["#define SHADER_NAME PHASER_QUAD_VS","","precision mediump float;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","","varying vec2 outFragCoord;","varying vec2 outTexCoord;","","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","","    gl_Position = vec4(inPosition, 0, 1);","}",""].join(`
`)},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(38),s=t(2),a=function(n,i){var r=n.getContext("experimental-webgl"),f=s(i,"callback"),l=s(i,"type","image/png"),h=s(i,"encoder",.92),c=s(i,"x",0),v=s(i,"y",0),d=s(i,"getPixel",!1),m=s(i,"isFramebuffer",!1),y=m?s(i,"bufferWidth",1):r.drawingBufferWidth,T=m?s(i,"bufferHeight",1):r.drawingBufferHeight;if(d){var C=new Uint8Array(4),R=m?v:T-v;r.readPixels(c,R,1,1,r.RGBA,r.UNSIGNED_BYTE,C),f.call(null,new u(C[0],C[1],C[2],C[3]/255))}else{var A=s(i,"width",y),P=s(i,"height",T),O=A*P*4,b=new Uint8Array(O);r.readPixels(c,T-v-P,A,P,r.RGBA,r.UNSIGNED_BYTE,b);for(var D=e.createWebGL(this,A,P),N=D.getContext("2d"),B=N.getImageData(0,0,A,P),U=B.data,G=0;G<P;G++)for(var W=0;W<A;W++){var $=((P-G-1)*A+W)*4,q=(G*A+W)*4;U[q+0]=b[$+0],U[q+1]=b[$+1],U[q+2]=b[$+2],U[q+3]=b[$+3]}N.putImageData(B,0,0);var _=new Image;_.onerror=function(){f.call(null),e.remove(D)},_.onload=function(){f.call(null,_),e.remove(D)},_.src=D.toDataURL(l,h)}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(33),u=function(s){var a=s.config;if(!a.hideBanner){var n="WebGL";a.renderType===e.CANVAS?n="Canvas":a.renderType===e.HEADLESS&&(n="Headless");var i=a.audio,r=s.device.audio,f;if(r.webAudio&&!i.disableWebAudio?f="Web Audio":i.noAudio||!r.webAudio&&!r.audioData?f="No Audio":f="HTML5 Audio",s.device.browser.ie)window.console&&console.log("Phaser v"+e.VERSION+" / https://phaser.io");else{var l="",h=[l];if(Array.isArray(a.bannerBackgroundColor)){var c;a.bannerBackgroundColor.forEach(function(d){l=l.concat("%c "),h.push("background: "+d),c=d}),h[h.length-1]="color: "+a.bannerTextColor+"; background: "+c}else l=l.concat("%c "),h.push("color: "+a.bannerTextColor+"; background: "+a.bannerBackgroundColor);h.push("background: transparent"),a.gameTitle&&(l=l.concat(a.gameTitle),a.gameVersion&&(l=l.concat(" v"+a.gameVersion)),a.hidePhaser||(l=l.concat(" / ")));var v="";a.hidePhaser||(l=l.concat("Phaser v"+e.VERSION+v+" ("+n+" | "+f+")")),l=l.concat(" %c "+a.gameURL),h[0]=l,console.log.apply(console,h)}}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(6),s=t(1),a=t(386),n=new e({initialize:function(r,f){this.game=r,this.raf=new a,this.started=!1,this.running=!1,this.minFps=u(f,"min",5),this.targetFps=u(f,"target",60),this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=s,this.forceSetTimeOut=u(f,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=u(f,"deltaHistory",10),this.panicMax=u(f,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=u(f,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var i=window.performance.now();this.time=i,this.lastTime=i,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=Math.min(this._target,this.deltaHistory[r]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(i){if(this.started)return this;this.started=!0,this.running=!0;for(var r=0;r<this.deltaSmoothingMax;r++)this.deltaHistory[r]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=i,this.raf.start(this.step.bind(this),this.forceSetTimeOut,this._target)},step:function(){var i=window.performance.now();this.now=i;var r=i-this.lastTime;r<0&&(r=0),this.rawDelta=r;var f=this.deltaIndex,l=this.deltaHistory,h=this.deltaSmoothingMax,c=r,v=r;if(this.smoothStep){(this._coolDown>0||!this.inFocus)&&(this._coolDown--,c=Math.min(c,this._target)),c>this._min&&(c=l[f],c=Math.min(c,this._min)),l[f]=c,this.deltaIndex++,this.deltaIndex>h&&(this.deltaIndex=0),v=0;for(var d=0;d<h;d++)v+=l[d];v/=h}this.delta=v,this.time+=this.rawDelta,i>this.nextFpsUpdate&&(this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=i+1e3,this.framesThisSecond=0),this.framesThisSecond++;var m=v/this._target;this.callback(i,v,m),this.lastTime=i,this.frame++},tick:function(){this.step()},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(i){this.running||(i&&(this.startTime+=-this.lastTime+(this.lastTime+window.performance.now())),this.raf.start(this.step.bind(this),this.useRAF),this.running=!0,this.step())},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.callback=s,this.raf=null,this.game=null}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(1),s=new e({initialize:function(){this.isRunning=!1,this.callback=u,this.tick=0,this.isSetTimeOut=!1,this.timeOutID=null,this.lastTime=0,this.target=0;var n=this;this.step=function i(){var r=window.performance.now();n.lastTime=n.tick,n.tick=r,n.callback(r),n.timeOutID=window.requestAnimationFrame(i)},this.stepTimeout=function i(){var r=Date.now(),f=Math.min(Math.max(n.target*2+n.tick-r,0),n.target);n.lastTime=n.tick,n.tick=r,n.callback(r),n.timeOutID=window.setTimeout(i,f)}},start:function(a,n,i){this.isRunning||(this.callback=a,this.isSetTimeOut=n,this.target=i,this.isRunning=!0,this.timeOutID=n?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=u}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(22),u=function(s){var a,n=s.events;if(document.hidden!==void 0)a="visibilitychange";else{var i=["webkit","moz","ms"];i.forEach(function(f){document[f+"Hidden"]!==void 0&&(document.hidden=function(){return document[f+"Hidden"]},a=f+"visibilitychange")})}var r=function(f){document.hidden||f.type==="pause"?n.emit(e.HIDDEN):n.emit(e.VISIBLE)};a&&document.addEventListener(a,r,!1),window.onblur=function(){n.emit(e.BLUR)},window.onfocus=function(){n.emit(e.FOCUS)},window.focus&&s.config.autoFocus&&window.focus()};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(389),u=t(31),s=t(6),a=function(n){var i=s(n,"data",[]),r=s(n,"canvas",null),f=s(n,"palette",e),l=s(n,"pixelWidth",1),h=s(n,"pixelHeight",l),c=s(n,"resizeCanvas",!0),v=s(n,"clearCanvas",!0),d=s(n,"preRender",null),m=s(n,"postRender",null),y=Math.floor(Math.abs(i[0].length*l)),T=Math.floor(Math.abs(i.length*h));r||(r=u.create2D(this,y,T),c=!1,v=!1),c&&(r.width=y,r.height=T);var C=r.getContext("2d");v&&C.clearRect(0,0,y,T),d&&d(r,C);for(var R=0;R<i.length;R++)for(var A=i[R],P=0;P<A.length;P++){var O=A[P];O!=="."&&O!==" "&&(C.fillStyle=f[O],C.fillRect(P*l,R*h,l,h))}return m&&m(r,C),r};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(358),s=t(94),a=t(3),n=new e({Extends:s,initialize:function(r,f,l,h){s.call(this,"CubicBezierCurve"),Array.isArray(r)&&(h=new a(r[6],r[7]),l=new a(r[4],r[5]),f=new a(r[2],r[3]),r=new a(r[0],r[1])),this.p0=r,this.p1=f,this.p2=l,this.p3=h},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,r){r===void 0&&(r=new a);var f=this.p0,l=this.p1,h=this.p2,c=this.p3;return r.set(u(i,f.x,l.x,h.x,c.x),u(i,f.y,l.y,h.y,c.y))},draw:function(i,r){r===void 0&&(r=32);var f=this.getPoints(r);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var l=1;l<f.length;l++)i.lineTo(f[l].x,f[l].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});n.fromJSON=function(i){var r=i.points,f=new a(r[0],r[1]),l=new a(r[2],r[3]),h=new a(r[4],r[5]),c=new a(r[6],r[7]);return new n(f,l,h,c)},o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(94),s=t(36),a=t(6),n=t(196),i=t(3),r=new e({Extends:u,initialize:function(l,h,c,v,d,m,y,T){if(typeof l=="object"){var C=l;l=a(C,"x",0),h=a(C,"y",0),c=a(C,"xRadius",0),v=a(C,"yRadius",c),d=a(C,"startAngle",0),m=a(C,"endAngle",360),y=a(C,"clockwise",!1),T=a(C,"rotation",0)}else v===void 0&&(v=c),d===void 0&&(d=0),m===void 0&&(m=360),y===void 0&&(y=!1),T===void 0&&(T=0);u.call(this,"EllipseCurve"),this.p0=new i(l,h),this._xRadius=c,this._yRadius=v,this._startAngle=s(d),this._endAngle=s(m),this._clockwise=y,this._rotation=s(T)},getStartPoint:function(f){return f===void 0&&(f=new i),this.getPoint(0,f)},getResolution:function(f){return f*2},getPoint:function(f,l){l===void 0&&(l=new i);for(var h=Math.PI*2,c=this._endAngle-this._startAngle,v=Math.abs(c)<Number.EPSILON;c<0;)c+=h;for(;c>h;)c-=h;c<Number.EPSILON&&(v?c=0:c=h),this._clockwise&&!v&&(c===h?c=-h:c=c-h);var d=this._startAngle+f*c,m=this.p0.x+this._xRadius*Math.cos(d),y=this.p0.y+this._yRadius*Math.sin(d);if(this._rotation!==0){var T=Math.cos(this._rotation),C=Math.sin(this._rotation),R=m-this.p0.x,A=y-this.p0.y;m=R*T-A*C+this.p0.x,y=R*C+A*T+this.p0.y}return l.set(m,y)},setXRadius:function(f){return this.xRadius=f,this},setYRadius:function(f){return this.yRadius=f,this},setWidth:function(f){return this.xRadius=f/2,this},setHeight:function(f){return this.yRadius=f/2,this},setStartAngle:function(f){return this.startAngle=f,this},setEndAngle:function(f){return this.endAngle=f,this},setClockwise:function(f){return this.clockwise=f,this},setRotation:function(f){return this.rotation=f,this},x:{get:function(){return this.p0.x},set:function(f){this.p0.x=f}},y:{get:function(){return this.p0.y},set:function(f){this.p0.y=f}},xRadius:{get:function(){return this._xRadius},set:function(f){this._xRadius=f}},yRadius:{get:function(){return this._yRadius},set:function(f){this._yRadius=f}},startAngle:{get:function(){return n(this._startAngle)},set:function(f){this._startAngle=s(f)}},endAngle:{get:function(){return n(this._endAngle)},set:function(f){this._endAngle=s(f)}},clockwise:{get:function(){return this._clockwise},set:function(f){this._clockwise=f}},angle:{get:function(){return n(this._rotation)},set:function(f){this._rotation=s(f)}},rotation:{get:function(){return this._rotation},set:function(f){this._rotation=f}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:n(this._startAngle),endAngle:n(this._endAngle),clockwise:this._clockwise,rotation:n(this._rotation)}}});r.fromJSON=function(f){return new r(f)},o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(94),s=t(199),a=t(10),n=t(3),i=new e({Extends:u,initialize:function(f,l){u.call(this,"LineCurve"),Array.isArray(f)&&(l=new n(f[2],f[3]),f=new n(f[0],f[1])),this.p0=f,this.p1=l,this.arcLengthDivisions=1},getBounds:function(r){return r===void 0&&(r=new a),s([this.p0,this.p1],r)},getStartPoint:function(r){return r===void 0&&(r=new n),r.copy(this.p0)},getResolution:function(r){return r===void 0&&(r=1),r},getPoint:function(r,f){return f===void 0&&(f=new n),r===1?f.copy(this.p1):(f.copy(this.p1).subtract(this.p0).scale(r).add(this.p0),f)},getPointAt:function(r,f){return this.getPoint(r,f)},getTangent:function(r,f){return f===void 0&&(f=new n),f.copy(this.p1).subtract(this.p0).normalize(),f},getUtoTmapping:function(r,f,l){var h;if(f){var c=this.getLengths(l),v=c[c.length-1],d=Math.min(f,v);h=d/v}else h=r;return h},draw:function(r){return r.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),r},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});i.fromJSON=function(r){var f=r.points,l=new n(f[0],f[1]),h=new n(f[2],f[3]);return new i(l,h)},o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(3),s=new e({initialize:function(n,i){this.active=!1,this.p0=new u(n,i)},getPoint:function(a,n){return n===void 0&&(n=new u),n.copy(this.p0)},getPointAt:function(a,n){return this.getPoint(a,n)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(94),s=t(359),a=t(3),n=new e({Extends:u,initialize:function(r,f,l){u.call(this,"QuadraticBezier"),Array.isArray(r)&&(l=new a(r[4],r[5]),f=new a(r[2],r[3]),r=new a(r[0],r[1])),this.p0=r,this.p1=f,this.p2=l},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.p0)},getResolution:function(i){return i},getPoint:function(i,r){r===void 0&&(r=new a);var f=this.p0,l=this.p1,h=this.p2;return r.set(s(i,f.x,l.x,h.x),s(i,f.y,l.y,h.y))},draw:function(i,r){r===void 0&&(r=32);var f=this.getPoints(r);i.beginPath(),i.moveTo(this.p0.x,this.p0.y);for(var l=1;l<f.length;l++)i.lineTo(f[l].x,f[l].y);return i.strokePath(),i},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});n.fromJSON=function(i){var r=i.points,f=new a(r[0],r[1]),l=new a(r[2],r[3]),h=new a(r[4],r[5]);return new n(f,l,h)},o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),u=t(0),s=t(94),a=t(3),n=new u({Extends:s,initialize:function(r){r===void 0&&(r=[]),s.call(this,"SplineCurve"),this.points=[],this.addPoints(r)},addPoints:function(i){for(var r=0;r<i.length;r++){var f=new a;typeof i[r]=="number"?(f.x=i[r],f.y=i[r+1],r++):Array.isArray(i[r])?(f.x=i[r][0],f.y=i[r][1]):(f.x=i[r].x,f.y=i[r].y),this.points.push(f)}return this},addPoint:function(i,r){var f=new a(i,r);return this.points.push(f),f},getStartPoint:function(i){return i===void 0&&(i=new a),i.copy(this.points[0])},getResolution:function(i){return i*this.points.length},getPoint:function(i,r){r===void 0&&(r=new a);var f=this.points,l=(f.length-1)*i,h=Math.floor(l),c=l-h,v=f[h===0?h:h-1],d=f[h],m=f[h>f.length-2?f.length-1:h+1],y=f[h>f.length-3?f.length-1:h+2];return r.set(e(c,v.x,d.x,m.x,y.x),e(c,v.y,d.y,m.y,y.y))},toJSON:function(){for(var i=[],r=0;r<this.points.length;r++)i.push(this.points[r].x),i.push(this.points[r].y);return{type:this.type,points:i}}});n.fromJSON=function(i){return new n(i.points)},o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i,r){(!n||n==="")&&(n=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!i||i==="")&&(i=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),r===void 0&&(r=null),this.key=a,this.fragmentSrc=n,this.vertexSrc=i,this.uniforms=r}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38);e.ColorSpectrum=t(909),e.ColorToRGBA=t(910),e.ComponentToHex=t(398),e.GetColor=t(103),e.GetColor32=t(328),e.HexStringToColor=t(327),e.HSLToColor=t(911),e.HSVColorWheel=t(912),e.HSVToRGB=t(188),e.HueToComponent=t(399),e.IntegerToColor=t(189),e.IntegerToRGB=t(330),e.Interpolate=t(913),e.ObjectToColor=t(331),e.RandomRGB=t(914),e.RGBStringToColor=t(332),e.RGBToHSV=t(329),e.RGBToString=t(915),e.ValueToColor=t(187),o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=e.toString(16);return u.length===1?"0"+u:u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return s<0&&(s+=1),s>1&&(s-=1),s<.16666666666666666?e+(u-e)*6*s:s<.5?u:s<.6666666666666666?e+(u-e)*(.6666666666666666-s)*6:e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(105),u=function(s){if(document.readyState==="complete"||document.readyState==="interactive"){s();return}var a=function(){document.removeEventListener("deviceready",a,!0),document.removeEventListener("DOMContentLoaded",a,!0),window.removeEventListener("load",a,!0),s()};document.body?e.cordova?document.addEventListener("deviceready",a,!1):(document.addEventListener("DOMContentLoaded",a,!0),window.addEventListener("load",a,!0)):window.setTimeout(a,20)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){if(!e)return window.innerHeight;var u=Math.abs(window.orientation),s={w:0,h:0},a=document.createElement("div");return a.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(a),s.w=u===90?a.offsetHeight:window.innerWidth,s.h=u===90?window.innerWidth:a.offsetHeight,document.documentElement.removeChild(a),a=null,Math.abs(window.orientation)!==90?s.h:s.w};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),u=function(s,a){var n=window.screen,i=n?n.orientation||n.mozOrientation||n.msOrientation:!1;if(i&&typeof i.type=="string")return i.type;if(typeof i=="string")return i;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return e.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return e.ORIENTATION.LANDSCAPE}else return a>s?e.ORIENTATION.PORTRAIT:e.ORIENTATION.LANDSCAPE};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u;return e!==""&&(typeof e=="string"?u=document.getElementById(e):e&&e.nodeType===1&&(u=e)),u||(u=document.body),u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u="";try{if(window.DOMParser){var s=new DOMParser;u=s.parseFromString(e,"text/xml")}else u=new ActiveXObject("Microsoft.XMLDOM"),u.loadXML(e)}catch{u=null}return!u||!u.documentElement||u.getElementsByTagName("parsererror").length?null:u};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(203),s=t(9),a=t(51),n=t(22),i=t(410),r=t(411),f=t(412),l=t(413),h=t(25),c=t(177),v=new e({initialize:function(m,y){this.game=m,this.scaleManager,this.canvas,this.config=y,this.enabled=!0,this.events=new s,this.isOver=!0,this.defaultCursor="",this.keyboard=y.inputKeyboard?new i(this):null,this.mouse=y.inputMouse?new r(this):null,this.touch=y.inputTouch?new l(this):null,this.pointers=[],this.pointersTotal=y.inputActivePointers,y.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var T=0;T<=this.pointersTotal;T++){var C=new f(this,T);C.smoothFactor=y.inputSmoothFactor,this.pointers.push(C)}this.mousePointer=y.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new h,this._tempMatrix2=new h,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],m.events.once(n.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(a.MANAGER_BOOT),this.game.events.on(n.PRE_RENDER,this.preRender,this),this.game.events.once(n.DESTROY,this.destroy,this)},setCanvasOver:function(d){this.isOver=!0,this.events.emit(a.GAME_OVER,d)},setCanvasOut:function(d){this.isOver=!1,this.events.emit(a.GAME_OUT,d)},preRender:function(){var d=this.game.loop.now,m=this.game.loop.delta,y=this.game.scene.getScenes(!0,!0);this.time=d,this.events.emit(a.MANAGER_UPDATE);for(var T=0;T<y.length;T++){var C=y[T];if(C.sys.input&&C.sys.input.updatePoll(d,m)&&this.globalTopOnly)return}},setDefaultCursor:function(d){this.defaultCursor=d,this.canvas.style.cursor!==d&&(this.canvas.style.cursor=d)},setCursor:function(d){d.cursor&&(this.canvas.style.cursor=d.cursor)},resetCursor:function(d){d.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(d){d===void 0&&(d=1);var m=[];this.pointersTotal+d>10&&(d=10-this.pointersTotal);for(var y=0;y<d;y++){var T=this.pointers.length,C=new f(this,T);C.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(C),this.pointersTotal++,m.push(C)}return m},updateInputPlugins:function(d,m){var y=this.game.scene.getScenes(!0,!0);this._tempSkip=!1;for(var T=0;T<y.length;T++){var C=y[T];if(C.sys.input){var R=C.sys.input.update(d,m);if(R&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(d){for(var m=this.pointers,y=[],T=0;T<d.changedTouches.length;T++)for(var C=d.changedTouches[T],R=1;R<this.pointersTotal;R++){var A=m[R];if(!A.active){A.touchstart(C,d),this.activePointer=A,y.push(A);break}}this.updateInputPlugins(u.TOUCH_START,y)},onTouchMove:function(d){for(var m=this.pointers,y=[],T=0;T<d.changedTouches.length;T++)for(var C=d.changedTouches[T],R=1;R<this.pointersTotal;R++){var A=m[R];if(A.active&&A.identifier===C.identifier){A.touchmove(C,d),this.activePointer=A,y.push(A);break}}this.updateInputPlugins(u.TOUCH_MOVE,y)},onTouchEnd:function(d){for(var m=this.pointers,y=[],T=0;T<d.changedTouches.length;T++)for(var C=d.changedTouches[T],R=1;R<this.pointersTotal;R++){var A=m[R];if(A.active&&A.identifier===C.identifier){A.touchend(C,d),y.push(A);break}}this.updateInputPlugins(u.TOUCH_END,y)},onTouchCancel:function(d){for(var m=this.pointers,y=[],T=0;T<d.changedTouches.length;T++)for(var C=d.changedTouches[T],R=1;R<this.pointersTotal;R++){var A=m[R];if(A.active&&A.identifier===C.identifier){A.touchcancel(C,d),y.push(A);break}}this.updateInputPlugins(u.TOUCH_CANCEL,y)},onMouseDown:function(d){var m=this.mousePointer;m.down(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(u.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(d){var m=this.mousePointer;m.move(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(u.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(d){var m=this.mousePointer;m.up(d),m.updateMotion(),this.activePointer=m,this.updateInputPlugins(u.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(d){var m=this.mousePointer;m.wheel(d),this.activePointer=m,this.updateInputPlugins(u.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(d){var m=this.mouse.locked;this.mousePointer.locked=m,this.events.emit(a.POINTERLOCK_CHANGE,d,m)},inputCandidate:function(d,m){var y=d.input;if(!y||!y.enabled||!y.alwaysEnabled&&!d.willRender(m))return!1;var T=!0,C=d.parentContainer;if(C)do{if(!C.willRender(m)){T=!1;break}C=C.parentContainer}while(C);return T},hitTest:function(d,m,y,T){T===void 0&&(T=this._tempHitTest);var C=this._tempPoint,R=y.scrollX,A=y.scrollY;T.length=0;var P=d.x,O=d.y;y.getWorldPoint(P,O,C),d.worldX=C.x,d.worldY=C.y;for(var b={x:0,y:0},D=this._tempMatrix,N=this._tempMatrix2,B=0;B<m.length;B++){var U=m[B];if(this.inputCandidate(U,y)){var G=C.x+R*U.scrollFactorX-R,W=C.y+A*U.scrollFactorY-A;U.parentContainer?(U.getWorldTransformMatrix(D,N),D.applyInverse(G,W,b)):c(G,W,U.x,U.y,U.rotation,U.scaleX,U.scaleY,b),this.pointWithinHitArea(U,b.x,b.y)&&T.push(U)}}return T},pointWithinHitArea:function(d,m,y){m+=d.displayOriginX,y+=d.displayOriginY;var T=d.input;return T&&T.hitAreaCallback(T.hitArea,m,y,d)?(T.localX=m,T.localY=y,!0):!1},pointWithinInteractiveObject:function(d,m,y){return d.hitArea?(m+=d.gameObject.displayOriginX,y+=d.gameObject.displayOriginY,d.localX=m,d.localY=y,d.hitAreaCallback(d.hitArea,m,y,d)):!1},transformPointer:function(d,m,y,T){var C=d.position,R=d.prevPosition;R.x=C.x,R.y=C.y;var A=this.scaleManager.transformX(m),P=this.scaleManager.transformY(y),O=d.smoothFactor;!T||O===0?(C.x=A,C.y=P):(C.x=A*O+R.x*(1-O),C.y=P*O+R.y*(1-O))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(n.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var d=0;d<this.pointers.length;d++)this.pointers[d].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),u=t(0),s=t(22),a=t(51),n=t(143),i=t(1),r=new u({initialize:function(l){this.manager=l,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=i,this.onKeyUp=i,l.events.once(a.MANAGER_BOOT,this.boot,this)},boot:function(){var f=this.manager.config;this.enabled=f.inputKeyboard,this.target=f.inputKeyboardEventTarget,this.addCapture(f.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(s.POST_STEP,this.postUpdate,this)},startListeners:function(){var f=this;this.onKeyDown=function(h){if(!(h.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(h),f.manager.events.emit(a.MANAGER_PROCESS);var c=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;f.preventDefault&&!c&&f.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}},this.onKeyUp=function(h){if(!(h.defaultPrevented||!f.enabled||!f.manager)){f.queue.push(h),f.manager.events.emit(a.MANAGER_PROCESS);var c=h.altKey||h.ctrlKey||h.shiftKey||h.metaKey;f.preventDefault&&!c&&f.captures.indexOf(h.keyCode)>-1&&h.preventDefault()}};var l=this.target;l&&(l.addEventListener("keydown",this.onKeyDown,!1),l.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var f=this.target;f.removeEventListener("keydown",this.onKeyDown,!1),f.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var l=this.captures,h=0;h<f.length;h++){var c=f[h];typeof c=="string"&&(c=n[c.trim().toUpperCase()]),l.indexOf(c)===-1&&l.push(c)}this.preventDefault=l.length>0},removeCapture:function(f){typeof f=="string"&&(f=f.split(",")),Array.isArray(f)||(f=[f]);for(var l=this.captures,h=0;h<f.length;h++){var c=f[h];typeof c=="string"&&(c=n[c.toUpperCase()]),e(l,c)}this.preventDefault=l.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(s.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(191),s=t(51),a=t(1),n=new e({initialize:function(r){this.manager=r,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=a,this.onMouseDown=a,this.onMouseUp=a,this.onMouseDownWindow=a,this.onMouseUpWindow=a,this.onMouseOver=a,this.onMouseOut=a,this.onMouseWheel=a,this.pointerLockChange=a,this.isTop=!0,r.events.once(s.MANAGER_BOOT,this.boot,this)},boot:function(){var i=this.manager.config;this.enabled=i.inputMouse,this.target=i.inputMouseEventTarget,this.passive=i.inputMousePassive,this.preventDefaultDown=i.inputMousePreventDefaultDown,this.preventDefaultUp=i.inputMousePreventDefaultUp,this.preventDefaultMove=i.inputMousePreventDefaultMove,this.preventDefaultWheel=i.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,i.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(i){return i.preventDefault(),!1}),this},requestPointerLock:function(){if(u.pointerLock){var i=this.target;i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock,i.requestPointerLock()}},releasePointerLock:function(){u.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var i=this.target;if(i){var r=this,f=this.manager,l=f.canvas,h=window&&window.focus&&f.game.config.autoFocus;this.onMouseMove=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseMove(v),r.preventDefaultMove&&v.preventDefault())},this.onMouseDown=function(v){h&&window.focus(),!v.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseDown(v),r.preventDefaultDown&&v.target===l&&v.preventDefault())},this.onMouseDownWindow=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&v.target!==l&&f.onMouseDown(v)},this.onMouseUp=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&(f.onMouseUp(v),r.preventDefaultUp&&v.target===l&&v.preventDefault())},this.onMouseUpWindow=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&v.target!==l&&f.onMouseUp(v)},this.onMouseOver=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&f.setCanvasOver(v)},this.onMouseOut=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&f.setCanvasOut(v)},this.onMouseWheel=function(v){!v.defaultPrevented&&r.enabled&&f&&f.enabled&&f.onMouseWheel(v),r.preventDefaultWheel&&v.target===l&&v.preventDefault()};var c={passive:!0};if(i.addEventListener("mousemove",this.onMouseMove),i.addEventListener("mousedown",this.onMouseDown),i.addEventListener("mouseup",this.onMouseUp),i.addEventListener("mouseover",this.onMouseOver,c),i.addEventListener("mouseout",this.onMouseOut,c),this.preventDefaultWheel?i.addEventListener("wheel",this.onMouseWheel,{passive:!1}):i.addEventListener("wheel",this.onMouseWheel,c),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,c),window.top.addEventListener("mouseup",this.onMouseUpWindow,c)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,c),window.addEventListener("mouseup",this.onMouseUpWindow,c),this.isTop=!1}u.pointerLock&&(this.pointerLockChange=function(v){var d=r.target;r.locked=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d,f.onPointerLockChange(v)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var i=this.target;i.removeEventListener("mousemove",this.onMouseMove),i.removeEventListener("mousedown",this.onMouseDown),i.removeEventListener("mouseup",this.onMouseUp),i.removeEventListener("mouseover",this.onMouseOver),i.removeEventListener("mouseout",this.onMouseOut),window&&(i=this.isTop?window.top:window,i.removeEventListener("mousedown",this.onMouseDownWindow),i.removeEventListener("mouseup",this.onMouseUpWindow)),u.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(349),u=t(0),s=t(50),a=t(124),n=t(360),i=t(3),r=t(105),f=new u({initialize:function(h,c){this.manager=h,this.id=c,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new i,this.prevPosition=new i,this.midPoint=new i(-1,-1),this.velocity=new i,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=c===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(l){var h=l.getWorldPoint(this.x,this.y);return this.worldX=h.x,this.worldY=h.y,this},positionToCamera:function(l,h){return l.getWorldPoint(this.x,this.y,h)},updateMotion:function(){var l=this.position.x,h=this.position.y,c=this.midPoint.x,v=this.midPoint.y;if(!(l===c&&h===v)){var d=n(this.motionFactor,c,l),m=n(this.motionFactor,v,h);a(d,l,.1)&&(d=l),a(m,h,.1)&&(m=h),this.midPoint.set(d,m);var y=l-d,T=h-m;this.velocity.set(y,T),this.angle=e(d,m,l,h),this.distance=Math.sqrt(y*y+T*T)}},up:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.button=l.button,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),l.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=l.timeStamp,this.wasTouch=!1)},down:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.button=l.button,this.downElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),l.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),r.macOS&&l.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=l.timeStamp),this.wasTouch=!1},move:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.manager.transformPointer(this,l.pageX,l.pageY,!0),this.locked&&(this.movementX=l.movementX||l.mozMovementX||l.webkitMovementX||0,this.movementY=l.movementY||l.mozMovementY||l.webkitMovementY||0),this.moveTime=l.timeStamp,this.wasTouch=!1},wheel:function(l){"buttons"in l&&(this.buttons=l.buttons),this.event=l,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.deltaX=l.deltaX,this.deltaY=l.deltaY,this.deltaZ=l.deltaZ,this.wasTouch=!1},touchstart:function(l,h){l.pointerId&&(this.pointerId=l.pointerId),this.identifier=l.identifier,this.target=l.target,this.active=!0,this.buttons=1,this.event=h,this.downElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=h.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(l,h){this.event=h,this.manager.transformPointer(this,l.pageX,l.pageY,!0),this.moveTime=h.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(l,h){this.buttons=0,this.event=h,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(l,h){this.buttons=0,this.event=h,this.upElement=l.target,this.manager.transformPointer(this,l.pageX,l.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=h.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?s(this.downX,this.downY,this.x,this.y):s(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?e(this.downX,this.downY,this.x,this.y):e(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(l,h){l===void 0&&(l=10),h===void 0&&(h=[]);for(var c=this.prevPosition.x,v=this.prevPosition.y,d=this.position.x,m=this.position.y,y=0;y<l;y++){var T=1/l*y;h[y]={x:n(T,c,d),y:n(T,v,m)}}return h},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(l){this.position.x=l}},y:{get:function(){return this.position.y},set:function(l){this.position.y=l}},time:{get:function(){return this.event?this.event.timeStamp:0}}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(51),s=t(1),a=new e({initialize:function(i){this.manager=i,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=s,this.onTouchStartWindow=s,this.onTouchMove=s,this.onTouchEnd=s,this.onTouchEndWindow=s,this.onTouchCancel=s,this.onTouchCancelWindow=s,this.onTouchOver=s,this.onTouchOut=s,i.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputTouch,this.target=n.inputTouchEventTarget,this.capture=n.inputTouchCapture,this.target||(this.target=this.manager.game.canvas),n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return document.body.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},startListeners:function(){var n=this,i=this.manager.canvas,r=window&&window.focus&&this.manager.game.config.autoFocus;this.onTouchStart=function(c){r&&window.focus(),!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&(n.manager.onTouchStart(c),n.capture&&c.cancelable&&c.target===i&&c.preventDefault())},this.onTouchStartWindow=function(c){!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&c.target!==i&&n.manager.onTouchStart(c)},this.onTouchMove=function(c){!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&(n.manager.onTouchMove(c),n.capture&&c.cancelable&&c.preventDefault())},this.onTouchEnd=function(c){!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&(n.manager.onTouchEnd(c),n.capture&&c.cancelable&&c.target===i&&c.preventDefault())},this.onTouchEndWindow=function(c){!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&c.target!==i&&n.manager.onTouchEnd(c)},this.onTouchCancel=function(c){!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&(n.manager.onTouchCancel(c),n.capture&&c.preventDefault())},this.onTouchCancelWindow=function(c){!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&n.manager.onTouchCancel(c)},this.onTouchOver=function(c){!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&n.manager.setCanvasOver(c)},this.onTouchOut=function(c){!c.defaultPrevented&&n.enabled&&n.manager&&n.manager.enabled&&n.manager.setCanvasOut(c)};var f=this.target;if(f){var l={passive:!0},h={passive:!1};f.addEventListener("touchstart",this.onTouchStart,this.capture?h:l),f.addEventListener("touchmove",this.onTouchMove,this.capture?h:l),f.addEventListener("touchend",this.onTouchEnd,this.capture?h:l),f.addEventListener("touchcancel",this.onTouchCancel,this.capture?h:l),f.addEventListener("touchover",this.onTouchOver,this.capture?h:l),f.addEventListener("touchout",this.onTouchOut,this.capture?h:l),window&&this.manager.game.config.inputWindowEvents&&(window.addEventListener("touchstart",this.onTouchStartWindow,h),window.addEventListener("touchend",this.onTouchEndWindow,h),window.addEventListener("touchcancel",this.onTouchCancelWindow,h)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("touchstart",this.onTouchStart),n.removeEventListener("touchmove",this.onTouchMove),n.removeEventListener("touchend",this.onTouchEnd),n.removeEventListener("touchcancel",this.onTouchCancel),n.removeEventListener("touchover",this.onTouchOver),n.removeEventListener("touchout",this.onTouchOut),window&&(window.removeEventListener("touchstart",this.onTouchStartWindow),window.removeEventListener("touchend",this.onTouchEndWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(22),s=t(9),a=t(8),n=t(16),i=t(5),r=t(2),f=t(24),l=t(93),h=new e({Extends:s,initialize:function(v){s.call(this),this.game=v,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],v.isBooted?this.boot():v.events.once(u.BOOT,this.boot,this)},boot:function(){var c,v,d,m,y,T,C,R=this.game.config,A=R.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),c=0;c<A.length;c++)v=A[c],d=r(v,"key",null),m=r(v,"plugin",null),y=r(v,"start",!1),T=r(v,"mapping",null),C=r(v,"data",null),d&&(m?this.install(d,m,y,T,C):console.warn("Missing `plugin` for key: "+d));for(A=R.installScenePlugins,A=A.concat(this._pendingScene),c=0;c<A.length;c++)v=A[c],d=r(v,"key",null),m=r(v,"plugin",null),T=r(v,"mapping",null),d&&(m?this.installScenePlugin(d,m,T):console.warn("Missing `plugin` for key: "+d));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(u.DESTROY,this.destroy,this)},addToScene:function(c,v,d){var m,y,T,C=this.game,R=c.scene,A=c.settings.map,P=c.settings.isBooted;for(m=0;m<v.length;m++)y=v[m],C[y]?(c[y]=C[y],A.hasOwnProperty(y)&&(R[A[y]]=c[y])):y==="game"&&A.hasOwnProperty(y)&&(R[A[y]]=C);for(var O=0;O<d.length;O++)for(T=d[O],m=0;m<T.length;m++)if(y=T[m],!!f.hasCore(y)){var b=f.getCore(y),D=b.mapping,N=new b.plugin(R,this,D);c[D]=N,b.custom?R[D]=N:A.hasOwnProperty(D)&&(R[A[D]]=N),P&&N.boot()}for(T=this.plugins,m=0;m<T.length;m++){var B=T[m];B.mapping&&(R[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var c=this.game.config.defaultPlugins;return c=c.concat(this.scenePlugins),c},installScenePlugin:function(c,v,d,m,y){if(y===void 0&&(y=!1),typeof v!="function"){console.warn("Invalid Scene Plugin: "+c);return}if(!f.hasCore(c))f.register(c,v,d,!0),this.scenePlugins.push(c);else if(!y&&f.hasCore(c)){console.warn("Scene Plugin key in use: "+c);return}if(m){var T=new v(m,this,c);m.sys[c]=T,d&&d!==""&&(m[d]=T),T.boot()}},install:function(c,v,d,m,y){if(d===void 0&&(d=!1),m===void 0&&(m=null),y===void 0&&(y=null),typeof v!="function")return console.warn("Invalid Plugin: "+c),null;if(f.hasCustom(c))return console.warn("Plugin key in use: "+c),null;if(m!==null&&(d=!0),!this.game.isBooted)this._pendingGlobal.push({key:c,plugin:v,start:d,mapping:m,data:y});else if(f.registerCustom(c,v,m,y),d)return this.start(c);return null},getIndex:function(c){for(var v=this.plugins,d=0;d<v.length;d++){var m=v[d];if(m.key===c)return d}return-1},getEntry:function(c){var v=this.getIndex(c);if(v!==-1)return this.plugins[v]},isActive:function(c){var v=this.getEntry(c);return v&&v.active},start:function(c,v){v===void 0&&(v=c);var d=this.getEntry(v);return d&&!d.active?(d.active=!0,d.plugin.start()):d||(d=this.createEntry(c,v)),d?d.plugin:null},createEntry:function(c,v){var d=f.getCustom(c);if(d){var m=new d.plugin(this);d={key:v,plugin:m,active:!0,mapping:d.mapping,data:d.data},this.plugins.push(d),m.init(d.data),m.start()}return d},stop:function(c){var v=this.getEntry(c);return v&&v.active&&(v.active=!1,v.plugin.stop()),this},get:function(c,v){v===void 0&&(v=!0);var d=this.getEntry(c);if(d)return d.plugin;var m=this.getClass(c);return m&&v?(d=this.createEntry(c,c),d?d.plugin:null):m||null},getClass:function(c){return f.getCustomClass(c)},removeGlobalPlugin:function(c){var v=this.getEntry(c);v&&l(this.plugins,v),f.removeCustom(c)},removeScenePlugin:function(c){l(this.scenePlugins,c),f.remove(c)},registerGameObject:function(c,v,d){return v&&i.register(c,v),d&&n.register(c,d),this},removeGameObject:function(c,v,d){return v===void 0&&(v=!0),d===void 0&&(d=!0),v&&i.remove(c),d&&n.remove(c),this},registerFileType:function(c,v,d){a.register(c,v),d&&d.sys.load&&(d.sys.load[c]=v)},destroy:function(){for(var c=0;c<this.plugins.length;c++)this.plugins[c].plugin.destroy();f.destroyCustomPlugins(),this.game.noReturn&&f.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(201),u=t(0),s=t(9),a=t(104),n=t(22),i=t(401),r=t(407),f=t(402),l=t(1),h=t(10),c=t(416),v=t(76),d=t(3),m=new u({Extends:s,initialize:function(T){s.call(this),this.game=T,this.canvas,this.canvasBounds=new h,this.parent=null,this.parentIsWindow=!1,this.parentSize=new c,this.gameSize=new c,this.baseSize=new c,this.displaySize=new c,this.scaleMode=e.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new d(1,1),this.autoRound=!1,this.autoCenter=e.CENTER.NO_CENTER,this.orientation=e.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.listeners={orientationChange:l,windowResize:l,fullScreenChange:l,fullScreenError:l}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(n.BOOT,this.boot,this)},boot:function(){var y=this.game;this.canvas=y.canvas,this.fullscreen=y.device.fullscreen,this.scaleMode!==e.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===e.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),y.events.on(n.PRE_STEP,this.step,this),y.events.once(n.READY,this.refresh,this),y.events.once(n.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(y){this.getParent(y),this.getParentBounds();var T=y.width,C=y.height,R=y.scaleMode,A=y.zoom,P=y.autoRound;if(typeof T=="string"){var O=this.parentSize.width;O===0&&(O=window.innerWidth);var b=parseInt(T,10)/100;T=Math.floor(O*b)}if(typeof C=="string"){var D=this.parentSize.height;D===0&&(D=window.innerHeight);var N=parseInt(C,10)/100;C=Math.floor(D*N)}this.scaleMode=R,this.autoRound=P,this.autoCenter=y.autoCenter,this.resizeInterval=y.resizeInterval,P&&(T=Math.floor(T),C=Math.floor(C)),this.gameSize.setSize(T,C),A===e.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(T,C),P&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),y.minWidth>0&&this.displaySize.setMin(y.minWidth*A,y.minHeight*A),y.maxWidth>0&&this.displaySize.setMax(y.maxWidth*A,y.maxHeight*A),this.displaySize.setSize(T,C),this.orientation=f(T,C)},getParent:function(y){var T=y.parent;if(T!==null){if(this.parent=r(T),this.parentIsWindow=this.parent===document.body,y.expandParent&&y.scaleMode!==e.SCALE_MODE.NONE){var C=this.parent.getBoundingClientRect();(this.parentIsWindow||C.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",C=this.parent.getBoundingClientRect(),!this.parentIsWindow&&C.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}y.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=r(y.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var y=this.parentSize,T=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(T.height=i(!0));var C=T.width,R=T.height;return y.width!==C||y.height!==R?(y.setSize(C,R),!0):!1},lockOrientation:function(y){var T=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return T?T.call(screen,y):!1},setParentSize:function(y,T){return this.parentSize.setSize(y,T),this.refresh()},setGameSize:function(y,T){var C=this.autoRound;C&&(y=Math.floor(y),T=Math.floor(T));var R=this.width,A=this.height;return this.gameSize.resize(y,T),this.baseSize.resize(y,T),C&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(y/T),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,A)},resize:function(y,T){var C=this.zoom,R=this.autoRound;R&&(y=Math.floor(y),T=Math.floor(T));var A=this.width,P=this.height;this.gameSize.resize(y,T),this.baseSize.resize(y,T),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(y*C,T*C),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var O=this.canvas.style,b=y*C,D=T*C;return R&&(b=Math.floor(b),D=Math.floor(D)),(b!==y||D!==T)&&(O.width=b+"px",O.height=D+"px"),this.refresh(A,P)},setZoom:function(y){return this.zoom=y,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(y,T){y===void 0&&(y=this.width),T===void 0&&(T=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var C=this.game.domContainer;if(C){this.baseSize.setCSS(C);var R=this.canvas.style,A=C.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=R.marginLeft,A.marginTop=R.marginTop}return this.emit(a.RESIZE,this.gameSize,this.baseSize,this.displaySize,y,T),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var y=f(this.width,this.height);y!==this.orientation&&(this.orientation=y,this.emit(a.ORIENTATION_CHANGE,y))}},updateScale:function(){var y=this.canvas.style,T=this.gameSize.width,C=this.gameSize.height,R,A,P=this.zoom,O=this.autoRound;this.scaleMode===e.SCALE_MODE.NONE?(this.displaySize.setSize(T*P,C*P),R=this.displaySize.width,A=this.displaySize.height,O&&(R=Math.floor(R),A=Math.floor(A)),this._resetZoom&&(y.width=R+"px",y.height=A+"px",this._resetZoom=!1)):this.scaleMode===e.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,A=this.displaySize.height,O&&(R=Math.floor(R),A=Math.floor(A)),this.canvas.width=R,this.canvas.height=A):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,A=this.displaySize.height,O&&(R=Math.floor(R),A=Math.floor(A)),y.width=R+"px",y.height=A+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var y=v(this.parentSize.width,this.gameSize.width,0,!0),T=v(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(y,T),1)},updateCenter:function(){var y=this.autoCenter;if(y!==e.CENTER.NO_CENTER){var T=this.canvas,C=T.style,R=T.getBoundingClientRect(),A=R.width,P=R.height,O=Math.floor((this.parentSize.width-A)/2),b=Math.floor((this.parentSize.height-P)/2);y===e.CENTER.CENTER_HORIZONTALLY?b=0:y===e.CENTER.CENTER_VERTICALLY&&(O=0),C.marginLeft=O+"px",C.marginTop=b+"px"}},updateBounds:function(){var y=this.canvasBounds,T=this.canvas.getBoundingClientRect();y.x=T.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),y.y=T.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),y.width=T.width,y.height=T.height},transformX:function(y){return(y-this.canvasBounds.left)*this.displayScale.x},transformY:function(y){return(y-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(y){y===void 0&&(y={navigationUI:"hide"});var T=this.fullscreen;if(!T.available){this.emit(a.FULLSCREEN_UNSUPPORTED);return}if(!T.active){var C=this.getFullscreenTarget();T.keyboard?C[T.request](Element.ALLOW_KEYBOARD_INPUT):C[T.request](y)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(a.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(y){this.removeFullscreenTarget(),this.emit(a.FULLSCREEN_FAILED,y)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var y=document.createElement("div");y.style.margin="0",y.style.padding="0",y.style.width="100%",y.style.height="100%",this.fullscreenTarget=y,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var T=this.canvas.parentNode;T.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var y=this.fullscreenTarget;if(y&&y.parentNode){var T=y.parentNode;T.insertBefore(this.canvas,y),T.removeChild(y)}}},stopFullscreen:function(){var y=this.fullscreen;if(!y.available)return this.emit(a.FULLSCREEN_UNSUPPORTED),!1;y.active&&document[y.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(a.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(y){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(y)},startListeners:function(){var y=this,T=this.listeners;if(T.orientationChange=function(){y.updateBounds(),y._checkOrientation=!0,y.dirty=!0},T.windowResize=function(){y.updateBounds(),y.dirty=!0},window.addEventListener("orientationchange",T.orientationChange,!1),window.addEventListener("resize",T.windowResize,!1),this.fullscreen.available){T.fullScreenChange=function(R){return y.onFullScreenChange(R)},T.fullScreenError=function(R){return y.onFullScreenError(R)};var C=["webkit","moz",""];C.forEach(function(R){document.addEventListener(R+"fullscreenchange",T.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",T.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",T.fullScreenChange,!1),document.addEventListener("MSFullscreenError",T.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},step:function(y,T){this.parent&&(this._lastCheck+=T,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var y=this.listeners;window.removeEventListener("orientationchange",y.orientationChange,!1),window.removeEventListener("resize",y.windowResize,!1);var T=["webkit","moz",""];T.forEach(function(C){document.removeEventListener(C+"fullscreenchange",y.fullScreenChange,!1),document.removeEventListener(C+"fullscreenerror",y.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",y.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",y.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===e.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===e.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});o.exports=m},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(76),a=t(3),n=new u({initialize:function(r,f,l,h){r===void 0&&(r=0),f===void 0&&(f=r),l===void 0&&(l=0),h===void 0&&(h=null),this._width=r,this._height=f,this._parent=h,this.aspectMode=l,this.aspectRatio=f===0?1:r/f,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new a},setAspectMode:function(i){return i===void 0&&(i=0),this.aspectMode=i,this.setSize(this._width,this._height)},setSnap:function(i,r){return i===void 0&&(i=0),r===void 0&&(r=i),this.snapTo.set(i,r),this.setSize(this._width,this._height)},setParent:function(i){return this._parent=i,this.setSize(this._width,this._height)},setMin:function(i,r){return i===void 0&&(i=0),r===void 0&&(r=i),this.minWidth=e(i,0,this.maxWidth),this.minHeight=e(r,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(i,r){return i===void 0&&(i=Number.MAX_VALUE),r===void 0&&(r=i),this.maxWidth=e(i,this.minWidth,Number.MAX_VALUE),this.maxHeight=e(r,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(i,r){switch(i===void 0&&(i=0),r===void 0&&(r=i),this.aspectMode){case n.NONE:this._width=this.getNewWidth(s(i,this.snapTo.x)),this._height=this.getNewHeight(s(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case n.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(s(i,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case n.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(s(r,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case n.FIT:this.constrain(i,r,!0);break;case n.ENVELOP:this.constrain(i,r,!1);break}return this},setAspectRatio:function(i){return this.aspectRatio=i,this.setSize(this._width,this._height)},resize:function(i,r){return this._width=this.getNewWidth(s(i,this.snapTo.x)),this._height=this.getNewHeight(s(r,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(i,r){return r===void 0&&(r=!0),i=e(i,this.minWidth,this.maxWidth),r&&this._parent&&i>this._parent.width&&(i=Math.max(this.minWidth,this._parent.width)),i},getNewHeight:function(i,r){return r===void 0&&(r=!0),i=e(i,this.minHeight,this.maxHeight),r&&this._parent&&i>this._parent.height&&(i=Math.max(this.minHeight,this._parent.height)),i},constrain:function(i,r,f){i===void 0&&(i=0),r===void 0&&(r=i),f===void 0&&(f=!0),i=this.getNewWidth(i),r=this.getNewHeight(r);var l=this.snapTo,h=r===0?1:i/r;return f&&this.aspectRatio>h||!f&&this.aspectRatio<h?(i=s(i,l.x),r=i/this.aspectRatio,l.y>0&&(r=s(r,l.y),i=r*this.aspectRatio)):(f&&this.aspectRatio<h||!f&&this.aspectRatio>h)&&(r=s(r,l.y),i=r*this.aspectRatio,l.x>0&&(i=s(i,l.x),r=i*(1/this.aspectRatio))),this._width=i,this._height=r,this},fitTo:function(i,r){return this.constrain(i,r,!0)},envelop:function(i,r){return this.constrain(i,r,!1)},setWidth:function(i){return this.setSize(i,this._height)},setHeight:function(i){return this.setSize(this._width,i)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(i){i&&i.style&&(i.style.width=this._width+"px",i.style.height=this._height+"px")},copy:function(i){return i.setAspectMode(this.aspectMode),i.aspectRatio=this.aspectRatio,i.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(i){this.setSize(i,this._height)}},height:{get:function(){return this._height},set:function(i){this.setSize(this._width,i)}}});n.NONE=0,n.WIDTH_CONTROLS_HEIGHT=1,n.HEIGHT_CONTROLS_WIDTH=2,n.FIT=3,n.ENVELOP=4,o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(144),s=t(20),a=t(22),n=t(6),i=t(95),r=t(1),f=t(418),l=t(204),h=new e({initialize:function(v,d){if(this.game=v,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,d){Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)this._pending.push({key:"default",scene:d[m],autoStart:m===0,data:{}})}v.events.once(a.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){var c,v,d,m;for(c=0;c<this._pending.length;c++){v=this._pending[c],d=v.key,m=v.scene;var y;m instanceof f?y=this.createSceneFromInstance(d,m):typeof m=="object"?y=this.createSceneFromObject(d,m):typeof m=="function"&&(y=this.createSceneFromFunction(d,m)),d=y.sys.settings.key,this.keys[d]=y,this.scenes.push(y),this._data[d]&&(y.sys.settings.data=this._data[d].data,this._data[d].autoStart&&(v.autoStart=!0)),(v.autoStart||y.sys.settings.active)&&this._start.push(d)}for(this._pending.length=0,this._data={},this.isBooted=!0,c=0;c<this._start.length;c++)v=this._start[c],this.start(v);this._start.length=0}},processQueue:function(){var c=this._pending.length,v=this._queue.length;if(!(c===0&&v===0)){var d,m;if(c){for(d=0;d<c;d++)m=this._pending[d],this.add(m.key,m.scene,m.autoStart,m.data);for(d=0;d<this._start.length;d++)m=this._start[d],this.start(m);this._start.length=0,this._pending.length=0;return}for(d=0;d<this._queue.length;d++)m=this._queue[d],this[m.op](m.keyA,m.keyB);this._queue.length=0}},add:function(c,v,d,m){if(d===void 0&&(d=!1),m===void 0&&(m={}),this.isProcessing||!this.isBooted)return this._pending.push({key:c,scene:v,autoStart:d,data:m}),this.isBooted||(this._data[c]={data:m}),null;c=this.getKey(c,v);var y;return v instanceof f?y=this.createSceneFromInstance(c,v):typeof v=="object"?(v.key=c,y=this.createSceneFromObject(c,v)):typeof v=="function"&&(y=this.createSceneFromFunction(c,v)),y.sys.settings.data=m,c=y.sys.settings.key,this.keys[c]=y,this.scenes.push(y),(d||y.sys.settings.active)&&(this._pending.length?this._start.push(c):this.start(c)),y},remove:function(c){if(this.isProcessing)this._queue.push({op:"remove",keyA:c,keyB:null});else{var v=this.getScene(c);if(!v||v.sys.isTransitioning())return this;var d=this.scenes.indexOf(v),m=v.sys.settings.key;d>-1&&(delete this.keys[m],this.scenes.splice(d,1),this._start.indexOf(m)>-1&&(d=this._start.indexOf(m),this._start.splice(d,1)),v.sys.destroy())}return this},bootScene:function(c){var v=c.sys,d=v.settings;v.sceneUpdate=r,c.init&&(c.init.call(c,d.data),d.status=u.INIT,d.isTransition&&v.events.emit(s.TRANSITION_INIT,d.transitionFrom,d.transitionDuration));var m;v.load&&(m=v.load,m.reset()),m&&c.preload?(c.preload.call(c),m.list.size===0?this.create(c):(d.status=u.LOADING,m.once(i.COMPLETE,this.loadComplete,this),m.start())):this.create(c)},loadComplete:function(c){this.create(c.scene)},payloadComplete:function(c){this.bootScene(c.scene)},update:function(c,v){this.processQueue(),this.isProcessing=!0;for(var d=this.scenes.length-1;d>=0;d--){var m=this.scenes[d].sys;m.settings.status>u.START&&m.settings.status<=u.RUNNING&&m.step(c,v)}},render:function(c){for(var v=0;v<this.scenes.length;v++){var d=this.scenes[v].sys;d.settings.visible&&d.settings.status>=u.LOADING&&d.settings.status<u.SLEEPING&&d.render(c)}this.isProcessing=!1},create:function(c){var v=c.sys,d=v.settings;c.create&&(d.status=u.CREATING,c.create.call(c,d.data),d.status===u.DESTROYED)||(d.isTransition&&v.events.emit(s.TRANSITION_START,d.transitionFrom,d.transitionDuration),c.update&&(v.sceneUpdate=c.update),d.status=u.RUNNING,v.events.emit(s.CREATE,c))},createSceneFromFunction:function(c,v){var d=new v;if(d instanceof f){var m=d.sys.settings.key;if(m!==""&&(c=m),this.keys.hasOwnProperty(c))throw new Error("Cannot add a Scene with duplicate key: "+c);return this.createSceneFromInstance(c,d)}else return d.sys=new l(d),d.sys.settings.key=c,d.sys.init(this.game),d},createSceneFromInstance:function(c,v){var d=v.sys.settings.key;return d===""&&(v.sys.settings.key=c),v.sys.init(this.game),v},createSceneFromObject:function(c,v){var d=new f(v),m=d.sys.settings.key;m!==""?c=m:d.sys.settings.key=c,d.sys.init(this.game);for(var y=["init","preload","create","update","render"],T=0;T<y.length;T++){var C=n(v,y[T],null);C&&(d[y[T]]=C)}if(v.hasOwnProperty("extend")){for(var R in v.extend)if(v.extend.hasOwnProperty(R)){var A=v.extend[R];R==="data"&&d.hasOwnProperty("data")&&typeof A=="object"?d.data.merge(A):R!=="sys"&&(d[R]=A)}}return d},getKey:function(c,v){if(c||(c="default"),typeof v=="function")return c;if(v instanceof f?c=v.sys.settings.key:typeof v=="object"&&v.hasOwnProperty("key")&&(c=v.key),this.keys.hasOwnProperty(c))throw new Error("Cannot add a Scene with duplicate key: "+c);return c},getScenes:function(c,v){c===void 0&&(c=!0),v===void 0&&(v=!1);for(var d=[],m=this.scenes,y=0;y<m.length;y++){var T=m[y];T&&(!c||c&&T.sys.isActive())&&d.push(T)}return v?d.reverse():d},getScene:function(c){if(typeof c=="string"){if(this.keys[c])return this.keys[c]}else for(var v=0;v<this.scenes.length;v++)if(c===this.scenes[v])return c;return null},isActive:function(c){var v=this.getScene(c);return v?v.sys.isActive():null},isPaused:function(c){var v=this.getScene(c);return v?v.sys.isPaused():null},isVisible:function(c){var v=this.getScene(c);return v?v.sys.isVisible():null},isSleeping:function(c){var v=this.getScene(c);return v?v.sys.isSleeping():null},pause:function(c,v){var d=this.getScene(c);return d&&d.sys.pause(v),this},resume:function(c,v){var d=this.getScene(c);return d&&d.sys.resume(v),this},sleep:function(c,v){var d=this.getScene(c);return d&&!d.sys.isTransitioning()&&d.sys.sleep(v),this},wake:function(c,v){var d=this.getScene(c);return d&&d.sys.wake(v),this},run:function(c,v){var d=this.getScene(c);if(!d){for(var m=0;m<this._pending.length;m++)if(this._pending[m].key===c){this.queueOp("start",c,v);break}return this}d.sys.isSleeping()?d.sys.wake(v):d.sys.isPaused()?d.sys.resume(v):this.start(c,v)},start:function(c,v){if(!this.isBooted)return this._data[c]={autoStart:!0,data:v},this;var d=this.getScene(c);if(d){var m=d.sys;if(m.isActive()||m.isPaused())m.shutdown(),m.sceneUpdate=r,m.start(v);else{m.sceneUpdate=r,m.start(v);var y;if(m.load&&(y=m.load),y&&m.settings.hasOwnProperty("pack")&&(y.reset(),y.addPack({payload:m.settings.pack})))return m.settings.status=u.LOADING,y.once(i.COMPLETE,this.payloadComplete,this),y.start(),this}this.bootScene(d)}return this},stop:function(c,v){var d=this.getScene(c);return d&&!d.sys.isTransitioning()&&d.sys.shutdown(v),this},switch:function(c,v){var d=this.getScene(c),m=this.getScene(v);return d&&m&&d!==m&&(this.sleep(c),this.isSleeping(v)?this.wake(v):this.start(v)),this},getAt:function(c){return this.scenes[c]},getIndex:function(c){var v=this.getScene(c);return this.scenes.indexOf(v)},bringToTop:function(c){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:c,keyB:null});else{var v=this.getIndex(c);if(v!==-1&&v<this.scenes.length){var d=this.getScene(c);this.scenes.splice(v,1),this.scenes.push(d)}}return this},sendToBack:function(c){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:c,keyB:null});else{var v=this.getIndex(c);if(v!==-1&&v>0){var d=this.getScene(c);this.scenes.splice(v,1),this.scenes.unshift(d)}}return this},moveDown:function(c){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:c,keyB:null});else{var v=this.getIndex(c);if(v>0){var d=v-1,m=this.getScene(c),y=this.getAt(d);this.scenes[v]=y,this.scenes[d]=m}}return this},moveUp:function(c){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:c,keyB:null});else{var v=this.getIndex(c);if(v<this.scenes.length-1){var d=v+1,m=this.getScene(c),y=this.getAt(d);this.scenes[v]=y,this.scenes[d]=m}}return this},moveAbove:function(c,v){if(c===v)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:c,keyB:v});else{var d=this.getIndex(c),m=this.getIndex(v);if(d!==-1&&m!==-1){var y=this.getAt(m);this.scenes.splice(m,1),this.scenes.splice(d+1,0,y)}}return this},moveBelow:function(c,v){if(c===v)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:c,keyB:v});else{var d=this.getIndex(c),m=this.getIndex(v);if(d!==-1&&m!==-1){var y=this.getAt(m);this.scenes.splice(m,1),d===0?this.scenes.unshift(y):this.scenes.splice(d,0,y)}}return this},queueOp:function(c,v,d){return this._queue.push({op:c,keyA:v,keyB:d}),this},swapPosition:function(c,v){if(c===v)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:c,keyB:v});else{var d=this.getIndex(c),m=this.getIndex(v);if(d!==m&&d!==-1&&m!==-1){var y=this.getAt(d);this.scenes[d]=this.scenes[m],this.scenes[m]=y}}return this},dump:function(){for(var c=[],v=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],d=0;d<this.scenes.length;d++){var m=this.scenes[d].sys,y=m.settings.visible&&(m.settings.status===u.RUNNING||m.settings.status===u.PAUSED)?"[*] ":"[-] ";y+=m.settings.key+" ("+v[m.settings.status]+")",c.push(y)}console.log(c.join(`
`))},destroy:function(){for(var c=0;c<this.scenes.length;c++){var v=this.scenes[c].sys;v.destroy()}this.update=r,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null}});o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(204),s=new e({initialize:function(n){this.sys=new u(this,n),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=t(205),s=function(a){var n=a.game.config.defaultPhysicsSystem,i=e(a.settings,"physics",!1);if(!(!n&&!i)){var r=[];if(n&&r.push(u(n+"Physics")),i)for(var f in i)f=u(f.concat("Physics")),r.indexOf(f)===-1&&r.push(f);return r}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(s){var a=s.plugins.getDefaultScenePlugins(),n=e(s.settings,"plugins",!1);return Array.isArray(n)?n:a||[]};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),u=t(6),s=t(127),a=t(978),n={create:function(i){return typeof i=="string"?i={key:i}:i===void 0&&(i={}),{status:e.PENDING,key:u(i,"key",""),active:u(i,"active",!1),visible:u(i,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:u(i,"pack",!1),cameras:u(i,"cameras",null),map:u(i,"map",s(a,u(i,"mapAdd",{}))),physics:u(i,"physics",{}),loader:u(i,"loader",{}),plugins:u(i,"plugins",!1),input:u(i,"input",{})}}};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(423),s=t(0),a=t(38),n=t(33),i=t(9),r=t(106),f=t(22),l=t(388),h=t(6),c=t(425),v=t(206),d=new s({Extends:i,initialize:function(y){i.call(this),this.game=y,this.name="TextureManager",this.list={},this._tempCanvas=e.create2D(this,1,1),this._tempContext=this._tempCanvas.getContext("2d"),this._pending=0,y.events.once(f.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(r.LOAD,this.updatePending,this),this.on(r.ERROR,this.updatePending,this);var m=this.game.config;this.addBase64("__DEFAULT",m.defaultImage),this.addBase64("__MISSING",m.missingImage),this.addBase64("__WHITE",m.whiteImage),this.game.events.once(f.DESTROY,this.destroy,this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(r.LOAD),this.off(r.ERROR),this.emit(r.READY))},checkKey:function(m){return this.exists(m)?(console.error("Texture key already in use: "+m),!1):!0},remove:function(m){if(typeof m=="string")if(this.exists(m))m=this.get(m);else return console.warn("No texture found matching key: "+m),this;return this.list.hasOwnProperty(m.key)&&(m.destroy(),this.emit(r.REMOVE,m.key)),this},removeKey:function(m){return this.list.hasOwnProperty(m)&&delete this.list[m],this},addBase64:function(m,y){if(this.checkKey(m)){var T=this,C=new Image;C.onerror=function(){T.emit(r.ERROR,m)},C.onload=function(){var R=T.create(m,C);c.Image(R,0),T.emit(r.ADD,m,R),T.emit(r.LOAD,m,R)},C.src=y}return this},getBase64:function(m,y,T,C){T===void 0&&(T="image/png"),C===void 0&&(C=.92);var R="",A=this.getFrame(m,y);if(A&&(A.source.isRenderTexture||A.source.isGLTexture))console.warn("Cannot getBase64 from WebGL Texture");else if(A){var P=A.canvasData,O=e.create2D(this,P.width,P.height),b=O.getContext("2d");b.drawImage(A.source.image,P.x,P.y,P.width,P.height,0,0,P.width,P.height),R=O.toDataURL(T,C),e.remove(O)}return R},addImage:function(m,y,T){var C=null;return this.checkKey(m)&&(C=this.create(m,y),c.Image(C,0),T&&C.setDataSource(T),this.emit(r.ADD,m,C)),C},addGLTexture:function(m,y,T,C){var R=null;return this.checkKey(m)&&(T===void 0&&(T=y.width),C===void 0&&(C=y.height),R=this.create(m,y,T,C),R.add("__BASE",0,0,0,T,C),this.emit(r.ADD,m,R)),R},addRenderTexture:function(m,y){var T=null;return this.checkKey(m)&&(T=this.create(m,y),T.add("__BASE",0,0,0,y.width,y.height),this.emit(r.ADD,m,T)),T},generate:function(m,y){if(this.checkKey(m)){var T=e.create(this,1,1);return y.canvas=T,l(y),this.addCanvas(m,T)}else return null},createCanvas:function(m,y,T){if(y===void 0&&(y=256),T===void 0&&(T=256),this.checkKey(m)){var C=e.create(this,y,T,n.CANVAS,!0);return this.addCanvas(m,C)}return null},addCanvas:function(m,y,T){T===void 0&&(T=!1);var C=null;return T?C=new u(this,m,y,y.width,y.height):this.checkKey(m)&&(C=new u(this,m,y,y.width,y.height),this.list[m]=C,this.emit(r.ADD,m,C)),C},addAtlas:function(m,y,T,C){return Array.isArray(T.textures)||Array.isArray(T.frames)?this.addAtlasJSONArray(m,y,T,C):this.addAtlasJSONHash(m,y,T,C)},addAtlasJSONArray:function(m,y,T,C){var R=null;if(this.checkKey(m)){if(R=this.create(m,y),Array.isArray(T))for(var A=T.length===1,P=0;P<R.source.length;P++){var O=A?T[0]:T[P];c.JSONArray(R,P,O)}else c.JSONArray(R,0,T);C&&R.setDataSource(C),this.emit(r.ADD,m,R)}return R},addAtlasJSONHash:function(m,y,T,C){var R=null;if(this.checkKey(m)){if(R=this.create(m,y),Array.isArray(T))for(var A=0;A<T.length;A++)c.JSONHash(R,A,T[A]);else c.JSONHash(R,0,T);C&&R.setDataSource(C),this.emit(r.ADD,m,R)}return R},addAtlasXML:function(m,y,T,C){var R=null;return this.checkKey(m)&&(R=this.create(m,y),c.AtlasXML(R,0,T),C&&R.setDataSource(C),this.emit(r.ADD,m,R)),R},addUnityAtlas:function(m,y,T,C){var R=null;return this.checkKey(m)&&(R=this.create(m,y),c.UnityYAML(R,0,T),C&&R.setDataSource(C),this.emit(r.ADD,m,R)),R},addSpriteSheet:function(m,y,T){var C=null;if(this.checkKey(m)){C=this.create(m,y);var R=C.source[0].width,A=C.source[0].height;c.SpriteSheet(C,0,0,0,R,A,T),this.emit(r.ADD,m,C)}return C},addSpriteSheetFromAtlas:function(m,y){if(!this.checkKey(m))return null;var T=h(y,"atlas",null),C=h(y,"frame",null);if(!(!T||!C)){var R=this.get(T),A=R.get(C);if(A){var P=this.create(m,A.source.image);return A.trimmed?c.SpriteSheetFromAtlas(P,A,y):c.SpriteSheet(P,0,A.cutX,A.cutY,A.cutWidth,A.cutHeight,y),this.emit(r.ADD,m,P),P}}},create:function(m,y,T,C){var R=null;return this.checkKey(m)&&(R=new v(this,m,y,T,C),this.list[m]=R),R},exists:function(m){return this.list.hasOwnProperty(m)},get:function(m){return m===void 0&&(m="__DEFAULT"),this.list[m]?this.list[m]:m instanceof v?m:this.list.__MISSING},cloneFrame:function(m,y){if(this.list[m])return this.list[m].get(y).clone()},getFrame:function(m,y){if(this.list[m])return this.list[m].get(y)},getTextureKeys:function(){var m=[];for(var y in this.list)y!=="__DEFAULT"&&y!=="__MISSING"&&m.push(y);return m},getPixel:function(m,y,T,C){var R=this.getFrame(T,C);if(R){m-=R.x,y-=R.y;var A=R.data.cut;if(m+=A.x,y+=A.y,m>=A.x&&m<A.r&&y>=A.y&&y<A.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(R.source.image,m,y,1,1,0,0,1,1);var O=P.getImageData(0,0,1,1);return new a(O.data[0],O.data[1],O.data[2],O.data[3])}}return null},getPixelAlpha:function(m,y,T,C){var R=this.getFrame(T,C);if(R){m-=R.x,y-=R.y;var A=R.data.cut;if(m+=A.x,y+=A.y,m>=A.x&&m<A.r&&y>=A.y&&y<A.b){var P=this._tempContext;P.clearRect(0,0,1,1),P.drawImage(R.source.image,m,y,1,1,0,0,1,1);var O=P.getImageData(0,0,1,1);return O.data[3]}}return null},setTexture:function(m,y,T){return this.list[y]&&(m.texture=this.list[y],m.frame=m.texture.get(T)),m},renameTexture:function(m,y){var T=this.get(m);return T&&m!==y?(T.key=y,this.list[y]=T,delete this.list[m],!0):!1},each:function(m,y){for(var T=[null],C=1;C<arguments.length;C++)T.push(arguments[C]);for(var R in this.list)T[0]=this.list[R],m.apply(y,T)},destroy:function(){for(var m in this.list)this.list[m].destroy();this.list={},this.game=null,e.remove(this._tempCanvas)}});o.exports=d},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(18),s=t(38),a=t(33),n=t(138),i=t(206),r=new e({Extends:i,initialize:function(l,h,c,v,d){i.call(this,l,h,c,v,d),this.add("__BASE",0,0,0,v,d),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d"),this.width=v,this.height=d,this.imageData=this.context.getImageData(0,0,v,d),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===a.WEBGL&&this.refresh(),this},draw:function(f,l,h){return this.context.drawImage(h,f,l),this.update()},drawFrame:function(f,l,h,c){h===void 0&&(h=0),c===void 0&&(c=0);var v=this.manager.getFrame(f,l);if(v){var d=v.canvasData,m=v.cutWidth,y=v.cutHeight,T=v.source.resolution;return this.context.drawImage(v.source.image,d.x,d.y,m,y,h,c,m/T,y/T),this.update()}else return this},setPixel:function(f,l,h,c,v,d){d===void 0&&(d=255),f=Math.abs(Math.floor(f)),l=Math.abs(Math.floor(l));var m=this.getIndex(f,l);if(m>-1){var y=this.context.getImageData(f,l,1,1);y.data[0]=h,y.data[1]=c,y.data[2]=v,y.data[3]=d,this.context.putImageData(y,f,l)}return this},putData:function(f,l,h,c,v,d,m){return c===void 0&&(c=0),v===void 0&&(v=0),d===void 0&&(d=f.width),m===void 0&&(m=f.height),this.context.putImageData(f,l,h,c,v,d,m),this},getData:function(f,l,h,c){f=u(Math.floor(f),0,this.width-1),l=u(Math.floor(l),0,this.height-1),h=u(h,1,this.width-f),c=u(c,1,this.height-l);var v=this.context.getImageData(f,l,h,c);return v},getPixel:function(f,l,h){h||(h=new s);var c=this.getIndex(f,l);if(c>-1){var v=this.data,d=v[c+0],m=v[c+1],y=v[c+2],T=v[c+3];h.setTo(d,m,y,T)}return h},getPixels:function(f,l,h,c){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=this.width),c===void 0&&(c=h),f=Math.abs(Math.round(f)),l=Math.abs(Math.round(l));for(var v=u(f,0,this.width),d=u(f+h,0,this.width),m=u(l,0,this.height),y=u(l+c,0,this.height),T=new s,C=[],R=m;R<y;R++){for(var A=[],P=v;P<d;P++)T=this.getPixel(P,R,T),A.push({x:P,y:R,color:T.color,alpha:T.alphaGL});C.push(A)}return C},getIndex:function(f,l){return f=Math.abs(Math.round(f)),l=Math.abs(Math.round(l)),f<this.width&&l<this.height?(f+l*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(f,l,h,c){return f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=this.width),c===void 0&&(c=this.height),this.context.clearRect(f,l,h,c),this.update()},setSize:function(f,l){return l===void 0&&(l=f),(f!==this.width||l!==this.height)&&(this.canvas.width=f,this.canvas.height=l,this._source.width=f,this._source.height=l,this._source.isPowerOf2=n(f,l),this.frames.__BASE.setSize(f,l,0,0),this.width=f,this.height=l,this.refresh()),this},destroy:function(){i.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=t(0),s=t(138),a=t(168),n=new u({initialize:function(r,f,l,h,c){c===void 0&&(c=!1);var v=r.manager.game;this.renderer=v.renderer,this.texture=r,this.source=f,this.image=f,this.compressionAlgorithm=null,this.resolution=1,this.width=l||f.naturalWidth||f.videoWidth||f.width||0,this.height=h||f.naturalHeight||f.videoHeight||f.height||0,this.scaleMode=a.DEFAULT,this.isCanvas=f instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&f instanceof HTMLVideoElement,this.isRenderTexture=f.type==="RenderTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&f instanceof WebGLTexture,this.isPowerOf2=s(this.width,this.height),this.glTexture=null,this.glIndex=0,this.glIndexCounter=-1,this.flipY=c,this.init(v)},init:function(i){var r=this.renderer;r&&(r.gl?this.isCanvas?this.glTexture=r.createCanvasTexture(this.image,!1,this.flipY):this.isVideo?this.glTexture=r.createVideoTexture(this.image,!1,this.flipY):this.isRenderTexture?(this.image=this.source.canvas,this.glTexture=r.createTextureFromSource(null,this.width,this.height,this.scaleMode)):this.isGLTexture?this.glTexture=this.source:this.glTexture=r.createTextureFromSource(this.image,this.width,this.height,this.scaleMode):this.isRenderTexture&&(this.image=this.source.canvas)),i.config.antialias||this.setFilter(1)},setFilter:function(i){this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,i),this.scaleMode=i},setFlipY:function(i){return i===void 0&&(i=!0),this.flipY=i,this},update:function(){var i=this.renderer.gl;i&&this.isCanvas?this.glTexture=this.renderer.updateCanvasTexture(this.image,this.glTexture,this.flipY):i&&this.isVideo&&(this.glTexture=this.renderer.updateVideoTexture(this.image,this.glTexture,this.flipY))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture,!0),this.isCanvas&&e.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AtlasXML:t(979),Canvas:t(980),Image:t(981),JSONArray:t(982),JSONHash:t(983),SpriteSheet:t(984),SpriteSheetFromAtlas:t(985),UnityYAML:t(986)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(427),u=t(430),s=t(432),a={create:function(n){var i=n.config.audio,r=n.device.audio;return i.noAudio||!r.webAudio&&!r.audioData?new u(n):r.webAudio&&!i.disableWebAudio?new s(n):new e(n)}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),u=t(0),s=t(70),a=t(429),n=new u({Extends:e,initialize:function(r){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,e.call(this,r)},add:function(i,r){var f=new a(this,i,r);return this.sounds.push(f),f},unlock:function(){this.locked=!1;var i=this;if(this.game.cache.audio.entries.each(function(h,c){for(var v=0;v<c.length;v++)if(c[v].dataset.locked==="true")return i.locked=!0,!1;return!0}),!!this.locked){var r=!1,f=function(){r=!0},l=function(){if(r){r=!1;return}document.body.removeEventListener("touchmove",f),document.body.removeEventListener("touchend",l);var h=[];if(i.game.cache.audio.entries.each(function(v,d){for(var m=0;m<d.length;m++){var y=d[m];y.dataset.locked==="true"&&h.push(y)}return!0}),h.length!==0){var c=h[h.length-1];c.oncanplaythrough=function(){c.oncanplaythrough=null,h.forEach(function(v){v.dataset.locked="false"}),i.unlocked=!0},h.forEach(function(v){v.load()})}};this.once(s.UNLOCKED,function(){for(this.forEachActiveSound(function(c){c.currentMarker===null&&c.duration===0&&(c.duration=c.tags[0].duration),c.totalDuration=c.tags[0].duration});this.lockedActionsQueue.length;){var h=this.lockedActionsQueue.shift();h.sound[h.prop].apply?h.sound[h.prop].apply(h.sound,h.value||[]):h.sound[h.prop]=h.value}},this),document.body.addEventListener("touchmove",f,!1),document.body.addEventListener("touchend",l,!1)}},onBlur:function(){this.forEachActiveSound(function(i){i.isPlaying&&(this.onBlurPausedSounds.push(i),i.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(i){i.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){e.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(i,r,f){return i.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:i,prop:r,value:f}),!0):!1},setMute:function(i){return this.mute=i,this},mute:{get:function(){return this._mute},set:function(i){this._mute=i,this.forEachActiveSound(function(r){r.updateMute()}),this.emit(s.GLOBAL_MUTE,this,i)}},setVolume:function(i){return this.volume=i,this},volume:{get:function(){return this._volume},set:function(i){this._volume=i,this.forEachActiveSound(function(r){r.updateVolume()}),this.emit(s.GLOBAL_VOLUME,this,i)}}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(s,a,n,i,r){if(i===void 0&&(i=0),r===void 0&&(r=s.length),e(s,i,r))for(var f=i;f<r;f++){var l=s[f];if(!a||a&&n===void 0&&l.hasOwnProperty(a)||a&&n!==void 0&&l[a]===n)return l}return null};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),u=t(0),s=t(70),a=t(18),n=new u({Extends:e,initialize:function(r,f,l){if(l===void 0&&(l={}),this.tags=r.game.cache.audio.get(f),!this.tags)throw new Error('There is no audio asset with key "'+f+'" in the audio cache');this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,e.call(this,r,f,l)},play:function(i,r){return this.manager.isLocked(this,"play",[i,r])||!e.prototype.play.call(this,i,r)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!e.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(s.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!e.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(s.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var i=this.currentConfig.seek,r=this.currentConfig.delay,f=(this.currentMarker?this.currentMarker.start:0)+i;return this.previousTime=f,this.audio.currentTime=f,this.applyConfig(),r===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+r*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var i=0;i<this.tags.length;i++){var r=this.tags[i];if(r.dataset.used==="false")return r.dataset.used="true",this.audio=r,!0}if(!this.manager.override)return!1;var f=[];this.manager.forEachActiveSound(function(h){h.key===this.key&&h.audio&&f.push(h)},this),f.sort(function(h,c){return h.loop===c.loop?c.seek/c.duration-h.seek/h.duration:h.loop?1:-1});var l=f[0];return this.audio=l.audio,l.reset(),l.audio=null,l.startTime=0,l.previousTime=0,!0},playCatchPromise:function(){var i=this.audio.play();i&&i.catch(function(r){console.warn(r)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){e.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(i){if(this.isPlaying){if(this.startTime>0){this.startTime<i-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,i-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var r=this.currentMarker?this.currentMarker.start:0,f=r+this.duration,l=this.audio.currentTime;if(this.currentConfig.loop)l>=f-this.manager.loopEndOffset?(this.audio.currentTime=r+Math.max(0,l-f),l=this.audio.currentTime):l<r&&(this.audio.currentTime+=r,l=this.audio.currentTime),l<this.previousTime&&this.emit(s.LOOPED,this);else if(l>=f){this.reset(),this.stopAndReleaseAudioTag(),this.emit(s.COMPLETE,this);return}this.previousTime=l}},destroy:function(){e.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=a(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){e.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(i){this.currentConfig.mute=i,!this.manager.isLocked(this,"mute",i)&&(this.updateMute(),this.emit(s.MUTE,this,i))}},setMute:function(i){return this.mute=i,this},volume:{get:function(){return this.currentConfig.volume},set:function(i){this.currentConfig.volume=i,!this.manager.isLocked(this,"volume",i)&&(this.updateVolume(),this.emit(s.VOLUME,this,i))}},setVolume:function(i){return this.volume=i,this},rate:{get:function(){return this.currentConfig.rate},set:function(i){this.currentConfig.rate=i,!this.manager.isLocked(this,s.RATE,i)&&(this.calculateRate(),this.emit(s.RATE,this,i))}},setRate:function(i){return this.rate=i,this},detune:{get:function(){return this.currentConfig.detune},set:function(i){this.currentConfig.detune=i,!this.manager.isLocked(this,s.DETUNE,i)&&(this.calculateRate(),this.emit(s.DETUNE,this,i))}},setDetune:function(i){return this.detune=i,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(i){this.manager.isLocked(this,"seek",i)||this.startTime>0||(this.isPlaying||this.isPaused)&&(i=Math.min(Math.max(0,i),this.duration),this.isPlaying?(this.previousTime=i,this.audio.currentTime=i):this.isPaused&&(this.currentConfig.seek=i),this.emit(s.SEEK,this,i))}},setSeek:function(i){return this.seek=i,this},loop:{get:function(){return this.currentConfig.loop},set:function(i){this.currentConfig.loop=i,!this.manager.isLocked(this,"loop",i)&&(this.audio&&(this.audio.loop=i),this.emit(s.LOOP,this,i))}},setLoop:function(i){return this.loop=i,this},pan:{get:function(){return this.currentConfig.pan},set:function(i){this.currentConfig.pan=i,this.emit(s.PAN,this,i)}},setPan:function(i){return this.pan=i,this}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(145),u=t(0),s=t(9),a=t(431),n=t(1),i=new u({Extends:s,initialize:function(f){s.call(this),this.game=f,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(r,f){var l=new a(this,r,f);return this.sounds.push(l),l},addAudioSprite:function(r,f){var l=this.add(r,f);return l.spritemap={},l},play:function(r,f){return!1},playAudioSprite:function(r,f,l){return!1},remove:function(r){return e.prototype.remove.call(this,r)},removeByKey:function(r){return e.prototype.removeByKey.call(this,r)},pauseAll:n,resumeAll:n,stopAll:n,update:n,setRate:n,setDetune:n,setMute:n,setVolume:n,forEachActiveSound:function(r,f){e.prototype.forEachActiveSound.call(this,r,f)},destroy:function(){e.prototype.destroy.call(this)}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),u=t(0),s=t(9),a=t(17),n=function(){return!1},i=function(){return null},r=function(){return this},f=new u({Extends:s,initialize:function(h,c,v){v===void 0&&(v={}),s.call(this),this.manager=h,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=a({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},v),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:n,updateMarker:n,removeMarker:i,play:n,pause:n,resume:n,stop:n,destroy:function(){e.prototype.destroy.call(this)},setMute:r,setVolume:r,setRate:r,setDetune:r,setSeek:r,setLoop:r,setPan:r});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(433),u=t(145),s=t(0),a=t(70),n=t(22),i=t(434),r=new s({Extends:u,initialize:function(l){this.context=this.createAudioContext(l),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),u.call(this,l),this.locked&&l.isBooted?this.unlock():l.events.once(n.BOOT,this.unlock,this)},createAudioContext:function(f){var l=f.config.audio;if(l.context)return l.context.resume(),l.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(f){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=f,this.masterMuteNode=f.createGain(),this.masterVolumeNode=f.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(f.destination),this.destination=this.masterMuteNode,this},add:function(f,l){var h=new i(this,f,l);return this.sounds.push(h),h},decodeAudio:function(f,l){var h;Array.isArray(f)?h=f:h=[{key:f,data:l}];for(var c=this.game.cache.audio,v=h.length,d=0;d<h.length;d++){var m=h[d],y=m.key,T=m.data;typeof T=="string"&&(T=e(T));var C=function(A,P){c.add(A,P),this.emit(a.DECODED,A),v--,v===0&&this.emit(a.DECODED_ALL)}.bind(this,y),R=function(A,P){console.error("Error decoding audio: "+A+" - ",P?P.message:""),v--,v===0&&this.emit(a.DECODED_ALL)}.bind(this,y);this.context.decodeAudioData(T,C,R)}},unlock:function(){var f=this,l=document.body,h=function c(){if(f.context&&l){var v=l.removeEventListener;f.context.resume().then(function(){v("touchstart",c),v("touchend",c),v("click",c),v("keydown",c),f.unlocked=!0},function(){v("touchstart",c),v("touchend",c),v("click",c),v("keydown",c)})}};l&&(l.addEventListener("touchstart",h,!1),l.addEventListener("touchend",h,!1),l.addEventListener("click",h,!1),l.addEventListener("keydown",h,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var f=this.context;(f.state==="suspended"||f.state==="interrupted")&&!this.locked&&f.resume()},update:function(f,l){u.prototype.update.call(this,f,l);var h=this.context;h&&h.state==="interrupted"&&h.resume()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var f=this;this.context.close().then(function(){f.context=null})}u.prototype.destroy.call(this)},setMute:function(f){return this.mute=f,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(f){this.masterMuteNode.gain.setValueAtTime(f?0:1,0),this.emit(a.GLOBAL_MUTE,this,f)}},setVolume:function(f){return this.volume=f,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(f){this.masterVolumeNode.gain.setValueAtTime(f,0),this.emit(a.GLOBAL_VOLUME,this,f)}}});o.exports=r},function(o,x){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),u=0;u<t.length;u++)e[t.charCodeAt(u)]=u;var s=function(a){a=a.substr(a.indexOf(",")+1);var n=a.length,i=n*.75,r=0,f,l,h,c;a[n-1]==="="&&(i--,a[n-2]==="="&&i--);for(var v=new ArrayBuffer(i),d=new Uint8Array(v),m=0;m<n;m+=4)f=e[a.charCodeAt(m)],l=e[a.charCodeAt(m+1)],h=e[a.charCodeAt(m+2)],c=e[a.charCodeAt(m+3)],d[r++]=f<<2|l>>4,d[r++]=(l&15)<<4|h>>2,d[r++]=(h&3)<<6|c&63;return v};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(146),u=t(0),s=t(70),a=new u({Extends:e,initialize:function(i,r,f){if(f===void 0&&(f={}),this.audioBuffer=i.game.cache.audio.get(r),!this.audioBuffer)throw new Error('Audio key "'+r+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=i.context.createGain(),this.volumeNode=i.context.createGain(),this.pannerNode=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),i.context.createStereoPanner?(this.pannerNode=i.context.createStereoPanner(),this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(i.destination)):this.volumeNode.connect(i.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,e.call(this,i,r,f)},play:function(n,i){return e.prototype.play.call(this,n,i)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(s.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(s.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!e.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(s.RESUME,this),!0)},stop:function(){return e.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(s.STOP,this),!0):!1},createAndStartBufferSource:function(){var n=this.currentConfig.seek,i=this.currentConfig.delay,r=this.manager.context.currentTime+i,f=(this.currentMarker?this.currentMarker.start:0)+n,l=this.duration-n;this.playTime=r-n,this.startTime=r,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,r),Math.max(0,f),Math.max(0,l)),this.resetConfig()},createAndStartLoopBufferSource:function(){var n=this.getLoopTime(),i=this.currentMarker?this.currentMarker.start:0,r=this.duration;this.loopTime=n,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,n),Math.max(0,i),Math.max(0,r))},createBufferSource:function(){var n=this,i=this.manager.context.createBufferSource();return i.buffer=this.audioBuffer,i.connect(this.muteNode),i.onended=function(r){r.target===n.source&&(n.currentConfig.loop?n.hasLooped=!0:n.hasEnded=!0)},i},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1}),e.prototype.applyConfig.call(this)},update:function(){this.hasEnded?(this.hasEnded=!1,e.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(s.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(s.LOOPED,this))},destroy:function(){e.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.rateUpdates.length=0,this.rateUpdates=null},calculateRate:function(){e.prototype.calculateRate.call(this);var n=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,n),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,n)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var n=0,i=0;i<this.rateUpdates.length;i++){var r=0;i<this.rateUpdates.length-1?r=this.rateUpdates[i+1].time:r=this.manager.context.currentTime-this.playTime,n+=(r-this.rateUpdates[i].time)*this.rateUpdates[i].rate}return n},getLoopTime:function(){for(var n=0,i=0;i<this.rateUpdates.length-1;i++)n+=(this.rateUpdates[i+1].time-this.rateUpdates[i].time)*this.rateUpdates[i].rate;var r=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+r.time+(this.duration-n)/r.rate},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.calculateRate(),this.emit(s.RATE,this,n)}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.calculateRate(),this.emit(s.DETUNE,this,n)}},setDetune:function(n){return this.detune=n,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(n){this.currentConfig.mute=n,this.muteNode.gain.setValueAtTime(n?0:1,0),this.emit(s.MUTE,this,n)}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(n){this.currentConfig.volume=n,this.volumeNode.gain.setValueAtTime(n,0),this.emit(s.VOLUME,this,n)}},setVolume:function(n){return this.volume=n,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.currentConfig.seek=n,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(s.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),n&&this.createAndStartLoopBufferSource()),this.emit(s.LOOP,this,n)}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(n){this.currentConfig.pan=n,this.pannerNode&&this.pannerNode.pan.setValueAtTime(n,this.manager.context.currentTime),this.emit(s.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=e.length,s=e[0].length,a=new Array(s),n=0;n<s;n++){a[n]=new Array(u);for(var i=u-1;i>-1;i--)a[n][i]=e[i][n]}return a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function t(s,a,n){var i=s[a];s[a]=s[n],s[n]=i}function e(s,a){return s<a?-1:s>a?1:0}var u=function(s,a,n,i,r){for(n===void 0&&(n=0),i===void 0&&(i=s.length-1),r===void 0&&(r=e);i>n;){if(i-n>600){var f=i-n+1,l=a-n+1,h=Math.log(f),c=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*c*(f-c)/f)*(l-f/2<0?-1:1),d=Math.max(n,Math.floor(a-l*c/f+v)),m=Math.min(i,Math.floor(a+(f-l)*c/f+v));u(s,a,d,m,r)}var y=s[a],T=n,C=i;for(t(s,n,a),r(s[i],y)>0&&t(s,n,i);T<C;){for(t(s,T,C),T++,C--;r(s[T],y)<0;)T++;for(;r(s[C],y)>0;)C--}r(s[n],y)===0?t(s,n,C):(C++,t(s,C,i)),C<=a&&(n=C+1),a<=C&&(i=C-1)}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=t(131),s=function(n,i,r){for(var f=[],l=0;l<n.length;l++)for(var h=0;h<i.length;h++)for(var c=0;c<r;c++)f.push({a:n[l],b:i[h]});return f},a=function(n,i,r){var f=e(r,"max",0),l=e(r,"qty",1),h=e(r,"random",!1),c=e(r,"randomB",!1),v=e(r,"repeat",0),d=e(r,"yoyo",!1),m=[];if(c&&u(i),v===-1)if(f===0)v=0;else{var y=n.length*i.length*l;d&&(y*=2),v=Math.ceil(f/y)}for(var T=0;T<=v;T++){var C=s(n,i,l);h&&u(C),m=m.concat(C),d&&(C.reverse(),m=m.concat(C))}return f&&m.splice(f),m};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={PROCESS_QUEUE_ADD:t(1041),PROCESS_QUEUE_REMOVE:t(1042)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(13),u=function(s,a){var n=e(a,"anims",null);if(n===null)return s;if(typeof n=="string")s.anims.play(n);else if(typeof n=="object"){var i=s.anims,r=e(n,"key",void 0);if(r){var f=e(n,"startFrame",void 0),l=e(n,"delay",0),h=e(n,"repeat",0),c=e(n,"repeatDelay",0),v=e(n,"yoyo",!1),d=e(n,"play",!1),m=e(n,"delayedPlay",0),y={key:r,delay:l,repeat:h,repeatDelay:c,yoyo:v,startFrame:f};d?i.play(y):m>0?i.playAfterDelay(y,m):i.load(y)}}return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(109),s=new e({initialize:function(n,i,r,f,l){this.parent=n,this.x=i,this.y=r,this.frame=f,this.data={},this.tint=16777215,this._visible=l,this._alpha=1,this.flipX=!1,this.flipY=!1},setFrame:function(a){return a===void 0?this.frame=this.parent.frame:a instanceof u&&a.texture===this.parent.texture?this.frame=a:this.frame=this.parent.texture.get(a),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(a,n,i){return this.x=a,this.y=n,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,i&&this.setFrame(i),this},setPosition:function(a,n){return this.x=a,this.y=n,this},setFlipX:function(a){return this.flipX=a,this},setFlipY:function(a){return this.flipY=a,this},setFlip:function(a,n){return this.flipX=a,this.flipY=n,this},setVisible:function(a){return this.visible=a,this},setAlpha:function(a){return this.alpha=a,this},setTint:function(a){return this.tint=a,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(a){this.parent.dirty|=this._visible!==a,this._visible=a}},alpha:{get:function(){return this._alpha},set:function(a){this.parent.dirty|=this._alpha>0!=a>0,this._alpha=a}}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(s,a,n){n===void 0&&(n=new e);var i=Math.min(s.x,a.x),r=Math.min(s.y,a.y),f=Math.max(s.right,a.right)-i,l=Math.max(s.bottom,a.bottom)-r;return n.setTo(i,r,f,l)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(1055),a=t(15),n=t(7),i=t(202),r=t(20),f=t(140),l=new e({Extends:a,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Origin,u.ScrollFactor,u.Transform,u.Visible,s],initialize:function(c,v,d,m,y,T){a.call(this,c,"DOMElement"),this.parent=c.sys.game.domContainer,this.cache=c.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new f,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(v,d),typeof m=="string"?m[0]==="#"?this.setElement(m.substr(1),y,T):this.createElement(m,y,T):m&&this.setElement(m,y,T),c.sys.events.on(r.SLEEP,this.handleSceneEvent,this),c.sys.events.on(r.WAKE,this.handleSceneEvent,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},handleSceneEvent:function(h){var c=this.node,v=c.style;c&&(v.display=h.settings.visible?"block":"none")},setSkew:function(h,c){return h===void 0&&(h=0),c===void 0&&(c=h),this.skewX=h,this.skewY=c,this},setPerspective:function(h){return this.parent.style.perspective=h+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(h){this.parent.style.perspective=h+"px"}},addListener:function(h){if(this.node){h=h.split(" ");for(var c=0;c<h.length;c++)this.node.addEventListener(h[c],this.handler,!1)}return this},removeListener:function(h){if(this.node){h=h.split(" ");for(var c=0;c<h.length;c++)this.node.removeEventListener(h[c],this.handler)}return this},dispatchNativeEvent:function(h){this.emit(h.type,h)},createElement:function(h,c,v){return this.setElement(document.createElement(h),c,v)},setElement:function(h,c,v){this.removeElement();var d;if(typeof h=="string"?(h[0]==="#"&&(h=h.substr(1)),d=document.getElementById(h)):typeof h=="object"&&h.nodeType===1&&(d=h),!d)return this;if(this.node=d,c&&n(c))for(var m in c)d.style[m]=c[m];else typeof c=="string"&&(d.style=c);return d.style.zIndex="0",d.style.display="inline",d.style.position="absolute",d.phaser=this,this.parent&&this.parent.appendChild(d),v&&(d.innerText=v),this.updateSize()},createFromCache:function(h,c){var v=this.cache.get(h);return v&&this.createFromHTML(v,c),this},createFromHTML:function(h,c){c===void 0&&(c="div"),this.removeElement();var v=document.createElement(c);return this.node=v,v.style.zIndex="0",v.style.display="inline",v.style.position="absolute",v.phaser=this,this.parent&&this.parent.appendChild(v),v.innerHTML=h,this.updateSize()},removeElement:function(){return this.node&&(i(this.node),this.node=null),this},updateSize:function(){var h=this.node,c=h.getBoundingClientRect();return this.width=h.clientWidth,this.height=h.clientHeight,this.displayWidth=c.width||0,this.displayHeight=c.height||0,this},getChildByProperty:function(h,c){if(this.node){for(var v=this.node.querySelectorAll("*"),d=0;d<v.length;d++)if(v[d][h]===c)return v[d]}return null},getChildByID:function(h){return this.getChildByProperty("id",h)},getChildByName:function(h){return this.getChildByProperty("name",h)},setClassName:function(h){return this.node&&(this.node.className=h,this.updateSize()),this},setText:function(h){return this.node&&(this.node.innerText=h,this.updateSize()),this},setHTML:function(h){return this.node&&(this.node.innerHTML=h,this.updateSize()),this},preUpdate:function(){var h=this.parentContainer,c=this.node;c&&h&&!h.willRender()&&(c.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(r.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(r.WAKE,this.handleSceneEvent,this)}});o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1056),u=t(15),s=t(25),a=new s,n=new s,i=new s,r=function(f,l,h,c){if(l.node){var v=l.node.style,d=l.scene.sys.settings;if(!v||!d.visible||u.RENDER_MASK!==l.renderFlags||l.cameraFilter!==0&&l.cameraFilter&h.id||l.parentContainer&&!l.parentContainer.willRender()){v.display="none";return}var m=l.parentContainer,y=h.alpha*l.alpha;m&&(y*=m.alpha);var T=a,C=n,R=i,A=0,P=0,O="0%",b="0%";c?(A=l.width*l.scaleX*l.originX,P=l.height*l.scaleY*l.originY,C.applyITRS(l.x-A,l.y-P,l.rotation,l.scaleX,l.scaleY),T.copyFrom(h.matrix),T.multiplyWithOffset(c,-h.scrollX*l.scrollFactorX,-h.scrollY*l.scrollFactorY),C.e=l.x-A,C.f=l.y-P,T.multiply(C,R)):(A=l.width*l.originX,P=l.height*l.originY,C.applyITRS(l.x-A,l.y-P,l.rotation,l.scaleX,l.scaleY),T.copyFrom(h.matrix),O=100*l.originX+"%",b=100*l.originY+"%",C.e-=h.scrollX*l.scrollFactorX,C.f-=h.scrollY*l.scrollFactorY,T.multiply(C,R)),l.transformOnly||(v.display="block",v.opacity=y,v.zIndex=l._depth,v.pointerEvents=l.pointerEvents,v.mixBlendMode=e[l._blendMode]),v.transform=R.getCSSMatrix()+" skew("+l.skewX+"rad, "+l.skewY+"rad) rotate3d("+l.rotate3d.x+","+l.rotate3d.y+","+l.rotate3d.z+","+l.rotate3d.w+l.rotate3dAngle+")",v.transformOrigin=O+" "+b}};o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(15),a=t(1060),n=new e({Extends:s,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Flip,u.Origin,u.ScrollFactor,u.Size,u.Texture,u.Tint,u.Transform,u.Visible,a],initialize:function(r){s.call(this,r,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(218),u=t(98),s=t(14),a=t(4),n=function(i,r,f){f===void 0&&(f=new a);var l=u(r,0,s.PI2);return e(i,l,f)};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(447),u=t(218),s=t(98),a=t(14),n=function(i,r,f,l){l===void 0&&(l=[]),!r&&f>0&&(r=e(i)/f);for(var h=0;h<r;h++){var c=s(h/r,0,a.PI2);l.push(u(i,c))}return l};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=e.width/2,s=e.height/2,a=Math.pow(u-s,2)/Math.pow(u+s,2);return Math.PI*(u+s)*(1+3*a/(10+Math.sqrt(4-3*a)))};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),u=t(30),s=function(a,n,i,r,f,l){var h=n.commandBuffer,c=h.length,v=f||a.currentContext;if(!(c===0||!u(a,v,n,i,r))){i.addToRenderList(n);var d=1,m=1,y=0,T=0,C=1,R=0,A=0,P=0;v.beginPath();for(var O=0;O<c;++O){var b=h[O];switch(b){case e.ARC:v.arc(h[O+1],h[O+2],h[O+3],h[O+4],h[O+5],h[O+6]),O+=7;break;case e.LINE_STYLE:C=h[O+1],y=h[O+2],d=h[O+3],R=(y&16711680)>>>16,A=(y&65280)>>>8,P=y&255,v.strokeStyle="rgba("+R+","+A+","+P+","+d+")",v.lineWidth=C,O+=3;break;case e.FILL_STYLE:T=h[O+1],m=h[O+2],R=(T&16711680)>>>16,A=(T&65280)>>>8,P=T&255,v.fillStyle="rgba("+R+","+A+","+P+","+m+")",O+=2;break;case e.BEGIN_PATH:v.beginPath();break;case e.CLOSE_PATH:v.closePath();break;case e.FILL_PATH:l||v.fill();break;case e.STROKE_PATH:l||v.stroke();break;case e.FILL_RECT:l?v.rect(h[O+1],h[O+2],h[O+3],h[O+4]):v.fillRect(h[O+1],h[O+2],h[O+3],h[O+4]),O+=4;break;case e.FILL_TRIANGLE:v.beginPath(),v.moveTo(h[O+1],h[O+2]),v.lineTo(h[O+3],h[O+4]),v.lineTo(h[O+5],h[O+6]),v.closePath(),l||v.fill(),O+=6;break;case e.STROKE_TRIANGLE:v.beginPath(),v.moveTo(h[O+1],h[O+2]),v.lineTo(h[O+3],h[O+4]),v.lineTo(h[O+5],h[O+6]),v.closePath(),l||v.stroke(),O+=6;break;case e.LINE_TO:v.lineTo(h[O+1],h[O+2]),O+=2;break;case e.MOVE_TO:v.moveTo(h[O+1],h[O+2]),O+=2;break;case e.LINE_FX_TO:v.lineTo(h[O+1],h[O+2]),O+=5;break;case e.MOVE_FX_TO:v.moveTo(h[O+1],h[O+2]),O+=5;break;case e.SAVE:v.save();break;case e.RESTORE:v.restore();break;case e.TRANSLATE:v.translate(h[O+1],h[O+2]),O+=2;break;case e.SCALE:v.scale(h[O+1],h[O+2]),O+=2;break;case e.ROTATE:v.rotate(h[O+1]),O+=1;break;case e.GRADIENT_FILL_STYLE:O+=5;break;case e.GRADIENT_LINE_STYLE:O+=6;break}}v.restore()}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(137),s=t(80),a=t(2),n=t(68),i=new e({initialize:function(f,l,h,c){c===void 0&&(c=!1),this.propertyKey=l,this.propertyValue=h,this.defaultValue=h,this.steps=0,this.counter=0,this.start=0,this.end=0,this.ease,this.emitOnly=c,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.loadConfig(f)},loadConfig:function(r,f){r===void 0&&(r={}),f&&(this.propertyKey=f),this.propertyValue=a(r,this.propertyKey,this.defaultValue),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return this.propertyValue},onChange:function(r){return this.propertyValue=r,this.setMethods()},setMethods:function(){var r=this.propertyValue,f=typeof r;if(this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,f==="number")this.onEmit=this.staticValueEmit,this.onUpdate=this.staticValueUpdate;else if(Array.isArray(r))this.onEmit=this.randomStaticValueEmit;else if(f==="function")this.emitOnly?this.onEmit=r:this.onUpdate=r;else if(f==="object"&&this.hasBoth(r,"start","end")){this.start=r.start,this.end=r.end;var l=this.has(r,"random");if(l&&(this.onEmit=this.randomRangedValueEmit),this.has(r,"steps"))this.steps=r.steps,this.counter=this.start,this.onEmit=this.steppedEmit;else{var h=this.has(r,"ease")?r.ease:"Linear";this.ease=s(h,r.easeParams),l||(this.onEmit=this.easedValueEmit),this.onUpdate=this.easeValueUpdate}}else if(f==="object"&&this.hasBoth(r,"min","max"))this.start=r.min,this.end=r.max,this.onEmit=this.randomRangedValueEmit;else if(f==="object"&&this.has(r,"random")){var c=r.random;Array.isArray(c)&&(this.start=c[0],this.end=c[1]),this.onEmit=this.randomRangedValueEmit}else f==="object"&&this.hasEither(r,"onEmit","onUpdate")&&(this.has(r,"onEmit")&&(this.onEmit=r.onEmit),this.has(r,"onUpdate")&&(this.onUpdate=r.onUpdate));return this},has:function(r,f){return r.hasOwnProperty(f)},hasBoth:function(r,f,l){return r.hasOwnProperty(f)&&r.hasOwnProperty(l)},hasEither:function(r,f,l){return r.hasOwnProperty(f)||r.hasOwnProperty(l)},defaultEmit:function(r,f,l){return l},defaultUpdate:function(r,f,l,h){return h},staticValueEmit:function(){return this.propertyValue},staticValueUpdate:function(){return this.propertyValue},randomStaticValueEmit:function(){var r=Math.floor(Math.random()*this.propertyValue.length);return this.propertyValue[r]},randomRangedValueEmit:function(r,f){var l=u(this.start,this.end);return r&&r.data[f]&&(r.data[f].min=l),l},steppedEmit:function(){var r=this.counter,f=this.counter+(this.end-this.start)/this.steps;return this.counter=n(f,this.start,this.end),r},easedValueEmit:function(r,f){if(r&&r.data[f]){var l=r.data[f];l.min=this.start,l.max=this.end}return this.start},easeValueUpdate:function(r,f,l){var h=r.data[f];return(h.max-h.min)*this.ease(l)+h.min}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=new e({initialize:function(n,i,r,f,l){if(typeof n=="object"){var h=n;n=u(h,"x",0),i=u(h,"y",0),r=u(h,"power",0),f=u(h,"epsilon",100),l=u(h,"gravity",50)}else n===void 0&&(n=0),i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=100),l===void 0&&(l=50);this.x=n,this.y=i,this.active=!0,this._gravity=l,this._power=0,this._epsilon=0,this.power=r,this.epsilon=f},update:function(a,n){var i=this.x-a.x,r=this.y-a.y,f=i*i+r*r;if(f!==0){var l=Math.sqrt(f);f<this._epsilon&&(f=this._epsilon);var h=this._power*n/(f*l)*100;a.velocityX+=i*h,a.velocityY+=r*h}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(a){this._epsilon=a*a}},power:{get:function(){return this._power/this._gravity},set:function(a){this._power=a*this._gravity}},gravity:{get:function(){return this._gravity},set:function(a){var n=this.power;this._gravity=a,this.power=n}}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(36),s=t(50),a=new e({initialize:function(i){this.emitter=i,this.frame=null,this.x=0,this.y=0,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215,current:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1}}},isAlive:function(){return this.lifeCurrent>0},resetPosition:function(){this.x=0,this.y=0},fire:function(n,i){var r=this.emitter;this.frame=r.getFrame(),r.emitZone&&r.emitZone.getPoint(this),n===void 0?this.x+=r.x.onEmit(this,"x"):this.x+=n,i===void 0?this.y+=r.y.onEmit(this,"y"):this.y+=i,this.life=r.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0;var f=r.speedX.onEmit(this,"speedX"),l=r.speedY?r.speedY.onEmit(this,"speedY"):f;if(r.radial){var h=u(r.angle.onEmit(this,"angle"));this.velocityX=Math.cos(h)*Math.abs(f),this.velocityY=Math.sin(h)*Math.abs(l)}else if(r.moveTo){var c=r.moveToX.onEmit(this,"moveToX"),v=r.moveToY?r.moveToY.onEmit(this,"moveToY"):c,d=Math.atan2(v-this.y,c-this.x),m=s(this.x,this.y,c,v)/(this.life/1e3);this.velocityX=Math.cos(d)*m,this.velocityY=Math.sin(d)*m}else this.velocityX=f,this.velocityY=l;r.acceleration&&(this.accelerationX=r.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=r.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=r.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=r.maxVelocityY.onEmit(this,"maxVelocityY"),this.delayCurrent=r.delay.onEmit(this,"delay"),this.scaleX=r.scaleX.onEmit(this,"scaleX"),this.scaleY=r.scaleY?r.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=r.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),this.bounce=r.bounce.onEmit(this,"bounce"),this.alpha=r.alpha.onEmit(this,"alpha"),this.tint=r.tint.onEmit(this,"tint")},computeVelocity:function(n,i,r,f){var l=this.velocityX,h=this.velocityY,c=this.accelerationX,v=this.accelerationY,d=this.maxVelocityX,m=this.maxVelocityY;l+=n.gravityX*r,h+=n.gravityY*r,c&&(l+=c*r),v&&(h+=v*r),l>d?l=d:l<-d&&(l=-d),h>m?h=m:h<-m&&(h=-m),this.velocityX=l,this.velocityY=h;for(var y=0;y<f.length;y++)f[y].update(this,i,r)},checkBounds:function(n){var i=n.bounds,r=-this.bounce;this.x<i.x&&n.collideLeft?(this.x=i.x,this.velocityX*=r):this.x>i.right&&n.collideRight&&(this.x=i.right,this.velocityX*=r),this.y<i.y&&n.collideTop?(this.y=i.y,this.velocityY*=r):this.y>i.bottom&&n.collideBottom&&(this.y=i.bottom,this.velocityY*=r)},update:function(n,i,r){if(this.delayCurrent>0)return this.delayCurrent-=n,!1;var f=this.emitter,l=1-this.lifeCurrent/this.life;return this.lifeT=l,this.computeVelocity(f,n,i,r),this.x+=this.velocityX*i,this.y+=this.velocityY*i,f.bounds&&this.checkBounds(f),f.deathZone&&f.deathZone.willKill(this)?(this.lifeCurrent=0,!0):(this.scaleX=f.scaleX.onUpdate(this,"scaleX",l,this.scaleX),f.scaleY?this.scaleY=f.scaleY.onUpdate(this,"scaleY",l,this.scaleY):this.scaleY=this.scaleX,this.angle=f.rotate.onUpdate(this,"rotate",l,this.angle),this.rotation=u(this.angle),this.alpha=f.alpha.onUpdate(this,"alpha",l,this.alpha),this.tint=f.tint.onUpdate(this,"tint",l,this.tint),this.lifeCurrent-=n,this.lifeCurrent<=0)}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(35),u=t(0),s=t(11),a=t(453),n=t(454),i=t(449),r=t(2),f=t(210),l=t(455),h=t(126),c=t(451),v=t(456),d=t(10),m=t(79),y=t(3),T=t(68),C=new u({Mixins:[s.BlendMode,s.Mask,s.ScrollFactor,s.Visible],initialize:function(A,P){this.manager=A,this.texture=A.texture,this.frames=[A.defaultFrame],this.defaultFrame=A.defaultFrame,this.configFastMap=["active","blendMode","collideBottom","collideLeft","collideRight","collideTop","deathCallback","deathCallbackScope","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxParticles","name","on","particleBringToTop","particleClass","radial","timeScale","trackVisible","visible"],this.configOpMap=["accelerationX","accelerationY","angle","alpha","bounce","delay","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],this.name="",this.particleClass=c,this.x=new i(P,"x",0,!0),this.y=new i(P,"y",0,!0),this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.accelerationX=new i(P,"accelerationX",0,!0),this.accelerationY=new i(P,"accelerationY",0,!0),this.maxVelocityX=new i(P,"maxVelocityX",1e4,!0),this.maxVelocityY=new i(P,"maxVelocityY",1e4,!0),this.speedX=new i(P,"speedX",0,!0),this.speedY=new i(P,"speedY",0,!0),this.moveTo=!1,this.moveToX=new i(P,"moveToX",0,!0),this.moveToY=new i(P,"moveToY",0,!0),this.bounce=new i(P,"bounce",0,!0),this.scaleX=new i(P,"scaleX",1),this.scaleY=new i(P,"scaleY",1),this.tint=new i(P,"tint",16777215),this.alpha=new i(P,"alpha",1),this.lifespan=new i(P,"lifespan",1e3,!0),this.angle=new i(P,"angle",{min:0,max:360},!0),this.rotate=new i(P,"rotate",0),this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.quantity=new i(P,"quantity",1,!0),this.delay=new i(P,"delay",0,!0),this.frequency=0,this.on=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZone=null,this.deathZone=null,this.bounds=null,this.collideLeft=!0,this.collideRight=!0,this.collideTop=!0,this.collideBottom=!0,this.active=!0,this.visible=!0,this.blendMode=e.NORMAL,this.follow=null,this.followOffset=new y,this.trackVisible=!1,this.currentFrame=0,this.randomFrame=!0,this.frameQuantity=1,this.dead=[],this.alive=[],this._counter=0,this._frameCounter=0,P&&this.fromJSON(P)},fromJSON:function(R){if(!R)return this;var A=0,P="";for(A=0;A<this.configFastMap.length;A++)P=this.configFastMap[A],h(R,P)&&(this[P]=r(R,P));for(A=0;A<this.configOpMap.length;A++)P=this.configOpMap[A],h(R,P)&&this[P].loadConfig(R);if(this.acceleration=this.accelerationX.propertyValue!==0||this.accelerationY.propertyValue!==0,this.moveTo=this.moveToX.propertyValue!==0||this.moveToY.propertyValue!==0,h(R,"speed")&&(this.speedX.loadConfig(R,"speed"),this.speedY=null),(l(R,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),h(R,"scale")&&(this.scaleX.loadConfig(R,"scale"),this.scaleY=null),h(R,"callbackScope")){var O=r(R,"callbackScope",null);this.emitCallbackScope=O,this.deathCallbackScope=O}return h(R,"emitZone")&&this.setEmitZone(R.emitZone),h(R,"deathZone")&&this.setDeathZone(R.deathZone),h(R,"bounds")&&this.setBounds(R.bounds),h(R,"followOffset")&&this.followOffset.setFromObject(r(R,"followOffset",0)),h(R,"frame")&&this.setFrame(R.frame),h(R,"reserve")&&this.reserve(R.reserve),this},toJSON:function(R){R===void 0&&(R={});var A=0,P="";for(A=0;A<this.configFastMap.length;A++)P=this.configFastMap[A],R[P]=this[P];for(A=0;A<this.configOpMap.length;A++)P=this.configOpMap[A],this[P]&&(R[P]=this[P].toJSON());return this.speedY||(delete R.speedX,R.speed=this.speedX.toJSON()),this.scaleY||(delete R.scaleX,R.scale=this.scaleX.toJSON()),R},startFollow:function(R,A,P,O){return A===void 0&&(A=0),P===void 0&&(P=0),O===void 0&&(O=!1),this.follow=R,this.followOffset.set(A,P),this.trackVisible=O,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){if(this.frames.length===1)return this.defaultFrame;if(this.randomFrame)return f(this.frames);var R=this.frames[this.currentFrame];return this._frameCounter++,this._frameCounter===this.frameQuantity&&(this._frameCounter=0,this.currentFrame=T(this.currentFrame+1,0,this._frameLength)),R},setFrame:function(R,A,P){A===void 0&&(A=!0),P===void 0&&(P=1),this.randomFrame=A,this.frameQuantity=P,this.currentFrame=0,this._frameCounter=0;var O=typeof R;if(Array.isArray(R)||O==="string"||O==="number")this.manager.setEmitterFrames(R,this);else if(O==="object"){var b=R;R=r(b,"frames",null),R&&this.manager.setEmitterFrames(R,this);var D=r(b,"cycle",!1);this.randomFrame=!D,this.frameQuantity=r(b,"quantity",P)}return this._frameLength=this.frames.length,this._frameLength===1&&(this.frameQuantity=1,this.randomFrame=!1),this},setRadial:function(R){return R===void 0&&(R=!0),this.radial=R,this},setPosition:function(R,A){return this.x.onChange(R),this.y.onChange(A),this},setBounds:function(R,A,P,O){if(typeof R=="object"){var b=R;R=b.x,A=b.y,P=h(b,"w")?b.w:b.width,O=h(b,"h")?b.h:b.height}return this.bounds?this.bounds.setTo(R,A,P,O):this.bounds=new d(R,A,P,O),this},setSpeedX:function(R){return this.speedX.onChange(R),this.radial=!1,this},setSpeedY:function(R){return this.speedY&&(this.speedY.onChange(R),this.radial=!1),this},setSpeed:function(R){return this.speedX.onChange(R),this.speedY=null,this.radial=!0,this},setScaleX:function(R){return this.scaleX.onChange(R),this},setScaleY:function(R){return this.scaleY.onChange(R),this},setScale:function(R){return this.scaleX.onChange(R),this.scaleY=null,this},setGravityX:function(R){return this.gravityX=R,this},setGravityY:function(R){return this.gravityY=R,this},setGravity:function(R,A){return this.gravityX=R,this.gravityY=A,this},setAlpha:function(R){return this.alpha.onChange(R),this},setTint:function(R){return this.tint.onChange(R),this},setEmitterAngle:function(R){return this.angle.onChange(R),this},setAngle:function(R){return this.angle.onChange(R),this},setLifespan:function(R){return this.lifespan.onChange(R),this},setQuantity:function(R){return this.quantity.onChange(R),this},setFrequency:function(R,A){return this.frequency=R,this._counter=0,A&&this.quantity.onChange(A),this},setEmitZone:function(R){if(R===void 0)this.emitZone=null;else{var A=r(R,"type","random"),P=r(R,"source",null);switch(A){case"random":this.emitZone=new v(P);break;case"edge":var O=r(R,"quantity",1),b=r(R,"stepRate",0),D=r(R,"yoyo",!1),N=r(R,"seamless",!0);this.emitZone=new n(P,O,b,D,N);break}}return this},setDeathZone:function(R){if(R===void 0)this.deathZone=null;else{var A=r(R,"type","onEnter"),P=r(R,"source",null);if(P&&typeof P.contains=="function"){var O=A==="onEnter";this.deathZone=new a(P,O)}}return this},reserve:function(R){for(var A=this.dead,P=0;P<R;P++)A.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()===this.maxParticles},onParticleEmit:function(R,A){return R===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof R=="function"&&(this.emitCallback=R,A&&(this.emitCallbackScope=A)),this},onParticleDeath:function(R,A){return R===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof R=="function"&&(this.deathCallback=R,A&&(this.deathCallbackScope=A)),this},killAll:function(){for(var R=this.dead,A=this.alive;A.length>0;)R.push(A.pop());return this},forEachAlive:function(R,A){for(var P=this.alive,O=P.length,b=0;b<O;++b)R.call(A,P[b],this);return this},forEachDead:function(R,A){for(var P=this.dead,O=P.length,b=0;b<O;++b)R.call(A,P[b],this);return this},start:function(){return this.on=!0,this._counter=0,this},stop:function(){return this.on=!1,this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},remove:function(){return this.manager.removeEmitter(this),this},depthSort:function(){return m(this.alive,this.depthSortCallback),this},flow:function(R,A){return A===void 0&&(A=1),this.frequency=R,this.quantity.onChange(A),this.start()},explode:function(R,A,P){return this.frequency=-1,this.emitParticle(R,A,P)},emitParticleAt:function(R,A,P){return this.emitParticle(P,R,A)},emitParticle:function(R,A,P){if(!this.atLimit()){R===void 0&&(R=this.quantity.onEmit());for(var O=this.dead,b=this.follow?this.follow.x+this.followOffset.x:A,D=this.follow?this.follow.y+this.followOffset.y:P,N=0;N<R;N++){var B=O.pop();if(B||(B=new this.particleClass(this)),B.fire(b,D),this.particleBringToTop?this.alive.push(B):this.alive.unshift(B),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,B,this),this.atLimit())break}return B}},preUpdate:function(R,A){A*=this.timeScale;var P=A/1e3;this.trackVisible&&(this.visible=this.follow.visible);var O=this.manager.getProcessors(),b=this.alive,D=this.dead,N=0,B=[],U=b.length;for(N=0;N<U;N++){var G=b[N];G.update(A,P,O)&&B.push({index:N,particle:G})}if(U=B.length,U>0){var W=this.deathCallback,$=this.deathCallbackScope;for(N=U-1;N>=0;N--){var q=B[N];b.splice(q.index,1),D.push(q.particle),W&&W.call($,q.particle),q.particle.resetPosition()}}this.on&&(this.frequency===0?this.emitParticle():this.frequency>0&&(this._counter-=A,this._counter<=0&&(this.emitParticle(),this._counter=this.frequency-Math.abs(this._counter))))},depthSortCallback:function(R,A){return R.y-A.y}});o.exports=C},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n){this.source=a,this.killOnEnter=n},willKill:function(s){var a=this.source.contains(s.x,s.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i,r,f){r===void 0&&(r=!1),f===void 0&&(f=!0),this.source=a,this.points=[],this.quantity=n,this.stepRate=i,this.yoyo=r,this.counter=-1,this.seamless=f,this._length=0,this._direction=0,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var s=this.points[0],a=this.points[this.points.length-1];s.x===a.x&&s.y===a.y&&this.points.pop()}var n=this._length;return this._length=this.points.length,this._length<n&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(s){return this.source=s,this.updateSource()},getPoint:function(s){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var a=this.points[this.counter];a&&(s.x=a.x,s.y=a.y)}});o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){for(var s=0;s<u.length;s++)if(e.hasOwnProperty(u[s]))return!0;return!1};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(3),s=new e({initialize:function(n){this.source=n,this._tempVec=new u},getPoint:function(a){var n=this._tempVec;this.source.getRandomPoint(n),a.x=n.x,a.y=n.y}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(73),a=new e({Extends:s,Mixins:[u.PathFollower],initialize:function(i,r,f,l,h,c){s.call(this,i,f,l,h,c),this.path=r},preUpdate:function(n,i){this.anims.update(n,i),this.pathUpdate(n)}});o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=e.canvas,n=e.context,i=e.style,r=[],f=0,l=s.length;i.maxLines>0&&i.maxLines<s.length&&(l=i.maxLines),i.syncFont(a,n);for(var h=0;h<l;h++){var c=i.strokeThickness;c+=n.measureText(s[h]).width,i.wordWrap&&(c-=n.measureText(" ").width),r[h]=Math.ceil(c),f=Math.max(f,r[h])}var v=u.fontSize+i.strokeThickness,d=v*l,m=e.lineSpacing;return l>1&&(d+=m*(l-1)),{width:f,height:d,lines:l,lineWidths:r,lineSpacing:m,lineHeight:v}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(13),s=t(6),a=t(460),n={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},i=new e({initialize:function(f,l){this.parent=f,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(l,!1,!0);var h=s(l,"metrics",!1);h?this.metrics={ascent:s(h,"ascent",0),descent:s(h,"descent",0),fontSize:s(h,"fontSize",0)}:this.metrics=a(this)},setStyle:function(r,f,l){f===void 0&&(f=!0),l===void 0&&(l=!1),r&&r.hasOwnProperty("fontSize")&&typeof r.fontSize=="number"&&(r.fontSize=r.fontSize.toString()+"px");for(var h in n){var c=l?n[h][1]:this[h];h==="wordWrapCallback"||h==="wordWrapCallbackScope"?this[h]=s(r,n[h][0],c):this[h]=u(r,n[h][0],c)}var v=s(r,"font",null);v!==null&&this.setFont(v,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var d=s(r,"fill",null);return d!==null&&(this.color=d),f?this.update(!0):this.parent},syncFont:function(r,f){f.font=this._font},syncStyle:function(r,f){f.textBaseline="alphabetic",f.fillStyle=this.color,f.strokeStyle=this.stroke,f.lineWidth=this.strokeThickness,f.lineCap="round",f.lineJoin="round"},syncShadow:function(r,f){f?(r.shadowOffsetX=this.shadowOffsetX,r.shadowOffsetY=this.shadowOffsetY,r.shadowColor=this.shadowColor,r.shadowBlur=this.shadowBlur):(r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowColor=0,r.shadowBlur=0)},update:function(r){return r&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=a(this)),this.parent.updateText()},setFont:function(r,f){f===void 0&&(f=!0);var l=r,h="",c="";if(typeof r!="string")l=s(r,"fontFamily","Courier"),h=s(r,"fontSize","16px"),c=s(r,"fontStyle","");else{var v=r.split(" "),d=0;c=v.length>2?v[d++]:"",h=v[d++]||"16px",l=v[d++]||"Courier"}return(l!==this.fontFamily||h!==this.fontSize||c!==this.fontStyle)&&(this.fontFamily=l,this.fontSize=h,this.fontStyle=c,f&&this.update(!0)),this.parent},setFontFamily:function(r){return this.fontFamily!==r&&(this.fontFamily=r,this.update(!0)),this.parent},setFontStyle:function(r){return this.fontStyle!==r&&(this.fontStyle=r,this.update(!0)),this.parent},setFontSize:function(r){return typeof r=="number"&&(r=r.toString()+"px"),this.fontSize!==r&&(this.fontSize=r,this.update(!0)),this.parent},setTestString:function(r){return this.testString=r,this.update(!0)},setFixedSize:function(r,f){return this.fixedWidth=r,this.fixedHeight=f,r&&(this.parent.width=r),f&&(this.parent.height=f),this.update(!1)},setBackgroundColor:function(r){return this.backgroundColor=r,this.update(!1)},setFill:function(r){return this.color=r,this.update(!1)},setColor:function(r){return this.color=r,this.update(!1)},setResolution:function(r){return this.resolution=r,this.update(!1)},setStroke:function(r,f){return f===void 0&&(f=this.strokeThickness),r===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==r||this.strokeThickness!==f)&&(this.stroke=r,this.strokeThickness=f,this.update(!0)),this.parent},setShadow:function(r,f,l,h,c,v){return r===void 0&&(r=0),f===void 0&&(f=0),l===void 0&&(l="#000"),h===void 0&&(h=0),c===void 0&&(c=!1),v===void 0&&(v=!0),this.shadowOffsetX=r,this.shadowOffsetY=f,this.shadowColor=l,this.shadowBlur=h,this.shadowStroke=c,this.shadowFill=v,this.update(!1)},setShadowOffset:function(r,f){return r===void 0&&(r=0),f===void 0&&(f=r),this.shadowOffsetX=r,this.shadowOffsetY=f,this.update(!1)},setShadowColor:function(r){return r===void 0&&(r="#000"),this.shadowColor=r,this.update(!1)},setShadowBlur:function(r){return r===void 0&&(r=0),this.shadowBlur=r,this.update(!1)},setShadowStroke:function(r){return this.shadowStroke=r,this.update(!1)},setShadowFill:function(r){return this.shadowFill=r,this.update(!1)},setWordWrapWidth:function(r,f){return f===void 0&&(f=!1),this.wordWrapWidth=r,this.wordWrapUseAdvanced=f,this.update(!1)},setWordWrapCallback:function(r,f){return f===void 0&&(f=null),this.wordWrapCallback=r,this.wordWrapCallbackScope=f,this.update(!1)},setAlign:function(r){return r===void 0&&(r="left"),this.align=r,this.update(!1)},setMaxLines:function(r){return r===void 0&&(r=0),this.maxLines=r,this.update(!1)},getTextMetrics:function(){var r=this.metrics;return{ascent:r.ascent,descent:r.descent,fontSize:r.fontSize}},toJSON:function(){var r={};for(var f in n)r[f]=this[f];return r.metrics=this.getTextMetrics(),r},destroy:function(){this.parent=void 0}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(31),u=function(s){var a=e.create(this),n=a.getContext("2d");s.syncFont(a,n);var i=n.measureText(s.testString);if("actualBoundingBoxAscent"in i){var r=i.actualBoundingBoxAscent,f=i.actualBoundingBoxDescent;return e.remove(a),{ascent:r,descent:f,fontSize:r+f}}var l=Math.ceil(i.width*s.baselineX),h=l,c=2*h;h=h*s.baselineY|0,a.width=l,a.height=c,n.fillStyle="#f00",n.fillRect(0,0,l,c),n.font=s._font,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s.testString,0,h);var v={ascent:0,descent:0,fontSize:0},d=n.getImageData(0,0,l,c);if(!d)return v.ascent=h,v.descent=h+6,v.fontSize=v.ascent+v.descent,e.remove(a),v;var m=d.data,y=m.length,T=l*4,C,R,A=0,P=!1;for(C=0;C<h;C++){for(R=0;R<T;R+=4)if(m[A+R]!==255){P=!0;break}if(!P)A+=T;else break}for(v.ascent=h-C,A=y-T,P=!1,C=c;C>h;C--){for(R=0;R<T;R+=4)if(m[A+R]!==255){P=!0;break}if(!P)A-=T;else break}return v.descent=C-h,v.fontSize=v.ascent+v.descent,e.remove(a),v};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1097),u=t(0),s=t(36),a=t(59),n=t(65),i=t(14),r=t(34),f=new u({Extends:r,Mixins:[e],initialize:function(h,c,v,d,m,y,T,C,R){c===void 0&&(c=0),v===void 0&&(v=0),d===void 0&&(d=128),m===void 0&&(m=0),y===void 0&&(y=360),T===void 0&&(T=!1),r.call(this,h,"Arc",new n(0,0,d)),this._startAngle=m,this._endAngle=y,this._anticlockwise=T,this._iterations=.01,this.setPosition(c,v);var A=this.geom.radius*2;this.setSize(A,A),C!==void 0&&this.setFillStyle(C,R),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(l){this._iterations=l,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(l){this.geom.radius=l;var h=l*2;this.setSize(h,h),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(l){this._startAngle=l,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(l){this._endAngle=l,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(l){this._anticlockwise=l,this.updateData()}},setRadius:function(l){return this.radius=l,this},setIterations:function(l){return l===void 0&&(l=.01),this.iterations=l,this},setStartAngle:function(l,h){return this._startAngle=l,h!==void 0&&(this._anticlockwise=h),this.updateData()},setEndAngle:function(l,h){return this._endAngle=l,h!==void 0&&(this._anticlockwise=h),this.updateData()},updateData:function(){var l=this._iterations,h=l,c=this.geom.radius,v=s(this._startAngle),d=s(this._endAngle),m=this._anticlockwise,y=c,T=c;d-=v,m?d<-i.PI2?d=-i.PI2:d>0&&(d=-i.PI2+d%i.PI2):d>i.PI2?d=i.PI2:d<0&&(d=i.PI2+d%i.PI2);for(var C=[y+Math.cos(v)*c,T+Math.sin(v)*c],R;h<1;)R=d*h+v,C.push(y+Math.cos(R)*c,T+Math.sin(R)*c),h+=l;return R=d+v,C.push(y+Math.cos(R)*c,T+Math.sin(R)*c),C.push(y+Math.cos(v)*c,T+Math.sin(v)*c),this.pathIndexes=a(C),this.pathData=C,this}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(1100),s=t(59),a=t(10),n=t(34),i=new e({Extends:n,Mixins:[u],initialize:function(f,l,h,c,v,d){l===void 0&&(l=0),h===void 0&&(h=0),n.call(this,f,"Curve",c),this._smoothness=32,this._curveBounds=new a,this.closePath=!1,this.setPosition(l,h),v!==void 0&&this.setFillStyle(v,d),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){var r=this._curveBounds,f=this._smoothness;this.geom.getBounds(r,f),this.setSize(r.width,r.height),this.updateDisplayOrigin();for(var l=[],h=this.geom.getPoints(f),c=0;c<h.length;c++)l.push(h[c].x,h[c].y);return l.push(h[0].x,h[0].y),this.pathIndexes=s(l),this.pathData=l,this}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(59),s=t(1103),a=t(111),n=t(34),i=new e({Extends:n,Mixins:[s],initialize:function(f,l,h,c,v,d,m){l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=128),v===void 0&&(v=128),n.call(this,f,"Ellipse",new a(c/2,v/2,c,v)),this._smoothness=64,this.setPosition(l,h),this.width=c,this.height=v,d!==void 0&&this.setFillStyle(d,m),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(r){this._smoothness=r,this.updateData()}},setSize:function(r,f){return this.width=r,this.height=f,this.geom.setPosition(r/2,f/2),this.geom.setSize(r,f),this.updateData()},setSmoothness:function(r){return this._smoothness=r,this.updateData()},updateData:function(){for(var r=[],f=this.geom.getPoints(this._smoothness),l=0;l<f.length;l++)r.push(f[l].x,f[l].y);return r.push(f[0].x,f[0].y),this.pathIndexes=u(r),this.pathData=r,this}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(34),s=t(1106),a=new e({Extends:u,Mixins:[s],initialize:function(i,r,f,l,h,c,v,d,m,y,T){r===void 0&&(r=0),f===void 0&&(f=0),l===void 0&&(l=128),h===void 0&&(h=128),c===void 0&&(c=32),v===void 0&&(v=32),u.call(this,i,"Grid",null),this.cellWidth=c,this.cellHeight=v,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(r,f),this.setSize(l,h),this.setFillStyle(d,m),y!==void 0&&this.setOutlineStyle(y,T),this.updateDisplayOrigin()},setFillStyle:function(n,i){return i===void 0&&(i=1),n===void 0?this.showCells=!1:(this.fillColor=n,this.fillAlpha=i,this.showCells=!0),this},setAltFillStyle:function(n,i){return i===void 0&&(i=1),n===void 0?this.showAltCells=!1:(this.altFillColor=n,this.altFillAlpha=i,this.showAltCells=!0),this},setOutlineStyle:function(n,i){return i===void 0&&(i=1),n===void 0?this.showOutline=!1:(this.outlineFillColor=n,this.outlineFillAlpha=i,this.showOutline=!0),this}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1109),u=t(0),s=t(34),a=new u({Extends:s,Mixins:[e],initialize:function(i,r,f,l,h,c,v,d){r===void 0&&(r=0),f===void 0&&(f=0),l===void 0&&(l=48),h===void 0&&(h=32),c===void 0&&(c=15658734),v===void 0&&(v=10066329),d===void 0&&(d=13421772),s.call(this,i,"IsoBox",null),this.projection=4,this.fillTop=c,this.fillLeft=v,this.fillRight=d,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(r,f),this.setSize(l,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setFaces:function(n,i,r){return n===void 0&&(n=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),this.showTop=n,this.showLeft=i,this.showRight=r,this},setFillStyle:function(n,i,r){return this.fillTop=n,this.fillLeft=i,this.fillRight=r,this.isFilled=!0,this}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(1112),s=t(34),a=new e({Extends:s,Mixins:[u],initialize:function(i,r,f,l,h,c,v,d,m){r===void 0&&(r=0),f===void 0&&(f=0),l===void 0&&(l=48),h===void 0&&(h=32),c===void 0&&(c=!1),v===void 0&&(v=15658734),d===void 0&&(d=10066329),m===void 0&&(m=13421772),s.call(this,i,"IsoTriangle",null),this.projection=4,this.fillTop=v,this.fillLeft=d,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=c,this.isFilled=!0,this.setPosition(r,f),this.setSize(l,h),this.updateDisplayOrigin()},setProjection:function(n){return this.projection=n,this},setReversed:function(n){return this.isReversed=n,this},setFaces:function(n,i,r){return n===void 0&&(n=!0),i===void 0&&(i=!0),r===void 0&&(r=!0),this.showTop=n,this.showLeft=i,this.showRight=r,this},setFillStyle:function(n,i,r){return this.fillTop=n,this.fillLeft=i,this.fillRight=r,this.isFilled=!0,this}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(34),s=t(47),a=t(1115),n=new e({Extends:u,Mixins:[a],initialize:function(r,f,l,h,c,v,d,m,y){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=0),v===void 0&&(v=128),d===void 0&&(d=0),u.call(this,r,"Line",new s(h,c,v,d));var T=Math.max(1,this.geom.right-this.geom.left),C=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(f,l),this.setSize(T,C),m!==void 0&&this.setStrokeStyle(1,m,y),this.updateDisplayOrigin()},setLineWidth:function(i,r){return r===void 0&&(r=i),this._startWidth=i,this._endWidth=r,this.lineWidth=i,this},setTo:function(i,r,f,l){return this.geom.setTo(i,r,f,l),this}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1118),u=t(0),s=t(59),a=t(469),n=t(227),i=t(34),r=t(472),f=new u({Extends:i,Mixins:[e],initialize:function(h,c,v,d,m,y){c===void 0&&(c=0),v===void 0&&(v=0),i.call(this,h,"Polygon",new n(d));var T=a(this.geom);this.setPosition(c,v),this.setSize(T.width,T.height),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},smooth:function(l){l===void 0&&(l=1);for(var h=0;h<l;h++)r(this.geom);return this.updateData()},updateData:function(){for(var l=[],h=this.geom.points,c=0;c<h.length;c++)l.push(h[c].x,h[c].y);return l.push(h[0].x,h[0].y),this.pathIndexes=s(l),this.pathData=l,this}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(s,a){a===void 0&&(a=new e);for(var n=1/0,i=1/0,r=-n,f=-i,l,h=0;h<s.points.length;h++)l=s.points[h],n=Math.min(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.x),f=Math.max(f,l.y);return a.x=n,a.y=i,a.width=r-n,a.height=f-i,a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=t(47),s=t(471),a=function(n,i,r,f){f===void 0&&(f=[]);var l=n.points,h=s(n);!i&&r>0&&(i=h/r);for(var c=0;c<i;c++)for(var v=h*(c/i),d=0,m=0;m<l.length;m++){var y=l[m],T=l[(m+1)%l.length],C=new u(y.x,y.y,T.x,T.y),R=e(C);if(v<d||v>d+R){d+=R;continue}var A=C.getPoint((v-d)/R);f.push(A);break}return f};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=t(47),s=function(a){for(var n=a.points,i=0,r=0;r<n.length;r++){var f=n[r],l=n[(r+1)%n.length],h=new u(f.x,f.y,l.x,l.y);i+=e(h)}return i};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(u,s){return u[0]=s[0],u[1]=s[1],u},e=function(u){var s,a=[],n=u.points;for(s=0;s<n.length;s++)a.push([n[s].x,n[s].y]);var i=[];for(a.length>0&&i.push(t([0,0],a[0])),s=0;s<a.length-1;s++){var r=a[s],f=a[s+1],l=r[0],h=r[1],c=f[0],v=f[1];i.push([.85*l+.15*c,.85*h+.15*v]),i.push([.15*l+.85*c,.15*h+.85*v])}return a.length>1&&i.push(t([0,0],a[a.length-1])),u.setTo(i)};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(10),s=t(34),a=t(1121),n=new e({Extends:s,Mixins:[a],initialize:function(r,f,l,h,c,v,d){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=128),c===void 0&&(c=128),s.call(this,r,"Rectangle",new u(0,0,h,c)),this.setPosition(f,l),this.setSize(h,c),v!==void 0&&this.setFillStyle(v,d),this.updateDisplayOrigin(),this.updateData()},setSize:function(i,r){return this.width=i,this.height=r,this.geom.setSize(i,r),this.updateData(),this},updateData:function(){var i=[],r=this.geom,f=this._tempLine;return r.getLineA(f),i.push(f.x1,f.y1,f.x2,f.y2),r.getLineB(f),i.push(f.x2,f.y2),r.getLineC(f),i.push(f.x2,f.y2),r.getLineD(f),i.push(f.x2,f.y2),this.pathData=i,this}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1124),u=t(0),s=t(59),a=t(34),n=new u({Extends:a,Mixins:[e],initialize:function(r,f,l,h,c,v,d,m){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=5),c===void 0&&(c=32),v===void 0&&(v=64),a.call(this,r,"Star",null),this._points=h,this._innerRadius=c,this._outerRadius=v,this.setPosition(f,l),this.setSize(v*2,v*2),d!==void 0&&this.setFillStyle(d,m),this.updateDisplayOrigin(),this.updateData()},setPoints:function(i){return this._points=i,this.updateData()},setInnerRadius:function(i){return this._innerRadius=i,this.updateData()},setOuterRadius:function(i){return this._outerRadius=i,this.updateData()},points:{get:function(){return this._points},set:function(i){this._points=i,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(i){this._innerRadius=i,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(i){this._outerRadius=i,this.updateData()}},updateData:function(){var i=[],r=this._points,f=this._innerRadius,l=this._outerRadius,h=Math.PI/2*3,c=Math.PI/r,v=l,d=l;i.push(v,d+-l);for(var m=0;m<r;m++)i.push(v+Math.cos(h)*l,d+Math.sin(h)*l),h+=c,i.push(v+Math.cos(h)*f,d+Math.sin(h)*f),h+=c;return i.push(v,d+-l),this.pathIndexes=s(i),this.pathData=i,this}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(34),s=t(82),a=t(1127),n=new e({Extends:u,Mixins:[a],initialize:function(r,f,l,h,c,v,d,m,y,T,C){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=128),v===void 0&&(v=64),d===void 0&&(d=0),m===void 0&&(m=128),y===void 0&&(y=128),u.call(this,r,"Triangle",new s(h,c,v,d,m,y));var R=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(f,l),this.setSize(R,A),T!==void 0&&this.setFillStyle(T,C),this.updateDisplayOrigin(),this.updateData()},setTo:function(i,r,f,l,h,c){return this.geom.setTo(i,r,f,l,h,c),this.updateData()},updateData:function(){var i=[],r=this.geom,f=this._tempLine;return r.getLineA(f),i.push(f.x1,f.y1,f.x2,f.y2),r.getLineB(f),i.push(f.x2,f.y2),r.getLineC(f),i.push(f.x2,f.y2),this.pathData=i,this}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(67),s=function(a,n,i){i===void 0&&(i=new e);var r=a.getLineA(),f=a.getLineB(),l=a.getLineC();if(n<=0||n>=1)return i.x=r.x1,i.y=r.y1,i;var h=u(r),c=u(f),v=u(l),d=h+c+v,m=d*n,y=0;return m<h?(y=m/h,i.x=r.x1+(r.x2-r.x1)*y,i.y=r.y1+(r.y2-r.y1)*y):m>h+c?(m-=h+c,y=m/v,i.x=l.x1+(l.x2-l.x1)*y,i.y=l.y1+(l.y2-l.y1)*y):(m-=h,y=m/c,i.x=f.x1+(f.x2-f.x1)*y,i.y=f.y1+(f.y2-f.y1)*y),i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=t(4),s=function(a,n,i,r){r===void 0&&(r=[]);var f=a.getLineA(),l=a.getLineB(),h=a.getLineC(),c=e(f),v=e(l),d=e(h),m=c+v+d;!n&&i>0&&(n=m/i);for(var y=0;y<n;y++){var T=m*(y/n),C=0,R=new u;T<c?(C=T/c,R.x=f.x1+(f.x2-f.x1)*C,R.y=f.y1+(f.y2-f.y1)*C):T>c+v?(T-=c+v,C=T/d,R.x=h.x1+(h.x2-h.x1)*C,R.y=h.y1+(h.y2-h.y1)*C):(T-=c,C=T/v,R.x=l.x1+(l.x2-l.x1)*C,R.y=l.y1+(l.y2-l.y1)*C),r.push(R)}return r};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(u))return e[u]=s,!0;if(u.indexOf(".")!==-1){for(var a=u.split("."),n=e,i=e,r=0;r<a.length;r++)if(n.hasOwnProperty(a[r]))i=n,n=n[a[r]];else return!1;return i[a[a.length-1]]=s,!0}return!1};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),u=t(117),s=function(a,n,i,r,f,l,h){if(r===void 0&&(r=!1),l===void 0&&(l=16777215),h===void 0&&(h=1),a.length!==n.length){console.warn("GenerateVerts: vertices and uvs count not equal");return}var c={faces:[],vertices:[]},v,d,m,y,T,C,R,A,P,O,b,D=r?3:2,N=Array.isArray(l),B=Array.isArray(h);if(Array.isArray(i)&&i.length>0)for(v=0;v<i.length;v++){var U=i[v],G=i[v]*2,W=i[v]*D;d=a[W],m=a[W+1],y=r?a[W+2]:0,T=n[G],C=n[G+1],R=N?l[U]:l,A=B?h[U]:h,P=0,O=0,b=0,f&&(P=f[W],O=f[W+1],b=r?f[W+2]:0),c.vertices.push(new u(d,m,y,T,C,R,A,P,O,b))}else{var $=0,q=0;for(v=0;v<a.length;v+=D)d=a[v],m=a[v+1],y=r?a[v+2]:0,T=n[$],C=n[$+1],R=N?l[q]:l,A=B?h[q]:h,P=0,O=0,b=0,f&&(P=f[v],O=f[v+1],b=r?f[v+2]:0),c.vertices.push(new u(d,m,y,T,C,R,A,P,O,b)),$+=2,q++}for(v=0;v<c.vertices.length;v+=3){var _=c.vertices[v],V=c.vertices[v+1],w=c.vertices[v+2];c.faces.push(new e(_,V,w))}return c};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),u=t(69),s=t(39),a=t(117),n=new s,i=new s,r=new u,f=function(l,h,c,v,d,m,y,T,C,R){c===void 0&&(c=1),v===void 0&&(v=0),d===void 0&&(d=0),m===void 0&&(m=0),y===void 0&&(y=0),T===void 0&&(T=0),C===void 0&&(C=0),R===void 0&&(R=!0);var A={faces:[],verts:[]},P=l.materials;n.set(v,d,m),i.set(y,T,C),r.fromRotationXYTranslation(i,n,R);for(var O=0;O<l.models.length;O++)for(var b=l.models[O],D=b.vertices,N=b.textureCoords,B=b.faces,U=0;U<B.length;U++){var G=B[U],W=G.vertices[0],$=G.vertices[1],q=G.vertices[2],_=D[W.vertexIndex],V=D[$.vertexIndex],w=D[q.vertexIndex],z=W.textureCoordsIndex,Y=$.textureCoordsIndex,H=q.textureCoordsIndex,j=z===-1?{u:0,v:1}:N[z],Z=Y===-1?{u:0,v:0}:N[Y],k=H===-1?{u:1,v:1}:N[H],nt=16777215;G.material!==""&&P[G.material]&&(nt=P[G.material]);var rt=new a(_.x*c,_.y*c,_.z*c,j.u,j.v,nt).transformMat4(r),ht=new a(V.x*c,V.y*c,V.z*c,Z.u,Z.v,nt).transformMat4(r),vt=new a(w.x*c,w.y*c,w.z*c,k.u,k.v,nt).transformMat4(r);A.verts.push(rt,ht,vt),A.faces.push(new e(rt,ht,vt))}return h&&(h.faces=h.faces.concat(A.faces),h.vertices=h.vertices.concat(A.verts)),A};o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),u=t(0),s=t(11),a=t(200),n=t(12),i=new u({Extends:e,Mixins:[s.ScrollFactor,s.Visible],initialize:function(f,l,h,c,v,d,m){e.call(this,f,l,h),this.color=new a(c,v,d),this.intensity=m,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1)},willRender:function(r){return!(i.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&r.id)},setColor:function(r){var f=n.getFloatsFromUintRGB(r);return this.color.set(f[0],f[1],f[2]),this},setIntensity:function(r){return this.intensity=r,this},setRadius:function(r){return this.radius=r,this}});i.RENDER_MASK=15,o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(151),u=t(0),s=t(50),a=t(481),n=t(150),i=t(200),r=t(74),f=t(79),l=t(12),h=new u({initialize:function(){this.lights=[],this.ambientColor=new i(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(c,v,d,m,y,T){return this.systems.displayList.add(new n(this.scene,c,v,d,m,y,T))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(c){for(var v=this.lights,d=c.worldView,m=[],y=0;y<v.length;y++){var T=v[y];T.willRender(c)&&e(T,d)&&m.push({light:T,distance:s(T.x,T.y,d.centerX,d.centerY)})}return m.length>this.maxLights&&(f(m,this.sortByDistance),m=m.slice(0,this.maxLights)),this.visibleLights=m.length,m},sortByDistance:function(c,v){return c.distance>=v.distance},setAmbientColor:function(c){var v=l.getFloatsFromUintRGB(c);return this.ambientColor.set(v[0],v[1],v[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(c,v,d,m,y){c===void 0&&(c=0),v===void 0&&(v=0),d===void 0&&(d=128),m===void 0&&(m=16777215),y===void 0&&(y=1);var T=l.getFloatsFromUintRGB(m),C=new a(c,v,d,T[0],T[1],T[2],y);return this.lights.push(C),C},removeLight:function(c){var v=this.lights.indexOf(c);return v>=0&&r(this.lights,v),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(56),u=t(17),s={Circle:t(1191),Ellipse:t(1201),Intersects:t(484),Line:t(1221),Mesh:t(1243),Point:t(1246),Polygon:t(1260),Rectangle:t(502),Triangle:t(1293)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CircleToCircle:t(231),CircleToRectangle:t(151),GetCircleToCircle:t(1211),GetCircleToRectangle:t(1212),GetLineToCircle:t(232),GetLineToLine:t(485),GetLineToPoints:t(486),GetLineToPolygon:t(487),GetLineToRectangle:t(234),GetRaysFromPointToPolygon:t(1213),GetRectangleIntersection:t(1214),GetRectangleToRectangle:t(1215),GetRectangleToTriangle:t(1216),GetTriangleToCircle:t(1217),GetTriangleToLine:t(492),GetTriangleToTriangle:t(1218),LineToCircle:t(233),LineToLine:t(96),LineToRectangle:t(488),PointToLine:t(496),PointToLineSegment:t(1219),RectangleToRectangle:t(152),RectangleToTriangle:t(489),RectangleToValues:t(1220),TriangleToCircle:t(491),TriangleToLine:t(493),TriangleToTriangle:t(494)}},function(o,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),u=function(s,a,n){var i=s.x1,r=s.y1,f=s.x2,l=s.y2,h=a.x1,c=a.y1,v=a.x2,d=a.y2,m=f-i,y=l-r,T=v-h,C=d-c,R=C*m-T*y;if(m===0||R===0)return!1;var A=(m*(c-r)+y*(i-h))/(T*y-C*m),P=(h+T*A-i)/m;return P<0||A<0||A>1?null:(n===void 0&&(n=new e),n.set(i+m*P,r+y*P,P))};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),u=t(485),s=t(47),a=new s,n=new e,i=function(r,f,l){l===void 0&&(l=new e);var h=!1;l.set(),n.set();for(var c=f[0],v=1;v<f.length;v++){var d=f[v];a.setTo(c.x,c.y,d.x,d.y),c=d,u(r,a,n)&&(!h||n.z<l.z)&&(l.copy(n),h=!0)}return h?l:null};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),u=t(140),s=t(486),a=new e,n=function(i,r,f){f===void 0&&(f=new u),Array.isArray(r)||(r=[r]);var l=!1;f.set(),a.set();for(var h=0;h<r.length;h++)s(i,r[h].points,a)&&(!l||a.z<f.z)&&(f.set(a.x,a.y,a.z,h),l=!0);return l?f:null};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.x1,a=e.y1,n=e.x2,i=e.y2,r=u.x,f=u.y,l=u.right,h=u.bottom,c=0;if(s>=r&&s<=l&&a>=f&&a<=h||n>=r&&n<=l&&i>=f&&i<=h)return!0;if(s<r&&n>=r){if(c=a+(i-a)*(r-s)/(n-s),c>f&&c<=h)return!0}else if(s>l&&n<=l&&(c=a+(i-a)*(l-s)/(n-s),c>=f&&c<=h))return!0;if(a<f&&i>=f){if(c=s+(n-s)*(f-a)/(i-a),c>=r&&c<=l)return!0}else if(a>h&&i<=h&&(c=s+(n-s)*(h-a)/(i-a),c>=r&&c<=l))return!0;return!1};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),u=t(57),s=t(235),a=t(490),n=function(i,r){if(r.left>i.right||r.right<i.left||r.top>i.bottom||r.bottom<i.top)return!1;var f=r.getLineA(),l=r.getLineB(),h=r.getLineC();if(u(i,f.x1,f.y1)||u(i,f.x2,f.y2)||u(i,l.x1,l.y1)||u(i,l.x2,l.y2)||u(i,h.x1,h.y1)||u(i,h.x2,h.y2))return!0;var c=i.getLineA(),v=i.getLineB(),d=i.getLineC(),m=i.getLineD();if(e(f,c)||e(f,v)||e(f,d)||e(f,m)||e(l,c)||e(l,v)||e(l,d)||e(l,m)||e(h,c)||e(h,v)||e(h,d)||e(h,m))return!0;var y=a(i),T=s(r,y,!0);return T.length>0};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x,y:e.y}),u.push({x:e.right,y:e.y}),u.push({x:e.right,y:e.bottom}),u.push({x:e.x,y:e.bottom}),u};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(233),u=t(115),s=function(a,n){return a.left>n.right||a.right<n.left||a.top>n.bottom||a.bottom<n.top?!1:!!(u(a,n.x,n.y)||e(a.getLineA(),n)||e(a.getLineB(),n)||e(a.getLineC(),n))};o.exports=s},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(493),s=t(96),a=function(n,i,r){if(r===void 0&&(r=[]),u(n,i))for(var f=n.getLineA(),l=n.getLineB(),h=n.getLineC(),c=[new e,new e,new e],v=[s(f,i,c[0]),s(l,i,c[1]),s(h,i,c[2])],d=0;d<3;d++)v[d]&&r.push(c[d]);return r};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(96),u=function(s,a){return!!(s.contains(a.x1,a.y1)||s.contains(a.x2,a.y2)||e(s.getLineA(),a)||e(s.getLineB(),a)||e(s.getLineC(),a))};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(235),u=t(495),s=t(96),a=function(n,i){if(n.left>i.right||n.right<i.left||n.top>i.bottom||n.bottom<i.top)return!1;var r=n.getLineA(),f=n.getLineB(),l=n.getLineC(),h=i.getLineA(),c=i.getLineB(),v=i.getLineC();if(s(r,h)||s(r,c)||s(r,v)||s(f,h)||s(f,c)||s(f,v)||s(l,h)||s(l,c)||s(l,v))return!0;var d=u(n),m=e(i,d,!0);return m.length>0||(d=u(i),m=e(n,d,!0),m.length>0)};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=[]),u.push({x:e.x1,y:e.y1}),u.push({x:e.x2,y:e.y2}),u.push({x:e.x3,y:e.y3}),u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){s===void 0&&(s=1);var a=u.x1,n=u.y1,i=u.x2,r=u.y2,f=e.x,l=e.y,h=(i-a)*(i-a)+(r-n)*(r-n);if(h===0)return!1;var c=((f-a)*(i-a)+(l-n)*(r-n))/h;if(c<0)return Math.sqrt((a-f)*(a-f)+(n-l)*(n-l))<=s;if(c>=0&&c<=1){var v=((n-l)*(i-a)-(a-f)*(r-n))/h;return Math.abs(v)*Math.sqrt(h)<=s}else return Math.sqrt((i-f)*(i-f)+(r-l)*(r-l))<=s};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(68),s=t(97),a=function(n){var i=s(n)-e.TAU;return u(i,-Math.PI,Math.PI)};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=!0,e="untitled",u="",s="";function a(y){var T=y.indexOf("#");return T>-1?y.substring(0,T):y}function n(y){return y.models.length===0&&y.models.push({faces:[],name:e,textureCoords:[],vertexNormals:[],vertices:[]}),u="",y.models[y.models.length-1]}function i(y,T){var C=y.length>=2?y[1]:e;T.models.push({faces:[],name:C,textureCoords:[],vertexNormals:[],vertices:[]}),u=""}function r(y){y.length===2&&(u=y[1])}function f(y,T){var C=y.length,R=C>=2?parseFloat(y[1]):0,A=C>=3?parseFloat(y[2]):0,P=C>=4?parseFloat(y[3]):0;n(T).vertices.push({x:R,y:A,z:P})}function l(y,T){var C=y.length,R=C>=2?parseFloat(y[1]):0,A=C>=3?parseFloat(y[2]):0,P=C>=4?parseFloat(y[3]):0;isNaN(R)&&(R=0),isNaN(A)&&(A=0),isNaN(P)&&(P=0),t&&(A=1-A),n(T).textureCoords.push({u:R,v:A,w:P})}function h(y,T){var C=y.length,R=C>=2?parseFloat(y[1]):0,A=C>=3?parseFloat(y[2]):0,P=C>=4?parseFloat(y[3]):0;n(T).vertexNormals.push({x:R,y:A,z:P})}function c(y,T){var C=y.length-1;if(!(C<3)){for(var R={group:u,material:s,vertices:[]},A=0;A<C;A++){var P=y[A+1],O=P.split("/"),b=O.length;if(!(b<1||b>3)){var D=0,N=0,B=0;D=parseInt(O[0],10),b>1&&O[1]!==""&&(N=parseInt(O[1],10)),b>2&&(B=parseInt(O[2],10)),D!==0&&(D<0&&(D=n(T).vertices.length+1+D),N-=1,D-=1,B-=1,R.vertices.push({textureCoordsIndex:N,vertexIndex:D,vertexNormalIndex:B}))}}n(T).faces.push(R)}}function v(y,T){y.length>=2&&T.materialLibraries.push(y[1])}function d(y){y.length>=2&&(s=y[1])}var m=function(y,T){T===void 0&&(T=!0),t=T;var C={materials:{},materialLibraries:[],models:[]};u="",s="";for(var R=y.split(`
`),A=0;A<R.length;A++){var P=a(R[A]),O=P.replace(/\s\s+/g," ").trim().split(" ");switch(O[0].toLowerCase()){case"o":i(O,C);break;case"g":r(O);break;case"v":f(O,C);break;case"vt":l(O,C);break;case"vn":h(O,C);break;case"f":c(O,C);break;case"mtllib":v(O,C);break;case"usemtl":d(O);break}}return C};o.exports=m},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),u=function(s){for(var a={},n=s.split(`
`),i="",r=0;r<n.length;r++){var f=n[r].trim();if(!(f.indexOf("#")===0||f==="")){var l=f.replace(/\s\s+/g," ").trim().split(" ");switch(l[0].toLowerCase()){case"newmtl":{i=l[1];break}case"kd":{var h=Math.floor(l[1]*255),c=l.length>=2?Math.floor(l[2]*255):h,v=l.length>=3?Math.floor(l[3]*255):h;a[i]=e(h,c,v);break}}}}return a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x*e.x+e.y*e.y};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10);e.Area=t(1267),e.Ceil=t(1268),e.CeilAll=t(1269),e.CenterOn=t(190),e.Clone=t(1270),e.Contains=t(57),e.ContainsPoint=t(1271),e.ContainsRect=t(503),e.CopyFrom=t(1272),e.Decompose=t(490),e.Equals=t(1273),e.FitInside=t(1274),e.FitOutside=t(1275),e.Floor=t(1276),e.FloorAll=t(1277),e.FromPoints=t(199),e.FromXY=t(1278),e.GetAspectRatio=t(237),e.GetCenter=t(1279),e.GetPoint=t(171),e.GetPoints=t(306),e.GetSize=t(1280),e.Inflate=t(1281),e.Intersection=t(1282),e.MarchingAnts=t(316),e.MergePoints=t(1283),e.MergeRect=t(1284),e.MergeXY=t(1285),e.Offset=t(1286),e.OffsetPoint=t(1287),e.Overlaps=t(1288),e.Perimeter=t(130),e.PerimeterPoint=t(1289),e.Random=t(174),e.RandomOutside=t(1290),e.SameDimensions=t(1291),e.Scale=t(1292),e.Union=t(441),o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.width*u.height>e.width*e.height?!1:u.x>e.x&&u.x<e.right&&u.right>e.x&&u.right<e.right&&u.y>e.y&&u.y<e.bottom&&u.bottom>e.y&&u.bottom<e.bottom};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){return a===void 0&&(a=new e),a.x=(s.x1+s.x2+s.x3)/3,a.y=(s.y1+s.y2+s.y3)/3,a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e.x1+=u,e.y1+=s,e.x2+=u,e.y2+=s,e.x3+=u,e.y3+=s,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);function u(a,n,i,r){var f=a-i,l=n-r,h=f*f+l*l;return Math.sqrt(h)}var s=function(a,n){n===void 0&&(n=new e);var i=a.x1,r=a.y1,f=a.x2,l=a.y2,h=a.x3,c=a.y3,v=u(h,c,f,l),d=u(i,r,h,c),m=u(f,l,i,r),y=v+d+m;return n.x=(i*v+f*d+h*m)/y,n.y=(r*v+l*d+c*m)/y,n};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return function(s,a,n,i){var r=e.getPixelAlpha(a,n,i.texture.key,i.frame.name);return r&&r>=u}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return{gameObject:e,enabled:!0,alwaysEnabled:!1,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:u,hitAreaCallback:s,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n){this.pad=a,this.events=a.events,this.index=n,this.value=0,this.threshold=.1},update:function(s){this.value=s},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(239),s=new e({initialize:function(n,i){this.pad=n,this.events=n.manager,this.index=i,this.value=0,this.threshold=1,this.pressed=!1},update:function(a){this.value=a;var n=this.pad,i=this.index;a>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(u.BUTTON_DOWN,n,this,a),this.pad.emit(u.GAMEPAD_BUTTON_DOWN,i,a,this)):this.pressed&&(this.pressed=!1,this.events.emit(u.BUTTON_UP,n,this,a),this.pad.emit(u.GAMEPAD_BUTTON_UP,i,a,this))},destroy:function(){this.pad=null,this.events=null}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(509),u=t(510),s=t(0),a=t(9),n=t(3),i=new s({Extends:a,initialize:function(f,l){a.call(this),this.manager=f,this.pad=l,this.id=l.id,this.index=l.index;for(var h=[],c=0;c<l.buttons.length;c++)h.push(new u(this,c));this.buttons=h;var v=[];for(c=0;c<l.axes.length;c++)v.push(new e(this,c));this.axes=v,this.vibration=l.vibrationActuator;var d={value:0,pressed:!1};this._LCLeft=h[14]?h[14]:d,this._LCRight=h[15]?h[15]:d,this._LCTop=h[12]?h[12]:d,this._LCBottom=h[13]?h[13]:d,this._RCLeft=h[2]?h[2]:d,this._RCRight=h[1]?h[1]:d,this._RCTop=h[3]?h[3]:d,this._RCBottom=h[0]?h[0]:d,this._FBLeftTop=h[4]?h[4]:d,this._FBLeftBottom=h[6]?h[6]:d,this._FBRightTop=h[5]?h[5]:d,this._FBRightBottom=h[7]?h[7]:d;var m={value:0};this._HAxisLeft=v[0]?v[0]:m,this._VAxisLeft=v[1]?v[1]:m,this._HAxisRight=v[2]?v[2]:m,this._VAxisRight=v[3]?v[3]:m,this.leftStick=new n,this.rightStick=new n,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(r){return this.axes[r].getValue()},setAxisThreshold:function(r){for(var f=0;f<this.axes.length;f++)this.axes[f].threshold=r},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(r){return this.buttons[r].value},isButtonDown:function(r){return this.buttons[r].pressed},update:function(r){if(!(r.timestamp<this._created)){var f,l=this.buttons,h=r.buttons,c=l.length;for(f=0;f<c;f++)l[f].update(h[f].value);var v=this.axes,d=r.axes;for(c=v.length,f=0;f<c;f++)v[f].update(d[f]);c>=2&&(this.leftStick.set(v[0].getValue(),v[1].getValue()),c>=4&&this.rightStick.set(v[2].getValue(),v[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var r;for(r=0;r<this.buttons.length;r++)this.buttons[r].destroy();for(r=0;r<this.axes.length;r++)this.axes[r].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),s=t(154),a=new e({Extends:u,initialize:function(i,r){u.call(this),this.plugin=i,this.keyCode=r,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(n){return this.emitOnRepeat=n,this},onDown:function(n){this.originalEvent=n,this.enabled&&(this.altKey=n.altKey,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.location=n.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(s.DOWN,this,n):(this.isDown=!0,this.isUp=!1,this.timeDown=n.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(s.DOWN,this,n)))},onUp:function(n){this.originalEvent=n,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=n.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(s.UP,this,n))},reset:function(){return this.preventDefault=!0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(154),s=t(2),a=t(514),n=t(516),i=new e({initialize:function(f,l,h){if(h===void 0&&(h={}),l.length<2)return!1;this.manager=f,this.enabled=!0,this.keyCodes=[];for(var c=0;c<l.length;c++){var v=l[c];typeof v=="string"?this.keyCodes.push(v.toUpperCase().charCodeAt(0)):typeof v=="number"?this.keyCodes.push(v):v.hasOwnProperty("keyCode")&&this.keyCodes.push(v.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=s(h,"resetOnWrongKey",!0),this.maxKeyDelay=s(h,"maxKeyDelay",0),this.resetOnMatch=s(h,"resetOnMatch",!1),this.deleteOnMatch=s(h,"deleteOnMatch",!1);var d=this,m=function(y){if(!(d.matched||!d.enabled)){var T=a(y,d);T&&(d.manager.emit(u.COMBO_MATCH,d,y),d.resetOnMatch?n(d):d.deleteOnMatch&&d.destroy())}};this.onKeyDown=m,this.manager.on(u.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(u.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(515),u=function(s,a){if(a.matched)return!0;var n=!1,i=!1;if(s.keyCode===a.current)if(a.index>0&&a.maxKeyDelay>0){var r=a.timeLastMatched+a.maxKeyDelay;s.timeStamp<=r&&(i=!0,n=e(s,a))}else i=!0,n=e(s,a);return!i&&a.resetOnWrongKey&&(a.index=0,a.current=a.keyCodes[0]),n&&(a.timeLastMatched=s.timeStamp,a.matched=!0,a.timeMatched=s.timeStamp),n};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.timeLastMatched=e.timeStamp,u.index++,u.index===u.size?!0:(u.current=u.keyCodes[u.index],!1)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.current=e.keyCodes[0],e.index=0,e.timeLastMatched=0,e.matched=!1,e.timeMatched=0,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(240),u=function(s,a){var n=e(a,s.xhrSettings),i=new XMLHttpRequest;if(i.open("GET",s.src,n.async,n.user,n.password),i.responseType=s.xhrSettings.responseType,i.timeout=n.timeout,n.headers)for(var r in n.headers)i.setRequestHeader(r,n.headers[r]);return n.header&&n.headerValue&&i.setRequestHeader(n.header,n.headerValue),n.requestedWith&&i.setRequestHeader("X-Requested-With",n.requestedWith),n.overrideMimeType&&i.overrideMimeType(n.overrideMimeType),n.withCredentials&&(i.withCredentials=!0),i.onload=s.onLoad.bind(s,i),i.onerror=s.onError.bind(s,i),i.onprogress=s.onProgress.bind(s),i.send(),i};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(519),r=t(7),f=new e({Extends:s,initialize:function(h,c,v,d,m){if(r(c)){var y=c;c=n(y,"key"),d=n(y,"xhrSettings"),m=n(y,"context",m)}var T={type:"audio",cache:h.cacheManager.audio,extension:v.type,responseType:"arraybuffer",key:c,url:v.url,xhrSettings:d,config:{context:m}};s.call(this,h,T)},onProcess:function(){this.state=u.FILE_PROCESSING;var l=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(h){l.data=h,l.onProcessComplete()},function(h){console.error("Error decoding audio: "+l.key+" - ",h?h.message:null),l.onProcessError()}),this.config.context=null}});f.create=function(l,h,c,v,d){var m=l.systems.game,y=m.config.audio,T=m.device.audio;r(h)&&(c=n(h,"url",[]),v=n(h,"config",{}));var C=f.getAudioURL(m,c);return C?T.webAudio&&!y.disableWebAudio?new f(l,h,C,d,m.sound.context):new i(l,h,C,v):null},f.getAudioURL=function(l,h){Array.isArray(h)||(h=[h]);for(var c=0;c<h.length;c++){var v=n(h[c],"url",h[c]);if(v.indexOf("blob:")===0||v.indexOf("data:")===0)return{url:v,type:""};var d=v.match(/\.([a-zA-Z0-9]+)($|\?)/);if(d=n(h[c],"type",d?d[1]:"").toLowerCase(),l.device.audio[d])return{url:v,type:d}}return null},a.register("audio",function(l,h,c,v){var d=this.systems.game,m=d.config.audio,y=d.device.audio;if(m.noAudio||!y.webAudio&&!y.audioData)return this;var T;if(Array.isArray(l))for(var C=0;C<l.length;C++)T=f.create(this,l[C]),T&&this.addFile(T);else T=f.create(this,l,h,c,v),T&&this.addFile(T);return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(95),s=t(23),a=t(2),n=t(155),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v){if(i(h)){var d=h;h=a(d,"key"),v=a(d,"config",v)}var m={type:"audio",cache:l.cacheManager.audio,extension:c.type,key:h,url:c.url,config:v};s.call(this,l,m),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var f=0;f<this.data.length;f++){var l=this.data[f];l.oncanplaythrough=null,l.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(f){var l=f.target;l.oncanplaythrough=null,l.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(u.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var f=this.config&&this.config.instances||1;this.filesTotal=f,this.filesLoaded=0,this.percentComplete=0;for(var l=0;l<f;l++){var h=new Audio;h.dataset||(h.dataset={}),h.dataset.name=this.key+("0"+l).slice(-2),h.dataset.used="false",this.locked?h.dataset.locked="true":(h.dataset.locked="false",h.preload="auto",h.oncanplaythrough=this.onProgress.bind(this),h.onerror=this.onError.bind(this)),this.data.push(h)}for(l=0;l<this.data.length;l++)h=this.data[l],h.src=n(this,this.loader.baseURL),this.locked||h.load();this.locked&&setTimeout(this.onLoad.bind(this))}});o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v){var d="js";if(i(h)){var m=h;h=n(m,"key"),c=n(m,"url"),v=n(m,"xhrSettings"),d=n(m,"extension",d)}var y={type:"script",cache:!1,extension:d,responseType:"text",key:h,url:c,xhrSettings:v};s.call(this,l,y)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("script",function(f,l,h){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,l,h));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(522),u=t(157),s=t(0),a=t(62),n=t(524),i=t(525),r=new s({initialize:function(l){this.world=l,this.scene=l.scene,this.sys=l.scene.sys},collider:function(f,l,h,c,v){return this.world.addCollider(f,l,h,c,v)},overlap:function(f,l,h,c,v){return this.world.addOverlap(f,l,h,c,v)},existing:function(f,l){var h=l?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(f,h),f},staticImage:function(f,l,h,c){var v=new e(this.scene,f,l,h,c);return this.sys.displayList.add(v),this.world.enableBody(v,a.STATIC_BODY),v},image:function(f,l,h,c){var v=new e(this.scene,f,l,h,c);return this.sys.displayList.add(v),this.world.enableBody(v,a.DYNAMIC_BODY),v},staticSprite:function(f,l,h,c){var v=new u(this.scene,f,l,h,c);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,a.STATIC_BODY),v},sprite:function(f,l,h,c){var v=new u(this.scene,f,l,h,c);return this.sys.displayList.add(v),this.sys.updateList.add(v),this.world.enableBody(v,a.DYNAMIC_BODY),v},staticGroup:function(f,l){return this.sys.updateList.add(new i(this.world,this.world.scene,f,l))},group:function(f,l){return this.sys.updateList.add(new n(this.world,this.world.scene,f,l))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(243),s=t(125),a=new e({Extends:s,Mixins:[u.Acceleration,u.Angular,u.Bounce,u.Debug,u.Drag,u.Enable,u.Friction,u.Gravity,u.Immovable,u.Mass,u.Pushable,u.Size,u.Velocity],initialize:function(i,r,f,l,h){s.call(this,i,r,f,l,h),this.body=null}});o.exports=a},function(o,x,t){var e=t(244),u=t(65),s=t(231),a=t(151),n=function(i,r,f,l,h,c){var v=e(i,r-l,f-l,2*l,2*l,h,c);if(v.length===0)return v;for(var d=new u(r,f,l),m=new u,y=[],T=0;T<v.length;T++){var C=v[T];C.isCircle?(m.setTo(C.center.x,C.center.y,C.halfWidth),s(d,m)&&y.push(C)):a(d,C)&&y.push(C)}return y};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),u=t(0),s=t(62),a=t(2),n=t(113),i=t(7),r=new u({Extends:n,initialize:function(l,h,c,v){if(!c&&!v)v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(i(c))v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(c)&&i(c[0])){v=c[0];var d=this;c.forEach(function(m){m.internalCreateCallback=d.createCallbackHandler,m.internalRemoveCallback=d.removeCallbackHandler}),c=null}else v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=l,v.classType=a(v,"classType",e),this.physicsType=s.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:a(v,"collideWorldBounds",!1),setBoundsRectangle:a(v,"customBoundsRectangle",null),setAccelerationX:a(v,"accelerationX",0),setAccelerationY:a(v,"accelerationY",0),setAllowDrag:a(v,"allowDrag",!0),setAllowGravity:a(v,"allowGravity",!0),setAllowRotation:a(v,"allowRotation",!0),setBounceX:a(v,"bounceX",0),setBounceY:a(v,"bounceY",0),setDragX:a(v,"dragX",0),setDragY:a(v,"dragY",0),setEnable:a(v,"enable",!0),setGravityX:a(v,"gravityX",0),setGravityY:a(v,"gravityY",0),setFrictionX:a(v,"frictionX",0),setFrictionY:a(v,"frictionY",0),setMaxVelocityX:a(v,"maxVelocityX",1e4),setMaxVelocityY:a(v,"maxVelocityY",1e4),setVelocityX:a(v,"velocityX",0),setVelocityY:a(v,"velocityY",0),setAngularVelocity:a(v,"angularVelocity",0),setAngularAcceleration:a(v,"angularAcceleration",0),setAngularDrag:a(v,"angularDrag",0),setMass:a(v,"mass",1),setImmovable:a(v,"immovable",!1)},n.call(this,h,c,v),this.type="PhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,s.DYNAMIC_BODY);var l=f.body;for(var h in this.defaults)l[h](this.defaults[h])},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},setVelocity:function(f,l,h){h===void 0&&(h=0);for(var c=this.getChildren(),v=0;v<c.length;v++)c[v].body.velocity.set(f+v*h,l+v*h);return this},setVelocityX:function(f,l){l===void 0&&(l=0);for(var h=this.getChildren(),c=0;c<h.length;c++)h[c].body.velocity.x=f+c*l;return this},setVelocityY:function(f,l){l===void 0&&(l=0);for(var h=this.getChildren(),c=0;c<h.length;c++)h[c].body.velocity.y=f+c*l;return this}});o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(157),u=t(0),s=t(62),a=t(2),n=t(113),i=t(7),r=new u({Extends:n,initialize:function(l,h,c,v){!c&&!v?v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:e}:i(c)?(v=c,c=null,v.internalCreateCallback=this.createCallbackHandler,v.internalRemoveCallback=this.removeCallbackHandler,v.createMultipleCallback=this.createMultipleCallbackHandler,v.classType=a(v,"classType",e)):Array.isArray(c)&&i(c[0])?(v=c,c=null,v.forEach(function(d){d.internalCreateCallback=this.createCallbackHandler,d.internalRemoveCallback=this.removeCallbackHandler,d.createMultipleCallback=this.createMultipleCallbackHandler,d.classType=a(d,"classType",e)})):v={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=l,this.physicsType=s.STATIC_BODY,n.call(this,h,c,v),this.type="StaticPhysicsGroup"},createCallbackHandler:function(f){f.body||this.world.enableBody(f,s.STATIC_BODY)},removeCallbackHandler:function(f){f.body&&this.world.disableBody(f)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var f=this.children.entries,l=0;l<f.length;l++)f[l].body.reset();return this}});o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(350),u=t(527),s=t(18),a=t(0),n=t(528),i=t(62),r=t(50),f=t(9),l=t(245),h=t(124),c=t(354),v=t(355),d=t(246),m=t(247),y=t(529),T=t(6),C=t(14),R=t(211),A=t(530),P=t(10),O=t(531),b=t(532),D=t(537),N=t(538),B=t(149),U=t(539),G=t(248),W=t(25),$=t(3),q=t(68),_=new a({Extends:f,initialize:function(w,z){f.call(this),this.scene=w,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new R,this.gravity=new $(T(z,"gravity.x",0),T(z,"gravity.y",0)),this.bounds=new P(T(z,"x",0),T(z,"y",0),T(z,"width",w.sys.scale.width),T(z,"height",w.sys.scale.height)),this.checkCollision={up:T(z,"checkCollision.up",!0),down:T(z,"checkCollision.down",!0),left:T(z,"checkCollision.left",!0),right:T(z,"checkCollision.right",!0)},this.fps=T(z,"fps",60),this.fixedStep=T(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=T(z,"timeScale",1),this.OVERLAP_BIAS=T(z,"overlapBias",4),this.TILE_BIAS=T(z,"tileBias",16),this.forceX=T(z,"forceX",!1),this.isPaused=T(z,"isPaused",!1),this._total=0,this.drawDebug=T(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:T(z,"debugShowBody",!0),debugShowStaticBody:T(z,"debugShowStaticBody",!0),debugShowVelocity:T(z,"debugShowVelocity",!0),bodyDebugColor:T(z,"debugBodyColor",16711935),staticBodyDebugColor:T(z,"debugStaticBodyColor",255),velocityDebugColor:T(z,"debugVelocityColor",65280)},this.maxEntries=T(z,"maxEntries",16),this.useTree=T(z,"useTree",!0),this.tree=new O(this.maxEntries),this.staticTree=new O(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.drawDebug&&this.createDebugGraphic()},enable:function(V,w){w===void 0&&(w=i.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var z=0;z<V.length;z++){var Y=V[z];if(Y.isParent)for(var H=Y.getChildren(),j=0;j<H.length;j++){var Z=H[j];Z.isParent?this.enable(Z,w):this.enableBody(Z,w)}else this.enableBody(Y,w)}},enableBody:function(V,w){return w===void 0&&(w=i.DYNAMIC_BODY),V.body||(w===i.DYNAMIC_BODY?V.body=new u(this,V):w===i.STATIC_BODY&&(V.body=new U(this,V))),this.add(V.body),V},add:function(V){return V.physicsType===i.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===i.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var w=0;w<V.length;w++){var z=V[w];if(z.isParent)for(var Y=z.getChildren(),H=0;H<Y.length;H++){var j=Y[H];j.isParent?this.disable(j):this.disableBody(j.body)}else this.disableBody(z.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===i.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===i.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,w,z,Y,H,j,Z,k){return this.bounds.setTo(V,w,z,Y),H!==void 0&&this.setBoundsCollision(H,j,Z,k),this},setBoundsCollision:function(V,w,z,Y){return V===void 0&&(V=!0),w===void 0&&(w=!0),z===void 0&&(z=!0),Y===void 0&&(Y=!0),this.checkCollision.left=V,this.checkCollision.right=w,this.checkCollision.up=z,this.checkCollision.down=Y,this},pause:function(){return this.isPaused=!0,this.emit(l.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(l.RESUME),this},addCollider:function(V,w,z,Y,H){z===void 0&&(z=null),Y===void 0&&(Y=null),H===void 0&&(H=z);var j=new n(this,!1,V,w,z,Y,H);return this.colliders.add(j),j},addOverlap:function(V,w,z,Y,H){z===void 0&&(z=null),Y===void 0&&(Y=null),H===void 0&&(H=z);var j=new n(this,!0,V,w,z,Y,H);return this.colliders.add(j),j},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,w){if(!(this.isPaused||this.bodies.size===0)){var z,Y=this._frameTime,H=this._frameTimeMS*this.timeScale;this._elapsed+=w;var j,Z=this.bodies.entries,k=this._elapsed>=H;for(this.fixedStep||(Y=w*.001,k=!0,this._elapsed=0),z=0;z<Z.length;z++)j=Z[z],j.enable&&j.preUpdate(k,Y);if(k){this._elapsed-=H,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Z));var nt=this.colliders.update();for(z=0;z<nt.length;z++){var rt=nt[z];rt.active&&rt.update()}this.emit(l.WORLD_STEP,Y)}for(;this._elapsed>=H;)this._elapsed-=H,this.step(Y)}},step:function(V){var w,z,Y=this.bodies.entries,H=Y.length;for(w=0;w<H;w++)z=Y[w],z.enable&&z.update(V);this.useTree&&(this.tree.clear(),this.tree.load(Y));var j=this.colliders.update();for(w=0;w<j.length;w++){var Z=j[w];Z.active&&Z.update()}this.emit(l.WORLD_STEP,V),this.stepsLastFrame++},postUpdate:function(){var V,w,z=this.bodies.entries,Y=z.length,H=this.bodies,j=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<Y;V++)w=z[V],w.enable&&w.postUpdate();if(this.drawDebug){var Z=this.debugGraphic;for(Z.clear(),V=0;V<Y;V++)w=z[V],w.willDrawDebug()&&w.drawDebug(Z);for(z=j.entries,Y=z.length,V=0;V<Y;V++)w=z[V],w.willDrawDebug()&&w.drawDebug(Z)}var k=this.pendingDestroy;if(k.size>0){var nt=this.tree,rt=this.staticTree;for(z=k.entries,Y=z.length,V=0;V<Y;V++)w=z[V],w.physicsType===i.DYNAMIC_BODY?(nt.remove(w),H.delete(w)):w.physicsType===i.STATIC_BODY&&(rt.remove(w),j.delete(w)),w.world=void 0,w.gameObject=void 0;k.clear()}},updateMotion:function(V,w){V.allowRotation&&this.computeAngularVelocity(V,w),this.computeVelocity(V,w)},computeAngularVelocity:function(V,w){var z=V.angularVelocity,Y=V.angularAcceleration,H=V.angularDrag,j=V.maxAngular;Y?z+=Y*w:V.allowDrag&&H&&(H*=w,c(z-H,0,.1)?z-=H:v(z+H,0,.1)?z+=H:z=0),z=s(z,-j,j);var Z=z-V.angularVelocity;V.angularVelocity+=Z,V.rotation+=V.angularVelocity*w},computeVelocity:function(V,w){var z=V.velocity.x,Y=V.acceleration.x,H=V.drag.x,j=V.maxVelocity.x,Z=V.velocity.y,k=V.acceleration.y,nt=V.drag.y,rt=V.maxVelocity.y,ht=V.speed,vt=V.maxSpeed,ot=V.allowDrag,Et=V.useDamping;V.allowGravity&&(z+=(this.gravity.x+V.gravity.x)*w,Z+=(this.gravity.y+V.gravity.y)*w),Y?z+=Y*w:ot&&H&&(Et?(H=Math.pow(H,w),z*=H,ht=Math.sqrt(z*z+Z*Z),h(ht,0,.001)&&(z=0)):(H*=w,c(z-H,0,.01)?z-=H:v(z+H,0,.01)?z+=H:z=0)),k?Z+=k*w:ot&&nt&&(Et?(nt=Math.pow(nt,w),Z*=nt,ht=Math.sqrt(z*z+Z*Z),h(ht,0,.001)&&(Z=0)):(nt*=w,c(Z-nt,0,.01)?Z-=nt:v(Z+nt,0,.01)?Z+=nt:Z=0)),z=s(z,-j,j),Z=s(Z,-rt,rt),V.velocity.set(z,Z),vt>-1&&ht>vt&&(V.velocity.normalize().scale(vt),ht=vt),V.speed=ht},separate:function(V,w,z,Y,H,j){if(!j&&!V.enable||!w.enable||V.checkCollision.none||w.checkCollision.none||!this.intersects(V,w)||z&&z.call(Y,V.gameObject,w.gameObject)===!1)return!1;if(V.isCircle&&w.isCircle)return this.separateCircle(V,w,H);if(V.isCircle!==w.isCircle){var Z=V.isCircle?w:V,k=V.isCircle?V:w,nt={x:Z.x,y:Z.y,right:Z.right,bottom:Z.bottom},rt=k.center;if((rt.y<nt.y||rt.y>nt.bottom)&&(rt.x<nt.x||rt.x>nt.right))return this.separateCircle(V,w,H)}var ht=!1,vt=!1;H?(ht=D(V,w,H,this.OVERLAP_BIAS),vt=N(V,w,H,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(ht=D(V,w,H,this.OVERLAP_BIAS),this.intersects(V,w)&&(vt=N(V,w,H,this.OVERLAP_BIAS))):(vt=N(V,w,H,this.OVERLAP_BIAS),this.intersects(V,w)&&(ht=D(V,w,H,this.OVERLAP_BIAS)));var ot=ht||vt;return ot&&(H?(V.onOverlap||w.onOverlap)&&this.emit(l.OVERLAP,V.gameObject,w.gameObject,V,w):(V.onCollide||w.onCollide)&&this.emit(l.COLLIDE,V.gameObject,w.gameObject,V,w)),ot},separateCircle:function(V,w,z,Y){d(V,w,!1,Y),m(V,w,!1,Y);var H=0;if(V.isCircle!==w.isCircle){var j={x:w.isCircle?V.position.x:w.position.x,y:w.isCircle?V.position.y:w.position.y,right:w.isCircle?V.right:w.right,bottom:w.isCircle?V.bottom:w.bottom},Z={x:V.isCircle?V.center.x:w.center.x,y:V.isCircle?V.center.y:w.center.y,radius:V.isCircle?V.halfWidth:w.halfWidth};Z.y<j.y?Z.x<j.x?H=r(Z.x,Z.y,j.x,j.y)-Z.radius:Z.x>j.right&&(H=r(Z.x,Z.y,j.right,j.y)-Z.radius):Z.y>j.bottom&&(Z.x<j.x?H=r(Z.x,Z.y,j.x,j.bottom)-Z.radius:Z.x>j.right&&(H=r(Z.x,Z.y,j.right,j.bottom)-Z.radius)),H*=-1}else H=V.halfWidth+w.halfWidth-r(V.center.x,V.center.y,w.center.x,w.center.y);if(V.overlapR=H,w.overlapR=H,z||H===0||V.immovable&&w.immovable||V.customSeparateX||w.customSeparateX)return H!==0&&(V.onOverlap||w.onOverlap)&&this.emit(l.OVERLAP,V.gameObject,w.gameObject,V,w),H!==0;var k=V.center.x-w.center.x,nt=V.center.y-w.center.y,rt=Math.sqrt(Math.pow(k,2)+Math.pow(nt,2)),ht=(w.center.x-V.center.x)/rt||0,vt=(w.center.y-V.center.y)/rt||0,ot=2*(V.velocity.x*ht+V.velocity.y*vt-w.velocity.x*ht-w.velocity.y*vt)/(V.mass+w.mass);(V.immovable||w.immovable)&&(ot*=2),V.immovable||(V.velocity.x=V.velocity.x-ot/V.mass*ht,V.velocity.y=V.velocity.y-ot/V.mass*vt),w.immovable||(w.velocity.x=w.velocity.x+ot/w.mass*ht,w.velocity.y=w.velocity.y+ot/w.mass*vt),!V.immovable&&!w.immovable&&(H/=2);var Et=e(V.center,w.center),Tt=(H+C.EPSILON)*Math.cos(Et),Pt=(H+C.EPSILON)*Math.sin(Et);return V.immovable||(V.x-=Tt,V.y-=Pt,V.updateCenter()),w.immovable||(w.x+=Tt,w.y+=Pt,w.updateCenter()),V.velocity.x*=V.bounce.x,V.velocity.y*=V.bounce.y,w.velocity.x*=w.bounce.x,w.velocity.y*=w.bounce.y,(V.onCollide||w.onCollide)&&this.emit(l.COLLIDE,V.gameObject,w.gameObject,V,w),!0},intersects:function(V,w){return V===w?!1:!V.isCircle&&!w.isCircle?!(V.right<=w.position.x||V.bottom<=w.position.y||V.position.x>=w.right||V.position.y>=w.bottom):V.isCircle?w.isCircle?r(V.center.x,V.center.y,w.center.x,w.center.y)<=V.halfWidth+w.halfWidth:this.circleBodyIntersects(V,w):this.circleBodyIntersects(w,V)},circleBodyIntersects:function(V,w){var z=s(V.center.x,w.left,w.right),Y=s(V.center.y,w.top,w.bottom),H=(V.center.x-z)*(V.center.x-z),j=(V.center.y-Y)*(V.center.y-Y);return H+j<=V.halfWidth*V.halfWidth},overlap:function(V,w,z,Y,H){return z===void 0&&(z=null),Y===void 0&&(Y=null),H===void 0&&(H=z),this.collideObjects(V,w,z,Y,H,!0)},collide:function(V,w,z,Y,H){return z===void 0&&(z=null),Y===void 0&&(Y=null),H===void 0&&(H=z),this.collideObjects(V,w,z,Y,H,!1)},collideObjects:function(V,w,z,Y,H,j){var Z,k;V.isParent&&V.physicsType===void 0&&(V=V.children.entries),w&&w.isParent&&w.physicsType===void 0&&(w=w.children.entries);var nt=Array.isArray(V),rt=Array.isArray(w);if(this._total=0,!nt&&!rt)this.collideHandler(V,w,z,Y,H,j);else if(!nt&&rt)for(Z=0;Z<w.length;Z++)this.collideHandler(V,w[Z],z,Y,H,j);else if(nt&&!rt)if(w)for(Z=0;Z<V.length;Z++)this.collideHandler(V[Z],w,z,Y,H,j);else for(Z=0;Z<V.length;Z++){var ht=V[Z];for(k=Z+1;k<V.length;k++)Z!==k&&this.collideHandler(ht,V[k],z,Y,H,j)}else for(Z=0;Z<V.length;Z++)for(k=0;k<w.length;k++)this.collideHandler(V[Z],w[k],z,Y,H,j);return this._total>0},collideHandler:function(V,w,z,Y,H,j){if(w===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,z,Y,H,j);if(!V||!w)return!1;if(V.body){if(w.body)return this.collideSpriteVsSprite(V,w,z,Y,H,j);if(w.isParent)return this.collideSpriteVsGroup(V,w,z,Y,H,j);if(w.isTilemap)return this.collideSpriteVsTilemapLayer(V,w,z,Y,H,j)}else if(V.isParent){if(w.body)return this.collideSpriteVsGroup(w,V,z,Y,H,j);if(w.isParent)return this.collideGroupVsGroup(V,w,z,Y,H,j);if(w.isTilemap)return this.collideGroupVsTilemapLayer(V,w,z,Y,H,j)}else if(V.isTilemap){if(w.body)return this.collideSpriteVsTilemapLayer(w,V,z,Y,H,j);if(w.isParent)return this.collideGroupVsTilemapLayer(w,V,z,Y,H,j)}},collideSpriteVsSprite:function(V,w,z,Y,H,j){return!V.body||!w.body?!1:(this.separate(V.body,w.body,Y,H,j)&&(z&&z.call(H,V,w),this._total++),!0)},collideSpriteVsGroup:function(V,w,z,Y,H,j){var Z=V.body;if(!(w.length===0||!Z||!Z.enable||Z.checkCollision.none)){var k,nt,rt;if(this.useTree||w.physicsType===i.STATIC_BODY){var ht=this.treeMinMax;ht.minX=Z.left,ht.minY=Z.top,ht.maxX=Z.right,ht.maxY=Z.bottom;var vt=w.physicsType===i.DYNAMIC_BODY?this.tree.search(ht):this.staticTree.search(ht);for(nt=vt.length,k=0;k<nt;k++)rt=vt[k],!(Z===rt||!rt.enable||rt.checkCollision.none||!w.contains(rt.gameObject))&&this.separate(Z,rt,Y,H,j,!0)&&(z&&z.call(H,Z.gameObject,rt.gameObject),this._total++)}else{var ot=w.getChildren(),Et=w.children.entries.indexOf(V);for(nt=ot.length,k=0;k<nt;k++)rt=ot[k].body,!(!rt||k===Et||!rt.enable)&&this.separate(Z,rt,Y,H,j)&&(z&&z.call(H,Z.gameObject,rt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,w,z,Y,H,j){var Z=V.getChildren();if(Z.length===0)return!1;for(var k=!1,nt=0;nt<Z.length;nt++)Z[nt].body&&this.collideSpriteVsTilemapLayer(Z[nt],w,z,Y,H,j)&&(k=!0);return k},collideTiles:function(V,w,z,Y,H){return!V.body.enable||w.length===0?!1:this.collideSpriteVsTilesHandler(V,w,z,Y,H,!1,!1)},overlapTiles:function(V,w,z,Y,H){return!V.body.enable||w.length===0?!1:this.collideSpriteVsTilesHandler(V,w,z,Y,H,!0,!1)},collideSpriteVsTilemapLayer:function(V,w,z,Y,H,j){var Z=V.body;if(!Z.enable||Z.checkCollision.none)return!1;var k=Z.position.x,nt=Z.position.y,rt=Z.width,ht=Z.height,vt=w.layer;if(vt.tileWidth>vt.baseTileWidth){var ot=(vt.tileWidth-vt.baseTileWidth)*w.scaleX;k-=ot,rt+=ot}if(vt.tileHeight>vt.baseTileHeight){var Et=(vt.tileHeight-vt.baseTileHeight)*w.scaleY;ht+=Et}var Tt=y(k,nt,rt,ht,null,w.scene.cameras.main,w.layer);return Tt.length===0?!1:this.collideSpriteVsTilesHandler(V,Tt,z,Y,H,j,!0)},collideSpriteVsTilesHandler:function(V,w,z,Y,H,j,Z){for(var k=V.body,nt,rt={left:0,right:0,top:0,bottom:0},ht,vt=!1,ot=0;ot<w.length;ot++){nt=w[ot],ht=nt.tilemapLayer;var Et=ht.tileToWorldXY(nt.x,nt.y);rt.left=Et.x,rt.top=Et.y,nt.baseHeight!==nt.height&&(rt.top-=(nt.height-nt.baseHeight)*ht.scaleY),rt.right=rt.left+nt.width*ht.scaleX,rt.bottom=rt.top+nt.height*ht.scaleY,G(rt,k)&&(!Y||Y.call(H,V,nt))&&A(nt,V)&&(j||b(ot,k,nt,rt,ht,this.TILE_BIAS,Z))&&(this._total++,vt=!0,z&&z.call(H,V,nt),j&&k.onOverlap?this.emit(l.TILE_OVERLAP,V,nt,k):k.onCollide&&this.emit(l.TILE_COLLIDE,V,nt,k))}return vt},collideGroupVsGroup:function(V,w,z,Y,H,j){if(!(V.length===0||w.length===0))for(var Z=V.getChildren(),k=0;k<Z.length;k++)this.collideSpriteVsGroup(Z[k],w,z,Y,H,j)},wrap:function(V,w){V.body?this.wrapObject(V,w):V.getChildren?this.wrapArray(V.getChildren(),w):Array.isArray(V)?this.wrapArray(V,w):this.wrapObject(V,w)},wrapArray:function(V,w){for(var z=0;z<V.length;z++)this.wrapObject(V[z],w)},wrapObject:function(V,w){w===void 0&&(w=0),V.x=q(V.x,this.bounds.left-w,this.bounds.right+w),V.y=q(V.y,this.bounds.top-w,this.bounds.bottom+w)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});o.exports=_},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(62),s=t(245),a=t(196),n=t(10),i=t(57),r=t(3),f=new e({initialize:function(h,c){var v=c.displayWidth?c.displayWidth:64,d=c.displayHeight?c.displayHeight:64;this.world=h,this.gameObject=c,this.transform={x:c.x,y:c.y,rotation:c.angle,scaleX:c.scaleX,scaleY:c.scaleY,displayOriginX:c.displayOriginX,displayOriginY:c.displayOriginY},this.debugShowBody=h.defaults.debugShowBody,this.debugShowVelocity=h.defaults.debugShowVelocity,this.debugBodyColor=h.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new r,this.position=new r(c.x-c.scaleX*c.displayOriginX,c.y-c.scaleY*c.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=c.angle,this.preRotation=c.angle,this.width=v,this.height=d,this.sourceWidth=v,this.sourceHeight=d,c.frame&&(this.sourceWidth=c.frame.realWidth,this.sourceHeight=c.frame.realHeight),this.halfWidth=Math.abs(v/2),this.halfHeight=Math.abs(d/2),this.center=new r(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new r,this.newVelocity=new r,this.deltaMax=new r,this.acceleration=new r,this.allowDrag=!0,this.drag=new r,this.allowGravity=!0,this.gravity=new r,this.bounce=new r,this.worldBounce=null,this.customBoundsRectangle=h.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new r(1e4,1e4),this.maxSpeed=-1,this.friction=new r(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=u.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=u.DYNAMIC_BODY,this._sx=c.scaleX,this._sy=c.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new n},updateBounds:function(){var l=this.gameObject,h=this.transform;if(l.parentContainer){var c=l.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);h.x=c.tx,h.y=c.ty,h.rotation=a(c.rotation),h.scaleX=c.scaleX,h.scaleY=c.scaleY,h.displayOriginX=l.displayOriginX,h.displayOriginY=l.displayOriginY}else h.x=l.x,h.y=l.y,h.rotation=l.angle,h.scaleX=l.scaleX,h.scaleY=l.scaleY,h.displayOriginX=l.displayOriginX,h.displayOriginY=l.displayOriginY;var v=!1;if(this.syncBounds){var d=l.getBounds(this._bounds);this.width=d.width,this.height=d.height,v=!0}else{var m=Math.abs(h.scaleX),y=Math.abs(h.scaleY);(this._sx!==m||this._sy!==y)&&(this.width=this.sourceWidth*m,this.height=this.sourceHeight*y,this._sx=m,this._sy=y,v=!0)}v&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var l=this.transform;this.position.x=l.x+l.scaleX*(this.offset.x-l.displayOriginX),this.position.y=l.y+l.scaleY*(this.offset.y-l.displayOriginY),this.updateCenter()},resetFlags:function(l){l===void 0&&(l=!1);var h=this.wasTouching,c=this.touching,v=this.blocked;l?(h.none=!0,h.up=!1,h.down=!1,h.left=!1,h.right=!1):(h.none=c.none,h.up=c.up,h.down=c.down,h.left=c.left,h.right=c.right),c.none=!0,c.up=!1,c.down=!1,c.left=!1,c.right=!1,v.none=!0,v.up=!1,v.down=!1,v.left=!1,v.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(l,h){l&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),l&&this.update(h)},update:function(l){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,l);var h=this.velocity.x,c=this.velocity.y;this.newVelocity.set(h*l,c*l),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(c,h),this.speed=Math.sqrt(h*h+c*c),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(s.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var l=this.position.x-this.prevFrame.x,h=this.position.y-this.prevFrame.y;if(this.moves){var c=this.deltaMax.x,v=this.deltaMax.y;c!==0&&l!==0&&(l<0&&l<-c?l=-c:l>0&&l>c&&(l=c)),v!==0&&h!==0&&(h<0&&h<-v?h=-v:h>0&&h>v&&(h=v)),this.gameObject.x+=l,this.gameObject.y+=h}l<0?this.facing=u.FACING_LEFT:l>0&&(this.facing=u.FACING_RIGHT),h<0?this.facing=u.FACING_UP:h>0&&(this.facing=u.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=l,this._ty=h},setBoundsRectangle:function(l){return this.customBoundsRectangle=l||this.world.bounds,this},checkWorldBounds:function(){var l=this.position,h=this.customBoundsRectangle,c=this.world.checkCollision,v=this.worldBounce?-this.worldBounce.x:-this.bounce.x,d=this.worldBounce?-this.worldBounce.y:-this.bounce.y,m=!1;return l.x<h.x&&c.left?(l.x=h.x,this.velocity.x*=v,this.blocked.left=!0,m=!0):this.right>h.right&&c.right&&(l.x=h.right-this.width,this.velocity.x*=v,this.blocked.right=!0,m=!0),l.y<h.y&&c.up?(l.y=h.y,this.velocity.y*=d,this.blocked.up=!0,m=!0):this.bottom>h.bottom&&c.down&&(l.y=h.bottom-this.height,this.velocity.y*=d,this.blocked.down=!0,m=!0),m&&(this.blocked.none=!1,this.updateCenter()),m},setOffset:function(l,h){return h===void 0&&(h=l),this.offset.set(l,h),this},setSize:function(l,h,c){c===void 0&&(c=!0);var v=this.gameObject;if(!l&&v.frame&&(l=v.frame.realWidth),!h&&v.frame&&(h=v.frame.realHeight),this.sourceWidth=l,this.sourceHeight=h,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),c&&v.getCenter){var d=(v.width-l)/2,m=(v.height-h)/2;this.offset.set(d,m)}return this.isCircle=!1,this.radius=0,this},setCircle:function(l,h,c){return h===void 0&&(h=this.offset.x),c===void 0&&(c=this.offset.y),l>0?(this.isCircle=!0,this.radius=l,this.sourceWidth=l*2,this.sourceHeight=l*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(h,c),this.updateCenter()):this.isCircle=!1,this},reset:function(l,h){this.stop();var c=this.gameObject;c.setPosition(l,h),c.getTopLeft?c.getTopLeft(this.position):this.position.set(l,h),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=c.angle,this.preRotation=c.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(l){return l.x=this.x,l.y=this.y,l.right=this.right,l.bottom=this.bottom,l},hitTest:function(l,h){if(!this.isCircle)return i(this,l,h);if(this.radius>0&&l>=this.left&&l<=this.right&&h>=this.top&&h<=this.bottom){var c=(this.center.x-l)*(this.center.x-l),v=(this.center.y-h)*(this.center.y-h);return c+v<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(l){var h=this.position,c=h.x+this.halfWidth,v=h.y+this.halfHeight;this.debugShowBody&&(l.lineStyle(l.defaultStrokeWidth,this.debugBodyColor),this.isCircle?l.strokeCircle(c,v,this.width/2):(this.checkCollision.up&&l.lineBetween(h.x,h.y,h.x+this.width,h.y),this.checkCollision.right&&l.lineBetween(h.x+this.width,h.y,h.x+this.width,h.y+this.height),this.checkCollision.down&&l.lineBetween(h.x,h.y+this.height,h.x+this.width,h.y+this.height),this.checkCollision.left&&l.lineBetween(h.x,h.y,h.x,h.y+this.height))),this.debugShowVelocity&&(l.lineStyle(l.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),l.lineBetween(c,v,c+this.velocity.x/2,v+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(l,h,c,v){l===void 0&&(l=!0),this.collideWorldBounds=l;var d=h!==void 0,m=c!==void 0;return(d||m)&&(this.worldBounce||(this.worldBounce=new r),d&&(this.worldBounce.x=h),m&&(this.worldBounce.y=c)),v!==void 0&&(this.onWorldBounds=v),this},setVelocity:function(l,h){return this.velocity.set(l,h),l=this.velocity.x,h=this.velocity.y,this.speed=Math.sqrt(l*l+h*h),this},setVelocityX:function(l){this.velocity.x=l;var h=l,c=this.velocity.y;return this.speed=Math.sqrt(h*h+c*c),this},setVelocityY:function(l){this.velocity.y=l;var h=this.velocity.x,c=l;return this.speed=Math.sqrt(h*h+c*c),this},setMaxVelocity:function(l,h){return this.maxVelocity.set(l,h),this},setMaxVelocityX:function(l){return this.maxVelocity.x=l,this},setMaxVelocityY:function(l){return this.maxVelocity.y=l,this},setMaxSpeed:function(l){return this.maxSpeed=l,this},setBounce:function(l,h){return this.bounce.set(l,h),this},setBounceX:function(l){return this.bounce.x=l,this},setBounceY:function(l){return this.bounce.y=l,this},setAcceleration:function(l,h){return this.acceleration.set(l,h),this},setAccelerationX:function(l){return this.acceleration.x=l,this},setAccelerationY:function(l){return this.acceleration.y=l,this},setAllowDrag:function(l){return l===void 0&&(l=!0),this.allowDrag=l,this},setAllowGravity:function(l){return l===void 0&&(l=!0),this.allowGravity=l,this},setAllowRotation:function(l){return l===void 0&&(l=!0),this.allowRotation=l,this},setDrag:function(l,h){return this.drag.set(l,h),this},setDamping:function(l){return this.useDamping=l,this},setDragX:function(l){return this.drag.x=l,this},setDragY:function(l){return this.drag.y=l,this},setGravity:function(l,h){return this.gravity.set(l,h),this},setGravityX:function(l){return this.gravity.x=l,this},setGravityY:function(l){return this.gravity.y=l,this},setFriction:function(l,h){return this.friction.set(l,h),this},setFrictionX:function(l){return this.friction.x=l,this},setFrictionY:function(l){return this.friction.y=l,this},setAngularVelocity:function(l){return this.angularVelocity=l,this},setAngularAcceleration:function(l){return this.angularAcceleration=l,this},setAngularDrag:function(l){return this.angularDrag=l,this},setMass:function(l){return this.mass=l,this},setImmovable:function(l){return l===void 0&&(l=!0),this.immovable=l,this},setEnable:function(l){return l===void 0&&(l=!0),this.enable=l,this},processX:function(l,h,c,v){this.x+=l,this.updateCenter(),h!==null&&(this.velocity.x=h);var d=this.blocked;c&&(d.left=!0),v&&(d.right=!0)},processY:function(l,h,c,v){this.y+=l,this.updateCenter(),h!==null&&(this.velocity.y=h);var d=this.blocked;c&&(d.up=!0),v&&(d.down=!0)},x:{get:function(){return this.position.x},set:function(l){this.position.x=l}},y:{get:function(){return this.position.y},set:function(l){this.position.y=l}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i,r,f,l,h){this.world=a,this.name="",this.active=!0,this.overlapOnly=n,this.object1=i,this.object2=r,this.collideCallback=f,this.processCallback=l,this.callbackContext=h},setName:function(s){return this.name=s,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(3),s=new u,a=new u,n=function(i,r,f,l,h,c,v){var d=v.tilemapLayer.tilemap._convert.WorldToTileXY;d(i,r,!0,s,c,v);var m=s.x,y=s.y;d(i+f,r+l,!1,a,c,v);var T=Math.ceil(a.x),C=Math.ceil(a.y);return e(m,y,T-m,C-y,h,v)};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.collisionCallback?!e.collisionCallback.call(e.collisionCallbackContext,u,e):e.layer.callbacks[e.index]?!e.layer.callbacks[e.index].callback.call(e.layer.callbacks[e.index].callbackContext,u,e):!0};o.exports=t},function(o,x,t){/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(436);function u(C){if(!(this instanceof u))return new u(C);this._maxEntries=Math.max(4,C||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}u.prototype={all:function(){return this._all(this.data,[])},search:function(C){var R=this.data,A=[],P=this.toBBox;if(!m(C,R))return A;for(var O=[],b,D,N,B;R;){for(b=0,D=R.children.length;b<D;b++)N=R.children[b],B=R.leaf?P(N):N,m(C,B)&&(R.leaf?A.push(N):d(C,B)?this._all(N,A):O.push(N));R=O.pop()}return A},collides:function(C){var R=this.data,A=this.toBBox;if(!m(C,R))return!1;for(var P=[],O,b,D,N;R;){for(O=0,b=R.children.length;O<b;O++)if(D=R.children[O],N=R.leaf?A(D):D,m(C,N)){if(R.leaf||d(C,N))return!0;P.push(D)}R=P.pop()}return!1},load:function(C){if(!(C&&C.length))return this;if(C.length<this._minEntries){for(var R=0,A=C.length;R<A;R++)this.insert(C[R]);return this}var P=this._build(C.slice(),0,C.length-1,0);if(!this.data.children.length)this.data=P;else if(this.data.height===P.height)this._splitRoot(this.data,P);else{if(this.data.height<P.height){var O=this.data;this.data=P,P=O}this._insert(P,this.data.height-P.height-1,!0)}return this},insert:function(C){return C&&this._insert(C,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(C,R){if(!C)return this;for(var A=this.data,P=this.toBBox(C),O=[],b=[],D,N,B,U;A||O.length;){if(A||(A=O.pop(),N=O[O.length-1],D=b.pop(),U=!0),A.leaf&&(B=s(C,A.children,R),B!==-1))return A.children.splice(B,1),O.push(A),this._condense(O),this;!U&&!A.leaf&&d(A,P)?(O.push(A),b.push(D),D=0,N=A,A=A.children[0]):N?(D++,A=N.children[D],U=!1):A=null}return this},toBBox:function(C){return C},compareMinX:r,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(C){return this.data=C,this},_all:function(C,R){for(var A=[];C;)C.leaf?R.push.apply(R,C.children):A.push.apply(A,C.children),C=A.pop();return R},_build:function(C,R,A,P){var O=A-R+1,b=this._maxEntries,D;if(O<=b)return D=y(C.slice(R,A+1)),a(D,this.toBBox),D;P||(P=Math.ceil(Math.log(O)/Math.log(b)),b=Math.ceil(O/Math.pow(b,P-1))),D=y([]),D.leaf=!1,D.height=P;var N=Math.ceil(O/b),B=N*Math.ceil(Math.sqrt(b)),U,G,W,$;for(T(C,R,A,B,this.compareMinX),U=R;U<=A;U+=B)for(W=Math.min(U+B-1,A),T(C,U,W,N,this.compareMinY),G=U;G<=W;G+=N)$=Math.min(G+N-1,W),D.children.push(this._build(C,G,$,P-1));return a(D,this.toBBox),D},_chooseSubtree:function(C,R,A,P){for(var O,b,D,N,B,U,G,W;P.push(R),!(R.leaf||P.length-1===A);){for(G=W=1/0,O=0,b=R.children.length;O<b;O++)D=R.children[O],B=l(D),U=c(C,D)-B,U<W?(W=U,G=B<G?B:G,N=D):U===W&&B<G&&(G=B,N=D);R=N||R.children[0]}return R},_insert:function(C,R,A){var P=this.toBBox,O=A?C:P(C),b=[],D=this._chooseSubtree(O,this.data,R,b);for(D.children.push(C),i(D,O);R>=0&&b[R].children.length>this._maxEntries;)this._split(b,R),R--;this._adjustParentBBoxes(O,b,R)},_split:function(C,R){var A=C[R],P=A.children.length,O=this._minEntries;this._chooseSplitAxis(A,O,P);var b=this._chooseSplitIndex(A,O,P),D=y(A.children.splice(b,A.children.length-b));D.height=A.height,D.leaf=A.leaf,a(A,this.toBBox),a(D,this.toBBox),R?C[R-1].children.push(D):this._splitRoot(A,D)},_splitRoot:function(C,R){this.data=y([C,R]),this.data.height=C.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(C,R,A){var P,O,b,D,N,B,U,G;for(B=U=1/0,P=R;P<=A-R;P++)O=n(C,0,P,this.toBBox),b=n(C,P,A,this.toBBox),D=v(O,b),N=l(O)+l(b),D<B?(B=D,G=P,U=N<U?N:U):D===B&&N<U&&(U=N,G=P);return G},_chooseSplitAxis:function(C,R,A){var P=C.leaf?this.compareMinX:r,O=C.leaf?this.compareMinY:f,b=this._allDistMargin(C,R,A,P),D=this._allDistMargin(C,R,A,O);b<D&&C.children.sort(P)},_allDistMargin:function(C,R,A,P){C.children.sort(P);var O=this.toBBox,b=n(C,0,R,O),D=n(C,A-R,A,O),N=h(b)+h(D),B,U;for(B=R;B<A-R;B++)U=C.children[B],i(b,C.leaf?O(U):U),N+=h(b);for(B=A-R-1;B>=R;B--)U=C.children[B],i(D,C.leaf?O(U):U),N+=h(D);return N},_adjustParentBBoxes:function(C,R,A){for(var P=A;P>=0;P--)i(R[P],C)},_condense:function(C){for(var R=C.length-1,A;R>=0;R--)C[R].children.length===0?R>0?(A=C[R-1].children,A.splice(A.indexOf(C[R]),1)):this.clear():a(C[R],this.toBBox)},compareMinX:function(C,R){return C.left-R.left},compareMinY:function(C,R){return C.top-R.top},toBBox:function(C){return{minX:C.left,minY:C.top,maxX:C.right,maxY:C.bottom}}};function s(C,R,A){if(!A)return R.indexOf(C);for(var P=0;P<R.length;P++)if(A(C,R[P]))return P;return-1}function a(C,R){n(C,0,C.children.length,R,C)}function n(C,R,A,P,O){O||(O=y(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var b=R,D;b<A;b++)D=C.children[b],i(O,C.leaf?P(D):D);return O}function i(C,R){return C.minX=Math.min(C.minX,R.minX),C.minY=Math.min(C.minY,R.minY),C.maxX=Math.max(C.maxX,R.maxX),C.maxY=Math.max(C.maxY,R.maxY),C}function r(C,R){return C.minX-R.minX}function f(C,R){return C.minY-R.minY}function l(C){return(C.maxX-C.minX)*(C.maxY-C.minY)}function h(C){return C.maxX-C.minX+(C.maxY-C.minY)}function c(C,R){return(Math.max(R.maxX,C.maxX)-Math.min(R.minX,C.minX))*(Math.max(R.maxY,C.maxY)-Math.min(R.minY,C.minY))}function v(C,R){var A=Math.max(C.minX,R.minX),P=Math.max(C.minY,R.minY),O=Math.min(C.maxX,R.maxX),b=Math.min(C.maxY,R.maxY);return Math.max(0,O-A)*Math.max(0,b-P)}function d(C,R){return C.minX<=R.minX&&C.minY<=R.minY&&R.maxX<=C.maxX&&R.maxY<=C.maxY}function m(C,R){return R.minX<=C.maxX&&R.minY<=C.maxY&&R.maxX>=C.minX&&R.maxY>=C.minY}function y(C){return{children:C,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function T(C,R,A,P,O){for(var b=[R,A],D;b.length;)A=b.pop(),R=b.pop(),!(A-R<=P)&&(D=R+Math.ceil((A-R)/P/2)*P,e(C,D,R,A,O),b.push(R,D,D,A))}o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(533),u=t(535),s=t(248),a=function(n,i,r,f,l,h,c){var v=f.left,d=f.top,m=f.right,y=f.bottom,T=r.faceLeft||r.faceRight,C=r.faceTop||r.faceBottom;if(c||(T=!0,C=!0),!T&&!C)return!1;var R=0,A=0,P=0,O=1;if(i.deltaAbsX()>i.deltaAbsY()?P=-1:i.deltaAbsX()<i.deltaAbsY()&&(O=-1),i.deltaX()!==0&&i.deltaY()!==0&&T&&C&&(P=Math.min(Math.abs(i.position.x-m),Math.abs(i.right-v)),O=Math.min(Math.abs(i.position.y-y),Math.abs(i.bottom-d))),P<O){if(T&&(R=e(i,r,v,m,h,c),R!==0&&!s(f,i)))return!0;C&&(A=u(i,r,d,y,h,c))}else{if(C&&(A=u(i,r,d,y,h,c),A!==0&&!s(f,i)))return!0;T&&(R=e(i,r,v,m,h,c))}return R!==0||A!==0};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(534),u=function(s,a,n,i,r,f){var l=0,h=a.faceLeft,c=a.faceRight,v=a.collideLeft,d=a.collideRight;return f||(h=!0,c=!0,v=!0,d=!0),s.deltaX()<0&&d&&s.checkCollision.left?c&&s.x<i&&(l=s.x-i,l<-r&&(l=0)):s.deltaX()>0&&v&&s.checkCollision.right&&h&&s.right>n&&(l=s.right-n,l>r&&(l=0)),l!==0&&(s.customSeparateX?s.overlapX=l:e(s,l)),l};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u<0?(e.blocked.none=!1,e.blocked.left=!0):u>0&&(e.blocked.none=!1,e.blocked.right=!0),e.position.x-=u,e.bounce.x===0?e.velocity.x=0:e.velocity.x=-e.velocity.x*e.bounce.x};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(536),u=function(s,a,n,i,r,f){var l=0,h=a.faceTop,c=a.faceBottom,v=a.collideUp,d=a.collideDown;return f||(h=!0,c=!0,v=!0,d=!0),s.deltaY()<0&&d&&s.checkCollision.up?c&&s.y<i&&(l=s.y-i,l<-r&&(l=0)):s.deltaY()>0&&v&&s.checkCollision.down&&h&&s.bottom>n&&(l=s.bottom-n,l>r&&(l=0)),l!==0&&(s.customSeparateY?s.overlapY=l:e(s,l)),l};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u<0?(e.blocked.none=!1,e.blocked.up=!0):u>0&&(e.blocked.none=!1,e.blocked.down=!0),e.position.y-=u,e.bounce.y===0?e.velocity.y=0:e.velocity.y=-e.velocity.y*e.bounce.y};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(246),u=t(1389),s=function(a,n,i,r){var f=e(a,n,i,r),l=a.immovable,h=n.immovable;if(i||f===0||l&&h||a.customSeparateX||n.customSeparateX)return f!==0||a.embedded&&n.embedded;var c=u.Set(a,n,f);return!l&&!h?c>0?!0:u.Check():(l?u.RunImmovableBody1(c):h&&u.RunImmovableBody2(c),!0)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(247),u=t(1390),s=function(a,n,i,r){var f=e(a,n,i,r),l=a.immovable,h=n.immovable;if(i||f===0||l&&h||a.customSeparateY||n.customSeparateY)return f!==0||a.embedded&&n.embedded;var c=u.Set(a,n,f);return!l&&!h?c>0?!0:u.Check():(l?u.RunImmovableBody1(c):h&&u.RunImmovableBody2(c),!0)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),u=t(0),s=t(62),a=t(57),n=t(3),i=new u({initialize:function(f,l){var h=l.displayWidth?l.displayWidth:64,c=l.displayHeight?l.displayHeight:64;this.world=f,this.gameObject=l,this.debugShowBody=f.defaults.debugShowStaticBody,this.debugBodyColor=f.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new n,this.position=new n(l.x-h*l.originX,l.y-c*l.originY),this.width=h,this.height=c,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new n(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=n.ZERO,this.allowGravity=!1,this.gravity=n.ZERO,this.bounce=n.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=s.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(r,f){return r&&r!==this.gameObject&&(this.gameObject.body=null,r.body=this,this.gameObject=r),f&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var r=this.gameObject;return r.getTopLeft(this.position),this.width=r.displayWidth,this.height=r.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(r,f){return f===void 0&&(f=r),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(r,f),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(r,f,l){l===void 0&&(l=!0);var h=this.gameObject;if(!r&&h.frame&&(r=h.frame.realWidth),!f&&h.frame&&(f=h.frame.realHeight),this.world.staticTree.remove(this),this.width=r,this.height=f,this.halfWidth=Math.floor(r/2),this.halfHeight=Math.floor(f/2),l&&h.getCenter){var c=h.displayWidth/2,v=h.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(c-this.halfWidth,v-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(r,f,l){return f===void 0&&(f=this.offset.x),l===void 0&&(l=this.offset.y),r>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=r,this.width=r*2,this.height=r*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(f,l),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(r,f){var l=this.gameObject;r===void 0&&(r=l.x),f===void 0&&(f=l.y),this.world.staticTree.remove(this),l.setPosition(r,f),l.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(r){return r.x=this.x,r.y=this.y,r.right=this.right,r.bottom=this.bottom,r},hitTest:function(r,f){return this.isCircle?e(this,r,f):a(this,r,f)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(r){var f=this.position,l=f.x+this.halfWidth,h=f.y+this.halfHeight;this.debugShowBody&&(r.lineStyle(r.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?r.strokeCircle(l,h,this.width/2):r.strokeRect(f.x,f.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(r){return r<=0&&(r=.1),this.mass=r,this},x:{get:function(){return this.position.x},set:function(r){this.world.staticTree.remove(this),this.position.x=r,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(r){this.world.staticTree.remove(this),this.position.y=r,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});o.exports=i},function(o,x,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(0),u=new e({initialize:function(a){this.pluginManager=a,this.game=a.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=new e,s=function(a,n,i,r){var f=i.tilemapLayer,l=f.cullPaddingX,h=f.cullPaddingY,c=f.tilemap.tileToWorldXY(a,n,u,r,f);return c.x>r.worldView.x+f.scaleX*i.tileWidth*(-l-.5)&&c.x<r.worldView.right+f.scaleX*i.tileWidth*(l-.5)&&c.y>r.worldView.y+f.scaleY*i.tileHeight*(-h-1)&&c.y<r.worldView.bottom+f.scaleY*i.tileHeight*(h-.5)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(s,a,n,i,r,f,l){for(var h=e(n,i,r,f,null,l),c=0;c<h.length;c++)h[c]&&h[c].index===s&&(h[c].index=a)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(139),s=t(76),a=new e,n=function(i,r){var f=i.tilemapLayer.tilemap,l=i.tilemapLayer,h=Math.floor(f.tileWidth*l.scaleX),c=Math.floor(f.tileHeight*l.scaleY),v=s(r.worldView.x-l.x,h,0,!0)-l.cullPaddingX,d=u(r.worldView.right-l.x,h,0,!0)+l.cullPaddingX,m=s(r.worldView.y-l.y,c,0,!0)-l.cullPaddingY,y=u(r.worldView.bottom-l.y,c,0,!0)+l.cullPaddingY;return a.setTo(v,m,d-v,y-m)};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(543),u=t(159),s=function(a,n,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var f=a.tilemapLayer,l=e(a,n);return(f.skipCull||f.scrollFactorX!==1||f.scrollFactorY!==1)&&(l.left=0,l.right=a.width,l.top=0,l.bottom=a.height),u(a,l,r,i),i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(546),u=t(159),s=function(a,n,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var f=a.tilemapLayer;if(!f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1){var l=e(a,n);u(a,l,r,i)}return i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),u=t(76),s=function(a,n){var i=a.tilemapLayer.tilemap,r=a.tilemapLayer,f=Math.floor(i.tileWidth*r.scaleX),l=Math.floor(i.tileHeight*r.scaleY),h=a.hexSideLength,c=(l-h)/2+h,v=u(n.worldView.x-r.x,f,0,!0)-r.cullPaddingX,d=e(n.worldView.right-r.x,f,0,!0)+r.cullPaddingX,m=u(n.worldView.y-r.y,c,0,!0)-r.cullPaddingY,y=e(n.worldView.bottom-r.y,c,0,!0)+r.cullPaddingY;return{left:v,right:d,top:m,bottom:y}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(541),u=function(s,a,n,i){n===void 0&&(n=[]),i===void 0&&(i=0),n.length=0;var r=s.tilemapLayer,f=s.data,l=s.width,h=s.height,c=0,v=l,d=0,m=h;if(!r.skipCull){var y,T,C;if(i===0){for(T=d;T<m;T++)for(y=c;f[T]&&y<v;y++)if(e(y,T,s,a)){if(C=f[T][y],!C||C.index===-1||!C.visible||C.alpha===0)continue;n.push(C)}}else if(i===1){for(T=d;T<m;T++)for(y=v;f[T]&&y>=c;y--)if(e(y,T,s,a)){if(C=f[T][y],!C||C.index===-1||!C.visible||C.alpha===0)continue;n.push(C)}}else if(i===2){for(T=m;T>=d;T--)for(y=c;f[T]&&y<v;y++)if(e(y,T,s,a)){if(C=f[T][y],!C||C.index===-1||!C.visible||C.alpha===0)continue;n.push(C)}}else if(i===3){for(T=m;T>=d;T--)for(y=v;f[T]&&y>=c;y--)if(e(y,T,s,a)){if(C=f[T][y],!C||C.index===-1||!C.visible||C.alpha===0)continue;n.push(C)}}}return r.tilesDrawn=n.length,r.tilesTotal=l*h,n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(549),u=t(159),s=function(a,n,i,r){i===void 0&&(i=[]),r===void 0&&(r=0),i.length=0;var f=a.tilemapLayer;if(!f.skipCull&&f.scrollFactorX===1&&f.scrollFactorY===1){var l=e(a,n);u(a,l,r,i)}return i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(139),u=t(76),s=function(a,n){var i=a.tilemapLayer.tilemap,r=a.tilemapLayer,f=Math.floor(i.tileWidth*r.scaleX),l=Math.floor(i.tileHeight*r.scaleY),h=u(n.worldView.x-r.x,f,0,!0)-r.cullPaddingX,c=e(n.worldView.right-r.x,f,0,!0)+r.cullPaddingX,v=u(n.worldView.y-r.y,l/2,0,!0)-r.cullPaddingY,d=e(n.worldView.bottom-r.y,l/2,0,!0)+r.cullPaddingY;return{left:h,right:c,top:v,bottom:d}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i,r){n||(n=new e);var f=r.baseTileWidth,l=r.baseTileHeight,h=r.tilemapLayer,c=0,v=0;h&&(i||(i=h.scene.cameras.main),c=h.x+i.scrollX*(1-h.scrollFactorX),f*=h.scaleX,v=h.y+i.scrollY*(1-h.scrollFactorY),l*=h.scaleY);var d=r.hexSideLength,m=(l-d)/2+d,y=c+s*f+a%2*(f/2),T=v+a*m;return n.set(y,T)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i,r){n||(n=new e);var f=r.baseTileWidth,l=r.baseTileHeight,h=r.tilemapLayer,c=0,v=0;h&&(i||(i=h.scene.cameras.main),c=h.x+i.scrollX*(1-h.scrollFactorX),f*=h.scaleX,v=h.y+i.scrollY*(1-h.scrollFactorY),l*=h.scaleY);var d=c+(s-a)*(f/2),m=v+(s+a)*(l/2);return n.set(d,m)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i,r){n||(n=new e);var f=r.baseTileWidth,l=r.baseTileHeight,h=r.tilemapLayer,c=0,v=0;h&&(i||(i=h.scene.cameras.main),c=h.x+i.scrollX*(1-h.scrollFactorX),f*=h.scaleX,v=h.y+i.scrollY*(1-h.scrollFactorY),l*=h.scaleY);var d=c+s*f+a%2*(f/2),m=v+a*(l/2);return n.set(d,m)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(253),u=t(254),s=t(3),a=function(n,i,r,f,l){return r||(r=new s(0,0)),r.x=e(n,f,l),r.y=u(i,f,l),r};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=s.baseTileHeight,n=s.tilemapLayer,i=0;n&&(u===void 0&&(u=n.scene.cameras.main),i=n.y+u.scrollY*(1-n.scrollFactorY),a*=n.scaleY);var r=n.tilemap.hexSideLength,f=(a-r)/2+r;return i+e*f};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=s.baseTileHeight,n=s.tilemapLayer,i=0;return n&&(u===void 0&&(u=n.scene.cameras.main),i=n.y+u.scrollY*(1-n.scrollFactorY),a*=n.scaleY),i+e*(a/2)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i,r,f){i||(i=new e);var l=f.baseTileWidth,h=f.baseTileHeight,c=f.tilemapLayer;c&&(r||(r=c.scene.cameras.main),a=a-(c.y+r.scrollY*(1-c.scrollFactorY)),h*=c.scaleY,s=s-(c.x+r.scrollX*(1-c.scrollFactorX)),l*=c.scaleX);var v=f.hexSideLength,d=(h-v)/2+v,m=n?Math.floor(a/d):a/d,y=n?Math.floor((s-m%2*.5*l)/l):(s-m%2*.5*l)/l;return i.set(y,m)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i,r,f){i||(i=new e);var l=f.baseTileWidth,h=f.baseTileHeight,c=f.tilemapLayer;c&&(r||(r=c.scene.cameras.main),a=a-(c.y+r.scrollY*(1-c.scrollFactorY)),h*=c.scaleY,s=s-(c.x+r.scrollX*(1-c.scrollFactorX)),l*=c.scaleX);var v=n?Math.floor((s/(l/2)+a/(h/2))/2):(s/(l/2)+a/(h/2))/2,d=n?Math.floor((a/(h/2)-s/(l/2))/2):(a/(h/2)-s/(l/2))/2;return i.set(v,d)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i,r,f){i||(i=new e);var l=f.baseTileWidth,h=f.baseTileHeight,c=f.tilemapLayer;c&&(r||(r=c.scene.cameras.main),a=a-(c.y+r.scrollY*(1-c.scrollFactorY)),h*=c.scaleY,s=s-(c.x+r.scrollX*(1-c.scrollFactorX)),l*=c.scaleX);var v=n?Math.floor(a/(h/2)):a/(h/2),d=n?Math.floor((s+v%2*.5*l)/l):(s+v%2*.5*l)/l;return i.set(d,v)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(255),u=t(256),s=t(3),a=function(n,i,r,f,l,h){return r===void 0&&(r=!0),f||(f=new s(0,0)),f.x=e(n,r,l,h),f.y=u(i,r,l,h),f};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=a.baseTileHeight,i=a.tilemapLayer;i&&(s||(s=i.scene.cameras.main),e=e-(i.y+s.scrollY*(1-i.scrollFactorY)),n*=i.scaleY);var r=a.hexSideLength,f=(n-r)/2+r;return u?Math.floor(e/f):e/f};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=a.baseTileHeight,i=a.tilemapLayer;return i&&(s||(s=i.scene.cameras.main),e=e-(i.y+s.scrollY*(1-i.scrollFactorY)),n*=i.scaleY),u?Math.floor(e/(n/2)):e/(n/2)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(119),u=function(s,a,n){if(e(s,a,n)){var i=n.data[a][s];return i!==null&&i.index>-1}else return!1};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(85),u=t(119),s=t(252),a=function(n,i,r,f,l){if(r===void 0&&(r=!0),f===void 0&&(f=!0),!u(n,i,l))return null;var h=l.data[i][n];if(h)l.data[i][n]=r?null:new e(l,-1,n,i,l.tileWidth,l.tileHeight);else return null;return f&&h&&h.collides&&s(n,i,l),h};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(259),s=t(565),a=t(566),n=t(577),i=function(r,f,l,h,c,v){var d;switch(f){case e.ARRAY_2D:d=u(r,l,h,c,v);break;case e.CSV:d=s(r,l,h,c,v);break;case e.TILED_JSON:d=a(r,l,v);break;case e.WELTMEISTER:d=n(r,l,v);break;default:console.warn("Unrecognized tilemap data format: "+f),d=null}return d};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(259),s=function(a,n,i,r,f){var l=n.trim().split(`
`).map(function(c){return c.split(",")}),h=u(a,l,i,r,f);return h.format=e.CSV,h};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(567),u=t(568),s=t(29),a=t(40),n=t(258),i=t(121),r=t(569),f=t(570),l=t(573),h=t(575),c=function(v,d,m){var y=new i({width:d.width,height:d.height,name:v,tileWidth:d.tilewidth,tileHeight:d.tileheight,orientation:n(d.orientation),format:a.TILED_JSON,version:d.version,properties:d.properties,renderOrder:d.renderorder,infinite:d.infinite});y.orientation===s.HEXAGONAL&&(y.hexSideLength=d.hexsidelength),y.layers=l(d,m),y.images=r(d);var T=h(d);return y.tilesets=T.tilesets,y.imageCollections=T.imageCollections,y.objects=f(d),y.tiles=u(y),e(y),y};o.exports=c},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=function(s){for(var a,n,i,r,f,l=0;l<s.layers.length;l++){a=s.layers[l],r=null;for(var h=0;h<a.data.length;h++){f=a.data[h];for(var c=0;c<f.length;c++)n=f[c],!(n===null||n.index<0)&&(i=s.tiles[n.index][2],r=s.tilesets[i],n.width=r.tileWidth,n.height=r.tileHeight,r.tileProperties&&r.tileProperties[n.index-r.firstgid]&&(n.properties=e(n.properties,r.tileProperties[n.index-r.firstgid])))}}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),u=function(s){var a,n,i=[];for(a=0;a<s.imageCollections.length;a++)for(var r=s.imageCollections[a],f=r.images,l=0;l<f.length;l++){var h=f[l];n=new e(h.image,h.gid,r.imageWidth,r.imageHeight,0,0),n.updateTileData(r.imageWidth,r.imageHeight),s.tilesets.push(n)}for(a=0;a<s.tilesets.length;a++){n=s.tilesets[a];for(var c=n.tileMargin,v=n.tileMargin,d=0,m=0,y=0,T=n.firstgid;T<n.firstgid+n.total&&(i[T]=[c,v,a],c+=n.tileWidth+n.tileSpacing,d++,!(d===n.total||(m++,m===n.columns&&(c=n.tileMargin,v+=n.tileHeight+n.tileSpacing,m=0,y++,y===n.rows))));T++);}return i};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=t(161),s=function(a){for(var n=[],i=[],r=u(a);r.i<r.layers.length||i.length>0;){if(r.i>=r.layers.length){if(i.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}r=i.pop();continue}var f=r.layers[r.i];if(r.i++,f.type!=="imagelayer"){if(f.type==="group"){var l=u(a,f,r);i.push(r),r=l}continue}var h=e(f,"offsetx",0)+e(f,"startx",0),c=e(f,"offsety",0)+e(f,"starty",0);n.push({name:r.name+f.name,image:f.image,x:r.x+h+f.x,y:r.y+c+f.y,alpha:r.opacity*f.opacity,visible:r.visible&&f.visible,properties:e(f,"properties",{})})}return n};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=t(260),s=t(572),a=t(161),n=function(i){for(var r=[],f=[],l=a(i);l.i<l.layers.length||f.length>0;){if(l.i>=l.layers.length){if(f.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}l=f.pop();continue}var h=l.layers[l.i];if(l.i++,h.opacity*=l.opacity,h.visible=l.visible&&h.visible,h.type!=="objectgroup"){if(h.type==="group"){var c=a(i,h,l);f.push(l),l=c}continue}h.name=l.name+h.name;for(var v=l.x+e(h,"startx",0)+e(h,"offsetx",0),d=l.y+e(h,"starty",0)+e(h,"offsety",0),m=[],y=0;y<h.objects.length;y++){var T=u(h.objects[y],v,d);m.push(T)}var C=new s(h);C.objects=m,r.push(C)}return r};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(126),u=function(s,a){for(var n={},i=0;i<a.length;i++){var r=a[i];e(s,r)&&(n[r]=s[r])}return n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=new e({initialize:function(n){n===void 0&&(n={}),this.name=u(n,"name","object layer"),this.opacity=u(n,"opacity",1),this.properties=u(n,"properties",{}),this.propertyTypes=u(n,"propertytypes",{}),this.type=u(n,"type","objectgroup"),this.visible=u(n,"visible",!0),this.objects=u(n,"objects",[])}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(574),u=t(29),s=t(161),a=t(258),n=t(2),i=t(120),r=t(261),f=t(85),l=function(h,c){for(var v=n(h,"infinite",!1),d=[],m=[],y=s(h);y.i<y.layers.length||m.length>0;){if(y.i>=y.layers.length){if(m.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}y=m.pop();continue}var T=y.layers[y.i];if(y.i++,T.type!=="tilelayer"){if(T.type==="group"){var C=s(h,T,y);m.push(y),y=C}continue}if(T.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+T.name+"'");continue}else if(T.encoding&&T.encoding==="base64"){if(T.chunks)for(var R=0;R<T.chunks.length;R++)T.chunks[R].data=e(T.chunks[R].data);T.data&&(T.data=e(T.data)),delete T.encoding}var A,P,O,b,D=[],N=0;if(v){var B=n(T,"startx",0)+T.x,U=n(T,"starty",0)+T.y;A=new i({name:y.name+T.name,x:y.x+n(T,"offsetx",0)+B*h.tilewidth,y:y.y+n(T,"offsety",0)+U*h.tileheight,width:T.width,height:T.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:n(T,"properties",[]),orientation:a(h.orientation)}),A.orientation===u.HEXAGONAL&&(A.hexSideLength=h.hexsidelength);for(var G=0;G<T.height;G++){D.push([null]);for(var W=0;W<T.width;W++)D[G][W]=null}for(G=0,k=T.chunks.length;G<k;G++)for(var $=T.chunks[G],q=$.x-B,_=$.y-U,V=0,w=0,z=$.data.length;w<z;w++){var Y=N+q,H=V+_;P=r($.data[w]),P.gid>0?(O=new f(A,P.gid,Y,H,h.tilewidth,h.tileheight),O.rotation=P.rotation,O.flipX=P.flipped,D[H][Y]=O):(b=c?null:new f(A,-1,Y,H,h.tilewidth,h.tileheight),D[H][Y]=b),N++,N===$.width&&(V++,N=0)}}else{A=new i({name:y.name+T.name,x:y.x+n(T,"offsetx",0)+T.x,y:y.y+n(T,"offsety",0)+T.y,width:T.width,height:T.height,tileWidth:h.tilewidth,tileHeight:h.tileheight,alpha:y.opacity*T.opacity,visible:y.visible&&T.visible,properties:n(T,"properties",[]),orientation:a(h.orientation)}),A.orientation===u.HEXAGONAL&&(A.hexSideLength=h.hexsidelength);for(var j=[],Z=0,k=T.data.length;Z<k;Z++)P=r(T.data[Z]),P.gid>0?(O=new f(A,P.gid,N,D.length,h.tilewidth,h.tileheight),O.rotation=P.rotation,O.flipX=P.flipped,j.push(O)):(b=c?null:new f(A,-1,N,D.length,h.tilewidth,h.tileheight),j.push(b)),N++,N===T.width&&(D.push(j),N=0,j=[])}A.data=D,d.push(A)}return d};o.exports=l},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=window.atob(e),s=u.length,a=new Array(s/4),n=0;n<s;n+=4)a[n/4]=(u.charCodeAt(n)|u.charCodeAt(n+1)<<8|u.charCodeAt(n+2)<<16|u.charCodeAt(n+3)<<24)>>>0;return a};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),u=t(576),s=t(260),a=t(1453),n=function(i){for(var r=[],f=[],l=null,h,c=0;c<i.tilesets.length;c++){var v=i.tilesets[c];if(v.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(v.image){var d=new e(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing);if(i.version>1){var m=void 0,y=void 0;if(Array.isArray(v.tiles)){m=m||{},y=y||{};for(var T=0;T<v.tiles.length;T++){var C=v.tiles[T];if(C.properties){var R={};C.properties.forEach(function(G){R[G.name]=G.value}),y[C.id]=R}if(C.objectgroup&&((m[C.id]||(m[C.id]={})).objectgroup=C.objectgroup,C.objectgroup.objects)){var A=C.objectgroup.objects.map(function(G){return s(G)});m[C.id].objectgroup.objects=A}C.animation&&((m[C.id]||(m[C.id]={})).animation=C.animation),C.type&&((m[C.id]||(m[C.id]={})).type=C.type)}}Array.isArray(v.wangsets)&&(m=m||{},y=y||{},a(v.wangsets,m)),m&&(d.tileData=m,d.tileProperties=y)}else if(v.tileproperties&&(d.tileProperties=v.tileproperties),v.tiles){d.tileData=v.tiles;for(h in d.tileData){var P=d.tileData[h].objectgroup;if(P&&P.objects){var O=P.objects.map(function(G){return s(G)});d.tileData[h].objectgroup.objects=O}}}d.updateTileData(v.imagewidth,v.imageheight),r.push(d)}else{var b=new u(v.name,v.firstgid,v.tilewidth,v.tileheight,v.margin,v.spacing,v.properties),D=0;for(T=0;T<v.tiles.length;T++){C=v.tiles[T];var N=C.image,B=parseInt(C.id,10),U=v.firstgid+B;b.addImage(U,N),D=Math.max(B,D)}b.maxId=D,f.push(b)}l&&(l.lastgid=v.firstgid-1),l=v}return{tilesets:r,imageCollections:f}};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a,n,i,r,f,l,h){(i===void 0||i<=0)&&(i=32),(r===void 0||r<=0)&&(r=32),f===void 0&&(f=0),l===void 0&&(l=0),this.name=a,this.firstgid=n|0,this.imageWidth=i|0,this.imageHeight=r|0,this.imageMargin=f|0,this.imageSpacing=l|0,this.properties=h||{},this.images=[],this.total=0},containsImageIndex:function(s){return s>=this.firstgid&&s<this.firstgid+this.total},addImage:function(s,a){return this.images.push({gid:s,image:a}),this.total++,this}});o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(40),u=t(121),s=t(578),a=t(579),n=function(i,r,f){if(r.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+i),null;for(var l=0,h=0,c=0;c<r.layer.length;c++)r.layer[c].width>l&&(l=r.layer[c].width),r.layer[c].height>h&&(h=r.layer[c].height);var v=new u({width:l,height:h,name:i,tileWidth:r.layer[0].tilesize,tileHeight:r.layer[0].tilesize,format:e.WELTMEISTER});return v.layers=s(r,f),v.tilesets=a(r),v};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(120),u=t(85),s=function(a,n){for(var i=[],r=0;r<a.layer.length;r++){for(var f=a.layer[r],l=new e({name:f.name,width:f.width,height:f.height,tileWidth:f.tilesize,tileHeight:f.tilesize,visible:f.visible===1}),h=[],c=[],v=0;v<f.data.length;v++){for(var d=0;d<f.data[v].length;d++){var m=f.data[v][d]-1,y;m>-1?y=new u(l,m,d,v,f.tilesize,f.tilesize):y=n?null:new u(l,-1,d,v,f.tilesize,f.tilesize),h.push(y)}c.push(h),h=[]}l.data=c,i.push(l)}return i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(122),u=function(s){for(var a=[],n=[],i=0;i<s.layer.length;i++){var r=s.layer[i],f=r.tilesetName;f!==""&&n.indexOf(f)===-1&&(n.push(f),a.push(new e(f,0,r.tilesize,r.tilesize,0,0)))}return a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(36),s=t(40),a=t(2),n=t(120),i=t(29),r=t(362),f=t(74),l=t(73),h=t(85),c=t(251),v=t(581),d=t(122),m=new e({initialize:function(T,C){this.scene=T,this.tileWidth=C.tileWidth,this.tileHeight=C.tileHeight,this.width=C.width,this.height=C.height,this.orientation=C.orientation,this.renderOrder=C.renderOrder,this.format=C.format,this.version=C.version,this.properties=C.properties,this.widthInPixels=C.widthInPixels,this.heightInPixels=C.heightInPixels,this.imageCollections=C.imageCollections,this.images=C.images,this.layers=C.layers,this.tilesets=C.tilesets,this.objects=C.objects,this.currentLayerIndex=0,this.hexSideLength=C.hexSideLength;var R=this.orientation;this._convert={WorldToTileXY:c.GetWorldToTileXYFunction(R),WorldToTileX:c.GetWorldToTileXFunction(R),WorldToTileY:c.GetWorldToTileYFunction(R),TileToWorldXY:c.GetTileToWorldXYFunction(R),TileToWorldX:c.GetTileToWorldXFunction(R),TileToWorldY:c.GetTileToWorldYFunction(R)}},createBlankDynamicLayer:function(y,T,C,R,A,P,O,b){return console.warn("createBlankDynamicLayer is deprecated. Use createBlankLayer"),this.createBlankLayer(y,T,C,R,A,P,O,b)},createDynamicLayer:function(y,T,C,R){return console.warn("createDynamicLayer is deprecated. Use createLayer"),this.createLayer(y,T,C,R)},createStaticLayer:function(y,T,C,R){return console.warn("createStaticLayer is deprecated. Use createLayer"),this.createLayer(y,T,C,R)},setRenderOrder:function(y){var T=["right-down","left-down","right-up","left-up"];return typeof y=="number"&&(y=T[y]),T.indexOf(y)>-1&&(this.renderOrder=y),this},addTilesetImage:function(y,T,C,R,A,P,O){if(y===void 0)return null;if(T==null&&(T=y),!this.scene.sys.textures.exists(T))return console.warn("Invalid Tileset Image: "+T),null;var b=this.scene.sys.textures.get(T),D=this.getTilesetIndex(y);if(D===null&&this.format===s.TILED_JSON)return console.warn("No data found for Tileset: "+y),null;var N=this.tilesets[D];return N?(N.setTileSize(C,R),N.setSpacing(A,P),N.setImage(b),N):(C===void 0&&(C=this.tileWidth),R===void 0&&(R=this.tileHeight),A===void 0&&(A=0),P===void 0&&(P=0),O===void 0&&(O=0),N=new d(y,O,C,R,A,P),N.setImage(b),this.tilesets.push(N),N)},copy:function(y,T,C,R,A,P,O,b){return b=this.getLayer(b),b!==null?(c.Copy(y,T,C,R,A,P,O,b),this):null},createBlankLayer:function(y,T,C,R,A,P,O,b){C===void 0&&(C=0),R===void 0&&(R=0),A===void 0&&(A=this.width),P===void 0&&(P=this.height),O===void 0&&(O=this.tileWidth),b===void 0&&(b=this.tileHeight);var D=this.getLayerIndex(y);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+y),null;for(var N=new n({name:y,tileWidth:O,tileHeight:b,width:A,height:P,orientation:this.orientation}),B,U=0;U<P;U++){B=[];for(var G=0;G<A;G++)B.push(new h(N,-1,G,U,O,b,this.tileWidth,this.tileHeight));N.data.push(B)}this.layers.push(N),this.currentLayerIndex=this.layers.length-1;var W=new v(this.scene,this,this.currentLayerIndex,T,C,R);return W.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(W),W},createLayer:function(y,T,C,R){var A=this.getLayerIndex(y);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+y),typeof y=="string"&&console.warn(`Valid tilelayer names:
	`+this.getTileLayerNames().join(`,
	`)),null;var P=this.layers[A];if(P.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+y),null;this.currentLayerIndex=A,C===void 0&&(C=P.x),R===void 0&&(R=P.y);var O=new v(this.scene,this,A,T,C,R);return O.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(O),O},createFromObjects:function(y,T){var C=[],R=this.getObjectLayer(y);if(!R)return console.warn("createFromObjects: Invalid objectLayerName given: "+y),C;Array.isArray(T)||(T=[T]);for(var A=R.objects,P=0;P<T.length;P++){for(var O=T[P],b=a(O,"id",null),D=a(O,"gid",null),N=a(O,"name",null),B,U=[],G=0;G<A.length;G++)B=A[G],(b===null&&D===null&&N===null||b!==null&&B.id===b||D!==null&&B.gid===D||N!==null&&B.name===N)&&U.push(B);for(var W=a(O,"classType",l),$=a(O,"scene",this.scene),q=a(O,"container",null),_=a(O,"key",null),V=a(O,"frame",null),w=0;w<U.length;w++){B=U[w];var z=new W($);z.setName(B.name),z.setPosition(B.x,B.y),z.setTexture(_,V),B.width&&(z.displayWidth=B.width),B.height&&(z.displayHeight=B.height);var Y={x:z.originX*B.width,y:(z.originY-1)*B.height};if(B.rotation){var H=u(B.rotation);r(Y,H),z.rotation=H}if(z.x+=Y.x,z.y+=Y.y,(B.flippedHorizontal!==void 0||B.flippedVertical!==void 0)&&z.setFlip(B.flippedHorizontal,B.flippedVertical),B.visible||(z.visible=!1),Array.isArray(B.properties))B.properties.forEach(function(Z){var k=Z.name;z[k]!==void 0?z[k]=Z.value:z.setData(k,Z.value)});else for(var j in B.properties)z[j]!==void 0?z[j]=B.properties[j]:z.setData(j,B.properties[j]);q?q.add(z):$.add.existing(z),C.push(z)}}return C},createFromTiles:function(y,T,C,R,A,P){return P=this.getLayer(P),P===null?null:c.CreateFromTiles(y,T,C,R,A,P)},fill:function(y,T,C,R,A,P,O){return P===void 0&&(P=!0),O=this.getLayer(O),O===null?null:(c.Fill(y,T,C,R,A,P,O),this)},filterObjects:function(y,T,C){if(typeof y=="string"){var R=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+R),null}return y.objects.filter(T,C)},filterTiles:function(y,T,C,R,A,P,O,b){return b=this.getLayer(b),b===null?null:c.FilterTiles(y,T,C,R,A,P,O,b)},findByIndex:function(y,T,C,R){return R=this.getLayer(R),R===null?null:c.FindByIndex(y,T,C,R)},findObject:function(y,T,C){if(typeof y=="string"){var R=y;if(y=this.getObjectLayer(y),!y)return console.warn("No object layer found with the name: "+R),null}return y.objects.find(T,C)||null},findTile:function(y,T,C,R,A,P,O,b){return b=this.getLayer(b),b===null?null:c.FindTile(y,T,C,R,A,P,O,b)},forEachTile:function(y,T,C,R,A,P,O,b){return b=this.getLayer(b),b===null?null:(c.ForEachTile(y,T,C,R,A,P,O,b),this)},getImageIndex:function(y){return this.getIndex(this.images,y)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(y){return y.name})},getIndex:function(y,T){for(var C=0;C<y.length;C++)if(y[C].name===T)return C;return null},getLayer:function(y){var T=this.getLayerIndex(y);return T!==null?this.layers[T]:null},getObjectLayer:function(y){var T=this.getIndex(this.objects,y);return T!==null?this.objects[T]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(y){return y.name})},getLayerIndex:function(y){return y===void 0?this.currentLayerIndex:typeof y=="string"?this.getLayerIndexByName(y):typeof y=="number"&&y<this.layers.length?y:y instanceof v?y.layerIndex:null},getLayerIndexByName:function(y){return this.getIndex(this.layers,y)},getTileAt:function(y,T,C,R){return R=this.getLayer(R),R===null?null:c.GetTileAt(y,T,C,R)},getTileAtWorldXY:function(y,T,C,R,A){return A=this.getLayer(A),A===null?null:c.GetTileAtWorldXY(y,T,C,R,A)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(y){return y.name})},getTilesWithin:function(y,T,C,R,A,P){return P=this.getLayer(P),P===null?null:c.GetTilesWithin(y,T,C,R,A,P)},getTilesWithinShape:function(y,T,C,R){return R=this.getLayer(R),R===null?null:c.GetTilesWithinShape(y,T,C,R)},getTilesWithinWorldXY:function(y,T,C,R,A,P,O){return O=this.getLayer(O),O===null?null:c.GetTilesWithinWorldXY(y,T,C,R,A,P,O)},getTileset:function(y){var T=this.getIndex(this.tilesets,y);return T!==null?this.tilesets[T]:null},getTilesetIndex:function(y){return this.getIndex(this.tilesets,y)},hasTileAt:function(y,T,C){return C=this.getLayer(C),C===null?null:c.HasTileAt(y,T,C)},hasTileAtWorldXY:function(y,T,C,R){return R=this.getLayer(R),R===null?null:c.HasTileAtWorldXY(y,T,C,R)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(y){this.setLayer(y)}},putTileAt:function(y,T,C,R,A){return R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:c.PutTileAt(y,T,C,R,A)},putTileAtWorldXY:function(y,T,C,R,A,P){return R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:c.PutTileAtWorldXY(y,T,C,R,A,P)},putTilesAt:function(y,T,C,R,A){return R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(c.PutTilesAt(y,T,C,R,A),this)},randomize:function(y,T,C,R,A,P){return P=this.getLayer(P),P===null?null:(c.Randomize(y,T,C,R,A,P),this)},calculateFacesAt:function(y,T,C){return C=this.getLayer(C),C===null?null:(c.CalculateFacesAt(y,T,C),this)},calculateFacesWithin:function(y,T,C,R,A){return A=this.getLayer(A),A===null?null:(c.CalculateFacesWithin(y,T,C,R,A),this)},removeLayer:function(y){var T=this.getLayerIndex(y);if(T!==null){f(this.layers,T);for(var C=T;C<this.layers.length;C++)this.layers[C].tilemapLayer&&this.layers[C].tilemapLayer.layerIndex--;return this.currentLayerIndex===T&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(y){var T=this.getLayerIndex(y);return T!==null?(y=this.layers[T],y.destroy(),f(this.layers,T),this.currentLayerIndex===T&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var y=this.layers,T=0;T<y.length;T++)y[T].tilemapLayer&&y[T].tilemapLayer.destroy(!1);return y.length=0,this.currentLayerIndex=0,this},removeTile:function(y,T,C){T===void 0&&(T=-1),C===void 0&&(C=!0);var R=[];Array.isArray(y)||(y=[y]);for(var A=0;A<y.length;A++){var P=y[A];R.push(this.removeTileAt(P.x,P.y,!0,C,P.tilemapLayer)),T>-1&&this.putTileAt(T,P.x,P.y,C,P.tilemapLayer)}return R},removeTileAt:function(y,T,C,R,A){return C===void 0&&(C=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:c.RemoveTileAt(y,T,C,R,A)},removeTileAtWorldXY:function(y,T,C,R,A,P){return C===void 0&&(C=!0),R===void 0&&(R=!0),P=this.getLayer(P),P===null?null:c.RemoveTileAtWorldXY(y,T,C,R,A,P)},renderDebug:function(y,T,C){return C=this.getLayer(C),C===null?null:(this.orientation===i.ORTHOGONAL&&c.RenderDebug(y,T,C),this)},renderDebugFull:function(y,T){for(var C=this.layers,R=0;R<C.length;R++)c.RenderDebug(y,T,C[R]);return this},replaceByIndex:function(y,T,C,R,A,P,O){return O=this.getLayer(O),O===null?null:(c.ReplaceByIndex(y,T,C,R,A,P,O),this)},setCollision:function(y,T,C,R,A){return T===void 0&&(T=!0),C===void 0&&(C=!0),A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:(c.SetCollision(y,T,C,R,A),this)},setCollisionBetween:function(y,T,C,R,A){return C===void 0&&(C=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(c.SetCollisionBetween(y,T,C,R,A),this)},setCollisionByProperty:function(y,T,C,R){return T===void 0&&(T=!0),C===void 0&&(C=!0),R=this.getLayer(R),R===null?null:(c.SetCollisionByProperty(y,T,C,R),this)},setCollisionByExclusion:function(y,T,C,R){return T===void 0&&(T=!0),C===void 0&&(C=!0),R=this.getLayer(R),R===null?null:(c.SetCollisionByExclusion(y,T,C,R),this)},setCollisionFromCollisionGroup:function(y,T,C){return y===void 0&&(y=!0),T===void 0&&(T=!0),C=this.getLayer(C),C===null?null:(c.SetCollisionFromCollisionGroup(y,T,C),this)},setTileIndexCallback:function(y,T,C,R){return R=this.getLayer(R),R===null?null:(c.SetTileIndexCallback(y,T,C,R),this)},setTileLocationCallback:function(y,T,C,R,A,P,O){return O=this.getLayer(O),O===null?null:(c.SetTileLocationCallback(y,T,C,R,A,P,O),this)},setLayer:function(y){var T=this.getLayerIndex(y);return T!==null&&(this.currentLayerIndex=T),this},setBaseTileSize:function(y,T){this.tileWidth=y,this.tileHeight=T,this.widthInPixels=this.width*y,this.heightInPixels=this.height*T;for(var C=0;C<this.layers.length;C++){this.layers[C].baseTileWidth=y,this.layers[C].baseTileHeight=T;for(var R=this.layers[C].data,A=this.layers[C].width,P=this.layers[C].height,O=0;O<P;O++)for(var b=0;b<A;b++){var D=R[O][b];D!==null&&D.setSize(void 0,void 0,y,T)}}return this},setLayerTileSize:function(y,T,C){if(C=this.getLayer(C),C===null)return this;C.tileWidth=y,C.tileHeight=T;for(var R=C.data,A=C.width,P=C.height,O=0;O<P;O++)for(var b=0;b<A;b++){var D=R[O][b];D!==null&&D.setSize(y,T)}return this},shuffle:function(y,T,C,R,A){return A=this.getLayer(A),A===null?null:(c.Shuffle(y,T,C,R,A),this)},swapByIndex:function(y,T,C,R,A,P,O){return O=this.getLayer(O),O===null?null:(c.SwapByIndex(y,T,C,R,A,P,O),this)},tileToWorldX:function(y,T,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldX(y,T,C)},tileToWorldY:function(y,T,C){return C=this.getLayer(C),C===null?null:this._convert.TileToWorldY(y,T,C)},tileToWorldXY:function(y,T,C,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(y,T,C,R,A)},weightedRandomize:function(y,T,C,R,A,P){return P=this.getLayer(P),P===null?null:(c.WeightedRandomize(T,C,R,A,y,P),this)},worldToTileX:function(y,T,C,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileX(y,T,C,R)},worldToTileY:function(y,T,C,R){return R=this.getLayer(R),R===null?null:this._convert.WorldToTileY(y,T,C,R)},worldToTileXY:function(y,T,C,R,A,P){return P=this.getLayer(P),P===null?null:this._convert.WorldToTileXY(y,T,C,R,A,P)},destroy:function(){this.removeAllLayers(),this.tilesets.length=0,this.objects.length=0,this.scene=null}});o.exports=m},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(11),s=t(15),a=t(251),n=t(1456),i=new e({Extends:s,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Depth,u.Flip,u.GetBounds,u.Origin,u.Pipeline,u.Transform,u.Visible,u.ScrollFactor,n],initialize:function(f,l,h,c,v,d){s.call(this,f,"TilemapLayer"),this.isTilemap=!0,this.tilemap=l,this.layerIndex=h,this.layer=l.layers[h],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.setTilesets(c),this.setAlpha(this.layer.alpha),this.setPosition(v,d),this.setOrigin(),this.setSize(l.tileWidth*this.layer.width,l.tileHeight*this.layer.height),this.initPipeline()},setTilesets:function(r){var f=[],l=[],h=this.tilemap;Array.isArray(r)||(r=[r]);for(var c=0;c<r.length;c++){var v=r[c];if(typeof v=="string"&&(v=h.getTileset(v)),v){l.push(v);for(var d=v.firstgid,m=0;m<v.total;m++)f[d+m]=v}}this.gidMap=f,this.tileset=l},setRenderOrder:function(r){var f=["right-down","left-down","right-up","left-up"];return typeof r=="string"&&(r=f.indexOf(r)),r>=0&&r<4&&(this._renderOrder=r),this},calculateFacesAt:function(r,f){return a.CalculateFacesAt(r,f,this.layer),this},calculateFacesWithin:function(r,f,l,h){return a.CalculateFacesWithin(r,f,l,h,this.layer),this},createFromTiles:function(r,f,l,h,c){return a.CreateFromTiles(r,f,l,h,c,this.layer)},cull:function(r){return this.cullCallback(this.layer,r,this.culledTiles,this._renderOrder)},copy:function(r,f,l,h,c,v,d){return a.Copy(r,f,l,h,c,v,d,this.layer),this},fill:function(r,f,l,h,c,v){return a.Fill(r,f,l,h,c,v,this.layer),this},filterTiles:function(r,f,l,h,c,v,d){return a.FilterTiles(r,f,l,h,c,v,d,this.layer)},findByIndex:function(r,f,l){return a.FindByIndex(r,f,l,this.layer)},findTile:function(r,f,l,h,c,v,d){return a.FindTile(r,f,l,h,c,v,d,this.layer)},forEachTile:function(r,f,l,h,c,v,d){return a.ForEachTile(r,f,l,h,c,v,d,this.layer),this},getTileAt:function(r,f,l){return a.GetTileAt(r,f,l,this.layer)},getTileAtWorldXY:function(r,f,l,h){return a.GetTileAtWorldXY(r,f,l,h,this.layer)},getTilesWithin:function(r,f,l,h,c){return a.GetTilesWithin(r,f,l,h,c,this.layer)},getTilesWithinShape:function(r,f,l){return a.GetTilesWithinShape(r,f,l,this.layer)},getTilesWithinWorldXY:function(r,f,l,h,c,v){return a.GetTilesWithinWorldXY(r,f,l,h,c,v,this.layer)},hasTileAt:function(r,f){return a.HasTileAt(r,f,this.layer)},hasTileAtWorldXY:function(r,f,l){return a.HasTileAtWorldXY(r,f,l,this.layer)},putTileAt:function(r,f,l,h){return a.PutTileAt(r,f,l,h,this.layer)},putTileAtWorldXY:function(r,f,l,h,c){return a.PutTileAtWorldXY(r,f,l,h,c,this.layer)},putTilesAt:function(r,f,l,h){return a.PutTilesAt(r,f,l,h,this.layer),this},randomize:function(r,f,l,h,c){return a.Randomize(r,f,l,h,c,this.layer),this},removeTileAt:function(r,f,l,h){return a.RemoveTileAt(r,f,l,h,this.layer)},removeTileAtWorldXY:function(r,f,l,h,c){return a.RemoveTileAtWorldXY(r,f,l,h,c,this.layer)},renderDebug:function(r,f){return a.RenderDebug(r,f,this.layer),this},replaceByIndex:function(r,f,l,h,c,v){return a.ReplaceByIndex(r,f,l,h,c,v,this.layer),this},setSkipCull:function(r){return r===void 0&&(r=!0),this.skipCull=r,this},setCullPadding:function(r,f){return r===void 0&&(r=1),f===void 0&&(f=1),this.cullPaddingX=r,this.cullPaddingY=f,this},setCollision:function(r,f,l,h){return a.SetCollision(r,f,l,this.layer,h),this},setCollisionBetween:function(r,f,l,h){return a.SetCollisionBetween(r,f,l,h,this.layer),this},setCollisionByProperty:function(r,f,l){return a.SetCollisionByProperty(r,f,l,this.layer),this},setCollisionByExclusion:function(r,f,l){return a.SetCollisionByExclusion(r,f,l,this.layer),this},setCollisionFromCollisionGroup:function(r,f){return a.SetCollisionFromCollisionGroup(r,f,this.layer),this},setTileIndexCallback:function(r,f,l){return a.SetTileIndexCallback(r,f,l,this.layer),this},setTileLocationCallback:function(r,f,l,h,c,v){return a.SetTileLocationCallback(r,f,l,h,c,v,this.layer),this},shuffle:function(r,f,l,h){return a.Shuffle(r,f,l,h,this.layer),this},swapByIndex:function(r,f,l,h,c,v){return a.SwapByIndex(r,f,l,h,c,v,this.layer),this},tileToWorldX:function(r,f){return this.tilemap.tileToWorldX(r,f,this)},tileToWorldY:function(r,f){return this.tilemap.tileToWorldY(r,f,this)},tileToWorldXY:function(r,f,l,h){return this.tilemap.tileToWorldXY(r,f,l,h,this)},weightedRandomize:function(r,f,l,h,c){return a.WeightedRandomize(f,l,h,c,r,this.layer),this},worldToTileX:function(r,f,l){return this.tilemap.worldToTileX(r,f,l,this)},worldToTileY:function(r,f,l){return this.tilemap.worldToTileY(r,f,l,this)},worldToTileXY:function(r,f,l,h,c){return this.tilemap.worldToTileXY(r,f,l,h,c,this)},destroy:function(r){r===void 0&&(r=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),r&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],s.prototype.destroy.call(this))}});o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(2),s=new e({initialize:function(n){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(n)},reset:function(a){return this.delay=u(a,"delay",0),this.repeat=u(a,"repeat",0),this.loop=u(a,"loop",!1),this.callback=u(a,"callback",void 0),this.callbackScope=u(a,"callbackScope",this.callback),this.args=u(a,"args",[]),this.timeScale=u(a,"timeScale",1),this.startAt=u(a,"startAt",0),this.paused=u(a,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var a=this.delay+this.delay*this.repeat,n=this.elapsed+this.delay*(this.repeat-this.repeatCount);return n/a}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(a){a===void 0&&(a=!1),this.elapsed=this.delay,this.hasDispatched=!a,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1465),u=function(s){var a,n=[];if(s.hasOwnProperty("props"))for(a in s.props)a.substr(0,1)!=="_"&&n.push({key:a,value:s.props[a]});else for(a in s)e.indexOf(a)===-1&&a.substr(0,1)!=="_"&&n.push({key:a,value:s[a]});return n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=function(s){var a=e(s,"tweens",null);return a===null?[]:(typeof a=="function"&&(a=a.call()),Array.isArray(a)||(a=[a]),a)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(265),u=t(13),s=t(99),a=t(80),n=t(162),i=t(6),r=t(264),f=t(266),l=t(268),h=function(c,v,d){d===void 0&&(d=e);var m=i(v,"from",0),y=i(v,"to",1),T=[{value:m}],C=n(v,"delay",d.delay),R=n(v,"duration",d.duration),A=i(v,"easeParams",d.easeParams),P=a(i(v,"ease",d.ease),A),O=n(v,"hold",d.hold),b=n(v,"repeat",d.repeat),D=n(v,"repeatDelay",d.repeatDelay),N=s(v,"yoyo",d.yoyo),B=[],U=r("value",y),G=l(T[0],0,"value",U.getEnd,U.getStart,U.getActive,P,C,R,N,O,b,D,!1,!1);G.start=m,G.current=m,G.to=y,B.push(G);var W=new f(c,B,T);W.offset=u(v,"offset",null),W.completeDelay=u(v,"completeDelay",0),W.loop=Math.round(u(v,"loop",0)),W.loopDelay=Math.round(u(v,"loopDelay",0)),W.paused=s(v,"paused",!1),W.useFrames=s(v,"useFrames",!1);for(var $=i(v,"callbackScope",W),q=[W,null],_=f.TYPES,V=0;V<_.length;V++){var w=_[V],z=i(v,w,!1);if(z){var Y=i(v,w+"Scope",$),H=i(v,w+"Params",[]);W.setCallback(w,z,q.concat(H),Y)}}return W};o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(80),u=t(6),s=t(14),a=function(n,i){i===void 0&&(i={});var r,f=u(i,"start",0),l=u(i,"ease",null),h=u(i,"grid",null),c=u(i,"from",0),v=c==="first",d=c==="center",m=c==="last",y=typeof c=="number",T=Array.isArray(n),C=parseFloat(T?n[0]:n),R=T?parseFloat(n[1]):0,A=Math.max(C,R);if(T&&(f+=C),h){var P=h[0],O=h[1],b=0,D=0,N=0,B=0,U=[];m?(b=P-1,D=O-1):y?(b=c%P,D=Math.floor(c/P)):d&&(b=(P-1)/2,D=(O-1)/2);for(var G=s.MIN_SAFE_INTEGER,W=0;W<O;W++){U[W]=[];for(var $=0;$<P;$++){N=b-$,B=D-W;var q=Math.sqrt(N*N+B*B);q>G&&(G=q),U[W][$]=q}}}var _=l?e(l):null;return h?r=function(V,w,z,Y){var H=0,j=Y%P,Z=Math.floor(Y/P);j>=0&&j<P&&Z>=0&&Z<O&&(H=U[Z][j]);var k;if(T){var nt=R-C;_?k=H/G*nt*_(H/G):k=H/G*nt}else _?k=H*C*_(H/G):k=H*C;return k+f}:r=function(V,w,z,Y,H){H--;var j;v?j=Y:d?j=Math.abs(H/2-Y):m?j=H-Y:y&&(j=Math.abs(c-Y));var Z;if(T){var k;d?k=(R-C)/H*(j*2):k=(R-C)/H*j,_?Z=k*_(j/H):Z=k}else _?Z=H*A*_(j/H):Z=j*C;return Z+f},r};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=t(265),s=t(13),a=t(99),n=t(80),i=t(162),r=t(263),f=t(584),l=t(6),h=t(588),c=t(163),v=function(d,m){var y=new h(d);y.completeDelay=s(m,"completeDelay",0),y.loop=Math.round(s(m,"loop",0)),y.loopDelay=Math.round(s(m,"loopDelay",0)),y.paused=a(m,"paused",!1),y.useFrames=a(m,"useFrames",!1);var T=l(m,"callbackScope",y),C=[y],R=l(m,"onStart",!1);if(R){var A=l(m,"onStartScope",T),P=l(m,"onStartParams",[]);y.setCallback("onStart",R,C.concat(P),A)}var O=l(m,"onUpdate",!1);if(O){var b=l(m,"onUpdateScope",T),D=l(m,"onUpdateParams",[]);y.setCallback("onUpdate",O,C.concat(D),b)}var N=l(m,"onLoop",!1);if(N){var B=l(m,"onLoopScope",T),U=l(m,"onLoopParams",[]);y.setCallback("onLoop",N,C.concat(U),B)}var G=l(m,"onYoyo",!1);if(G){var W=l(m,"onYoyoScope",T),$=l(m,"onYoyoParams",[]);y.setCallback("onYoyo",G,C.concat(null,$),W)}var q=l(m,"onComplete",!1);if(q){var _=l(m,"onCompleteScope",T),V=l(m,"onCompleteParams",[]);y.setCallback("onComplete",q,C.concat(V),_)}var w=f(m);if(w.length===0)return y.paused=!0,y;var z=e(u);z.targets=r(m);var Y=s(m,"totalDuration",0);Y>0?z.duration=Math.floor(Y/w.length):z.duration=i(m,"duration",z.duration),z.delay=i(m,"delay",z.delay),z.easeParams=l(m,"easeParams",z.easeParams),z.ease=n(l(m,"ease",z.ease),z.easeParams),z.hold=i(m,"hold",z.hold),z.repeat=i(m,"repeat",z.repeat),z.repeatDelay=i(m,"repeatDelay",z.repeatDelay),z.yoyo=a(m,"yoyo",z.yoyo),z.flipX=a(m,"flipX",z.flipX),z.flipY=a(m,"flipY",z.flipY);for(var H=0;H<w.length;H++)y.queue(c(y,w[H],z));return y};o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),s=t(267),a=t(163),n=t(100),i=new e({Extends:u,initialize:function(f){u.call(this),this.manager=f,this.isTimeline=!0,this.data=[],this.totalData=0,this.useFrames=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=n.PENDING_ADD,this._pausedState=n.PENDING_ADD,this.paused=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.callbacks={onComplete:null,onLoop:null,onStart:null,onUpdate:null,onYoyo:null},this.callbackScope},dispatchTimelineEvent:function(r,f){this.emit(r,this),f&&f.func.apply(f.scope,f.params)},setTimeScale:function(r){return this.timeScale=r,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return this.state===n.ACTIVE},add:function(r){return this.queue(a(this,r))},queue:function(r){return this.isPlaying()||(r.parent=this,r.parentIsTimeline=!0,this.data.push(r),this.totalData=this.data.length),this},hasOffset:function(r){return r.offset!==null},isOffsetAbsolute:function(r){return typeof r=="number"},isOffsetRelative:function(r){var f=typeof r;if(f==="string"){var l=r[0];if(l==="-"||l==="+")return!0}return!1},getRelativeOffset:function(r,f){var l=r[0],h=parseFloat(r.substr(2)),c=f;switch(l){case"+":c+=h;break;case"-":c-=h;break}return Math.max(0,c)},calcDuration:function(){for(var r=0,f=0,l=0,h=0;h<this.totalData;h++){var c=this.data[h];c.init(),this.hasOffset(c)?this.isOffsetAbsolute(c.offset)?(c.calculatedOffset=c.offset,c.offset===0&&(l=0)):this.isOffsetRelative(c.offset)&&(c.calculatedOffset=this.getRelativeOffset(c.offset,r)):c.calculatedOffset=l,r=c.totalDuration+c.calculatedOffset,f+=c.totalDuration,l+=c.totalDuration}this.duration=f,this.loopCounter=this.loop===-1?999999999999:this.loop,this.loopCounter>0?this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter:this.totalDuration=this.duration+this.completeDelay},init:function(){return this.calcDuration(),this.progress=0,this.totalProgress=0,this.paused?(this.state=n.PAUSED,!1):!0},resetTweens:function(r){for(var f=0;f<this.totalData;f++){var l=this.data[f];l.play(r)}},setCallback:function(r,f,l,h){return i.TYPES.indexOf(r)!==-1&&(this.callbacks[r]={func:f,scope:h,params:l}),this},makeActive:function(r){return this.manager.makeActive(r)},play:function(){if(this.state!==n.ACTIVE){if(this.paused){this.paused=!1,this.manager.makeActive(this);return}else this.resetTweens(!1),this.state=n.ACTIVE;this.dispatchTimelineEvent(s.TIMELINE_START,this.callbacks.onStart)}},nextState:function(){this.loopCounter>0?(this.elapsed=0,this.progress=0,this.loopCounter--,this.resetTweens(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.state=n.LOOP_DELAY):(this.state=n.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop))):this.completeDelay>0?(this.state=n.COMPLETE_DELAY,this.countdown=this.completeDelay):(this.state=n.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete))},update:function(r,f){if(this.state!==n.PAUSED){switch(this.useFrames&&(f=1*this.manager.timeScale),f*=this.timeScale,this.elapsed+=f,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=f,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),this.state){case n.ACTIVE:for(var l=this.totalData,h=0;h<this.totalData;h++){var c=this.data[h];c.update(r,f)&&l--}this.dispatchTimelineEvent(s.TIMELINE_UPDATE,this.callbacks.onUpdate),l===0&&this.nextState();break;case n.LOOP_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=n.ACTIVE,this.dispatchTimelineEvent(s.TIMELINE_LOOP,this.callbacks.onLoop));break;case n.COMPLETE_DELAY:this.countdown-=f,this.countdown<=0&&(this.state=n.PENDING_REMOVE,this.dispatchTimelineEvent(s.TIMELINE_COMPLETE,this.callbacks.onComplete));break}return this.state===n.PENDING_REMOVE}},stop:function(){this.state=n.PENDING_REMOVE},pause:function(){if(this.state!==n.PAUSED)return this.paused=!0,this._pausedState=this.state,this.state=n.PAUSED,this.emit(s.TIMELINE_PAUSE,this),this},resume:function(){return this.state===n.PAUSED&&(this.paused=!1,this.state=this._pausedState,this.emit(s.TIMELINE_RESUME,this)),this},hasTarget:function(r){for(var f=0;f<this.data.length;f++)if(this.data[f].hasTarget(r))return!0;return!1},destroy:function(){for(var r=0;r<this.data.length;r++)this.data[r].stop()}});i.TYPES=["onStart","onUpdate","onLoop","onComplete","onYoyo"],o.exports=i},function(o,x,t){/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),s=t(32),a=t(2),n=t(64),i={parseBody:function(r,f,l,h){h===void 0&&(h={});for(var c=a(l,"fixtures",[]),v=[],d=0;d<c.length;d++)for(var m=this.parseFixture(c[d]),y=0;y<m.length;y++)v.push(m[y]);var T=s.clone(l,!0);s.extend(T,h,!0),delete T.fixtures,delete T.type;var C=u.create(T);return u.setParts(C,v),u.setPosition(C,{x:r,y:f}),C},parseFixture:function(r){var f=s.extend({},!1,r);delete f.circle,delete f.vertices;var l;if(r.circle){var h=a(r.circle,"x"),c=a(r.circle,"y"),v=a(r.circle,"radius");l=[e.circle(h,c,v,f)]}else r.vertices&&(l=this.parseVertices(r.vertices,f));return l},parseVertices:function(r,f){f===void 0&&(f={});for(var l=[],h=0;h<r.length;h++)n.clockwiseSort(r[h]),l.push(u.create(s.extend({position:n.centre(r[h]),vertices:r[h]},f)));return e.flagCoincidentParts(l)}};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),s={parseBody:function(a,n,i,r){r===void 0&&(r={});var f,l=i.vertices;if(l.length===1)r.vertices=l[0],f=u.create(r),e.flagCoincidentParts(f.parts);else{for(var h=[],c=0;c<l.length;c++){var v=u.create({vertices:l[c]});h.push(v)}e.flagCoincidentParts(h),r.parts=h,f=u.create(r)}return f.label=i.label,u.setPosition(f,{x:a,y:n}),f}};o.exports=s},function(o,x,t){var e={};o.exports=e;var u=t(118),s=t(128),a=t(32),n=t(41),i=t(86);(function(){e.stack=function(r,f,l,h,c,v,d){for(var m=u.create({label:"Stack"}),y=r,T=f,C,R=0,A=0;A<h;A++){for(var P=0,O=0;O<l;O++){var b=d(y,T,O,A,C,R);if(b){var D=b.bounds.max.y-b.bounds.min.y,N=b.bounds.max.x-b.bounds.min.x;D>P&&(P=D),n.translate(b,{x:N*.5,y:D*.5}),y=b.bounds.max.x+c,u.addBody(m,b),C=b,R+=1}else y+=c}T+=P+v,y=r}return m},e.chain=function(r,f,l,h,c,v){for(var d=r.bodies,m=1;m<d.length;m++){var y=d[m-1],T=d[m],C=y.bounds.max.y-y.bounds.min.y,R=y.bounds.max.x-y.bounds.min.x,A=T.bounds.max.y-T.bounds.min.y,P=T.bounds.max.x-T.bounds.min.x,O={bodyA:y,pointA:{x:R*f,y:C*l},bodyB:T,pointB:{x:P*h,y:A*c}},b=a.extend(O,v);u.addConstraint(r,s.create(b))}return r.label+=" Chain",r},e.mesh=function(r,f,l,h,c){var v=r.bodies,d,m,y,T,C;for(d=0;d<l;d++){for(m=1;m<f;m++)y=v[m-1+d*f],T=v[m+d*f],u.addConstraint(r,s.create(a.extend({bodyA:y,bodyB:T},c)));if(d>0)for(m=0;m<f;m++)y=v[m+(d-1)*f],T=v[m+d*f],u.addConstraint(r,s.create(a.extend({bodyA:y,bodyB:T},c))),h&&m>0&&(C=v[m-1+(d-1)*f],u.addConstraint(r,s.create(a.extend({bodyA:C,bodyB:T},c)))),h&&m<f-1&&(C=v[m+1+(d-1)*f],u.addConstraint(r,s.create(a.extend({bodyA:C,bodyB:T},c))))}return r.label+=" Mesh",r},e.pyramid=function(r,f,l,h,c,v,d){return e.stack(r,f,l,h,c,v,function(m,y,T,C,R,A){var P=Math.min(h,Math.ceil(l/2)),O=R?R.bounds.max.x-R.bounds.min.x:0;if(!(C>P)){C=P-C;var b=C,D=l-1-C;if(!(T<b||T>D)){A===1&&n.translate(R,{x:(T+(l%2===1?1:-1))*O,y:0});var N=R?T*O:0;return d(r+N+T*c,y,T,C,R,A)}}})},e.newtonsCradle=function(r,f,l,h,c){for(var v=u.create({label:"Newtons Cradle"}),d=0;d<l;d++){var m=1.9,y=i.circle(r+d*(h*m),f+c,h,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),T=s.create({pointA:{x:r+d*(h*m),y:f},bodyB:y});u.addBody(v,y),u.addConstraint(v,T)}return v},e.car=function(r,f,l,h,c){var v=n.nextGroup(!0),d=20,m=-l*.5+d,y=l*.5-d,T=0,C=u.create({label:"Car"}),R=i.rectangle(r,f,l,h,{collisionFilter:{group:v},chamfer:{radius:h*.5},density:2e-4}),A=i.circle(r+m,f+T,c,{collisionFilter:{group:v},friction:.8}),P=i.circle(r+y,f+T,c,{collisionFilter:{group:v},friction:.8}),O=s.create({bodyB:R,pointB:{x:m,y:T},bodyA:A,stiffness:1,length:0}),b=s.create({bodyB:R,pointB:{x:y,y:T},bodyA:P,stiffness:1,length:0});return u.addBody(C,R),u.addBody(C,A),u.addBody(C,P),u.addConstraint(C,O),u.addConstraint(C,b),C},e.softBody=function(r,f,l,h,c,v,d,m,y,T){y=a.extend({inertia:1/0},y),T=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},T);var C=e.stack(r,f,l,h,c,v,function(R,A){return i.circle(R,A,m,y)});return e.mesh(C,l,h,d,T),C.label="Soft Body",C}})()},function(o,x,t){var e={};o.exports=e,t(84);var u=t(32);(function(){e.pathToVertices=function(s,a){typeof window<"u"&&!("SVGPathSeg"in window)&&u.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,i,r,f,l,h,c,v,d,m,y=[],T,C,R=0,A=0,P=0;a=a||15;var O=function(D,N,B){var U=B%2===1&&B>1;if(!d||D!=d.x||N!=d.y){d&&U?(T=d.x,C=d.y):(T=0,C=0);var G={x:T+D,y:C+N};(U||!d)&&(d=G),y.push(G),A=T+D,P=C+N}},b=function(D){var N=D.pathSegTypeAsLetter.toUpperCase();if(N!=="Z"){switch(N){case"M":case"L":case"T":case"C":case"S":case"Q":A=D.x,P=D.y;break;case"H":A=D.x;break;case"V":P=D.y;break}O(A,P,D.pathSegType)}};for(e._svgPathToAbsolute(s),r=s.getTotalLength(),h=[],n=0;n<s.pathSegList.numberOfItems;n+=1)h.push(s.pathSegList.getItem(n));for(c=h.concat();R<r;){if(m=s.getPathSegAtLength(R),l=h[m],l!=v){for(;c.length&&c[0]!=l;)b(c.shift());v=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":f=s.getPointAtLength(R),O(f.x,f.y,0);break}R+=a}for(n=0,i=c.length;n<i;++n)b(c[n]);return y},e._svgPathToAbsolute=function(s){for(var a,n,i,r,f,l,h=s.pathSegList,c=0,v=0,d=h.numberOfItems,m=0;m<d;++m){var y=h.getItem(m),T=y.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in y&&(c=y.x),"y"in y&&(v=y.y);else switch("x1"in y&&(i=c+y.x1),"x2"in y&&(f=c+y.x2),"y1"in y&&(r=v+y.y1),"y2"in y&&(l=v+y.y2),"x"in y&&(c+=y.x),"y"in y&&(v+=y.y),T){case"m":h.replaceItem(s.createSVGPathSegMovetoAbs(c,v),m);break;case"l":h.replaceItem(s.createSVGPathSegLinetoAbs(c,v),m);break;case"h":h.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(c),m);break;case"v":h.replaceItem(s.createSVGPathSegLinetoVerticalAbs(v),m);break;case"c":h.replaceItem(s.createSVGPathSegCurvetoCubicAbs(c,v,i,r,f,l),m);break;case"s":h.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(c,v,f,l),m);break;case"q":h.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(c,v,i,r),m);break;case"t":h.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(c,v),m);break;case"a":h.replaceItem(s.createSVGPathSegArcAbs(c,v,y.r1,y.r2,y.angle,y.largeArcFlag,y.sweepFlag),m);break;case"z":case"Z":c=a,v=n;break}(T=="M"||T=="m")&&(a=c,n=v)}}})()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),s=t(0),a=t(249),n=t(9),i=t(2),r=t(126),f=t(64),l=new s({Extends:n,Mixins:[a.Bounce,a.Collision,a.Friction,a.Gravity,a.Mass,a.Sensor,a.Sleep,a.Static],initialize:function(c,v,d){n.call(this),this.tile=v,this.world=c,v.physics.matterBody&&v.physics.matterBody.destroy(),v.physics.matterBody=this;var m=i(d,"body",null),y=i(d,"addToWorld",!0);if(m)this.setBody(m,y);else{var T=v.getCollisionGroup(),C=i(T,"objects",[]);C.length>0?this.setFromTileCollision(d):this.setFromTileRectangle(d)}},setFromTileRectangle:function(h){h===void 0&&(h={}),r(h,"isStatic")||(h.isStatic=!0),r(h,"addToWorld")||(h.addToWorld=!0);var c=this.tile.getBounds(),v=c.x+c.width/2,d=c.y+c.height/2,m=e.rectangle(v,d,c.width,c.height,h);return this.setBody(m,h.addToWorld),this},setFromTileCollision:function(h){h===void 0&&(h={}),r(h,"isStatic")||(h.isStatic=!0),r(h,"addToWorld")||(h.addToWorld=!0);for(var c=this.tile.tilemapLayer.scaleX,v=this.tile.tilemapLayer.scaleY,d=this.tile.getLeft(),m=this.tile.getTop(),y=this.tile.getCollisionGroup(),T=i(y,"objects",[]),C=[],R=0;R<T.length;R++){var A=T[R],P=d+A.x*c,O=m+A.y*v,b=A.width*c,D=A.height*v,N=null;if(A.rectangle)N=e.rectangle(P+b/2,O+D/2,b,D,h);else if(A.ellipse)N=e.circle(P+b/2,O+D/2,b/2,h);else if(A.polygon||A.polyline){var B=A.polygon?A.polygon:A.polyline,U=B.map(function($){return{x:$.x*c,y:$.y*v}}),G=f.create(U),W=f.centre(G);P+=W.x,O+=W.y,N=e.fromVertices(P,O,G,h)}N&&C.push(N)}return C.length===1?this.setBody(C[0],h.addToWorld):C.length>1&&(h.parts=C,this.setBody(u.create(h),h.addToWorld)),this},setBody:function(h,c){return c===void 0&&(c=!0),this.body&&this.removeBody(),this.body=h,this.body.gameObject=this,c&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1399);e.Body=t(41),e.Composite=t(118),e.World=t(596),e.Detector=t(273),e.Grid=t(597),e.Pairs=t(598),e.Pair=t(250),e.Query=t(1400),e.Resolver=t(599),e.SAT=t(274),e.Constraint=t(128),e.Common=t(32),e.Engine=t(1401),e.Events=t(166),e.Sleeping=t(165),e.Plugin=t(595),e.Bodies=t(86),e.Composites=t(591),e.Axes=t(271),e.Bounds=t(84),e.Svg=t(592),e.Vector=t(83),e.Vertices=t(64),e.World.add=e.Composite.add,e.World.remove=e.Composite.remove,e.World.addComposite=e.Composite.addComposite,e.World.addBody=e.Composite.addBody,e.World.addConstraint=e.Composite.addConstraint,e.World.clear=e.Composite.clear,o.exports=e},function(o,x,t){var e={};o.exports=e;var u=t(32);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||u.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var a=e._registry[s.name],n=e.versionParse(s.version).number,i=e.versionParse(a.version).number;n>i?(u.warn("Plugin.register:",e.toString(a),"was upgraded to",e.toString(s)),e._registry[s.name]=s):n<i?u.warn("Plugin.register:",e.toString(a),"can not be downgraded to",e.toString(s)):s!==a&&u.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,a){return s.used.indexOf(a)>-1},e.isFor=function(s,a){var n=s.for&&e.dependencyParse(s.for);return!s.for||a.name===n.name&&e.versionSatisfies(a.version,n.range)},e.use=function(s,a){if(s.uses=(s.uses||[]).concat(a||[]),s.uses.length===0){u.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var n=e.dependencies(s),i=u.topologicalSort(n),r=[],f=0;f<i.length;f+=1)if(i[f]!==s.name){var l=e.resolve(i[f]);if(!l){r.push("❌ "+i[f]);continue}e.isUsed(s,l.name)||(e.isFor(l,s)||(u.warn("Plugin.use:",e.toString(l),"is for",l.for,"but installed on",e.toString(s)+"."),l._warned=!0),l.install?l.install(s):(u.warn("Plugin.use:",e.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(r.push("🔶 "+e.toString(l)),delete l._warned):r.push("✅ "+e.toString(l)),s.used.push(l.name))}r.length>0&&!l.silent&&u.info(r.join("  "))},e.dependencies=function(s,a){var n=e.dependencyParse(s),i=n.name;if(a=a||{},!(i in a)){s=e.resolve(s)||s,a[i]=u.map(s.uses||[],function(f){e.isPlugin(f)&&e.register(f);var l=e.dependencyParse(f),h=e.resolve(f);return h&&!e.versionSatisfies(h.version,l.range)?(u.warn("Plugin.dependencies:",e.toString(h),"does not satisfy",e.toString(l),"used by",e.toString(n)+"."),h._warned=!0,s._warned=!0):h||(u.warn("Plugin.dependencies:",e.toString(f),"used by",e.toString(n),"could not be resolved."),s._warned=!0),l.name});for(var r=0;r<a[i].length;r+=1)e.dependencies(a[i][r],a);return a}},e.dependencyParse=function(s){if(u.isString(s)){var a=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return a.test(s)||u.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var a=/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/;a.test(s)||u.warn("Plugin.versionParse:",s,"is not a valid version or range.");var n=s.split("-");s=n[0];var i=isNaN(Number(s[0])),r=i?s.substr(1):s,f=u.map(r.split("."),function(l){return Number(l)});return{isRange:i,version:r,range:s,operator:i?s[0]:"",parts:f,prerelease:n[1],number:f[0]*1e8+f[1]*1e4+f[2]}},e.versionSatisfies=function(s,a){a=a||"*";var n=e.versionParse(a),i=n.parts,r=e.versionParse(s),f=r.parts;if(n.isRange){if(n.operator==="*"||s==="*")return!0;if(n.operator==="~")return f[0]===i[0]&&f[1]===i[1]&&f[2]>=i[2];if(n.operator==="^")return i[0]>0?f[0]===i[0]&&r.number>=n.number:i[1]>0?f[1]===i[1]&&f[2]>=i[2]:f[2]===i[2]}return s===a||s==="*"}})()},function(o,x,t){var e={};o.exports=e;var u=t(118);t(128);var s=t(32);(function(){e.create=function(a){var n=u.create(),i={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return s.extend(n,i,a)}})()},function(o,x,t){var e={};o.exports=e;var u=t(250),s=t(273),a=t(32);(function(){e.create=function(n){var i={controller:e,detector:s.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(i,n)},e.update=function(n,i,r,f){var l,h,c,v=r.world,d=n.buckets,m,y,T=!1,C=r.metrics;for(C.broadphaseTests=0,l=0;l<i.length;l++){var R=i[l];if(!(R.isSleeping&&!f)&&!(R.bounds.max.x<v.bounds.min.x||R.bounds.min.x>v.bounds.max.x||R.bounds.max.y<v.bounds.min.y||R.bounds.min.y>v.bounds.max.y)){var A=e._getRegion(n,R);if(!R.region||A.id!==R.region.id||f){C.broadphaseTests+=1,(!R.region||f)&&(R.region=A);var P=e._regionUnion(A,R.region);for(h=P.startCol;h<=P.endCol;h++)for(c=P.startRow;c<=P.endRow;c++){y=e._getBucketId(h,c),m=d[y];var O=h>=A.startCol&&h<=A.endCol&&c>=A.startRow&&c<=A.endRow,b=h>=R.region.startCol&&h<=R.region.endCol&&c>=R.region.startRow&&c<=R.region.endRow;!O&&b&&b&&m&&e._bucketRemoveBody(n,m,R),(R.region===A||O&&!b||f)&&(m||(m=e._createBucket(d,y)),e._bucketAddBody(n,m,R))}R.region=A,T=!0}}}T&&(n.pairsList=e._createActivePairsList(n))},e.clear=function(n){n.buckets={},n.pairs={},n.pairsList=[]},e._regionUnion=function(n,i){var r=Math.min(n.startCol,i.startCol),f=Math.max(n.endCol,i.endCol),l=Math.min(n.startRow,i.startRow),h=Math.max(n.endRow,i.endRow);return e._createRegion(r,f,l,h)},e._getRegion=function(n,i){var r=i.bounds,f=Math.floor(r.min.x/n.bucketWidth),l=Math.floor(r.max.x/n.bucketWidth),h=Math.floor(r.min.y/n.bucketHeight),c=Math.floor(r.max.y/n.bucketHeight);return e._createRegion(f,l,h,c)},e._createRegion=function(n,i,r,f){return{id:n+","+i+","+r+","+f,startCol:n,endCol:i,startRow:r,endRow:f}},e._getBucketId=function(n,i){return"C"+n+"R"+i},e._createBucket=function(n,i){var r=n[i]=[];return r},e._bucketAddBody=function(n,i,r){for(var f=0;f<i.length;f++){var l=i[f];if(!(r.id===l.id||r.isStatic&&l.isStatic)){var h=u.id(r,l),c=n.pairs[h];c?c[2]+=1:n.pairs[h]=[r,l,1]}}i.push(r)},e._bucketRemoveBody=function(n,i,r){i.splice(i.indexOf(r),1);for(var f=0;f<i.length;f++){var l=i[f],h=u.id(r,l),c=n.pairs[h];c&&(c[2]-=1)}},e._createActivePairsList=function(n){var i,r,f=[];i=a.keys(n.pairs);for(var l=0;l<i.length;l++)r=n.pairs[i[l]],r[2]>0?f.push(r):delete n.pairs[i[l]];return f}})()},function(o,x,t){var e={};o.exports=e;var u=t(250),s=t(32);(function(){e._pairMaxIdleLife=1e3,e.create=function(a){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},a)},e.update=function(a,n,i){var r=a.list,f=a.table,l=a.collisionStart,h=a.collisionEnd,c=a.collisionActive,v,d,m,y;for(l.length=0,h.length=0,c.length=0,y=0;y<r.length;y++)r[y].confirmedActive=!1;for(y=0;y<n.length;y++)v=n[y],v.collided&&(d=u.id(v.bodyA,v.bodyB),m=f[d],m?(m.isActive?c.push(m):l.push(m),u.update(m,v,i),m.confirmedActive=!0):(m=u.create(v,i),f[d]=m,l.push(m),r.push(m)));for(y=0;y<r.length;y++)m=r[y],m.isActive&&!m.confirmedActive&&(u.setActive(m,!1,i),h.push(m))},e.removeOld=function(a,n){var i=a.list,r=a.table,f=[],l,h,c,v;for(v=0;v<i.length;v++){if(l=i[v],h=l.collision,h.bodyA.isSleeping||h.bodyB.isSleeping){l.timeUpdated=n;continue}n-l.timeUpdated>e._pairMaxIdleLife&&f.push(v)}for(v=0;v<f.length;v++)c=f[v]-v,l=i[c],delete r[l.id],i.splice(c,1)},e.clear=function(a){return a.table={},a.list.length=0,a.collisionStart.length=0,a.collisionActive.length=0,a.collisionEnd.length=0,a}})()},function(o,x,t){var e={};o.exports=e;var u=t(64),s=t(83),a=t(32),n=t(84);(function(){e._restingThresh=4,e._restingThreshTangent=6,e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e.preSolvePosition=function(i){var r,f,l;for(r=0;r<i.length;r++)f=i[r],f.isActive&&(l=f.activeContacts.length,f.collision.parentA.totalContacts+=l,f.collision.parentB.totalContacts+=l)},e.solvePosition=function(i,r,f){var l,h,c,v,d,m,y,T,C,R,A,P,O,b,D,N,B=f*e._positionDampen;for(l=0;l<r.length;l++){var U=r[l];U.previousPositionImpulse.x=U.positionImpulse.x,U.previousPositionImpulse.y=U.positionImpulse.y}for(l=0;l<i.length;l++)v=i[l],!(!v.isActive||v.isSensor)&&(d=v.collision,m=d.parentA,y=d.parentB,T=d.normal,A=m.previousPositionImpulse,P=y.previousPositionImpulse,R=d.penetration,b=P.x-A.x+R.x,D=P.y-A.y+R.y,h=T.x,c=T.y,C=h*b+c*D,v.separation=C,N=(C-v.slop)*B,(m.isStatic||y.isStatic)&&(N*=2),m.isStatic||m.isSleeping||(O=N/m.totalContacts,m.positionImpulse.x+=h*O,m.positionImpulse.y+=c*O),y.isStatic||y.isSleeping||(O=N/y.totalContacts,y.positionImpulse.x-=h*O,y.positionImpulse.y-=c*O))},e.postSolvePosition=function(i){for(var r=0;r<i.length;r++){var f=i[r];if(f.totalContacts=0,f.positionImpulse.x!==0||f.positionImpulse.y!==0){for(var l=0;l<f.parts.length;l++){var h=f.parts[l];u.translate(h.vertices,f.positionImpulse),n.update(h.bounds,h.vertices,f.velocity),h.position.x+=f.positionImpulse.x,h.position.y+=f.positionImpulse.y}f.positionPrev.x+=f.positionImpulse.x,f.positionPrev.y+=f.positionImpulse.y,s.dot(f.positionImpulse,f.velocity)<0?(f.positionImpulse.x=0,f.positionImpulse.y=0):(f.positionImpulse.x*=e._positionWarming,f.positionImpulse.y*=e._positionWarming)}}},e.preSolveVelocity=function(i){var r,f,l,h,c,v,d,m,y,T,C,R,A,P,O=s._temp[0],b=s._temp[1];for(r=0;r<i.length;r++)if(l=i[r],!(!l.isActive||l.isSensor))for(h=l.activeContacts,c=l.collision,v=c.parentA,d=c.parentB,m=c.normal,y=c.tangent,f=0;f<h.length;f++)T=h[f],C=T.vertex,R=T.normalImpulse,A=T.tangentImpulse,(R!==0||A!==0)&&(O.x=m.x*R+y.x*A,O.y=m.y*R+y.y*A,v.isStatic||v.isSleeping||(P=s.sub(C,v.position,b),v.positionPrev.x+=O.x*v.inverseMass,v.positionPrev.y+=O.y*v.inverseMass,v.anglePrev+=s.cross(P,O)*v.inverseInertia),d.isStatic||d.isSleeping||(P=s.sub(C,d.position,b),d.positionPrev.x-=O.x*d.inverseMass,d.positionPrev.y-=O.y*d.inverseMass,d.anglePrev-=s.cross(P,O)*d.inverseInertia))},e.solveVelocity=function(i,r){for(var f=r*r,l=s._temp[0],h=s._temp[1],c=s._temp[2],v=s._temp[3],d=s._temp[4],m=s._temp[5],y=0;y<i.length;y++){var T=i[y];if(!(!T.isActive||T.isSensor)){var C=T.collision,R=C.parentA,A=C.parentB,P=C.normal,O=C.tangent,b=T.activeContacts,D=1/b.length;R.velocity.x=R.position.x-R.positionPrev.x,R.velocity.y=R.position.y-R.positionPrev.y,A.velocity.x=A.position.x-A.positionPrev.x,A.velocity.y=A.position.y-A.positionPrev.y,R.angularVelocity=R.angle-R.anglePrev,A.angularVelocity=A.angle-A.anglePrev;for(var N=0;N<b.length;N++){var B=b[N],U=B.vertex,G=s.sub(U,R.position,h),W=s.sub(U,A.position,c),$=s.add(R.velocity,s.mult(s.perp(G),R.angularVelocity),v),q=s.add(A.velocity,s.mult(s.perp(W),A.angularVelocity),d),_=s.sub($,q,m),V=s.dot(P,_),w=s.dot(O,_),z=Math.abs(w),Y=a.sign(w),H=(1+T.restitution)*V,j=a.clamp(T.separation+V,0,1)*e._frictionNormalMultiplier,Z=w,k=1/0;z>T.friction*T.frictionStatic*j*f&&(k=z,Z=a.clamp(T.friction*Y*f,-k,k));var nt=s.cross(G,P),rt=s.cross(W,P),ht=D/(R.inverseMass+A.inverseMass+R.inverseInertia*nt*nt+A.inverseInertia*rt*rt);if(H*=ht,Z*=ht,V<0&&V*V>e._restingThresh*f)B.normalImpulse=0;else{var vt=B.normalImpulse;B.normalImpulse=Math.min(B.normalImpulse+H,0),H=B.normalImpulse-vt}if(w*w>e._restingThreshTangent*f)B.tangentImpulse=0;else{var ot=B.tangentImpulse;B.tangentImpulse=a.clamp(B.tangentImpulse+Z,-k,k),Z=B.tangentImpulse-ot}l.x=P.x*H+O.x*Z,l.y=P.y*H+O.y*Z,R.isStatic||R.isSleeping||(R.positionPrev.x+=l.x*R.inverseMass,R.positionPrev.y+=l.y*R.inverseMass,R.anglePrev+=s.cross(G,l)*R.inverseInertia),A.isStatic||A.isSleeping||(A.positionPrev.x-=l.x*A.inverseMass,A.positionPrev.y-=l.y*A.inverseMass,A.anglePrev-=s.cross(W,l)*A.inverseInertia)}}}}})()},function(o,x){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}o.exports=t},function(o,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(276),u=function(s,a,n,i){for(var r=s[0],f=1;f<s.length;f++){var l=s[f];e(l,r,a,n,i),r=l}return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r){return e(s,"angle",a,n,i,r)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){for(var a=0;a<e.length;a++){var n=e[a];u.call(s,n)}return e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){s===void 0&&(s=0);for(var a=s;a<e.length;a++){var n=e[a],i=!0;for(var r in u)n[r]!==u[r]&&(i=!1);if(i)return n}return null};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){s===void 0&&(s=0);for(var a=s;a<e.length;a++){var n=e[a],i=!0;for(var r in u)n[r]!==u[r]&&(i=!1);if(i)return n}return null};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(289),u=t(123),s=t(2),a=t(1),n=t(129),i=new n({sys:{queueDepthSort:a,events:{once:a}}},0,0,1,1),r=function(f,l){l===void 0&&(l={});var h=l.hasOwnProperty("width"),c=l.hasOwnProperty("height"),v=s(l,"width",-1),d=s(l,"height",-1),m=s(l,"cellWidth",1),y=s(l,"cellHeight",m),T=s(l,"position",u.TOP_LEFT),C=s(l,"x",0),R=s(l,"y",0),A=0,P=0,O=v*m,b=d*y;i.setPosition(C,R),i.setSize(m,y);for(var D=0;D<f.length;D++)if(e(f[D],i,T),h&&v===-1)i.x+=m;else if(c&&d===-1)i.y+=y;else if(c&&!h){if(P+=y,i.y+=y,P===b&&(P=0,A+=m,i.y=R,i.x+=m,A===O))break}else if(A+=m,i.x+=m,A===O&&(A=0,P+=y,i.x=C,i.y+=y,P===b))break;return f};o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=2,s={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(a,n,i,r){return a===void 0&&(a=1),n===void 0?this.alpha=a:(this._alphaTL=e(a,0,1),this._alphaTR=e(n,0,1),this._alphaBL=e(i,0,1),this._alphaBR=e(r,0,1)),this},alpha:{get:function(){return this._alpha},set:function(a){var n=e(a,0,1);this._alpha=n,this._alphaTL=n,this._alphaTR=n,this._alphaBL=n,this._alphaBR=n,n===0?this.renderFlags&=~u:this.renderFlags|=u}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(a){var n=e(a,0,1);this._alphaTL=n,n!==0&&(this.renderFlags|=u)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(a){var n=e(a,0,1);this._alphaTR=n,n!==0&&(this.renderFlags|=u)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(a){var n=e(a,0,1);this._alphaBL=n,n!==0&&(this.renderFlags|=u)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(a){var n=e(a,0,1);this._alphaBR=n,n!==0&&(this.renderFlags|=u)}}};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(e){this.scaleX=e/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(e){this.scaleY=e/this.height}},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={texture:null,frame:null,isCropped:!1,setCrop:function(e,u,s,a){if(e===void 0)this.isCropped=!1;else if(this.frame){if(typeof e=="number")this.frame.setCropUVs(this._crop,e,u,s,a,this.flipX,this.flipY);else{var n=e;this.frame.setCropUVs(this._crop,n.x,n.y,n.width,n.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(e){return this.flipX=e,this},setFlipY:function(e){return this.flipY=e,this},setFlip:function(e,u){return this.flipX=e,this.flipY=u,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(308),s=t(3),a={prepareBoundsOutput:function(n,i){if(i===void 0&&(i=!1),this.rotation!==0&&u(n,this.x,this.y,this.rotation),i&&this.parentContainer){var r=this.parentContainer.getBoundsTransformMatrix();r.transformPoint(n.x,n.y,n)}return n},getCenter:function(n){return n===void 0&&(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,n},getTopLeft:function(n,i){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,i)},getTopCenter:function(n,i){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,i)},getTopRight:function(n,i){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(n,i)},getLeftCenter:function(n,i){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,i)},getRightCenter:function(n,i){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(n,i)},getBottomLeft:function(n,i){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,i)},getBottomCenter:function(n,i){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,i)},getBottomRight:function(n,i){return n||(n=new s),n.x=this.x-this.displayWidth*this.originX+this.displayWidth,n.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(n,i)},getBounds:function(n){n===void 0&&(n=new e);var i,r,f,l,h,c,v,d;if(this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(n),m.transformPoint(n.x,n.y,n),i=n.x,r=n.y,this.getTopRight(n),m.transformPoint(n.x,n.y,n),f=n.x,l=n.y,this.getBottomLeft(n),m.transformPoint(n.x,n.y,n),h=n.x,c=n.y,this.getBottomRight(n),m.transformPoint(n.x,n.y,n),v=n.x,d=n.y}else this.getTopLeft(n),i=n.x,r=n.y,this.getTopRight(n),f=n.x,l=n.y,this.getBottomLeft(n),h=n.x,c=n.y,this.getBottomRight(n),v=n.x,d=n.y;return n.x=Math.min(i,f,h,v),n.y=Math.min(r,l,c,d),n.width=Math.max(i,f,h,v)-n.x,n.height=Math.max(r,l,c,d)-n.y,n}};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="blur"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="contextlost"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="contextrestored"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="focus"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="hidden"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postrender"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="poststep"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prestep"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="step"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="visible"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postrender"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="render"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resize"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(e){this._displayOriginX=e,this.originX=e/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(e){this._displayOriginY=e,this.originY=e/this.height}},setOrigin:function(e,u){return e===void 0&&(e=.5),u===void 0&&(u=e),this.originX=e,this.originY=u,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(e,u){return e===void 0&&(e=0),u===void 0&&(u=e),this.displayOriginX=e,this.displayOriginY=u,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),u=t(99),s=t(6),a=t(100),n=t(3),i={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:a.PLAYING_FORWARD,setPath:function(r,f){f===void 0&&(f=this.pathConfig);var l=this.pathTween;return l&&l.isPlaying()&&l.stop(),this.path=r,f&&this.startFollow(f),this},setRotateToPath:function(r,f){return f===void 0&&(f=0),this.rotateToPath=r,this.pathRotationOffset=f,this},isFollowing:function(){var r=this.pathTween;return r&&r.isPlaying()},startFollow:function(r,f){r===void 0&&(r={}),f===void 0&&(f=0);var l=this.pathTween;l&&l.isPlaying()&&l.stop(),typeof r=="number"&&(r={duration:r}),r.from=s(r,"from",0),r.to=s(r,"to",1);var h=u(r,"positionOnPath",!1);this.rotateToPath=u(r,"rotateToPath",!1),this.pathRotationOffset=s(r,"rotationOffset",0);var c=s(r,"startAt",f);if(c&&(r.onStart=function(d){var m=d.data[0];m.progress=c,m.elapsed=m.duration*c;var y=m.ease(m.progress);m.current=m.start+(m.end-m.start)*y,m.target[m.key]=m.current}),this.pathOffset||(this.pathOffset=new n(this.x,this.y)),this.pathVector||(this.pathVector=new n),this.pathDelta||(this.pathDelta=new n),this.pathDelta.reset(),this.pathTween=this.scene.sys.tweens.addCounter(r),this.path.getStartPoint(this.pathOffset),h&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=a.PLAYING_FORWARD,this.rotateToPath){var v=this.path.getPoint(.1);this.rotation=Math.atan2(v.y-this.y,v.x-this.x)+e(this.pathRotationOffset)}return this.pathConfig=r,this},pauseFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.pause(),this},resumeFollow:function(){var r=this.pathTween;return r&&r.isPaused()&&r.resume(),this},stopFollow:function(){var r=this.pathTween;return r&&r.isPlaying()&&r.stop(),this},pathUpdate:function(){var r=this.pathTween;if(r){var f=r.data[0],l=this.pathDelta,h=this.pathVector;if(l.copy(h).negate(),f.state===a.COMPLETE){this.path.getPoint(1,h),l.add(h),h.add(this.pathOffset),this.setPosition(h.x,h.y);return}else if(f.state!==a.PLAYING_FORWARD&&f.state!==a.PLAYING_BACKWARD)return;this.path.getPoint(r.getValue(),h),l.add(h),h.add(this.pathOffset);var c=this.x,v=this.y;this.setPosition(h.x,h.y);var d=this.x-c,m=this.y-v;if(d===0&&m===0)return;if(f.state!==this._prevDirection){this._prevDirection=f.state;return}this.rotateToPath&&(this.rotation=Math.atan2(m,d)+e(this.pathRotationOffset))}}};o.exports=i},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(e){this.scaleX=e/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(e){this.scaleY=e/this.frame.realHeight}},setSizeToFrame:function(e){return e===void 0&&(e=this.frame),this.width=e.realWidth,this.height=e.realHeight,this},setSize:function(e,u){return this.width=e,this.height=u,this},setDisplaySize:function(e,u){return this.displayWidth=e,this.displayHeight=u,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setTexture:function(u,s){return this.texture=this.scene.sys.textures.get(u),this.setFrame(s)},setFrame:function(u,s,a){return s===void 0&&(s=!0),a===void 0&&(a=!0),this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=8,e={texture:null,frame:null,isCropped:!1,setCrop:function(u,s,a,n){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,s,a,n,this.flipX,this.flipY);else{var i=u;this.frame.setCropUVs(this._crop,i.x,i.y,i.width,i.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(u,s){return this.texture=this.scene.sys.textures.get(u),this.setFrame(s)},setFrame:function(u,s,a){return s===void 0&&(s=!0),a===void 0&&(a=!0),this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~t:this.renderFlags|=t,this._sizeComponent&&s&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(e,u,s,a){return e===void 0&&(e=16777215),u===void 0&&(u=e,s=e,a=e),this.tintTopLeft=e,this.tintTopRight=u,this.tintBottomLeft=s,this.tintBottomRight=a,this.tintFill=!1,this},setTintFill:function(e,u,s,a){return this.setTint(e,u,s,a),this.tintFill=!0,this},tint:{set:function(e){this.setTint(e,e,e,e)}},isTinted:{get:function(){var e=16777215;return this.tintFill||this.tintTopLeft!==e||this.tintTopRight!==e||this.tintBottomLeft!==e||this.tintBottomRight!==e}}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="changedata"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="changedata-"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removedata"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="setdata"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addedtoscene"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removedfromscene"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="created"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="error"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="play"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seeked"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seeking"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="timeout"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="unlocked"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addedtoscene"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="create"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postupdate"},function(o,x){/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="preupdate"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removedfromscene"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="render"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="shutdown"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleep"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitioncomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitioninit"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionout"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="transitionwake"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wake"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r){return e(s,"alpha",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r){return e(s,"x",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r,f,l){return n==null&&(n=a),e(s,"x",a,i,f,l),e(s,"y",n,r,f,l)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r){return e(s,"y",a,n,i,r)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s===void 0&&(s=0),a===void 0&&(a=6.28);for(var n=s,i=(a-s)/e.length,r=0;r<e.length;r++)e[r].x=u.x+u.radius*Math.cos(n),e[r].y=u.y+u.radius*Math.sin(n),n+=i;return e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s===void 0&&(s=0),a===void 0&&(a=6.28);for(var n=s,i=(a-s)/e.length,r=u.width/2,f=u.height/2,l=0;l<e.length;l++)e[l].x=u.x+r*Math.cos(n),e[l].y=u.y+f*Math.sin(n),n+=i;return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(172),u=function(s,a){for(var n=e(a,s.length),i=0;i<s.length;i++){var r=s[i],f=n[i];r.x=f.x,r.y=f.y}return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(316),u=t(178),s=t(179),a=function(n,i,r){r===void 0&&(r=0);var f=e(i,!1,n.length);r>0?u(f,r):r<0&&s(f,Math.abs(r));for(var l=0;l<n.length;l++)n[l].x=f[l].x,n[l].y=f[l].y;return n};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(317),u=function(s,a,n){var i=e({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},n),r=e({x1:a.x2,y1:a.y2,x2:a.x3,y2:a.y3},n),f=e({x1:a.x3,y1:a.y3,x2:a.x1,y2:a.y1},n);i.pop(),r.pop(),f.pop(),i=i.concat(r,f);for(var l=i.length/s.length,h=0,c=0;c<s.length;c++){var v=s[c],d=i[Math.floor(h)];v.x=d.x,v.y=d.y,h+=l}return s};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){for(var a=0;a<e.length;a++){var n=e[a];n.anims&&n.anims.play(u,s)}return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(170),u=function(s,a){for(var n=0;n<s.length;n++)e(a,s[n]);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(180),u=function(s,a){for(var n=0;n<s.length;n++)e(a,s[n]);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(173),u=function(s,a){for(var n=0;n<s.length;n++)e(a,s[n]);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(174),u=function(s,a){for(var n=0;n<s.length;n++)e(a,s[n]);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(181),u=function(s,a){for(var n=0;n<s.length;n++)e(a,s[n]);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r){return e(s,"rotation",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),u=t(50),s=function(a,n,i){for(var r=n.x,f=n.y,l=0;l<a.length;l++){var h=a[l];e(h,r,f,i,Math.max(1,u(h.x,h.y,r,f)))}return a};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(182),u=function(s,a,n,i){var r=a.x,f=a.y;if(i===0)return s;for(var l=0;l<s.length;l++)e(s[l],r,f,n,i);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r){return e(s,"scaleX",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r,f,l){return n==null&&(n=a),e(s,"scaleX",a,i,f,l),e(s,"scaleY",n,r,f,l)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(46),u=function(s,a,n,i,r){return e(s,"scaleY",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"alpha",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i){return e(s,"blendMode",a,0,n,i)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"depth",a,n,i,r)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){for(var a=0;a<e.length;a++)e[a].setInteractive(u,s);return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r,f,l){return n==null&&(n=a),e(s,"originX",a,i,f,l),e(s,"originY",n,r,f,l),s.forEach(function(h){h.updateDisplayOrigin()}),s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"rotation",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r,f,l){return n==null&&(n=a),e(s,"scaleX",a,i,f,l),e(s,"scaleY",n,r,f,l)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"scaleX",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"scaleY",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r,f,l){return n==null&&(n=a),e(s,"scrollFactorX",a,i,f,l),e(s,"scrollFactorY",n,r,f,l)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"scrollFactorX",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"scrollFactorY",a,n,i,r)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n){for(var i=0;i<e.length;i++)e[i].setTint(u,s,a,n);return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i){return e(s,"visible",a,0,n,i)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"x",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r,f,l){return n==null&&(n=a),e(s,"x",a,i,f,l),e(s,"y",n,r,f,l)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(27),u=function(s,a,n,i,r){return e(s,"y",a,n,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i,r){i===void 0&&(i=0),r===void 0&&(r=new e);var f,l;if(s.length>1){var h,c,v,d;if(i===0){var m=s.length-1;for(f=s[m].x,l=s[m].y,h=m-1;h>=0;h--)d=s[h],c=d.x,v=d.y,d.x=f,d.y=l,f=c,l=v;s[m].x=a,s[m].y=n}else{for(f=s[0].x,l=s[0].y,h=1;h<s.length;h++)d=s[h],c=d.x,v=d.y,d.x=f,d.y=l,f=c,l=v;s[0].x=a,s[0].y=n}}else f=s[0].x,l=s[0].y,s[0].x=a,s[0].y=n;return r.x=f,r.y=l,r};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(131),u=function(s){return e(s)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),u=function(s,a,n,i,r){r===void 0&&(r=!1);var f=Math.abs(i-n)/s.length,l;if(r)for(l=0;l<s.length;l++)s[l][a]+=e(l*f,n,i);else for(l=0;l<s.length;l++)s[l][a]=e(l*f,n,i);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(184),u=function(s,a,n,i,r){r===void 0&&(r=!1);var f=Math.abs(i-n)/s.length,l;if(r)for(l=0;l<s.length;l++)s[l][a]+=e(l*f,n,i);else for(l=0;l<s.length;l++)s[l][a]=e(l*f,n,i);return s};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n){n===void 0&&(n=!1);var i=Math.abs(a-s)/e.length,r;if(n)for(r=0;r<e.length;r++)e[r][u]+=r*i+s;else for(r=0;r<e.length;r++)e[r][u]=r*i+s;return e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=0;u<e.length;u++)e[u].visible=!e[u].visible;return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(68),u=function(s,a,n){n===void 0&&(n=0);for(var i=0;i<s.length;i++){var r=s[i];r.x=e(r.x,a.left-n,a.right+n),r.y=e(r.y,a.top-n,a.bottom+n)}return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Animation:t(185),AnimationFrame:t(319),AnimationManager:t(321),AnimationState:t(164),Events:t(132)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationcomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationcomplete-"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationrepeat"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationrestart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationstop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="animationupdate"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pauseall"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resumeall"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BaseCache:t(323),CacheManager:t(325),Events:t(324)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Controls:t(739),Scene2D:t(742)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={FixedKeyControl:t(740),SmoothedKeyControl:t(741)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(6),s=new e({initialize:function(n){this.camera=u(n,"camera",null),this.left=u(n,"left",null),this.right=u(n,"right",null),this.up=u(n,"up",null),this.down=u(n,"down",null),this.zoomIn=u(n,"zoomIn",null),this.zoomOut=u(n,"zoomOut",null),this.zoomSpeed=u(n,"zoomSpeed",.01),this.minZoom=u(n,"minZoom",.001),this.maxZoom=u(n,"maxZoom",1e3),this.speedX=0,this.speedY=0;var i=u(n,"speed",null);typeof i=="number"?(this.speedX=i,this.speedY=i):(this.speedX=u(n,"speed.x",0),this.speedY=u(n,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var n=this.camera;this.up&&this.up.isDown?n.scrollY-=this.speedY*a|0:this.down&&this.down.isDown&&(n.scrollY+=this.speedY*a|0),this.left&&this.left.isDown?n.scrollX-=this.speedX*a|0:this.right&&this.right.isDown&&(n.scrollX+=this.speedX*a|0),this.zoomIn&&this.zoomIn.isDown?(n.zoom-=this.zoomSpeed,n.zoom<this.minZoom&&(n.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(n.zoom+=this.zoomSpeed,n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(6),s=new e({initialize:function(n){this.camera=u(n,"camera",null),this.left=u(n,"left",null),this.right=u(n,"right",null),this.up=u(n,"up",null),this.down=u(n,"down",null),this.zoomIn=u(n,"zoomIn",null),this.zoomOut=u(n,"zoomOut",null),this.zoomSpeed=u(n,"zoomSpeed",.01),this.minZoom=u(n,"minZoom",.001),this.maxZoom=u(n,"maxZoom",1e3),this.accelX=0,this.accelY=0;var i=u(n,"acceleration",null);typeof i=="number"?(this.accelX=i,this.accelY=i):(this.accelX=u(n,"acceleration.x",0),this.accelY=u(n,"acceleration.y",0)),this.dragX=0,this.dragY=0;var r=u(n,"drag",null);typeof r=="number"?(this.dragX=r,this.dragY=r):(this.dragX=u(n,"drag.x",0),this.dragY=u(n,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var f=u(n,"maxSpeed",null);typeof f=="number"?(this.maxSpeedX=f,this.maxSpeedY=f):(this.maxSpeedX=u(n,"maxSpeed.x",0),this.maxSpeedY=u(n,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(a){return this.camera=a,this},update:function(a){if(this.active){a===void 0&&(a=1);var n=this.camera;this._speedX>0?(this._speedX-=this.dragX*a,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*a,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*a,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*a,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(n.scrollX-=this._speedX*a|0),this._speedY!==0&&(n.scrollY-=this._speedY*a|0),this._zoom!==0&&(n.zoom+=this._zoom,n.zoom<this.minZoom?n.zoom=this.minZoom:n.zoom>this.maxZoom&&(n.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Camera:t(326),BaseCamera:t(133),CameraManager:t(799),Effects:t(333),Events:t(37)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameradestroy"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeincomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeinstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeoutcomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerafadeoutstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameraflashcomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="cameraflashstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="followupdate"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerapancomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerapanstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postrender"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="prerender"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerarotatecomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerarotatestart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerashakecomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerashakestart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerazoomcomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="camerazoomstart"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(37),a=new u({initialize:function(i){this.camera=i,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,i,r,f,l,h,c,v){if(n===void 0&&(n=!0),i===void 0&&(i=1e3),r===void 0&&(r=0),f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene),!h&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=i,this.direction=n,this.progress=0,this.red=r,this.green=f,this.blue=l,this.alpha=n?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v;var d=n?s.FADE_OUT_START:s.FADE_IN_START;return this.camera.emit(d,this.camera,this,i,r,f,l),this.camera},update:function(n,i){this.isRunning&&(this._elapsed+=i,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(n){if(!this.isRunning&&!this.isComplete)return!1;var i=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(n,i){if(!this.isRunning&&!this.isComplete)return!1;var r=this.camera,f=this.red/255,l=this.green/255,h=this.blue/255;return n.drawFillRect(r.x,r.y,r.width,r.height,i(h,l,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var n=this.direction?s.FADE_OUT_COMPLETE:s.FADE_IN_COMPLETE;this.camera.emit(n,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(37),a=new u({initialize:function(i){this.camera=i,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,i,r,f,l,h,c){return n===void 0&&(n=250),i===void 0&&(i=255),r===void 0&&(r=255),f===void 0&&(f=255),l===void 0&&(l=!1),h===void 0&&(h=null),c===void 0&&(c=this.camera.scene),!l&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,this.red=i,this.green=r,this.blue=f,this.alpha=1,this._elapsed=0,this._onUpdate=h,this._onUpdateScope=c,this.camera.emit(s.FLASH_START,this.camera,this,n,i,r,f),this.camera)},update:function(n,i){this.isRunning&&(this._elapsed+=i,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=1-this.progress:this.effectComplete())},postRenderCanvas:function(n){if(!this.isRunning)return!1;var i=this.camera;return n.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",n.fillRect(i.x,i.y,i.width,i.height),!0},postRenderWebGL:function(n,i){if(!this.isRunning)return!1;var r=this.camera,f=this.red/255,l=this.green/255,h=this.blue/255;return n.drawFillRect(r.x,r.y,r.width,r.height,i(h,l,f,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(134),a=t(37),n=t(3),i=new u({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=new n,this.current=new n,this.destination=new n,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(r,f,l,h,c,v,d){l===void 0&&(l=1e3),h===void 0&&(h=s.Linear),c===void 0&&(c=!1),v===void 0&&(v=null),d===void 0&&(d=this.camera.scene);var m=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=l,this.progress=0,this.source.set(m.scrollX,m.scrollY),this.destination.set(r,f),m.getScroll(r,f,this.current),typeof h=="string"&&s.hasOwnProperty(h)?this.ease=s[h]:typeof h=="function"&&(this.ease=h),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=d,this.camera.emit(a.PAN_START,this.camera,this,l,r,f)),m},update:function(r,f){if(this.isRunning){this._elapsed+=f;var l=e(this._elapsed/this.duration,0,1);this.progress=l;var h=this.camera;if(this._elapsed<this.duration){var c=this.ease(l);h.getScroll(this.destination.x,this.destination.y,this.current);var v=this.source.x+(this.current.x-this.source.x)*c,d=this.source.y+(this.current.y-this.source.y)*c;h.setScroll(v,d),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,l,v,d)}else h.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,h,l,h.scrollX,h.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});o.exports=i},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1.70158),e*e*((u+1)*e-u)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1.70158),--e*e*((u+1)*e+u)+1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1.70158);var s=u*1.525;return(e*=2)<1?.5*(e*e*((s+1)*e-s)):.5*((e-=2)*e*((s+1)*e+s)+2)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e=1-e,e<.36363636363636365?1-7.5625*e*e:e<.7272727272727273?1-(7.5625*(e-=.5454545454545454)*e+.75):e<.9090909090909091?1-(7.5625*(e-=.8181818181818182)*e+.9375):1-(7.5625*(e-=.9545454545454546)*e+.984375)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=!1;return e<.5?(e=1-e*2,u=!0):e=e*2-1,e<.36363636363636365?e=7.5625*e*e:e<.7272727272727273?e=7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?e=7.5625*(e-=.8181818181818182)*e+.9375:e=7.5625*(e-=.9545454545454546)*e+.984375,u?(1-e)*.5:e*.5+.5};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.sqrt(1-e*e)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.sqrt(1- --e*e)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e+1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(u===void 0&&(u=.1),s===void 0&&(s=.1),e===0)return 0;if(e===1)return 1;var a=s/4;return u<1?u=1:a=s*Math.asin(1/u)/(2*Math.PI),-(u*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/s))};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(u===void 0&&(u=.1),s===void 0&&(s=.1),e===0)return 0;if(e===1)return 1;var a=s/4;return u<1?u=1:a=s*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*e)*Math.sin((e-a)*(2*Math.PI)/s)+1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(u===void 0&&(u=.1),s===void 0&&(s=.1),e===0)return 0;if(e===1)return 1;var a=s/4;return u<1?u=1:a=s*Math.asin(1/u)/(2*Math.PI),(e*=2)<1?-.5*(u*Math.pow(2,10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/s)):u*Math.pow(2,-10*(e-=1))*Math.sin((e-a)*(2*Math.PI)/s)*.5+1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.pow(2,10*(e-1))-.001};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1-Math.pow(2,-10*e)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*(2-e)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return 1- --e*e*e*e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e*e*e*e*e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return--e*e*e*e*e+1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:1-Math.cos(e*Math.PI/2)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:Math.sin(e*Math.PI/2)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===0?0:e===1?1:.5*(1-Math.cos(Math.PI*e))};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1),e<=0?0:e>=1?1:((u*e|0)+1)*(1/u)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(37),a=t(3),n=new u({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.intensity=new a,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(i,r,f,l,h){return i===void 0&&(i=100),r===void 0&&(r=.05),f===void 0&&(f=!1),l===void 0&&(l=null),h===void 0&&(h=this.camera.scene),!f&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=i,this.progress=0,typeof r=="number"?this.intensity.set(r):this.intensity.set(r.x,r.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=l,this._onUpdateScope=h,this.camera.emit(s.SHAKE_START,this.camera,this,i,r),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(i,r){if(this.isRunning)if(this._elapsed+=r,this.progress=e(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var f=this.intensity,l=this.camera.width,h=this.camera.height,c=this.camera.zoom;this._offsetX=(Math.random()*f.x*l*2-f.x*l)*c,this._offsetY=(Math.random()*f.y*h*2-f.y*h)*c,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});o.exports=n},function(o,x,t){/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var e=t(18),u=t(0),s=t(37),a=t(134),n=new u({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(i,r,f,l,h,c,v){f===void 0&&(f=1e3),l===void 0&&(l=a.Linear),h===void 0&&(h=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene),r===void 0&&(r=!1),this.shortestPath=r;var d=i;i<0?(d=-1*i,this.clockwise=!1):this.clockwise=!0;var m=360*Math.PI/180;d=d-Math.floor(d/m)*m;var y=this.camera;if(!h&&this.isRunning)return y;if(this.isRunning=!0,this.duration=f,this.progress=0,this.source=y.rotation,this.destination=d,typeof l=="string"&&a.hasOwnProperty(l)?this.ease=a[l]:typeof l=="function"&&(this.ease=l),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v,this.shortestPath){var T=0,C=0;this.destination>this.source?T=Math.abs(this.destination-this.source):T=Math.abs(this.destination+m)-this.source,this.source>this.destination?C=Math.abs(this.source-this.destination):C=Math.abs(this.source+m)-this.destination,T<C?this.clockwise=!0:T>C&&(this.clockwise=!1)}return this.camera.emit(s.ROTATE_START,this.camera,this,f,d),y},update:function(i,r){if(this.isRunning){this._elapsed+=r;var f=e(this._elapsed/this.duration,0,1);this.progress=f;var l=this.camera;if(this._elapsed<this.duration){var h=this.ease(f);this.current=l.rotation;var c=0,v=360*Math.PI/180,d=this.destination,m=this.current;this.clockwise===!1&&(d=this.current,m=this.destination),d>=m?c=Math.abs(d-m):c=Math.abs(d+v)-m;var y=0;this.clockwise?y=l.rotation+c*h:y=l.rotation-c*h,l.rotation=y,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,f,y)}else l.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,l,f,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(s.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(134),a=t(37),n=new u({initialize:function(r){this.camera=r,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(i,r,f,l,h,c){r===void 0&&(r=1e3),f===void 0&&(f=s.Linear),l===void 0&&(l=!1),h===void 0&&(h=null),c===void 0&&(c=this.camera.scene);var v=this.camera;return!l&&this.isRunning||(this.isRunning=!0,this.duration=r,this.progress=0,this.source=v.zoom,this.destination=i,typeof f=="string"&&s.hasOwnProperty(f)?this.ease=s[f]:typeof f=="function"&&(this.ease=f),this._elapsed=0,this._onUpdate=h,this._onUpdateScope=c,this.camera.emit(a.ZOOM_START,this.camera,this,r,i)),v},update:function(i,r){this.isRunning&&(this._elapsed+=r,this.progress=e(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(a.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(326),u=t(0),s=t(2),a=t(24),n=t(57),i=t(104),r=t(20),f=new u({initialize:function(h){this.scene=h,this.systems=h.sys,this.roundPixels=h.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,h.sys.events.once(r.BOOT,this.boot,this),h.sys.events.on(r.START,this.start,this)},boot:function(){var l=this.systems;l.settings.cameras?this.fromJSON(l.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new e(0,0,l.scale.width,l.scale.height).setScene(this.scene),l.game.scale.on(i.RESIZE,this.onResize,this),this.systems.events.once(r.DESTROY,this.destroy,this)},start:function(){if(!this.main){var l=this.systems;l.settings.cameras?this.fromJSON(l.settings.cameras):this.add(),this.main=this.cameras[0]}var h=this.systems.events;h.on(r.UPDATE,this.update,this),h.once(r.SHUTDOWN,this.shutdown,this)},add:function(l,h,c,v,d,m){l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=this.scene.sys.scale.width),v===void 0&&(v=this.scene.sys.scale.height),d===void 0&&(d=!1),m===void 0&&(m="");var y=new e(l,h,c,v);return y.setName(m),y.setScene(this.scene),y.setRoundPixels(this.roundPixels),y.id=this.getNextID(),this.cameras.push(y),d&&(this.main=y),y},addExisting:function(l,h){h===void 0&&(h=!1);var c=this.cameras.indexOf(l);return c===-1?(l.id=this.getNextID(),l.setRoundPixels(this.roundPixels),this.cameras.push(l),h&&(this.main=l),l):null},getNextID:function(){for(var l=this.cameras,h=1,c=0;c<32;c++){for(var v=!1,d=0;d<l.length;d++){var m=l[d];if(m&&m.id===h){v=!0;continue}}if(v)h=h<<1;else return h}return 0},getTotal:function(l){l===void 0&&(l=!1);for(var h=0,c=this.cameras,v=0;v<c.length;v++){var d=c[v];(!l||l&&d.visible)&&h++}return h},fromJSON:function(l){Array.isArray(l)||(l=[l]);for(var h=this.scene.sys.scale.width,c=this.scene.sys.scale.height,v=0;v<l.length;v++){var d=l[v],m=s(d,"x",0),y=s(d,"y",0),T=s(d,"width",h),C=s(d,"height",c),R=this.add(m,y,T,C);R.name=s(d,"name",""),R.zoom=s(d,"zoom",1),R.rotation=s(d,"rotation",0),R.scrollX=s(d,"scrollX",0),R.scrollY=s(d,"scrollY",0),R.roundPixels=s(d,"roundPixels",!1),R.visible=s(d,"visible",!0);var A=s(d,"backgroundColor",!1);A&&R.setBackgroundColor(A);var P=s(d,"bounds",null);if(P){var O=s(P,"x",0),b=s(P,"y",0),D=s(P,"width",h),N=s(P,"height",c);R.setBounds(O,b,D,N)}}return this},getCamera:function(l){for(var h=this.cameras,c=0;c<h.length;c++)if(h[c].name===l)return h[c];return null},getCamerasBelowPointer:function(l){for(var h=this.cameras,c=l.x,v=l.y,d=[],m=0;m<h.length;m++){var y=h[m];y.visible&&y.inputEnabled&&n(y,c,v)&&d.unshift(y)}return d},remove:function(l,h){h===void 0&&(h=!0),Array.isArray(l)||(l=[l]);for(var c=0,v=this.cameras,d=0;d<l.length;d++){var m=v.indexOf(l[d]);m!==-1&&(h?v[m].destroy():v[m].renderList=[],v.splice(m,1),c++)}return!this.main&&v[0]&&(this.main=v[0]),c},render:function(l,h){for(var c=this.scene,v=this.cameras,d=0;d<this.cameras.length;d++){var m=v[d];if(m.visible&&m.alpha>0){m.preRender();var y=this.getVisibleChildren(h.getChildren(),m);l.render(c,y,m)}}},getVisibleChildren:function(l,h){for(var c=[],v=0;v<l.length;v++){var d=l[v];d.willRender(h)&&c.push(d)}return c},resetAll:function(){for(var l=0;l<this.cameras.length;l++)this.cameras[l].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(l,h){for(var c=0;c<this.cameras.length;c++)this.cameras[c].update(l,h)},onResize:function(l,h,c,v,d){for(var m=0;m<this.cameras.length;m++){var y=this.cameras[m];y._x===0&&y._y===0&&y._width===v&&y._height===d&&y.setSize(h.width,h.height)}},resize:function(l,h){for(var c=0;c<this.cameras.length;c++)this.cameras[c].setSize(l,h)},shutdown:function(){this.main=void 0;for(var l=0;l<this.cameras.length;l++)this.cameras[l].destroy();this.cameras=[];var h=this.systems.events;h.off(r.UPDATE,this.update,this),h.off(r.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.scene.sys.events.off(r.START,this.start,this),this.scene=null,this.systems=null}});a.register("CameraManager",f,"cameras"),o.exports=f},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="enterfullscreen"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fullscreenfailed"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fullscreenunsupported"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="leavefullscreen"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="orientationchange"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resize"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Config:t(346),CreateRenderer:t(366),DebugHeader:t(384),Events:t(22),TimeStep:t(385),VisibilityHandler:t(387)}},function(o,x){var t=o.exports={},e,u;function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=s}catch{e=s}try{typeof clearTimeout=="function"?u=clearTimeout:u=a}catch{u=a}})();function n(y){if(e===setTimeout)return setTimeout(y,0);if((e===s||!e)&&setTimeout)return e=setTimeout,setTimeout(y,0);try{return e(y,0)}catch{try{return e.call(null,y,0)}catch{return e.call(this,y,0)}}}function i(y){if(u===clearTimeout)return clearTimeout(y);if((u===a||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(y);try{return u(y)}catch{try{return u.call(null,y)}catch{return u.call(this,y)}}}var r=[],f=!1,l,h=-1;function c(){!f||!l||(f=!1,l.length?r=l.concat(r):h=-1,r.length&&v())}function v(){if(!f){var y=n(c);f=!0;for(var T=r.length;T;){for(l=r,r=[];++h<T;)l&&l[h].run();h=-1,T=r.length}l=null,f=!1,i(y)}}t.nextTick=function(y){var T=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)T[C-1]=arguments[C];r.push(new d(y,T)),r.length===1&&!f&&n(v)};function d(y,T){this.fun=y,this.array=T}d.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function m(){}t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(y){return[]},t.binding=function(y){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(y){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),u={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function s(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(u.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(u.mspointer=!0),navigator.getGamepads&&(u.gamepads=!0),"onwheel"in window||e.ie&&"WheelEvent"in window?u.wheelEvent="wheel":"onmousewheel"in window?u.wheelEvent="mousewheel":e.firefox&&"MouseScrollEvent"in window&&(u.wheelEvent="DOMMouseScroll")),u}o.exports=s()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(136),u={audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function s(){if(typeof importScripts=="function")return u;u.audioData=!!window.Audio,u.webAudio=!!(window.AudioContext||window.webkitAudioContext);var a=document.createElement("audio"),n=!!a.canPlayType;try{if(n&&(a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(u.ogg=!0),(a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||a.canPlayType("audio/opus;").replace(/^no$/,""))&&(u.opus=!0),a.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(u.mp3=!0),a.canPlayType("audio/wav").replace(/^no$/,"")&&(u.wav=!0),(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;").replace(/^no$/,""))&&(u.m4a=!0),a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(u.webm=!0),a.canPlayType('audio/mp4;codecs="ec-3"')!=="")){if(e.edge)u.dolby=!0;else if(e.safari&&e.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var i=parseInt(RegExp.$1,10),r=parseInt(RegExp.$2,10);(i===10&&r>=11||i>10)&&(u.dolby=!0)}}}catch{}return u}o.exports=s()},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={h264:!1,hls:!1,mp4:!1,ogg:!1,vp9:!1,webm:!1};function e(){if(typeof importScripts=="function")return t;var u=document.createElement("video"),s=!!u.canPlayType;try{s&&(u.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(t.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.h264=!0,t.mp4=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(t.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(t.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(t.hls=!0))}catch{}return t}o.exports=e()},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={available:!1,cancel:"",keyboard:!1,request:""};function e(){if(typeof importScripts=="function")return t;var u,s="Fullscreen",a="FullScreen",n=["request"+s,"request"+a,"webkitRequest"+s,"webkitRequest"+a,"msRequest"+s,"msRequest"+a,"mozRequest"+a,"mozRequest"+s];for(u=0;u<n.length;u++)if(document.documentElement[n[u]]){t.available=!0,t.request=n[u];break}var i=["cancel"+a,"exit"+s,"webkitCancel"+a,"webkitExit"+s,"msCancel"+a,"msExit"+s,"mozCancel"+a,"mozExit"+s];if(t.available){for(u=0;u<i.length;u++)if(document[i[u]]){t.cancel=i[u];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(t.keyboard=!0),Object.defineProperty(t,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),t}o.exports=e()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Between:t(349),BetweenPoints:t(350),BetweenPointsY:t(813),BetweenY:t(814),CounterClockwise:t(815),Normalize:t(351),Random:t(816),RandomDegrees:t(817),Reverse:t(818),RotateTo:t(819),ShortestBetween:t(820),Wrap:t(269),WrapDegrees:t(270)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.atan2(u.x-e.x,u.y-e.y)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){return Math.atan2(s-e,a-u)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=function(s){return s>Math.PI&&(s-=e.PI2),Math.abs(((s+e.TAU)%e.PI2-e.PI2)%e.PI2)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),u=function(){return e(-Math.PI,Math.PI)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(137),u=function(){return e(-180,180)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(351),u=function(s){return e(s+Math.PI)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=function(s,a,n){return n===void 0&&(n=.05),s===a||(Math.abs(a-s)<=n||Math.abs(a-s)>=e.PI2-n?s=a:(Math.abs(a-s)>Math.PI&&(a<s?a+=e.PI2:a-=e.PI2),a>s?s+=n:a<s&&(s-=n))),s};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=u-e;if(s===0)return 0;var a=Math.floor((s- -180)/360);return s-a*360};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Between:t(50),BetweenPoints:t(352),BetweenPointsSquared:t(822),Chebyshev:t(823),Power:t(824),Snake:t(825),Squared:t(353)}},function(o,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.x-u.x,a=e.y-u.y;return s*s+a*a};o.exports=t},function(o,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){return Math.max(Math.abs(e-s),Math.abs(u-a))};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n){return n===void 0&&(n=2),Math.sqrt(Math.pow(s-e,n)+Math.pow(a-u,n))};o.exports=t},function(o,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){return Math.abs(e-s)+Math.abs(u-a)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Back:t(334),Bounce:t(335),Circular:t(336),Cubic:t(337),Elastic:t(338),Expo:t(339),Linear:t(340),Quadratic:t(341),Quartic:t(342),Quintic:t(343),Sine:t(344),Stepped:t(345)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Ceil:t(828),Equal:t(124),Floor:t(829),GreaterThan:t(354),LessThan:t(355)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1e-4),Math.ceil(e-u)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1e-4),Math.floor(e+u)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Bezier:t(831),CatmullRom:t(832),CubicBezier:t(358),Linear:t(833),QuadraticBezier:t(359),SmoothStep:t(360),SmootherStep:t(834)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(356),u=function(s,a){for(var n=0,i=s.length-1,r=0;r<=i;r++)n+=Math.pow(1-a,i-r)*Math.pow(a,r)*s[r]*e(i,r);return n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(194),u=function(s,a){var n=s.length-1,i=n*a,r=Math.floor(i);return s[0]===s[n]?(a<0&&(r=Math.floor(i=n*(1+a))),e(i-r,s[(r-1+n)%n],s[r],s[(r+1)%n],s[(r+2)%n])):a<0?s[0]-(e(-i,s[0],s[0],s[1],s[1])-s[0]):a>1?s[n]-(e(i-n,s[n],s[n],s[n-1],s[n-1])-s[n]):e(i-r,s[r?r-1:0],s[r],s[n<r+1?n:r+1],s[n<r+2?n:r+2])};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),u=function(s,a){var n=s.length-1,i=n*a,r=Math.floor(i);return a<0?e(s[0],s[1],i):a>1?e(s[n],s[n-1],n-i):e(s[r],s[r+1>n?n:r+1],i-r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(183),u=function(s,a,n){return a+(n-a)*e(s,0,1)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GetNext:t(361),IsSize:t(138),IsValue:t(836)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e>0&&(e&e-1)===0};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Ceil:t(139),Floor:t(76),To:t(838)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){return s===void 0&&(s=0),u===0?e:(e-=s,e=u*Math.round(e/u),a?(s+e)/u:s+e)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=new e({initialize:function(a){a===void 0&&(a=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],a&&this.init(a)},rnd:function(){var s=2091639*this.s0+this.c*23283064365386963e-26;return this.c=s|0,this.s0=this.s1,this.s1=this.s2,this.s2=s-this.c,this.s2},hash:function(s){var a,n=this.n;s=s.toString();for(var i=0;i<s.length;i++)n+=s.charCodeAt(i),a=.02519603282416938*n,n=a>>>0,a-=n,a*=n,n=a>>>0,a-=n,n+=a*4294967296;return this.n=n,(n>>>0)*23283064365386963e-26},init:function(s){typeof s=="string"?this.state(s):this.sow(s)},sow:function(s){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!s)for(var a=0;a<s.length&&s[a]!=null;a++){var n=s[a];this.s0-=this.hash(n),this.s0+=~~(this.s0<0),this.s1-=this.hash(n),this.s1+=~~(this.s1<0),this.s2-=this.hash(n),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(s,a){return Math.floor(this.realInRange(0,a-s+1)+s)},between:function(s,a){return Math.floor(this.realInRange(0,a-s+1)+s)},realInRange:function(s,a){return this.frac()*(a-s)+s},normal:function(){return 1-2*this.frac()},uuid:function(){var s="",a="";for(a=s="";s++<36;a+=~s%5|s*3&4?(s^15?8^this.frac()*(s^20?16:4):4).toString(16):"-");return a},pick:function(s){return s[this.integerInRange(0,s.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(s){return s[~~(Math.pow(this.frac(),2)*(s.length-1)+.5)]},timestamp:function(s,a){return this.realInRange(s||9466848e5,a||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(s){return typeof s=="string"&&s.match(/^!rnd/)&&(s=s.split(","),this.c=parseFloat(s[1]),this.s0=parseFloat(s[2]),this.s1=parseFloat(s[3]),this.s2=parseFloat(s[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(s){for(var a=s.length-1,n=a;n>0;n--){var i=Math.floor(this.frac()*(n+1)),r=s[i];s[i]=s[n],s[n]=r}return s}});o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=0,s=0;s<e.length;s++)u+=+e[s];return u/e.length};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){u===void 0&&(u=0),s===void 0&&(s=10);var a=Math.pow(s,-u);return Math.ceil(e*a)/a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return Math.abs(e-u)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(69),a=t(1),n=new s,i=new u({initialize:function r(f,l,h,c){f===void 0&&(f=0),l===void 0&&(l=0),h===void 0&&(h=0),c===void 0&&(c=r.DefaultOrder),this._x=f,this._y=l,this._z=h,this._order=c,this.onChangeCallback=a},x:{get:function(){return this._x},set:function(r){this._x=r,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(r){this._y=r,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(r){this._z=r,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(r){this._order=r,this.onChangeCallback(this)}},set:function(r,f,l,h){return h===void 0&&(h=this._order),this._x=r,this._y=f,this._z=l,this._order=h,this.onChangeCallback(this),this},copy:function(r){return this.set(r.x,r.y,r.z,r.order)},setFromQuaternion:function(r,f,l){return f===void 0&&(f=this._order),l===void 0&&(l=!1),n.fromQuat(r),this.setFromRotationMatrix(n,f,l)},setFromRotationMatrix:function(r,f,l){f===void 0&&(f=this._order),l===void 0&&(l=!1);var h=r.val,c=h[0],v=h[4],d=h[8],m=h[1],y=h[5],T=h[9],C=h[2],R=h[6],A=h[10],P=0,O=0,b=0,D=.99999;switch(f){case"XYZ":{O=Math.asin(e(d,-1,1)),Math.abs(d)<D?(P=Math.atan2(-T,A),b=Math.atan2(-v,c)):P=Math.atan2(R,y);break}case"YXZ":{P=Math.asin(-e(T,-1,1)),Math.abs(T)<D?(O=Math.atan2(d,A),b=Math.atan2(m,y)):O=Math.atan2(-C,c);break}case"ZXY":{P=Math.asin(e(R,-1,1)),Math.abs(R)<D?(O=Math.atan2(-C,A),b=Math.atan2(-v,y)):b=Math.atan2(m,c);break}case"ZYX":{O=Math.asin(-e(C,-1,1)),Math.abs(C)<D?(P=Math.atan2(R,A),b=Math.atan2(m,c)):b=Math.atan2(-v,y);break}case"YZX":{b=Math.asin(e(m,-1,1)),Math.abs(m)<D?(P=Math.atan2(-T,y),O=Math.atan2(-C,c)):O=Math.atan2(d,A);break}case"XZY":{b=Math.asin(-e(v,-1,1)),Math.abs(v)<D?(P=Math.atan2(R,y),O=Math.atan2(d,c)):P=Math.atan2(-T,A);break}}return this._x=P,this._y=O,this._z=b,this._order=f,l&&this.onChangeCallback(this),this}});i.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],i.DefaultOrder="XYZ",o.exports=i},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){u===void 0&&(u=0),s===void 0&&(s=10);var a=Math.pow(s,-u);return Math.floor(e*a)/a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e/u/1e3};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e==parseFloat(e)?!(e%2):void 0};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e===parseFloat(e)?!(e%2):void 0};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return Math.min(e+u,s)};o.exports=t},function(o,x){/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=e.length;if(u===0)return 0;e.sort(function(a,n){return a-n});var s=Math.floor(u/2);return u%2===0?(e[s]+e[s-1])/2:e[s]};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return Math.max(e-u,s)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s===void 0&&(s=u+1);var n=(e-u)/(s-u);return n>1?a!==void 0?(n=(a-e)/(a-s),n<0&&(n=0)):n=1:n<0&&(n=0),n};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1);var s=Math.random()*2*Math.PI;return e.x=Math.cos(s)*u,e.y=Math.sin(s)*u,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=1);var s=Math.random()*2*Math.PI,a=Math.random()*2-1,n=Math.sqrt(1-a*a)*u;return e.x=Math.cos(s)*n,e.y=Math.sin(s)*n,e.z=a*u,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u=1),e.x=(Math.random()*2-1)*u,e.y=(Math.random()*2-1)*u,e.z=(Math.random()*2-1)*u,e.w=(Math.random()*2-1)*u,e};o.exports=t},function(o,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n){return e.x=u+n*Math.cos(a),e.y=s+n*Math.sin(a),e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){u===void 0&&(u=0),s===void 0&&(s=10);var a=Math.pow(s,-u);return Math.round(e*a)/a};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u===void 0&&(u=1),s===void 0&&(s=1),a===void 0&&(a=1),a*=Math.PI/e;for(var n=[],i=[],r=0;r<e;r++)s-=u*a,u+=s*a,n[r]=s,i[r]=u;return{sin:i,cos:n,length:e}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3),u=function(s,a,n,i){i===void 0&&(i=new e);var r=0,f=0,l=a*n;return s>0&&s<=l&&(s>a-1?(f=Math.floor(s/a),r=s-f*a):r=s),i.set(r,f)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return Math.abs(e-u)<=s};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(39),u=t(69),s=t(365),a=new u,n=new s,i=new e,r=function(f,l,h){return n.setAxisAngle(l,h),a.fromRotationTranslation(n,i.set(0,0,0)),f.transformMat4(a)};o.exports=r},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addtexture"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="onerror"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="onload"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="ready"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="removetexture"},function(o,x){o.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    float alpha = mainColor.a;","","    if (!uInvertMaskAlpha)","    {","        alpha *= (maskColor.a);","    }","    else","    {","        alpha *= (1.0 - maskColor.a);","    }","","    gl_FragColor = vec4(mainColor.rgb * alpha, alpha);","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","","precision mediump float;","","attribute vec2 inPosition;","","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}",""].join(`
`)},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelineafterflush"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelinebeforeflush"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelinebind"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelineboot"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelinedestroy"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelinerebind"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pipelineresize"},function(o,x){o.exports=["#define SHADER_NAME PHASER_GRAPHICS_FS","","precision mediump float;","","varying vec4 outColor;","","void main ()","{","    gl_FragColor = vec4(outColor.bgr * outColor.a, outColor.a);","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_GRAPHICS_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec4 inColor;","","varying vec4 outColor;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outColor = inColor;","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_LIGHT_FS","","precision mediump float;","","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","","const int kMaxLights = %LIGHT_COUNT%;","","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","","varying vec2 outTexCoord;","varying vec4 outTint;","","void main()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 color = texture2D(uMainSampler, outTexCoord) * vec4(outTint.bgr * outTint.a, outTint.a);","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","","    for (int index = 0; index < kMaxLights; ++index)","    {","        Light light = uLights[index];","        vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","        vec3 lightNormal = normalize(lightDir);","        float distToSurf = length(lightDir) * uCamera.w;","        float diffuseFactor = max(dot(normal, lightNormal), 0.0);","        float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","        float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","        vec3 diffuse = light.color * diffuseFactor;","        finalColor += (attenuation * diffuse) * light.intensity;","    }","","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_MULTI_FS","","precision mediump float;","","uniform sampler2D uMainSampler[%count%];","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture;","","    %forloop%","","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_MULTI_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","","precision mediump float;","","uniform vec2 uResolution;","uniform float uCameraZoom;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","","    float distToSurf = length(center - gl_FragCoord.xy);","","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_SINGLE_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","","    //  Multiply texture tint","    vec4 color = texture * texel;","","    if (outTintEffect == 1.0)","    {","        //  Solid color + texture alpha","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        //  Solid color, no texture","        color = texel;","    }","","    gl_FragColor = color;","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_SINGLE_VS","","precision mediump float;","","uniform mat4 uProjectionMatrix;","","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = frame1 + frame2 * uStrength;","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","","        return;","    }","","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","","    vec4 result;","","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","","    rgb *= result.a;","","    gl_FragColor = vec4(rgb, result.a);","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_COPY_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","uniform float uBrightness;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}",""].join(`
`)},function(o,x){o.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","","precision mediump float;","","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","","varying vec2 outTexCoord;","","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}",""].join(`
`)},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GenerateTexture:t(388),Palettes:t(889)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ARNE16:t(389),C64:t(890),CGA:t(891),JMP:t(892),MSX:t(893)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Path:t(895),MoveTo:t(393),CubicBezier:t(390),Curve:t(94),Ellipse:t(391),Line:t(392),QuadraticBezier:t(394),Spline:t(395)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(390),s=t(391),a=t(5),n=t(392),i=t(393),r=t(394),f=t(10),l=t(395),h=t(3),c=t(14),v=new e({initialize:function(m,y){m===void 0&&(m=0),y===void 0&&(y=0),this.name="",this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new h,this._tmpVec2A=new h,this._tmpVec2B=new h,typeof m=="object"?this.fromJSON(m):this.startPoint.set(m,y)},add:function(d){return this.curves.push(d),this},circleTo:function(d,m,y){return m===void 0&&(m=!1),this.ellipseTo(d,d,0,360,m,y)},closePath:function(){var d=this.curves[0].getPoint(0),m=this.curves[this.curves.length-1].getPoint(1);return d.equals(m)||this.curves.push(new n(m,d)),this},cubicBezierTo:function(d,m,y,T,C,R){var A=this.getEndPoint(),P,O,b;return d instanceof h?(P=d,O=m,b=y):(P=new h(y,T),O=new h(C,R),b=new h(d,m)),this.add(new u(A,P,O,b))},quadraticBezierTo:function(d,m,y,T){var C=this.getEndPoint(),R,A;return d instanceof h?(R=d,A=m):(R=new h(y,T),A=new h(d,m)),this.add(new r(C,R,A))},draw:function(d,m){for(var y=0;y<this.curves.length;y++){var T=this.curves[y];T.active&&T.draw(d,m)}return d},ellipseTo:function(d,m,y,T,C,R){var A=new s(0,0,d,m,y,T,C,R),P=this.getEndPoint(this._tmpVec2A),O=A.getStartPoint(this._tmpVec2B);return P.subtract(O),A.x=P.x,A.y=P.y,this.add(A)},fromJSON:function(d){this.curves=[],this.cacheLengths=[],this.startPoint.set(d.x,d.y),this.autoClose=d.autoClose;for(var m=0;m<d.curves.length;m++){var y=d.curves[m];switch(y.type){case"LineCurve":this.add(n.fromJSON(y));break;case"EllipseCurve":this.add(s.fromJSON(y));break;case"SplineCurve":this.add(l.fromJSON(y));break;case"CubicBezierCurve":this.add(u.fromJSON(y));break;case"QuadraticBezierCurve":this.add(r.fromJSON(y));break}}return this},getBounds:function(d,m){d===void 0&&(d=new f),m===void 0&&(m=16),d.x=Number.MAX_VALUE,d.y=Number.MAX_VALUE;for(var y=new f,T=c.MIN_SAFE_INTEGER,C=c.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var A=this.curves[R];A.active&&(A.getBounds(y,m),d.x=Math.min(d.x,y.x),d.y=Math.min(d.y,y.y),T=Math.max(T,y.right),C=Math.max(C,y.bottom))}return d.right=T,d.bottom=C,d},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var d=[],m=0,y=0;y<this.curves.length;y++)m+=this.curves[y].getLength(),d.push(m);return this.cacheLengths=d,d},getEndPoint:function(d){return d===void 0&&(d=new h),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,d):d.copy(this.startPoint),d},getLength:function(){var d=this.getCurveLengths();return d[d.length-1]},getPoint:function(d,m){m===void 0&&(m=new h);for(var y=d*this.getLength(),T=this.getCurveLengths(),C=0;C<T.length;){if(T[C]>=y){var R=T[C]-y,A=this.curves[C],P=A.getLength(),O=P===0?0:1-R/P;return A.getPointAt(O,m)}C++}return null},getPoints:function(d){d===void 0&&(d=12);for(var m=[],y,T=0;T<this.curves.length;T++){var C=this.curves[T];if(C.active)for(var R=C.getResolution(d),A=C.getPoints(R),P=0;P<A.length;P++){var O=A[P];y&&y.equals(O)||(m.push(O),y=O)}}return this.autoClose&&m.length>1&&!m[m.length-1].equals(m[0])&&m.push(m[0]),m},getRandomPoint:function(d){return d===void 0&&(d=new h),this.getPoint(Math.random(),d)},getSpacedPoints:function(d){d===void 0&&(d=40);for(var m=[],y=0;y<=d;y++)m.push(this.getPoint(y/d));return this.autoClose&&m.push(m[0]),m},getStartPoint:function(d){return d===void 0&&(d=new h),d.copy(this.startPoint)},getTangent:function(d,m){m===void 0&&(m=new h);for(var y=d*this.getLength(),T=this.getCurveLengths(),C=0;C<T.length;){if(T[C]>=y){var R=T[C]-y,A=this.curves[C],P=A.getLength(),O=P===0?0:1-R/P;return A.getTangentAt(O,m)}C++}return null},lineTo:function(d,m){d instanceof h?this._tmpVec2B.copy(d):this._tmpVec2B.set(d,m);var y=this.getEndPoint(this._tmpVec2A);return this.add(new n([y.x,y.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(d){return d.unshift(this.getEndPoint()),this.add(new l(d))},moveTo:function(d,m){return d instanceof h?this.add(new i(d.x,d.y)):this.add(new i(d,m))},toJSON:function(){for(var d=[],m=0;m<this.curves.length;m++)d.push(this.curves[m].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:d}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});a.register("path",function(d,m){return new v(d,m)}),o.exports=v},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DataManager:t(101),DataManagerPlugin:t(897),Events:t(315)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(101),s=t(24),a=t(20),n=new e({Extends:u,initialize:function(r){u.call(this,r,r.sys.events),this.scene=r,this.systems=r.sys,r.sys.events.once(a.BOOT,this.boot,this),r.sys.events.on(a.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){u.prototype.destroy.call(this),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("DataManagerPlugin",n,"data"),o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Align:t(899),BaseShader:t(396),Bounds:t(902),Canvas:t(906),Color:t(397),ColorMatrix:t(198),Masks:t(916),RGB:t(200)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),u=t(17),s={In:t(900),To:t(901)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BottomCenter:t(290),BottomLeft:t(291),BottomRight:t(292),Center:t(293),LeftCenter:t(295),QuickSet:t(289),RightCenter:t(296),TopCenter:t(297),TopLeft:t(298),TopRight:t(299)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BottomCenter:t(277),BottomLeft:t(278),BottomRight:t(279),LeftBottom:t(280),LeftCenter:t(281),LeftTop:t(282),QuickSet:t(276),RightBottom:t(283),RightCenter:t(284),RightTop:t(285),TopCenter:t(286),TopLeft:t(287),TopRight:t(288)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CenterOn:t(294),GetBottom:t(42),GetBounds:t(903),GetCenterX:t(87),GetCenterY:t(89),GetLeft:t(43),GetOffsetX:t(904),GetOffsetY:t(905),GetRight:t(44),GetTop:t(45),SetBottom:t(55),SetCenterX:t(88),SetCenterY:t(90),SetLeft:t(53),SetRight:t(54),SetTop:t(52)}},function(o,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(42),u=t(43),s=t(44),a=t(45),n=function(i,r){r===void 0&&(r={});var f=u(i),l=a(i);return r.x=f,r.y=l,r.width=s(i)-f,r.height=e(i)-l,r};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.originX};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.height*e.originY};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CanvasInterpolation:t(367),CanvasPool:t(31),Smoothing:t(192),TouchAction:t(907),UserSelect:t(908)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===void 0&&(u="none"),e.style.msTouchAction=u,e.style["ms-touch-action"]=u,e.style["touch-action"]=u,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u="none");var s=["-webkit-","-khtml-","-moz-","-ms-",""];return s.forEach(function(a){e.style[a+"user-select"]=u}),e.style["-webkit-touch-callout"]=u,e.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(103),u=function(s){s===void 0&&(s=1024);var a=[],n=255,i,r=255,f=0,l=0;for(i=0;i<=n;i++)a.push({r,g:i,b:l,color:e(r,i,l)});for(f=255,i=n;i>=0;i--)a.push({r:i,g:f,b:l,color:e(i,f,l)});for(r=0,i=0;i<=n;i++,f--)a.push({r,g:f,b:i,color:e(r,f,i)});for(f=0,l=255,i=0;i<=n;i++,l--,r++)a.push({r,g:f,b:l,color:e(r,f,l)});if(s===1024)return a;var h=[],c=0,v=1024/s;for(i=0;i<s;i++)h.push(a[Math.floor(c)]),c+=v;return h};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u={r:e>>16&255,g:e>>8&255,b:e&255,a:255};return e>16777215&&(u.a=e>>>24),u};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(38),u=t(399),s=function(a,n,i){var r=i,f=i,l=i;if(n!==0){var h=i<.5?i*(1+n):i+n-i*n,c=2*i-h;r=u(c,h,a+1/3),f=u(c,h,a),l=u(c,h,a-1/3)}var v=new e;return v.setGLTo(r,f,l,1)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(188),u=function(s,a){s===void 0&&(s=1),a===void 0&&(a=1);for(var n=[],i=0;i<=359;i++)n.push(e(i/359,s,a));return n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(135),u=function(n,i,r,f,l,h,c,v){c===void 0&&(c=100),v===void 0&&(v=0);var d=v/c;return{r:e(n,f,d),g:e(i,l,d),b:e(r,h,d)}},s=function(n,i,r,f){return r===void 0&&(r=100),f===void 0&&(f=0),u(n.r,n.g,n.b,i.r,i.g,i.b,r,f)},a=function(n,i,r,f,l,h){return l===void 0&&(l=100),h===void 0&&(h=0),u(n.r,n.g,n.b,i,r,f,l,h)};o.exports={RGBWithRGB:u,ColorWithRGB:a,ColorWithColor:s}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),u=t(38),s=function(a,n){return a===void 0&&(a=0),n===void 0&&(n=255),new u(e(a,n),e(a,n),e(a,n))};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(398),u=function(s,a,n,i,r){return i===void 0&&(i=255),r===void 0&&(r="#"),r==="#"?"#"+((1<<24)+(s<<16)+(a<<8)+n).toString(16).slice(1,7):"0x"+e(i)+e(s)+e(a)+e(n)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BitmapMask:t(310),GeometryMask:t(311)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={AddToDOM:t(142),DOMContentLoaded:t(400),GetInnerHeight:t(401),GetScreenOrientation:t(402),GetTarget:t(407),ParseXML:t(408),RemoveFromDOM:t(202),RequestAnimationFrame:t(386)};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={EventEmitter:t(919)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),s=t(24),a=new e({Extends:u,initialize:function(){u.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});s.register("EventEmitter",a,"events"),o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),u=t(321),s=t(325),a=t(31),n=t(0),i=t(346),r=t(921),f=t(366),l=t(101),h=t(384),c=t(347),v=t(400),d=t(9),m=t(22),y=t(409),T=t(24),C=t(414),R=t(415),A=t(417),P=t(106),O=t(422),b=t(385),D=t(387),N=t(426),B=new n({initialize:function(G){this.config=new i(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new d,this.anims=new u(this),this.textures=new O(this),this.cache=new s(this),this.registry=new l(this),this.input=new y(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=c,this.scale=new R(this,this.config),this.sound=null,this.sound=N.create(this),this.loop=new b(this,this.config.fps),this.plugins=new C(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,v(this.boot.bind(this))},boot:function(){if(!T.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),f(this),r(this),h(this),e(this.canvas,this.config.parent),this.textures.once(P.READY,this.texturesReady,this),this.events.emit(m.BOOT)},texturesReady:function(){this.events.emit(m.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),D(this);var U=this.events;U.on(m.HIDDEN,this.onHidden,this),U.on(m.VISIBLE,this.onVisible,this),U.on(m.BLUR,this.onBlur,this),U.on(m.FOCUS,this.onFocus,this)},step:function(U,G){if(this.pendingDestroy)return this.runDestroy();var W=this.events;W.emit(m.PRE_STEP,U,G),W.emit(m.STEP,U,G),this.scene.update(U,G),W.emit(m.POST_STEP,U,G);var $=this.renderer;$.preRender(),W.emit(m.PRE_RENDER,$,U,G),this.scene.render($),$.postRender(),W.emit(m.POST_RENDER,$,U,G)},headlessStep:function(U,G){if(this.pendingDestroy)return this.runDestroy();var W=this.events;W.emit(m.PRE_STEP,U,G),W.emit(m.STEP,U,G),this.scene.update(U,G),W.emit(m.POST_STEP,U,G),W.emit(m.PRE_RENDER),W.emit(m.POST_RENDER)},onHidden:function(){this.loop.pause(),this.events.emit(m.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(m.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(U,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=U,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(m.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(a.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});o.exports=B},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(142),u=function(s){var a=s.config;if(!(!a.parent||!a.domCreateContainer)){var n=document.createElement("div");n.style.cssText=["display: block;","width: "+s.scale.width+"px;","height: "+s.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+a.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),s.domContainer=n,e(n,a.parent)}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragenter"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragleave"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragover"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameout"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameover"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectdown"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragenter"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragleave"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragover"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectmove"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectout"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectover"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdown"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointermove"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerout"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerover"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerup"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wheel"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectup"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="gameobjectwheel"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="boot"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="process"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdown"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerdownoutside"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointermove"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerout"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerover"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerup"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerupoutside"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="wheel"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pointerlockchange"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="preupdate"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="shutdown"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="addfile"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="filecomplete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="filecomplete-"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loaderror"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="load"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="fileprogress"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="postprocess"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="progress"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(!s.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var a=e.source[u];e.add("__BASE",u,0,0,a.width,a.height);for(var n=s.getElementsByTagName("SubTexture"),i,r=0;r<n.length;r++){var f=n[r].attributes,l=f.name.value,h=parseInt(f.x.value,10),c=parseInt(f.y.value,10),v=parseInt(f.width.value,10),d=parseInt(f.height.value,10);if(i=e.add(l,u,h,c,v,d),f.frameX){var m=Math.abs(parseInt(f.frameX.value,10)),y=Math.abs(parseInt(f.frameY.value,10)),T=parseInt(f.frameWidth.value,10),C=parseInt(f.frameHeight.value,10);i.setTrim(v,d,m,y,T,C)}}return e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.source[u];return e.add("__BASE",u,0,0,s.width,s.height),e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.source[u];return e.add("__BASE",u,0,0,s.width,s.height),e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=function(s,a,n){if(!n.frames&&!n.textures){console.warn("Invalid Texture Atlas JSON Array");return}var i=s.source[a];s.add("__BASE",a,0,0,i.width,i.height);for(var r=Array.isArray(n.textures)?n.textures[a].frames:n.frames,f,l=0;l<r.length;l++){var h=r[l];f=s.add(h.filename,a,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&f.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(f.rotated=!0,f.updateUVsInverted());var c=h.anchor||h.pivot;c&&(f.customPivot=!0,f.pivotX=c.x,f.pivotY=c.y),f.customData=e(h)}for(var v in n)v!=="frames"&&(Array.isArray(n[v])?s.customData[v]=n[v].slice(0):s.customData[v]=n[v]);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=function(s,a,n){if(!n.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var i=s.source[a];s.add("__BASE",a,0,0,i.width,i.height);var r=n.frames,f;for(var l in r)if(r.hasOwnProperty(l)){var h=r[l];f=s.add(l,a,h.frame.x,h.frame.y,h.frame.w,h.frame.h),h.trimmed&&f.setTrim(h.sourceSize.w,h.sourceSize.h,h.spriteSourceSize.x,h.spriteSourceSize.y,h.spriteSourceSize.w,h.spriteSourceSize.h),h.rotated&&(f.rotated=!0,f.updateUVsInverted());var c=h.anchor||h.pivot;c&&(f.customPivot=!0,f.pivotX=c.x,f.pivotY=c.y),f.customData=e(h)}for(var v in n)v!=="frames"&&(Array.isArray(n[v])?s.customData[v]=n[v].slice(0):s.customData[v]=n[v]);return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(s,a,n,i,r,f,l){var h=e(l,"frameWidth",null),c=e(l,"frameHeight",h);if(h===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var v=s.source[a];s.add("__BASE",a,0,0,v.width,v.height);var d=e(l,"startFrame",0),m=e(l,"endFrame",-1),y=e(l,"margin",0),T=e(l,"spacing",0),C=Math.floor((r-y+T)/(h+T)),R=Math.floor((f-y+T)/(c+T)),A=C*R;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",s.key),(d>A||d<-A)&&(d=0),d<0&&(d=A+d),m!==-1&&(A=d+(m+1));for(var P=y,O=y,b=0,D=0,N=0;N<A;N++){b=0,D=0;var B=P+h,U=O+c;B>r&&(b=B-r),U>f&&(D=U-f),s.add(N,a,n+P,i+O,h-b,c-D),P+=h+T,P+h>r&&(P=y,O+=c+T)}return s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(2),u=function(s,a,n){var i=e(n,"frameWidth",null),r=e(n,"frameHeight",i);if(!i)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var f=s.source[0];s.add("__BASE",0,0,0,f.width,f.height),e(n,"startFrame",0),e(n,"endFrame",-1);for(var l=e(n,"margin",0),h=e(n,"spacing",0),c=a.cutX,v=a.cutY,d=a.cutWidth,m=a.cutHeight,y=a.realWidth,T=a.realHeight,C=Math.floor((y-l+h)/(i+h)),R=Math.floor((T-l+h)/(r+h)),A=a.x,P=i-A,O=i-(y-d-A),b=a.y,D=r-b,N=r-(T-m-b),B,U=l,G=l,W=0,$=a.sourceIndex,q=0;q<R;q++){for(var _=q===0,V=q===R-1,w=0;w<C;w++){var z=w===0,Y=w===C-1;if(B=s.add(W,$,c+U,v+G,i,r),z||_||Y||V){var H=z?A:0,j=_?b:0,Z=0,k=0;z&&(Z+=i-P),Y&&(Z+=i-O),_&&(k+=r-D),V&&(k+=r-N);var nt=i-Z,rt=r-k;B.cutWidth=nt,B.cutHeight=rt,B.setTrim(i,r,H,j,nt,rt)}U+=h,z?U+=P:Y?U+=O:U+=i,W++}U=l,G+=h,_?G+=D:V?G+=N:G+=r}return s};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=0,e=function(s,a,n,i){var r=t-i.y-i.height;s.add(n,a,i.x,r,i.width,i.height)},u=function(s,a,n){var i=s.source[a];s.add("__BASE",a,0,0,i.width,i.height),t=i.height;for(var r=n.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,l="",h="",c={x:0,y:0,width:0,height:0},v=0;v<r.length;v++){var d=r[v].match(f);if(d){var m=d[1]==="- ",y=d[2],T=d[3];if(m&&(h!==l&&(e(s,a,h,c),l=h),c={x:0,y:0,width:0,height:0}),y==="name"){h=T;continue}switch(y){case"x":case"y":case"width":case"height":c[y]=parseInt(T,10);break}}}return h!==l&&e(s,a,h,c),s};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="decoded"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="decodedall"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="destroy"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="detune"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="detune"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="mute"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="rate"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="volume"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="looped"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="mute"},function(o,x){/**
 * @author       pi-kei
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pan"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pauseall"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="play"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="rate"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resumeall"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="seek"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stopall"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="unlocked"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="volume"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Events:t(75),DisplayList:t(1012),GameObjectCreator:t(16),GameObjectFactory:t(5),UpdateList:t(1040),Components:t(11),GetCalcMatrix:t(19),BuildGameObject:t(28),BuildGameObjectAnimation:t(439),GameObject:t(15),BitmapText:t(148),Blitter:t(213),Bob:t(440),Container:t(214),DOMElement:t(442),DynamicBitmapText:t(215),Extern:t(444),Graphics:t(216),Group:t(113),Image:t(125),Layer:t(219),Particles:t(1074),PathFollower:t(457),RenderTexture:t(221),RetroFont:t(1082),Rope:t(223),Sprite:t(73),Text:t(224),GetTextSize:t(458),MeasureText:t(460),TextStyle:t(459),TileSprite:t(225),Zone:t(129),Video:t(226),Shape:t(34),Arc:t(461),Curve:t(462),Ellipse:t(463),Grid:t(464),IsoBox:t(465),IsoTriangle:t(466),Line:t(467),Polygon:t(468),Rectangle:t(473),Star:t(474),Triangle:t(475),Factories:{Blitter:t(1130),Container:t(1131),DOMElement:t(1132),DynamicBitmapText:t(1133),Extern:t(1134),Graphics:t(1135),Group:t(1136),Image:t(1137),Layer:t(1138),Particles:t(1139),PathFollower:t(1140),RenderTexture:t(1141),Rope:t(1142),Sprite:t(1143),StaticBitmapText:t(1144),Text:t(1145),TileSprite:t(1146),Zone:t(1147),Video:t(1148),Arc:t(1149),Curve:t(1150),Ellipse:t(1151),Grid:t(1152),IsoBox:t(1153),IsoTriangle:t(1154),Line:t(1155),Polygon:t(1156),Rectangle:t(1157),Star:t(1158),Triangle:t(1159)},Creators:{Blitter:t(1160),Container:t(1161),DynamicBitmapText:t(1162),Graphics:t(1163),Group:t(1164),Image:t(1165),Layer:t(1166),Particles:t(1167),RenderTexture:t(1168),Rope:t(1169),Sprite:t(1170),StaticBitmapText:t(1171),Text:t(1172),TileSprite:t(1173),Zone:t(1174),Video:t(1175)}};e.Shader=t(229),e.Mesh=t(230),e.PointLight=t(150),e.Factories.Shader=t(1184),e.Factories.Mesh=t(1185),e.Factories.PointLight=t(1186),e.Creators.Shader=t(1187),e.Creators.Mesh=t(1188),e.Creators.PointLight=t(1189),e.Light=t(481),e.LightsManager=t(482),e.LightsPlugin=t(1190),o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(110),s=t(24),a=t(75),n=t(20),i=t(79),r=new e({Extends:u,initialize:function(l){u.call(this,l),this.sortChildrenFlag=!1,this.scene=l,this.systems=l.sys,this.events=l.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},addChildCallback:function(f){f.displayList&&f.displayList!==this&&f.removeFromDisplayList(),f.displayList||(this.queueDepthSort(),f.displayList=this,f.emit(a.ADDED_TO_SCENE,f,this.scene),this.events.emit(n.ADDED_TO_SCENE,f,this.scene))},removeChildCallback:function(f){this.queueDepthSort(),f.displayList=null,f.emit(a.REMOVED_FROM_SCENE,f,this.scene),this.events.emit(n.REMOVED_FROM_SCENE,f,this.scene)},start:function(){this.events.once(n.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(i(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(f,l){return f._depth-l._depth},getChildren:function(){return this.list},shutdown:function(){for(var f=this.list,l=f.length;l--;)f[l].destroy(!0);f.length=0,this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});s.register("DisplayList",r,"displayList"),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CheckMatrix:t(209),MatrixToString:t(1014),ReverseColumns:t(1015),ReverseRows:t(1016),Rotate180:t(1017),RotateLeft:t(1018),RotateMatrix:t(147),RotateRight:t(1019),Translate:t(1020),TransposeMatrix:t(435)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(186),u=t(209),s=function(a){var n="";if(!u(a))return n;for(var i=0;i<a.length;i++){for(var r=0;r<a[i].length;r++){var f=a[i][r].toString();f!=="undefined"?n+=e(f,2):n+="?",r<a[i].length-1&&(n+=" |")}if(i<a.length-1){n+=`
`;for(var l=0;l<a[i].length;l++)n+="---",l<a[i].length-1&&(n+="+");n+=`
`}}return n};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.reverse()};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){for(var u=0;u<e.length;u++)e[u].reverse();return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),u=function(s){return e(s,180)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),u=function(s){return e(s,90)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(147),u=function(s){return e(s,-90)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(178),u=t(179),s=function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),i!==0&&(i<0?e(a,Math.abs(i)):u(a,i)),n!==0)for(var r=0;r<a.length;r++){var f=a[r];n<0?e(f,Math.abs(n)):u(f,n)}return a};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n){if(n===void 0&&(n=e),s>0){var i=s-e.length;if(i<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.push(u),a&&a.call(n,u),u):null;for(var r=u.length-1;r>=0;)e.indexOf(u[r])!==-1&&u.splice(r,1),r--;if(r=u.length,r===0)return null;s>0&&r>i&&(u.splice(i),r=i);for(var f=0;f<r;f++){var l=u[f];e.push(l),a&&a.call(n,l)}return u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n,i){if(s===void 0&&(s=0),i===void 0&&(i=e),a>0){var r=a-e.length;if(r<=0)return null}if(!Array.isArray(u))return e.indexOf(u)===-1?(e.splice(s,0,u),n&&n.call(i,u),u):null;for(var f=u.length-1;f>=0;)e.indexOf(u[f])!==-1&&u.pop(),f--;if(f=u.length,f===0)return null;a>0&&f>r&&(u.splice(r),f=r);for(var l=f-1;l>=0;l--){var h=u[l];e.splice(s,0,h),n&&n.call(i,h)}return u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.indexOf(u);return s!==-1&&s<e.length&&(e.splice(s,1),e.push(u)),u};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(s,a,n,i,r){i===void 0&&(i=0),r===void 0&&(r=s.length);var f=0;if(e(s,i,r))for(var l=i;l<r;l++){var h=s[l];h[a]===n&&f++}return f};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a,n=[null];for(a=3;a<arguments.length;a++)n.push(arguments[a]);for(a=0;a<e.length;a++)n[0]=e[a],u.apply(s,n);return e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(s,a,n,i,r){if(i===void 0&&(i=0),r===void 0&&(r=s.length),e(s,i,r)){var f,l=[null];for(f=5;f<arguments.length;f++)l.push(arguments[f]);for(f=i;f<r;f++)l[0]=s[f],a.apply(n,l)}return s};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.indexOf(u);if(s>0){var a=e[s-1],n=e.indexOf(a);e[s]=a,e[n]=u}return e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=e.indexOf(u);if(a===-1||s<0||s>=e.length)throw new Error("Supplied index out of bounds");return a!==s&&(e.splice(a,1),e.splice(s,0,u)),u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.indexOf(u);if(s!==-1&&s<e.length-1){var a=e[s+1],n=e.indexOf(a);e[s]=a,e[n]=u}return e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(u===s)return e;var a=e.indexOf(u),n=e.indexOf(s);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return a>n||(e.splice(a,1),n===e.length-1?e.push(u):e.splice(n,0,u)),e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(u===s)return e;var a=e.indexOf(u),n=e.indexOf(s);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return a<n||(e.splice(a,1),n===0?e.unshift(u):e.splice(n,0,u)),e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(363),u=function(s,a,n){s===void 0&&(s=0),a===void 0&&(a=null),n===void 0&&(n=1),a===null&&(a=s,s=0);for(var i=[],r=Math.max(e((a-s)/(n||1)),0),f=0;f<r;f++)i.push(s),s+=n;return i};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),u=function(s,a,n,i){if(i===void 0&&(i=s),a<0||a>s.length-1)throw new Error("Index out of bounds");var r=e(s,a);return n&&n.call(i,r),r};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(s,a,n,i,r){if(a===void 0&&(a=0),n===void 0&&(n=s.length),r===void 0&&(r=s),e(s,a,n)){var f=n-a,l=s.splice(a,f);if(i)for(var h=0;h<l.length;h++){var c=l[h];i.call(r,c)}return l}else return[]};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(74),u=function(s,a,n){a===void 0&&(a=0),n===void 0&&(n=s.length);var i=a+Math.floor(Math.random()*n);return e(s,i)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=e.indexOf(u),n=e.indexOf(s);return a!==-1&&n===-1?(e[a]=s,!0):!1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.indexOf(u);return s!==-1&&s>0&&(e.splice(s,1),e.unshift(u)),u};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(78),u=function(s,a,n,i,r){if(i===void 0&&(i=0),r===void 0&&(r=s.length),e(s,i,r))for(var f=i;f<r;f++){var l=s[f];l.hasOwnProperty(a)&&(l[a]=n)}return s};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){if(u===s)return e;var a=e.indexOf(u),n=e.indexOf(s);if(a<0||n<0)throw new Error("Supplied items must be elements of the same array");return e[a]=s,e[n]=u,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(211),s=t(24),a=t(20),n=new e({Extends:u,initialize:function(r){u.call(this),this.checkQueue=!0,this.scene=r,this.systems=r.sys,r.sys.events.once(a.BOOT,this.boot,this),r.sys.events.on(a.START,this.start,this)},boot:function(){this.systems.events.once(a.DESTROY,this.destroy,this)},start:function(){var i=this.systems.events;i.on(a.PRE_UPDATE,this.update,this),i.on(a.UPDATE,this.sceneUpdate,this),i.once(a.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(i,r){for(var f=this._active,l=f.length,h=0;h<l;h++){var c=f[h];c.active&&c.preUpdate.call(c,i,r)}},shutdown:function(){for(var i=this._active.length;i--;)this._active[i].destroy(!0);for(i=this._pending.length;i--;)this._pending[i].destroy(!0);for(i=this._destroy.length;i--;)this._destroy[i].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var r=this.systems.events;r.off(a.PRE_UPDATE,this.update,this),r.off(a.UPDATE,this.sceneUpdate,this),r.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(a.START,this.start,this),this.scene=null,this.systems=null}});s.register("UpdateList",n,"updateList"),o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="add"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="remove"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){if(s===void 0&&(s=!1),a===void 0)return a={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},a;var n=e.text,i=n.length,r=e.maxWidth,f=e.wordWrapCharCode,l=Number.MAX_VALUE,h=Number.MAX_VALUE,c=0,v=0,d=e.fontData.chars,m=e.fontData.lineHeight,y=e.letterSpacing,T=0,C=0,R=0,A=null,P=e._align,O=0,b=0,D=e.fontSize/e.fontData.size,N=D*e.scaleX,B=D*e.scaleY,U=null,G=0,W=[],$=Number.MAX_VALUE,q=0,_=0,V=0,w,z=[],Y=[],H=null;if(r>0){for(w=0;w<i;w++){if(R=n.charCodeAt(w),R===10){H!==null&&(z.push({word:H.word,i:H.i,x:H.x*N,y:H.y*B,w:H.w*N,h:H.h*B,cr:!0}),H=null),T=0,C+=m,U=null;continue}if(A=d[R],!!A){if(U!==null)var j=A.kerning[G];R===f?H!==null&&(z.push({word:H.word,i:H.i,x:H.x*N,y:H.y*B,w:H.w*N,h:H.h*B,cr:!1}),H=null):(H===null&&(H={word:"",i:w,x:T,y:C,w:0,h:m,cr:!1}),H.word=H.word.concat(n[w]),H.w+=A.xOffset+A.xAdvance+(j!==void 0?j:0)),T+=A.xAdvance+y,U=A,G=R}}H!==null&&z.push({word:H.word,i:H.i,x:H.x*N,y:H.y*B,w:H.w*N,h:H.h*B,cr:!1}),T=0,C=0,U=null,G=0;var Z,k=0,nt=[];for(w=0;w<z.length;w++){var rt=z[w],ht=rt.x,vt=rt.x+rt.w;if(Z){var ot=ht-(Z.x+Z.w);k=ht-(ot+Z.w),Z=null}var Et=ht-k,Tt=vt-k;Et>r||Tt>r?(nt.push(rt.i-1),rt.cr?(nt.push(rt.i+rt.word.length),k=0,Z=null):Z=rt):rt.cr&&(nt.push(rt.i+rt.word.length),k=0,Z=null)}var Pt=function(Re,Me,Gt){return Re.substr(0,Me)+Gt+Re.substr(Me+1)};for(w=nt.length-1;w>=0;w--)n=Pt(n,nt[w],`
`);a.wrappedText=n,i=n.length,z=[],H=null}var Xt=0;for(w=0;w<i;w++){if(R=n.charCodeAt(w),R===10){H!==null&&(z.push({word:H.word,i:H.i,x:H.x*N,y:H.y*B,w:H.w*N,h:H.h*B}),H=null),T=0,C+=m,U=null,W[_]=V,V>q&&(q=V),V<$&&($=V),_++,V=0;continue}if(A=d[R],!!A){if(O=T,b=C,U!==null){var zt=A.kerning[G];O+=zt!==void 0?zt:0}l>O&&(l=O),h>b&&(h=b);var Ut=O+A.xAdvance,Mt=b+m;c<Ut&&(c=Ut),v<Mt&&(v=Mt);var ne=A.xOffset+A.xAdvance+(zt!==void 0?zt:0);R===f?H!==null&&(z.push({word:H.word,i:H.i,x:H.x*N,y:H.y*B,w:H.w*N,h:H.h*B}),H=null):(H===null&&(H={word:"",i:Xt,x:T,y:C,w:0,h:m}),H.word=H.word.concat(n[w]),H.w+=ne),Y.push({i:Xt,char:n[w],code:R,x:(A.xOffset+T)*D,y:(A.yOffset+C)*D,w:A.width*D,h:A.height*D,t:C*D,r:Ut*D,b:m*D,line:_,glyph:A}),T+=A.xAdvance+y,U=A,G=R,V=Ut*D,Xt++}}if(H!==null&&z.push({word:H.word,i:H.i,x:H.x*N,y:H.y*B,w:H.w*N,h:H.h*B}),W[_]=V,V>q&&(q=V),V<$&&($=V),P>0)for(var Vt=0;Vt<Y.length;Vt++){var Zt=Y[Vt];if(P===1){var ye=(q-W[Zt.line])/2;Zt.x+=ye,Zt.r+=ye}else if(P===2){var Se=q-W[Zt.line];Zt.x+=Se,Zt.r+=Se}}var Bt=a.local,_t=a.global,ie=a.lines;return Bt.x=l*D,Bt.y=h*D,Bt.width=c*D,Bt.height=v*D,_t.x=e.x-e._displayOriginX+l*N,_t.y=e.y-e._displayOriginY+h*B,_t.width=c*N,_t.height=v*B,ie.shortest=$,ie.longest=q,ie.lengths=W,u&&(Bt.x=Math.ceil(Bt.x),Bt.y=Math.ceil(Bt.y),Bt.width=Math.ceil(Bt.width),Bt.height=Math.ceil(Bt.height),_t.x=Math.ceil(_t.x),_t.y=Math.ceil(_t.y),_t.width=Math.ceil(_t.width),_t.height=Math.ceil(_t.height),ie.shortest=Math.ceil($),ie.longest=Math.ceil(q)),s&&(e._displayOriginX=e.originX*Bt.width,e._displayOriginY=e.originY*Bt.height,_t.x=e.x-e._displayOriginX*e.scaleX,_t.y=e.y-e._displayOriginY*e.scaleY,u&&(_t.x=Math.ceil(_t.x),_t.y=Math.ceil(_t.y))),a.words=z,a.characters=Y,a.lines.height=m,a.scale=D,a.scaleX=e.scaleX,a.scaleY=e.scaleY,a};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(212),u=function(s,a,n,i,r,f,l){var h=s.sys.textures.get(n),c=h.get(i),v=s.sys.cache.xml.get(r);if(c&&v){var d=e(v,c,f,l,h);return s.sys.cache.bitmapFont.add(a,{data:d,texture:n,frame:i,fromAtlas:!0}),!0}else return!1};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1046),u=t(1048),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1047),u=t(19),s=t(12),a=function(n,i,r,f){var l=i._text,h=l.length;if(h!==0){r.addToRenderList(i);var c=n.pipelines.set(i.pipeline,i),v=u(i,r,f).calc,d=r.roundPixels,m=r.alpha,y=i.charColors,T=i.tintFill,C=s.getTintAppendFloatAlpha,R=C(i.tintTopLeft,m*i._alphaTL),A=C(i.tintTopRight,m*i._alphaTR),P=C(i.tintBottomLeft,m*i._alphaBL),O=C(i.tintBottomRight,m*i._alphaBR),b=i.frame.glTexture,D=c.setGameObject(i),N=i.getTextBounds(!1),B,U,G,W=N.characters,$=i.dropShadowX,q=i.dropShadowY,_=$!==0||q!==0;if(n.pipelines.preBatch(i),_){var V=i.dropShadowColor,w=i.dropShadowAlpha,z=C(V,m*w*i._alphaTL),Y=C(V,m*w*i._alphaTR),H=C(V,m*w*i._alphaBL),j=C(V,m*w*i._alphaBR);for(B=0;B<W.length;B++)U=W[B],G=U.glyph,!(U.code===32||G.width===0||G.height===0)&&e(c,i,U,G,$,q,v,d,z,Y,H,j,1,b,D)}for(B=0;B<W.length;B++)if(U=W[B],G=U.glyph,!(U.code===32||G.width===0||G.height===0))if(y[U.i]){var Z=y[U.i],k=Z.tintEffect,nt=C(Z.tintTL,m*i._alphaTL),rt=C(Z.tintTR,m*i._alphaTR),ht=C(Z.tintBL,m*i._alphaBL),vt=C(Z.tintBR,m*i._alphaBR);e(c,i,U,G,0,0,v,d,nt,rt,ht,vt,k,b,D)}else e(c,i,U,G,0,0,v,d,R,A,P,O,T,b,D);n.pipelines.postBatch(i)}};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n,i,r,f,l,h,c,v,d,m,y){var T=s.x-u.displayOriginX+n,C=s.y-u.displayOriginY+i,R=T+s.w,A=C+s.h,P=r.getXRound(T,C,f),O=r.getYRound(T,C,f),b=r.getXRound(T,A,f),D=r.getYRound(T,A,f),N=r.getXRound(R,A,f),B=r.getYRound(R,A,f),U=r.getXRound(R,C,f),G=r.getYRound(R,C,f);e.batchQuad(u,P,O,b,D,N,B,U,G,a.u0,a.v0,a.u1,a.v1,l,h,c,v,d,m,y)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),u=function(s,a,n,i){var r=a._text,f=r.length,l=s.currentContext;if(!(f===0||!e(s,l,a,n,i))){n.addToRenderList(a);var h=a.fromAtlas?a.frame:a.texture.frames.__BASE,c=a.fontData.chars,v=a.fontData.lineHeight,d=a._letterSpacing,m=0,y=0,T=0,C=null,R=0,A=0,P=0,O=0,b=0,D=0,N=null,B=0,U=h.source.image,G=h.cutX,W=h.cutY,$=a._fontSize/a.fontData.size,q=a._align,_=0,V=0,w=a.getTextBounds(!1);a.maxWidth>0&&(r=w.wrappedText,f=r.length);var z=a._bounds.lines;q===1?V=(z.longest-z.lengths[0])/2:q===2&&(V=z.longest-z.lengths[0]),l.translate(-a.displayOriginX,-a.displayOriginY);for(var Y=n.roundPixels,H=0;H<f;H++){if(T=r.charCodeAt(H),T===10){_++,q===1?V=(z.longest-z.lengths[_])/2:q===2&&(V=z.longest-z.lengths[_]),m=0,y+=v,N=null;continue}if(C=c[T],!!C){if(R=G+C.x,A=W+C.y,P=C.width,O=C.height,b=C.xOffset+m,D=C.yOffset+y,N!==null){var j=C.kerning[B];b+=j!==void 0?j:0}b*=$,D*=$,b+=V,m+=C.xAdvance+d,N=C,B=T,!(P===0||O===0||T===32)&&(Y&&(b=Math.round(b),D=Math.round(D)),l.save(),l.translate(b,D),l.scale($,$),l.drawImage(U,R,A,P,O,0,0,P,O),l.restore())}}l.restore()}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1050),u=t(1051),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=t(12),s=new e,a=function(n,i,r,f){var l=i.getRenderList();if(l.length!==0){var h=r.alpha*i.alpha;if(h!==0){r.addToRenderList(i);var c=n.pipelines.set(this.pipeline,i),v=r.scrollX*i.scrollFactorX,d=r.scrollY*i.scrollFactorY,m=s.copyFrom(r.matrix);f&&(m.multiplyWithOffset(f,-v,-d),v=0,d=0);var y=i.x-v,T=i.y-d,C=-1,R=!1,A=r.roundPixels;n.pipelines.preBatch(i);for(var P=0;P<l.length;P++){var O=l[P],b=O.frame,D=O.alpha*h;if(D!==0){var N=b.width,B=b.height,U=y+O.x+b.x,G=T+O.y+b.y;O.flipX&&(N*=-1,U+=b.width),O.flipY&&(B*=-1,G+=b.height);var W=U+N,$=G+B,q=m.getX(U,G),_=m.getY(U,G),V=m.getX(W,$),w=m.getY(W,$),z=u.getTintAppendFloatAlpha(O.tint,D);if(b.sourceIndex!==C){var Y=c.setGameObject(i,b);C=b.sourceIndex}A&&(q=Math.round(q),_=Math.round(_),V=Math.round(V),w=Math.round(w)),c.batchQuad(i,q,_,q,w,V,w,V,_,b.u0,b.v0,b.u1,b.v1,z,z,z,z,R,b.glTexture,Y)&&(C=-1)}}n.pipelines.postBatch(i)}}};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n=u.getRenderList();if(n.length!==0){var i=e.currentContext,r=s.alpha*u.alpha;if(r!==0){s.addToRenderList(u),i.globalCompositeOperation=e.blendModes[u.blendMode],i.imageSmoothingEnabled=!(!e.antialias||u.frame.source.scaleMode);var f=u.x-s.scrollX*u.scrollFactorX,l=u.y-s.scrollY*u.scrollFactorY;i.save(),a&&a.copyToContext(i);for(var h=s.roundPixels,c=0;c<n.length;c++){var v=n[c],d=v.flipX||v.flipY,m=v.frame,y=m.canvasData,T=m.x,C=m.y,R=1,A=1,P=v.alpha*r;P!==0&&(i.globalAlpha=P,d?(v.flipX&&(R=-1,T-=y.width),v.flipY&&(A=-1,C-=y.height),i.save(),i.translate(v.x+f,v.y+l),i.scale(R,A),i.drawImage(m.source.image,y.x,y.y,y.width,y.height,T,C,y.width,y.height),i.restore()):(h&&(T=Math.round(T),C=Math.round(C)),i.drawImage(m.source.image,y.x,y.y,y.width,y.height,T+v.x+f,C+v.y+l,y.width,y.height)))}i.restore()}}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1053),u=t(1054),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s.addToRenderList(u);var n=u.list,i=n.length;if(i!==0){var r=u.localTransform;a?(r.loadIdentity(),r.multiply(a),r.translate(u.x,u.y),r.rotate(u.rotation),r.scale(u.scaleX,u.scaleY)):r.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),e.pipelines.preBatch(u);var f=u.blendMode!==-1;f||e.setBlendMode(0);for(var l=u.alpha,h=u.scrollFactorX,c=u.scrollFactorY,v=0;v<i;v++){var d=n[v];if(d.willRender(s)){var m,y,T,C;if(d.alphaTopLeft!==void 0)m=d.alphaTopLeft,y=d.alphaTopRight,T=d.alphaBottomLeft,C=d.alphaBottomRight;else{var R=d.alpha;m=R,y=R,T=R,C=R}var A=d.scrollFactorX,P=d.scrollFactorY;!f&&d.blendMode!==e.currentBlendMode&&e.setBlendMode(d.blendMode);var O=d.mask;O&&O.preRenderWebGL(e,d,s);var b=d.type;b!==e.currentType&&(e.newType=!0,e.currentType=b),e.nextTypeMatch=v<i-1?n[v+1].type===e.currentType:!1,d.setScrollFactor(A*h,P*c),d.setAlpha(m*l,y*l,T*l,C*l),d.renderWebGL(e,d,s,r),d.setAlpha(m,y,T,C),d.setScrollFactor(A,P),O&&O.postRenderWebGL(e,s),e.newType=!1}}e.pipelines.postBatch(u)}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s.addToRenderList(u);var n=u.list;if(n.length!==0){var i=u.localTransform;a?(i.loadIdentity(),i.multiply(a),i.translate(u.x,u.y),i.rotate(u.rotation),i.scale(u.scaleX,u.scaleY)):i.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var r=u.blendMode!==-1;r||e.setBlendMode(0);var f=u._alpha,l=u.scrollFactorX,h=u.scrollFactorY;u.mask&&u.mask.preRenderCanvas(e,null,s);for(var c=0;c<n.length;c++){var v=n[c];if(v.willRender(s)){var d=v.alpha,m=v.scrollFactorX,y=v.scrollFactorY;!r&&v.blendMode!==e.currentBlendMode&&e.setBlendMode(v.blendMode),v.setScrollFactor(m*l,y*h),v.setAlpha(d*f),v.renderCanvas(e,v,s,i),v.setAlpha(d),v.setScrollFactor(m,y)}}u.mask&&u.mask.postRenderCanvas(e)}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(443),u=t(443),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1058),u=t(1059),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(25),s=t(12),a=new u,n=function(i,r,f,l){var h=r.text,c=h.length;if(c!==0){f.addToRenderList(r);var v=i.pipelines.set(r.pipeline,r),d=e(r,f,l),m=d.sprite,y=d.calc,T=a,C=r.cropWidth>0||r.cropHeight>0;C&&(v.flush(),i.pushScissor(y.tx,y.ty,r.cropWidth*y.scaleX,r.cropHeight*y.scaleY));var R=r.frame,A=R.glTexture,P=r.tintFill,O=s.getTintAppendFloatAlpha(r.tintTopLeft,f.alpha*r._alphaTL),b=s.getTintAppendFloatAlpha(r.tintTopRight,f.alpha*r._alphaTR),D=s.getTintAppendFloatAlpha(r.tintBottomLeft,f.alpha*r._alphaBL),N=s.getTintAppendFloatAlpha(r.tintBottomRight,f.alpha*r._alphaBR),B=v.setGameObject(r),U=0,G=0,W=0,$=0,q=r.letterSpacing,_,V=0,w=0,z,Y=r.scrollX,H=r.scrollY,j=r.fontData,Z=j.chars,k=j.lineHeight,nt=r.fontSize/j.size,rt=0,ht=r._align,vt=0,ot=0,Et=r.getTextBounds(!1);r.maxWidth>0&&(h=Et.wrappedText,c=h.length);var Tt=r._bounds.lines;ht===1?ot=(Tt.longest-Tt.lengths[0])/2:ht===2&&(ot=Tt.longest-Tt.lengths[0]);var Pt=f.roundPixels,Xt=r.displayCallback,zt=r.callbackData;i.pipelines.preBatch(r);for(var Ut=0;Ut<c;Ut++){if(W=h.charCodeAt(Ut),W===10){vt++,ht===1?ot=(Tt.longest-Tt.lengths[vt])/2:ht===2&&(ot=Tt.longest-Tt.lengths[vt]),U=0,G+=k,z=null;continue}if(_=Z[W],!!_){V=_.width,w=_.height;var Mt=_.xOffset+U-Y,ne=_.yOffset+G-H;if(z!==null){var Vt=_.kerning[$];Mt+=Vt!==void 0?Vt:0}if(U+=_.xAdvance+q,z=_,$=W,!(V===0||w===0||W===32)){if(nt=r.fontSize/r.fontData.size,rt=0,Xt){zt.color=0,zt.tint.topLeft=O,zt.tint.topRight=b,zt.tint.bottomLeft=D,zt.tint.bottomRight=N,zt.index=Ut,zt.charCode=W,zt.x=Mt,zt.y=ne,zt.scale=nt,zt.rotation=rt,zt.data=_.data;var Zt=Xt(zt);Mt=Zt.x,ne=Zt.y,nt=Zt.scale,rt=Zt.rotation,Zt.color?(O=Zt.color,b=Zt.color,D=Zt.color,N=Zt.color):(O=Zt.tint.topLeft,b=Zt.tint.topRight,D=Zt.tint.bottomLeft,N=Zt.tint.bottomRight),O=s.getTintAppendFloatAlpha(O,f.alpha*r._alphaTL),b=s.getTintAppendFloatAlpha(b,f.alpha*r._alphaTR),D=s.getTintAppendFloatAlpha(D,f.alpha*r._alphaBL),N=s.getTintAppendFloatAlpha(N,f.alpha*r._alphaBR)}Mt*=nt,ne*=nt,Mt-=r.displayOriginX,ne-=r.displayOriginY,Mt+=ot,T.applyITRS(Mt,ne,rt,nt,nt),y.multiply(T,m);var ye=_.u0,Se=_.v0,Bt=_.u1,_t=_.v1,ie=V,Re=w,Me=m.e,Gt=m.f,At=Re*m.c+m.e,wt=Re*m.d+m.f,se=ie*m.a+Re*m.c+m.e,ae=ie*m.b+Re*m.d+m.f,le=ie*m.a+m.e,Ee=ie*m.b+m.f;Pt&&(Me=Math.round(Me),Gt=Math.round(Gt),At=Math.round(At),wt=Math.round(wt),se=Math.round(se),ae=Math.round(ae),le=Math.round(le),Ee=Math.round(Ee)),v.batchQuad(r,Me,Gt,At,wt,se,ae,le,Ee,ye,Se,Bt,_t,O,b,D,N,P,A,B)}}}C&&(v.flush(),i.popScissor()),i.pipelines.postBatch(r)}};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(30),u=function(s,a,n,i){var r=a._text,f=r.length,l=s.currentContext;if(!(f===0||!e(s,l,a,n,i))){n.addToRenderList(a);var h=a.fromAtlas?a.frame:a.texture.frames.__BASE,c=a.displayCallback,v=a.callbackData,d=a.fontData.chars,m=a.fontData.lineHeight,y=a._letterSpacing,T=0,C=0,R=0,A=null,P=0,O=0,b=0,D=0,N=0,B=0,U=null,G=0,W=a.frame.source.image,$=h.cutX,q=h.cutY,_=0,V=0,w=a._fontSize/a.fontData.size,z=a._align,Y=0,H=0;a.getTextBounds(!1);var j=a._bounds.lines;z===1?H=(j.longest-j.lengths[0])/2:z===2&&(H=j.longest-j.lengths[0]),l.translate(-a.displayOriginX,-a.displayOriginY);var Z=n.roundPixels;a.cropWidth>0&&a.cropHeight>0&&(l.beginPath(),l.rect(0,0,a.cropWidth,a.cropHeight),l.clip());for(var k=0;k<f;k++){if(V=w,_=0,R=r.charCodeAt(k),R===10){Y++,z===1?H=(j.longest-j.lengths[Y])/2:z===2&&(H=j.longest-j.lengths[Y]),T=0,C+=m,U=null;continue}if(A=d[R],!!A){if(P=$+A.x,O=q+A.y,b=A.width,D=A.height,N=A.xOffset+T-a.scrollX,B=A.yOffset+C-a.scrollY,U!==null){var nt=A.kerning[G];N+=nt!==void 0?nt:0}if(c){v.index=k,v.charCode=R,v.x=N,v.y=B,v.scale=V,v.rotation=_,v.data=A.data;var rt=c(v);N=rt.x,B=rt.y,V=rt.scale,_=rt.rotation}N*=V,B*=V,N+=H,T+=A.xAdvance+y,U=A,G=R,!(b===0||D===0||R===32)&&(Z&&(N=Math.round(N),B=Math.round(B)),l.save(),l.translate(N,B),l.rotate(_),l.scale(V,V),l.drawImage(W,P,O,b,D,0,0,b,D),l.restore())}}l.restore()}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1061),u=t(1062),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(s,a,n,i){s.pipelines.clear();var r=e(a,n,i).calc;a.render.call(a,s,n,r),s.pipelines.rebind()};o.exports=u},function(o,x){},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1064),u=t(448),u=t(448),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(217),u=t(19),s=t(25),a=t(12),n=function(h,c,v){this.x=h,this.y=c,this.width=v},i=function(h,c,v){this.points=[],this.pointsLength=1,this.points[0]=new n(h,c,v)},r=[],f=new s,l=function(h,c,v,d){if(c.commandBuffer.length!==0){v.addToRenderList(c);var m=h.pipelines.set(c.pipeline,c);h.pipelines.preBatch(c);for(var y=u(c,v,d).calc,T=f.loadIdentity(),C=c.commandBuffer,R=v.alpha*c.alpha,A=1,P=m.fillTint,O=m.strokeTint,b=0,D=0,N=0,B=.01,U=Math.PI*2,G,W=[],$=0,q=!0,_=null,V=a.getTintAppendFloatAlpha,w=0;w<C.length;w++)switch(G=C[w],G){case e.BEGIN_PATH:{W.length=0,_=null,q=!0;break}case e.CLOSE_PATH:{q=!1,_&&_.points.length&&_.points.push(_.points[0]);break}case e.FILL_PATH:{for($=0;$<W.length;$++)m.batchFillPath(W[$].points,T,y);break}case e.STROKE_PATH:{for($=0;$<W.length;$++)m.batchStrokePath(W[$].points,A,q,T,y);break}case e.LINE_STYLE:{A=C[++w];var z=C[++w],Y=C[++w]*R,H=V(z,Y);O.TL=H,O.TR=H,O.BL=H,O.BR=H;break}case e.FILL_STYLE:{var j=C[++w],Z=C[++w]*R,k=V(j,Z);P.TL=k,P.TR=k,P.BL=k,P.BR=k;break}case e.GRADIENT_FILL_STYLE:{var nt=C[++w]*R,rt=C[++w]*R,ht=C[++w]*R,vt=C[++w]*R;P.TL=V(C[++w],nt),P.TR=V(C[++w],rt),P.BL=V(C[++w],ht),P.BR=V(C[++w],vt);break}case e.GRADIENT_LINE_STYLE:{A=C[++w];var ot=C[++w]*R;O.TL=V(C[++w],ot),O.TR=V(C[++w],ot),O.BL=V(C[++w],ot),O.BR=V(C[++w],ot);break}case e.ARC:{var Et=0,Tt=C[++w],Pt=C[++w],Xt=C[++w],zt=C[++w],Ut=C[++w],Mt=C[++w],ne=C[++w];for(Ut-=zt,Mt?Ut<-U?Ut=-U:Ut>0&&(Ut=-U+Ut%U):Ut>U?Ut=U:Ut<0&&(Ut=U+Ut%U),_===null&&(_=new i(Tt+Math.cos(zt)*Xt,Pt+Math.sin(zt)*Xt,A),W.push(_),Et+=B);Et<1+ne;)N=Ut*Et+zt,b=Tt+Math.cos(N)*Xt,D=Pt+Math.sin(N)*Xt,_.points.push(new n(b,D,A)),Et+=B;N=Ut+zt,b=Tt+Math.cos(N)*Xt,D=Pt+Math.sin(N)*Xt,_.points.push(new n(b,D,A));break}case e.FILL_RECT:{m.batchFillRect(C[++w],C[++w],C[++w],C[++w],T,y);break}case e.FILL_TRIANGLE:{m.batchFillTriangle(C[++w],C[++w],C[++w],C[++w],C[++w],C[++w],T,y);break}case e.STROKE_TRIANGLE:{m.batchStrokeTriangle(C[++w],C[++w],C[++w],C[++w],C[++w],C[++w],A,T,y);break}case e.LINE_TO:{_!==null?_.points.push(new n(C[++w],C[++w],A)):(_=new i(C[++w],C[++w],A),W.push(_));break}case e.MOVE_TO:{_=new i(C[++w],C[++w],A),W.push(_);break}case e.SAVE:{r.push(T.copyToArray());break}case e.RESTORE:{T.copyFromArray(r.pop());break}case e.TRANSLATE:{Tt=C[++w],Pt=C[++w],T.translate(Tt,Pt);break}case e.SCALE:{Tt=C[++w],Pt=C[++w],T.scale(Tt,Pt);break}case e.ROTATE:{T.rotate(C[++w]);break}}h.pipelines.postBatch(c)}};o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1066),u=t(1067),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s.addToRenderList(u),u.pipeline.batchSprite(u,s,a)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s.addToRenderList(u),e.batchSprite(u,u.frame,s,a)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1069),u=t(1070),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s.addToRenderList(u),this.pipeline.batchSprite(u,s,a)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s.addToRenderList(u),e.batchSprite(u,u.frame,s,a)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1072),u=t(1073),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=u.list,n=a.length;if(n!==0){u.depthSort(),e.pipelines.preBatch(u);var i=u.blendMode!==-1;i||e.setBlendMode(0);for(var r=u.alpha,f=0;f<n;f++){var l=a[f];if(l.willRender(s)){var h,c,v,d;if(l.alphaTopLeft!==void 0)h=l.alphaTopLeft,c=l.alphaTopRight,v=l.alphaBottomLeft,d=l.alphaBottomRight;else{var m=l.alpha;h=m,c=m,v=m,d=m}!i&&l.blendMode!==e.currentBlendMode&&e.setBlendMode(l.blendMode);var y=l.mask;y&&y.preRenderWebGL(e,l,s);var T=l.type;T!==e.currentType&&(e.newType=!0,e.currentType=T),e.nextTypeMatch=f<n-1?a[f+1].type===e.currentType:!1,l.setAlpha(h*r,c*r,v*r,d*r),l.renderWebGL(e,l,s),l.setAlpha(h,c,v,d),y&&y.postRenderWebGL(e,s),e.newType=!1}}e.pipelines.postBatch(u)}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=u.list;if(a.length!==0){u.depthSort();var n=u.blendMode!==-1;n||e.setBlendMode(0);var i=u._alpha;u.mask&&u.mask.preRenderCanvas(e,null,s);for(var r=0;r<a.length;r++){var f=a[r];if(f.willRender(s)){var l=f.alpha;!n&&f.blendMode!==e.currentBlendMode&&e.setBlendMode(f.blendMode),f.setAlpha(l*i),f.renderCanvas(e,f,s),f.setAlpha(l)}}u.mask&&u.mask.postRenderCanvas(e)}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={EmitterOp:t(449),GravityWell:t(450),Particle:t(451),ParticleEmitter:t(452),ParticleEmitterManager:t(220),Zones:t(1078)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1076),u=t(1077),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=t(12),s=new e,a=new e,n=new e,i=new e,r=function(f,l,h,c){var v=l.emitters.list,d=v.length;if(d!==0){var m=f.pipelines.set(l.pipeline),y=s,T=a,C=n,R=i;c?(R.loadIdentity(),R.multiply(c),R.translate(l.x,l.y),R.rotate(l.rotation),R.scale(l.scaleX,l.scaleY)):R.applyITRS(l.x,l.y,l.rotation,l.scaleX,l.scaleY);var A=h.roundPixels,P=l.defaultFrame.glTexture,O=u.getTintAppendFloatAlpha,b=m.setGameObject(l,l.defaultFrame);f.pipelines.preBatch(l);for(var D=0;D<d;D++){var N=v[D],B=N.alive,U=B.length;if(!(!N.visible||U===0)){h.addToRenderList(N);var G=N.scrollFactorX,W=N.scrollFactorY;f.setBlendMode(N.blendMode),N.mask&&(N.mask.preRenderWebGL(f,N,h),f.pipelines.set(l.pipeline));for(var $=0,q=0;q<U;q++){var _=B[q],V=_.alpha*h.alpha;if(!(V<=0)){C.applyITRS(_.x,_.y,_.rotation,_.scaleX,_.scaleY),y.copyFrom(h.matrix),y.multiplyWithOffset(R,-h.scrollX*G,-h.scrollY*W),C.e=_.x,C.f=_.y,y.multiply(C,T);var w=_.frame,z=-w.halfWidth,Y=-w.halfHeight,H=z+w.width,j=Y+w.height,Z=T.getXRound(z,Y,A),k=T.getYRound(z,Y,A),nt=T.getXRound(z,j,A),rt=T.getYRound(z,j,A),ht=T.getXRound(H,j,A),vt=T.getYRound(H,j,A),ot=T.getXRound(H,Y,A),Et=T.getYRound(H,Y,A),Tt=O(_.tint,V);m.batchQuad(N,Z,k,nt,rt,ht,vt,ot,Et,w.u0,w.v0,w.u1,w.v1,Tt,Tt,Tt,Tt,$,P,b)}}N.mask&&N.mask.postRenderWebGL(f,h)}}f.pipelines.postBatch(l)}};o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=new e,s=new e,a=new e,n=new e,i=function(r,f,l,h){var c=f.emitters.list,v=c.length;if(v!==0){var d=u.copyFrom(l.matrix),m=s,y=a,T=n;h?(T.loadIdentity(),T.multiply(h),T.translate(f.x,f.y),T.rotate(f.rotation),T.scale(f.scaleX,f.scaleY)):T.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY);for(var C=r.currentContext,R=l.roundPixels,A=0;A<v;A++){var P=c[A],O=P.alive,b=O.length;if(!(!P.visible||b===0)){l.addToRenderList(P);var D=P.scrollFactorX,N=P.scrollFactorY;C.save(),C.globalCompositeOperation=r.blendModes[P.blendMode];for(var B=0;B<b;B++){var U=O[B],G=U.alpha*l.alpha;if(!(G<=0)){y.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),d.copyFrom(l.matrix),d.multiplyWithOffset(T,-l.scrollX*D,-l.scrollY*N),y.e=U.x,y.f=U.y,d.multiply(y,m);var W=U.frame,$=W.canvasData,q=-W.halfWidth,_=-W.halfHeight;C.globalAlpha=G,C.save(),m.setToContext(C),R&&(q=Math.round(q),_=Math.round(_)),C.imageSmoothingEnabled=!(!r.antialias||W.source.scaleMode),C.drawImage(W.source.image,$.x,$.y,$.width,$.height,q,_,$.width,$.height),C.restore()}}C.restore()}}}};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DeathZone:t(453),EdgeZone:t(454),RandomZone:t(456)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1080),u=t(1081),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(s,a,n,i){n.addToRenderList(a);var r=n.alpha,f=a.renderTarget,l=f.width,h=f.height,c=e.getTintAppendFloatAlpha,v=s.pipelines.set(a.pipeline),d=v.setTexture2D(f.texture);s.pipelines.preBatch(a),v.batchTexture(a,f.texture,l,h,a.x,a.y,l,h,a.scaleX,a.scaleY,a.rotation,a.flipX,!a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,l,h,c(a.tintTopLeft,r*a._alphaTL),c(a.tintTopRight,r*a._alphaTR),c(a.tintBottomLeft,r*a._alphaBL),c(a.tintBottomRight,r*a._alphaBR),a.tintFill,0,0,n,i,!0,d),s.resetTextures(),s.pipelines.postBatch(a)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){s.addToRenderList(u),e.batchSprite(u,u.frame,s,a)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1083),u=t(17),s={Parse:t(1084)};s=u(!1,s,e),o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=function(s,a){var n=a.width,i=a.height,r=Math.floor(n/2),f=Math.floor(i/2),l=e(a,"chars","");if(l!==""){var h=e(a,"image",""),c=s.sys.textures.getFrame(h),v=c.cutX,d=c.cutY,m=c.source.width,y=c.source.height,T=e(a,"offset.x",0),C=e(a,"offset.y",0),R=e(a,"spacing.x",0),A=e(a,"spacing.y",0),P=e(a,"lineSpacing",0),O=e(a,"charsPerRow",null);O===null&&(O=m/n,O>l.length&&(O=l.length));for(var b=T,D=C,N={retroFont:!0,font:h,size:n,lineHeight:i+P,chars:{}},B=0,U=0;U<l.length;U++){var G=l.charCodeAt(U),W=(v+b)/m,$=(d+D)/y,q=(v+b+n)/m,_=(d+D+i)/y;N.chars[G]={x:b,y:D,width:n,height:i,centerX:r,centerY:f,xOffset:0,yOffset:0,xAdvance:n,data:{},kerning:{},u0:W,v0:$,u1:q,v1:_},B++,B===O?(B=0,b=T,D+=i+A):b+=n+R}var V={data:N,frame:null,texture:h};return V}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1086),u=t(1087),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),s=function(a,n,i,r){i.addToRenderList(n);var f=a.pipelines.set(n.pipeline,n),l=e(n,i,r).calc,h=n.vertices,c=n.uv,v=n.colors,d=n.alphas,m=n.alpha,y=u.getTintAppendFloatAlpha,T=i.roundPixels,C=h.length,R=Math.floor(C*.5);f.flush(),a.pipelines.preBatch(n);var A=f.setGameObject(n),P=f.vertexViewF32,O=f.vertexViewU32,b=f.vertexCount*f.currentShader.vertexComponentCount-1,D=0,N=n.tintFill;n.dirty&&n.updateVertices();for(var B=n.debugCallback,U=[],G=0;G<C;G+=2){var W=h[G+0],$=h[G+1],q=W*l.a+$*l.c+l.e,_=W*l.b+$*l.d+l.f;T&&(q=Math.round(q),_=Math.round(_)),P[++b]=q,P[++b]=_,P[++b]=c[G+0],P[++b]=c[G+1],P[++b]=A,P[++b]=N,O[++b]=y(v[D],i.alpha*(d[D]*m)),D++,B&&(U[G+0]=q,U[G+1]=_)}B&&B.call(n,n,C,U),f.vertexCount+=R,a.pipelines.postBatch(n)};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1089),u=t(1090),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(s,a,n,i){if(!(a.width===0||a.height===0)){n.addToRenderList(a);var r=a.frame,f=r.width,l=r.height,h=e.getTintAppendFloatAlpha,c=s.pipelines.set(a.pipeline,a),v=c.setTexture2D(r.glTexture,a);s.pipelines.preBatch(a),c.batchTexture(a,r.glTexture,f,l,a.x,a.y,f/a.style.resolution,l/a.style.resolution,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.displayOriginX,a.displayOriginY,0,0,f,l,h(a.tintTopLeft,n.alpha*a._alphaTL),h(a.tintTopRight,n.alpha*a._alphaTR),h(a.tintBottomLeft,n.alpha*a._alphaBL),h(a.tintBottomRight,n.alpha*a._alphaBR),a.tintFill,0,0,n,i,!1,v),s.pipelines.postBatch(a)}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u.width===0||u.height===0||(s.addToRenderList(u),e.batchSprite(u,u.frame,s,a))};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1092),u=t(1093),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(s,a,n,i){a.updateCanvas();var r=a.width,f=a.height;if(!(r===0||f===0)){n.addToRenderList(a),s.pipelines.preBatch(a);var l=e.getTintAppendFloatAlpha,h=s.pipelines.set(a.pipeline,a),c=h.setTexture2D(a.fillPattern,a);h.batchTexture(a,a.fillPattern,a.displayFrame.width*a.tileScaleX,a.displayFrame.height*a.tileScaleY,a.x,a.y,r,f,a.scaleX,a.scaleY,a.rotation,a.flipX,a.flipY,a.scrollFactorX,a.scrollFactorY,a.originX*r,a.originY*f,0,0,r,f,l(a.tintTopLeft,n.alpha*a._alphaTL),l(a.tintTopRight,n.alpha*a._alphaTR),l(a.tintBottomLeft,n.alpha*a._alphaBL),l(a.tintBottomRight,n.alpha*a._alphaBR),a.tintFill,a.tilePositionX%a.displayFrame.width/a.displayFrame.width,a.tilePositionY%a.displayFrame.height/a.displayFrame.height,n,i,!1,c),s.pipelines.postBatch(a)}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u.updateCanvas(),s.addToRenderList(u),e.batchSprite(u,u.frame,s,a)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1095),u=t(1096),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u.videoTexture&&(s.addToRenderList(u),u.pipeline.batchSprite(u,s,a))};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u.videoTexture&&(s.addToRenderList(u),e.batchSprite(u,u.frame,s,a))};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1098),u=t(1099),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(114),s=t(81),a=function(n,i,r,f){r.addToRenderList(i);var l=n.pipelines.set(i.pipeline),h=e(i,r,f),c=l.calcMatrix.copyFrom(h.calc),v=i._displayOriginX,d=i._displayOriginY,m=r.alpha*i.alpha;n.pipelines.preBatch(i),i.isFilled&&u(l,c,i,m,v,d),i.isStroked&&s(l,i,m,v,d),n.pipelines.postBatch(i)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(36),u=t(48),s=t(60),a=t(30),n=function(i,r,f,l){f.addToRenderList(r);var h=i.currentContext;if(a(i,h,r,f,l)){var c=r.radius;h.beginPath(),h.arc(c-r.originX*(c*2),c-r.originY*(c*2),c,e(r._startAngle),e(r._endAngle),r.anticlockwise),r.closePath&&h.closePath(),r.isFilled&&(u(h,r),h.fill()),r.isStroked&&(s(h,r),h.stroke()),h.restore()}};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1101),u=t(1102),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),u=t(19),s=t(81),a=function(n,i,r,f){r.addToRenderList(i);var l=n.pipelines.set(i.pipeline),h=u(i,r,f),c=l.calcMatrix.copyFrom(h.calc),v=i._displayOriginX+i._curveBounds.x,d=i._displayOriginY+i._curveBounds.y,m=r.alpha*i.alpha;n.pipelines.preBatch(i),i.isFilled&&e(l,c,i,m,v,d),i.isStroked&&s(l,i,m,v,d),n.pipelines.postBatch(i)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),s=t(30),a=function(n,i,r,f){r.addToRenderList(i);var l=n.currentContext;if(s(n,l,i,r,f)){var h=i._displayOriginX+i._curveBounds.x,c=i._displayOriginY+i._curveBounds.y,v=i.pathData,d=v.length-1,m=v[0]-h,y=v[1]-c;l.beginPath(),l.moveTo(m,y),i.closePath||(d-=2);for(var T=2;T<d;T+=2){var C=v[T]-h,R=v[T+1]-c;l.lineTo(C,R)}i.closePath&&l.closePath(),i.isFilled&&(e(l,i),l.fill()),i.isStroked&&(u(l,i),l.stroke()),l.restore()}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1104),u=t(1105),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),u=t(19),s=t(81),a=function(n,i,r,f){r.addToRenderList(i);var l=n.pipelines.set(i.pipeline),h=u(i,r,f),c=l.calcMatrix.copyFrom(h.calc),v=i._displayOriginX,d=i._displayOriginY,m=r.alpha*i.alpha;n.pipelines.preBatch(i),i.isFilled&&e(l,c,i,m,v,d),i.isStroked&&s(l,i,m,v,d),n.pipelines.postBatch(i)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),s=t(30),a=function(n,i,r,f){r.addToRenderList(i);var l=n.currentContext;if(s(n,l,i,r,f)){var h=i._displayOriginX,c=i._displayOriginY,v=i.pathData,d=v.length-1,m=v[0]-h,y=v[1]-c;l.beginPath(),l.moveTo(m,y),i.closePath||(d-=2);for(var T=2;T<d;T+=2){var C=v[T]-h,R=v[T+1]-c;l.lineTo(C,R)}l.closePath(),i.isFilled&&(e(l,i),l.fill()),i.isStroked&&(u(l,i),l.stroke()),l.restore()}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1107),u=t(1108),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),s=function(a,n,i,r){i.addToRenderList(n);var f=a.pipelines.set(n.pipeline),l=e(n,i,r),h=f.calcMatrix.copyFrom(l.calc);h.translate(-n._displayOriginX,-n._displayOriginY);var c=i.alpha*n.alpha,v=n.width,d=n.height,m=n.cellWidth,y=n.cellHeight,T=Math.ceil(v/m),C=Math.ceil(d/y),R=m,A=y,P=m-(T*m-v),O=y-(C*y-d),b,D,N=n.showCells,B=n.showAltCells,U=n.showOutline,G=0,W=0,$=0,q=0,_=0;if(U&&(R--,A--,P===m&&P--,O===y&&O--),a.pipelines.preBatch(n),N&&n.fillAlpha>0)for(b=f.fillTint,D=u.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*c),b.TL=D,b.TR=D,b.BL=D,b.BR=D,W=0;W<C;W++)for(B&&($=W%2),G=0;G<T;G++){if(B&&$){$=0;continue}$++,q=G<T-1?R:P,_=W<C-1?A:O,f.batchFillRect(G*m,W*y,q,_)}if(B&&n.altFillAlpha>0)for(b=f.fillTint,D=u.getTintAppendFloatAlpha(n.altFillColor,n.altFillAlpha*c),b.TL=D,b.TR=D,b.BL=D,b.BR=D,W=0;W<C;W++)for(B&&($=W%2),G=0;G<T;G++){if(B&&!$){$=1;continue}$=0,q=G<T-1?R:P,_=W<C-1?A:O,f.batchFillRect(G*m,W*y,q,_)}if(U&&n.outlineFillAlpha>0){var V=f.strokeTint,w=u.getTintAppendFloatAlpha(n.outlineFillColor,n.outlineFillAlpha*c);for(V.TL=w,V.TR=w,V.BL=w,V.BR=w,G=1;G<T;G++){var z=G*m;f.batchLine(z,0,z,d,1,1,1,0,!1)}for(W=1;W<C;W++){var Y=W*y;f.batchLine(0,Y,v,Y,1,1,1,0,!1)}}a.pipelines.postBatch(n)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),s=t(30),a=function(n,i,r,f){r.addToRenderList(i);var l=n.currentContext;if(s(n,l,i,r,f)){var h=-i._displayOriginX,c=-i._displayOriginY,v=r.alpha*i.alpha,d=i.width,m=i.height,y=i.cellWidth,T=i.cellHeight,C=Math.ceil(d/y),R=Math.ceil(m/T),A=y,P=T,O=y-(C*y-d),b=T-(R*T-m),D=i.showCells,N=i.showAltCells,B=i.showOutline,U=0,G=0,W=0,$=0,q=0;if(B&&(A--,P--,O===y&&O--,b===T&&b--),D&&i.fillAlpha>0)for(e(l,i),G=0;G<R;G++)for(N&&(W=G%2),U=0;U<C;U++){if(N&&W){W=0;continue}W++,$=U<C-1?A:O,q=G<R-1?P:b,l.fillRect(h+U*y,c+G*T,$,q)}if(N&&i.altFillAlpha>0)for(e(l,i,i.altFillColor,i.altFillAlpha*v),G=0;G<R;G++)for(N&&(W=G%2),U=0;U<C;U++){if(N&&!W){W=1;continue}W=0,$=U<C-1?A:O,q=G<R-1?P:b,l.fillRect(h+U*y,c+G*T,$,q)}if(B&&i.outlineFillAlpha>0){for(u(l,i,i.outlineFillColor,i.outlineFillAlpha*v),U=1;U<C;U++){var _=U*y;l.beginPath(),l.moveTo(_+h,c),l.lineTo(_+h,m+c),l.stroke()}for(G=1;G<R;G++){var V=G*T;l.beginPath(),l.moveTo(h,V+c),l.lineTo(h+d,V+c),l.stroke()}}l.restore()}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1110),u=t(1111),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),s=function(a,n,i,r){i.addToRenderList(n);var f=a.pipelines.set(n.pipeline),l=e(n,i,r),h=f.calcMatrix.copyFrom(l.calc),c=n.width,v=n.height,d=c/2,m=c/n.projection,y=i.alpha*n.alpha;if(n.isFilled){var T,C,R,A,P,O,b,D,N;a.pipelines.preBatch(n),n.showTop&&(T=u.getTintAppendFloatAlpha(n.fillTop,y),C=h.getX(-d,-v),R=h.getY(-d,-v),A=h.getX(0,-m-v),P=h.getY(0,-m-v),O=h.getX(d,-v),b=h.getY(d,-v),D=h.getX(0,m-v),N=h.getY(0,m-v),f.batchQuad(n,C,R,A,P,O,b,D,N,0,0,1,1,T,T,T,T,2)),n.showLeft&&(T=u.getTintAppendFloatAlpha(n.fillLeft,y),C=h.getX(-d,0),R=h.getY(-d,0),A=h.getX(0,m),P=h.getY(0,m),O=h.getX(0,m-v),b=h.getY(0,m-v),D=h.getX(-d,-v),N=h.getY(-d,-v),f.batchQuad(n,C,R,A,P,O,b,D,N,0,0,1,1,T,T,T,T,2)),n.showRight&&(T=u.getTintAppendFloatAlpha(n.fillRight,y),C=h.getX(d,0),R=h.getY(d,0),A=h.getX(0,m),P=h.getY(0,m),O=h.getX(0,m-v),b=h.getY(0,m-v),D=h.getX(d,-v),N=h.getY(d,-v),f.batchQuad(n,C,R,A,P,O,b,D,N,0,0,1,1,T,T,T,T,2)),a.pipelines.postBatch(n)}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(30),s=function(a,n,i,r){i.addToRenderList(n);var f=a.currentContext;if(u(a,f,n,i,r)&&n.isFilled){var l=n.width,h=n.height,c=l/2,v=l/n.projection;n.showTop&&(e(f,n,n.fillTop),f.beginPath(),f.moveTo(-c,-h),f.lineTo(0,-v-h),f.lineTo(c,-h),f.lineTo(c,-1),f.lineTo(0,v-1),f.lineTo(-c,-1),f.lineTo(-c,-h),f.fill()),n.showLeft&&(e(f,n,n.fillLeft),f.beginPath(),f.moveTo(-c,0),f.lineTo(0,v),f.lineTo(0,v-h),f.lineTo(-c,-h),f.lineTo(-c,0),f.fill()),n.showRight&&(e(f,n,n.fillRight),f.beginPath(),f.moveTo(c,0),f.lineTo(0,v),f.lineTo(0,v-h),f.lineTo(c,-h),f.lineTo(c,0),f.fill()),f.restore()}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1113),u=t(1114),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),s=function(a,n,i,r){i.addToRenderList(n);var f=a.pipelines.set(n.pipeline),l=e(n,i,r),h=f.calcMatrix.copyFrom(l.calc),c=n.width,v=n.height,d=c/2,m=c/n.projection,y=n.isReversed,T=i.alpha*n.alpha;if(n.isFilled){a.pipelines.preBatch(n);var C,R,A,P,O,b,D;if(n.showTop&&y){C=u.getTintAppendFloatAlpha(n.fillTop,T),R=h.getX(-d,-v),A=h.getY(-d,-v),P=h.getX(0,-m-v),O=h.getY(0,-m-v),b=h.getX(d,-v),D=h.getY(d,-v);var N=h.getX(0,m-v),B=h.getY(0,m-v);f.batchQuad(n,R,A,P,O,b,D,N,B,0,0,1,1,C,C,C,C,2)}n.showLeft&&(C=u.getTintAppendFloatAlpha(n.fillLeft,T),y?(R=h.getX(-d,-v),A=h.getY(-d,-v),P=h.getX(0,m),O=h.getY(0,m),b=h.getX(0,m-v),D=h.getY(0,m-v)):(R=h.getX(-d,0),A=h.getY(-d,0),P=h.getX(0,m),O=h.getY(0,m),b=h.getX(0,m-v),D=h.getY(0,m-v)),f.batchTri(n,R,A,P,O,b,D,0,0,1,1,C,C,C,2)),n.showRight&&(C=u.getTintAppendFloatAlpha(n.fillRight,T),y?(R=h.getX(d,-v),A=h.getY(d,-v),P=h.getX(0,m),O=h.getY(0,m),b=h.getX(0,m-v),D=h.getY(0,m-v)):(R=h.getX(d,0),A=h.getY(d,0),P=h.getX(0,m),O=h.getY(0,m),b=h.getX(0,m-v),D=h.getY(0,m-v)),f.batchTri(n,R,A,P,O,b,D,0,0,1,1,C,C,C,2)),a.pipelines.postBatch(n)}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(30),s=function(a,n,i,r){i.addToRenderList(n);var f=a.currentContext;if(u(a,f,n,i,r)&&n.isFilled){var l=n.width,h=n.height,c=l/2,v=l/n.projection,d=n.isReversed;n.showTop&&d&&(e(f,n,n.fillTop),f.beginPath(),f.moveTo(-c,-h),f.lineTo(0,-v-h),f.lineTo(c,-h),f.lineTo(0,v-h),f.fill()),n.showLeft&&(e(f,n,n.fillLeft),f.beginPath(),d?(f.moveTo(-c,-h),f.lineTo(0,v),f.lineTo(0,v-h)):(f.moveTo(-c,0),f.lineTo(0,v),f.lineTo(0,v-h)),f.fill()),n.showRight&&(e(f,n,n.fillRight),f.beginPath(),d?(f.moveTo(c,-h),f.lineTo(0,v),f.lineTo(0,v-h)):(f.moveTo(c,0),f.lineTo(0,v),f.lineTo(0,v-h)),f.fill()),f.restore()}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1116),u=t(1117),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(12),s=function(a,n,i,r){i.addToRenderList(n);var f=a.pipelines.set(n.pipeline),l=e(n,i,r);f.calcMatrix.copyFrom(l.calc);var h=n._displayOriginX,c=n._displayOriginY,v=i.alpha*n.alpha;if(a.pipelines.preBatch(n),n.isStroked){var d=f.strokeTint,m=u.getTintAppendFloatAlpha(n.strokeColor,n.strokeAlpha*v);d.TL=m,d.TR=m,d.BL=m,d.BR=m;var y=n._startWidth,T=n._endWidth;f.batchLine(n.geom.x1-h,n.geom.y1-c,n.geom.x2-h,n.geom.y2-c,y,T,1,0,!1,l.sprite,l.camera)}a.pipelines.postBatch(n)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(60),u=t(30),s=function(a,n,i,r){i.addToRenderList(n);var f=a.currentContext;if(u(a,f,n,i,r)){var l=n._displayOriginX,h=n._displayOriginY;n.isStroked&&(e(f,n),f.beginPath(),f.moveTo(n.geom.x1-l,n.geom.y1-h),f.lineTo(n.geom.x2-l,n.geom.y2-h),f.stroke()),f.restore()}};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1119),u=t(1120),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),u=t(19),s=t(81),a=function(n,i,r,f){r.addToRenderList(i);var l=n.pipelines.set(i.pipeline),h=u(i,r,f),c=l.calcMatrix.copyFrom(h.calc),v=i._displayOriginX,d=i._displayOriginY,m=r.alpha*i.alpha;n.pipelines.preBatch(i),i.isFilled&&e(l,c,i,m,v,d),i.isStroked&&s(l,i,m,v,d),n.pipelines.postBatch(i)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),s=t(30),a=function(n,i,r,f){r.addToRenderList(i);var l=n.currentContext;if(s(n,l,i,r,f)){var h=i._displayOriginX,c=i._displayOriginY,v=i.pathData,d=v.length-1,m=v[0]-h,y=v[1]-c;l.beginPath(),l.moveTo(m,y),i.closePath||(d-=2);for(var T=2;T<d;T+=2){var C=v[T]-h,R=v[T+1]-c;l.lineTo(C,R)}l.closePath(),i.isFilled&&(e(l,i),l.fill()),i.isStroked&&(u(l,i),l.stroke()),l.restore()}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1122),u=t(1123),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(81),s=t(12),a=function(n,i,r,f){r.addToRenderList(i);var l=n.pipelines.set(i.pipeline),h=e(i,r,f);l.calcMatrix.copyFrom(h.calc);var c=i._displayOriginX,v=i._displayOriginY,d=r.alpha*i.alpha;if(n.pipelines.preBatch(i),i.isFilled){var m=l.fillTint,y=s.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*d);m.TL=y,m.TR=y,m.BL=y,m.BR=y,l.batchFillRect(-c,-v,i.width,i.height)}i.isStroked&&u(l,i,d,c,v),n.pipelines.postBatch(i)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),s=t(30),a=function(n,i,r,f){r.addToRenderList(i);var l=n.currentContext;if(s(n,l,i,r,f)){var h=i._displayOriginX,c=i._displayOriginY;i.isFilled&&(e(l,i),l.fillRect(-h,-c,i.width,i.height)),i.isStroked&&(u(l,i),l.beginPath(),l.rect(-h,-c,i.width,i.height),l.stroke()),l.restore()}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1125),u=t(1126),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(114),u=t(19),s=t(81),a=function(n,i,r,f){r.addToRenderList(i);var l=n.pipelines.set(i.pipeline),h=u(i,r,f),c=l.calcMatrix.copyFrom(h.calc),v=i._displayOriginX,d=i._displayOriginY,m=r.alpha*i.alpha;n.pipelines.preBatch(i),i.isFilled&&e(l,c,i,m,v,d),i.isStroked&&s(l,i,m,v,d),n.pipelines.postBatch(i)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),s=t(30),a=function(n,i,r,f){r.addToRenderList(i);var l=n.currentContext;if(s(n,l,i,r,f)){var h=i._displayOriginX,c=i._displayOriginY,v=i.pathData,d=v.length-1,m=v[0]-h,y=v[1]-c;l.beginPath(),l.moveTo(m,y),i.closePath||(d-=2);for(var T=2;T<d;T+=2){var C=v[T]-h,R=v[T+1]-c;l.lineTo(C,R)}l.closePath(),i.isFilled&&(e(l,i),l.fill()),i.isStroked&&(u(l,i),l.stroke()),l.restore()}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1128),u=t(1129),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=t(81),s=t(12),a=function(n,i,r,f){r.addToRenderList(i);var l=n.pipelines.set(i.pipeline),h=e(i,r,f);l.calcMatrix.copyFrom(h.calc);var c=i._displayOriginX,v=i._displayOriginY,d=r.alpha*i.alpha;if(n.pipelines.preBatch(i),i.isFilled){var m=l.fillTint,y=s.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*d);m.TL=y,m.TR=y,m.BL=y,m.BR=y;var T=i.geom.x1-c,C=i.geom.y1-v,R=i.geom.x2-c,A=i.geom.y2-v,P=i.geom.x3-c,O=i.geom.y3-v;l.batchFillTriangle(T,C,R,A,P,O,h.sprite,h.camera)}i.isStroked&&u(l,i,d,c,v),n.pipelines.postBatch(i)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(48),u=t(60),s=t(30),a=function(n,i,r,f){r.addToRenderList(i);var l=n.currentContext;if(s(n,l,i,r,f)){var h=i._displayOriginX,c=i._displayOriginY,v=i.geom.x1-h,d=i.geom.y1-c,m=i.geom.x2-h,y=i.geom.y2-c,T=i.geom.x3-h,C=i.geom.y3-c;l.beginPath(),l.moveTo(v,d),l.lineTo(m,y),l.lineTo(T,C),l.closePath(),i.isFilled&&(e(l,i),l.fill()),i.isStroked&&(u(l,i),l.stroke()),l.restore()}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),u=t(5);u.register("blitter",function(s,a,n,i){return this.displayList.add(new e(this.scene,s,a,n,i))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(214),u=t(5);u.register("container",function(s,a,n){return this.displayList.add(new e(this.scene,s,a,n))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(442),u=t(5);u.register("dom",function(s,a,n,i,r){var f=new e(this.scene,s,a,n,i,r);return this.displayList.add(f),f})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),u=t(5);u.register("dynamicBitmapText",function(s,a,n,i,r){return this.displayList.add(new e(this.scene,s,a,n,i,r))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(444),u=t(5);u.register("extern",function(){var s=new e(this.scene);return this.displayList.add(s),s})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(216),u=t(5);u.register("graphics",function(s){return this.displayList.add(new e(this.scene,s))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(113),u=t(5);u.register("group",function(s,a){return this.updateList.add(new e(this.scene,s,a))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(125),u=t(5);u.register("image",function(s,a,n,i){return this.displayList.add(new e(this.scene,s,a,n,i))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(219),u=t(5);u.register("layer",function(s){return this.displayList.add(new e(this.scene,s))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(220);e.register("particles",function(s,a,n){return this.displayList.add(new u(this.scene,s,a,n))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(457);e.register("follower",function(s,a,n,i,r){var f=new u(this.scene,s,a,n,i,r);return this.displayList.add(f),this.updateList.add(f),f})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(221);e.register("renderTexture",function(s,a,n,i,r,f){return this.displayList.add(new u(this.scene,s,a,n,i,r,f))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(223),u=t(5);u.register("rope",function(s,a,n,i,r,f,l,h){return this.displayList.add(new e(this.scene,s,a,n,i,r,f,l,h))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(73);e.register("sprite",function(s,a,n,i){var r=new u(this.scene,s,a,n,i);return this.displayList.add(r),r})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),u=t(5);u.register("bitmapText",function(s,a,n,i,r,f){return this.displayList.add(new e(this.scene,s,a,n,i,r,f))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(224),u=t(5);u.register("text",function(s,a,n,i){return this.displayList.add(new e(this.scene,s,a,n,i))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(225),u=t(5);u.register("tileSprite",function(s,a,n,i,r,f){return this.displayList.add(new e(this.scene,s,a,n,i,r,f))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(129),u=t(5);u.register("zone",function(s,a,n,i){return this.displayList.add(new e(this.scene,s,a,n,i))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(226),u=t(5);u.register("video",function(s,a,n){return this.displayList.add(new e(this.scene,s,a,n))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(461),u=t(5);u.register("arc",function(s,a,n,i,r,f,l,h){return this.displayList.add(new e(this.scene,s,a,n,i,r,f,l,h))}),u.register("circle",function(s,a,n,i,r){return this.displayList.add(new e(this.scene,s,a,n,0,360,!1,i,r))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(462);e.register("curve",function(s,a,n,i,r){return this.displayList.add(new u(this.scene,s,a,n,i,r))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(463),u=t(5);u.register("ellipse",function(s,a,n,i,r,f){return this.displayList.add(new e(this.scene,s,a,n,i,r,f))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(464);e.register("grid",function(s,a,n,i,r,f,l,h,c,v){return this.displayList.add(new u(this.scene,s,a,n,i,r,f,l,h,c,v))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(465);e.register("isobox",function(s,a,n,i,r,f,l){return this.displayList.add(new u(this.scene,s,a,n,i,r,f,l))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(466);e.register("isotriangle",function(s,a,n,i,r,f,l,h){return this.displayList.add(new u(this.scene,s,a,n,i,r,f,l,h))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(467);e.register("line",function(s,a,n,i,r,f,l,h){return this.displayList.add(new u(this.scene,s,a,n,i,r,f,l,h))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(468);e.register("polygon",function(s,a,n,i,r){return this.displayList.add(new u(this.scene,s,a,n,i,r))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(473);e.register("rectangle",function(s,a,n,i,r,f){return this.displayList.add(new u(this.scene,s,a,n,i,r,f))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(474),u=t(5);u.register("star",function(s,a,n,i,r,f,l){return this.displayList.add(new e(this.scene,s,a,n,i,r,f,l))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(475);e.register("triangle",function(s,a,n,i,r,f,l,h,c,v){return this.displayList.add(new u(this.scene,s,a,n,i,r,f,l,h,c,v))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(213),u=t(28),s=t(16),a=t(13);s.register("blitter",function(n,i){n===void 0&&(n={});var r=a(n,"key",null),f=a(n,"frame",null),l=new e(this.scene,0,0,r,f);return i!==void 0&&(n.add=i),u(this.scene,l,n),l})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(214),s=t(16),a=t(13);s.register("container",function(n,i){n===void 0&&(n={});var r=a(n,"x",0),f=a(n,"y",0),l=a(n,"children",null),h=new u(this.scene,r,f,l);return i!==void 0&&(n.add=i),e(this.scene,h,n),h})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(215),u=t(28),s=t(16),a=t(13);s.register("dynamicBitmapText",function(n,i){n===void 0&&(n={});var r=a(n,"font",""),f=a(n,"text",""),l=a(n,"size",!1),h=new e(this.scene,0,0,r,f,l);return i!==void 0&&(n.add=i),u(this.scene,h,n),h})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(216);e.register("graphics",function(s,a){s===void 0&&(s={}),a!==void 0&&(s.add=a);var n=new u(this.scene,s);return s.add&&this.scene.sys.displayList.add(n),n})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(113);e.register("group",function(s){return new u(this.scene,null,s)})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(125);u.register("image",function(n,i){n===void 0&&(n={});var r=s(n,"key",null),f=s(n,"frame",null),l=new a(this.scene,0,0,r,f);return i!==void 0&&(n.add=i),e(this.scene,l,n),l})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(219),s=t(16),a=t(13);s.register("layer",function(n,i){n===void 0&&(n={});var r=a(n,"children",null),f=new u(this.scene,r);return i!==void 0&&(n.add=i),e(this.scene,f,n),f})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(13),s=t(2),a=t(220);e.register("particles",function(n,i){n===void 0&&(n={});var r=u(n,"key",null),f=u(n,"frame",null),l=s(n,"emitters",null),h=new a(this.scene,r,f,l);i!==void 0&&(n.add=i);var c=s(n,"add",!1);return c?this.displayList.add(h):this.updateList.add(h),h})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(221);u.register("renderTexture",function(n,i){n===void 0&&(n={});var r=s(n,"x",0),f=s(n,"y",0),l=s(n,"width",32),h=s(n,"height",32),c=s(n,"key",void 0),v=s(n,"frame",void 0),d=new a(this.scene,r,f,l,h,c,v);return i!==void 0&&(n.add=i),e(this.scene,d,n),d})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(6),n=t(223);u.register("rope",function(i,r){i===void 0&&(i={});var f=s(i,"key",null),l=s(i,"frame",null),h=s(i,"horizontal",!0),c=a(i,"points",void 0),v=a(i,"colors",void 0),d=a(i,"alphas",void 0),m=new n(this.scene,0,0,f,l,c,h,v,d);return r!==void 0&&(i.add=r),e(this.scene,m,i),i.add||this.updateList.add(m),m})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(439),s=t(16),a=t(13),n=t(73);s.register("sprite",function(i,r){i===void 0&&(i={});var f=a(i,"key",null),l=a(i,"frame",null),h=new n(this.scene,0,0,f,l);return r!==void 0&&(i.add=r),e(this.scene,h,i),u(h,i),h})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(148),u=t(28),s=t(16),a=t(13),n=t(6);s.register("bitmapText",function(i,r){i===void 0&&(i={});var f=n(i,"font",""),l=a(i,"text",""),h=a(i,"size",!1),c=n(i,"align",0),v=new e(this.scene,0,0,f,l,h,c);return r!==void 0&&(i.add=r),u(this.scene,v,i),v})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(224);u.register("text",function(n,i){n===void 0&&(n={});var r=s(n,"text",""),f=s(n,"style",null),l=s(n,"padding",null);l!==null&&(f.padding=l);var h=new a(this.scene,0,0,r,f);return i!==void 0&&(n.add=i),e(this.scene,h,n),h.autoRound=s(n,"autoRound",!0),h.resolution=s(n,"resolution",1),h})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(225);u.register("tileSprite",function(n,i){n===void 0&&(n={});var r=s(n,"x",0),f=s(n,"y",0),l=s(n,"width",512),h=s(n,"height",512),c=s(n,"key",""),v=s(n,"frame",""),d=new a(this.scene,r,f,l,h,c,v);return i!==void 0&&(n.add=i),e(this.scene,d,n),d})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(13),s=t(129);e.register("zone",function(a){var n=u(a,"x",0),i=u(a,"y",0),r=u(a,"width",1),f=u(a,"height",r);return new s(this.scene,n,i,r,f)})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(226);u.register("video",function(n,i){n===void 0&&(n={});var r=s(n,"key",null),f=new a(this.scene,0,0,r);return i!==void 0&&(n.add=i),e(this.scene,f,n),n.add||this.updateList.add(f),f})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1177),u=t(1178),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(s,a,n,i){if(a.shader){if(n.addToRenderList(a),s.pipelines.clear(),a.renderToTexture)a.load(),a.flush();else{var r=e(a,n,i).calc;(s.width!==a._rendererWidth||s.height!==a._rendererHeight)&&a.projOrtho(0,s.width,s.height,0),a.load(r.matrix),a.flush()}s.pipelines.rebind()}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1180),u=t(1181),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(s,a,n,i){var r=a.faces,f=r.length;if(f!==0){n.addToRenderList(a);var l=s.pipelines.set(a.pipeline,a),h=e(a,n,i).calc,c=l.setGameObject(a),v=l.vertexViewF32,d=l.vertexViewU32,m=l.vertexCount*l.currentShader.vertexComponentCount-1,y=a.tintFill,T=[],C=a.debugCallback,R=h.a,A=h.b,P=h.c,O=h.d,b=h.e,D=h.f,N=a.viewPosition.z,B=a.hideCCW,U=n.roundPixels,G=n.alpha*a.alpha,W=0;s.pipelines.preBatch(a);for(var $=0;$<f;$++){var q=r[$];q.isInView(n,B,N,G,R,A,P,O,b,D,U)&&(l.shouldFlush(3)&&(l.flush(),m=0),m=q.load(v,d,m,c,y),W++,l.vertexCount+=3,C&&T.push(q))}a.totalFrame+=W,C&&C.call(a,a,T),s.pipelines.postBatch(a)}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(){};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1183),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(19),u=function(s,a,n,i){n.addToRenderList(a);var r=s.pipelines.set(a.pipeline),f=e(a,n,i).calc,l=a.width,h=a.height,c=-a._radius,v=-a._radius,d=c+l,m=v+h,y=f.getX(0,0),T=f.getY(0,0),C=f.getX(c,v),R=f.getY(c,v),A=f.getX(c,m),P=f.getY(c,m),O=f.getX(d,m),b=f.getY(d,m),D=f.getX(d,v),N=f.getY(d,v);s.pipelines.preBatch(a),r.batchPointLight(a,n,C,R,A,P,O,b,D,N,y,T),s.pipelines.postBatch(a)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(229),u=t(5);u.register("shader",function(s,a,n,i,r,f,l){return this.displayList.add(new e(this.scene,s,a,n,i,r,f,l))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(230),u=t(5);u.register("mesh",function(s,a,n,i,r,f,l,h,c,v,d){return this.displayList.add(new e(this.scene,s,a,n,i,r,f,l,h,c,v,d))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(150);e.register("pointlight",function(s,a,n,i,r,f){return this.displayList.add(new u(this.scene,s,a,n,i,r,f))})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(229);u.register("shader",function(n,i){n===void 0&&(n={});var r=s(n,"key",null),f=s(n,"x",0),l=s(n,"y",0),h=s(n,"width",128),c=s(n,"height",128),v=new a(this.scene,r,f,l,h,c);return i!==void 0&&(n.add=i),e(this.scene,v,n),v})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(6),n=t(230);u.register("mesh",function(i,r){i===void 0&&(i={});var f=s(i,"key",null),l=s(i,"frame",null),h=a(i,"vertices",[]),c=a(i,"uvs",[]),v=a(i,"indicies",[]),d=a(i,"containsZ",!1),m=a(i,"normals",[]),y=a(i,"colors",16777215),T=a(i,"alphas",1),C=new n(this.scene,0,0,f,l,h,c,v,d,m,y,T);return r!==void 0&&(i.add=r),e(this.scene,C,i),C})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(28),u=t(16),s=t(13),a=t(150);u.register("pointlight",function(n,i){n===void 0&&(n={});var r=s(n,"color",16777215),f=s(n,"radius",128),l=s(n,"intensity",1),h=s(n,"attenuation",.1),c=new a(this.scene,0,0,r,f,l,h);return i!==void 0&&(n.add=i),e(this.scene,c,n),c})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(482),s=t(24),a=t(20),n=new e({Extends:u,initialize:function(r){this.scene=r,this.systems=r.sys,r.sys.settings.isBooted||r.sys.events.once(a.BOOT,this.boot,this),u.call(this)},boot:function(){var i=this.systems.events;i.on(a.SHUTDOWN,this.shutdown,this),i.on(a.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});s.register("LightsPlugin",n,"lights"),o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65);e.Area=t(1192),e.Circumference=t(302),e.CircumferencePoint=t(169),e.Clone=t(1193),e.Contains=t(66),e.ContainsPoint=t(1194),e.ContainsRect=t(1195),e.CopyFrom=t(1196),e.Equals=t(1197),e.GetBounds=t(1198),e.GetPoint=t(300),e.GetPoints=t(301),e.Offset=t(1199),e.OffsetPoint=t(1200),e.Random=t(170),o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.radius>0?Math.PI*e.radius*e.radius:0};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),u=function(s){return new e(s.x,s.y,s.radius)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),u=function(s,a){return e(s,a.x,a.y)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(66),u=function(s,a){return e(s,a.x,a.y)&&e(s,a.right,a.y)&&e(s,a.x,a.bottom)&&e(s,a.right,a.bottom)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x,e.y,e.radius)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x===u.x&&e.y===u.y&&e.radius===u.radius};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(s,a){return a===void 0&&(a=new e),a.x=s.left,a.y=s.top,a.width=s.diameter,a.height=s.diameter,a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e.x+=u,e.y+=s,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x+=u.x,e.y+=u.y,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111);e.Area=t(1202),e.Circumference=t(447),e.CircumferencePoint=t(218),e.Clone=t(1203),e.Contains=t(112),e.ContainsPoint=t(1204),e.ContainsRect=t(1205),e.CopyFrom=t(1206),e.Equals=t(1207),e.GetBounds=t(1208),e.GetPoint=t(445),e.GetPoints=t(446),e.Offset=t(1209),e.OffsetPoint=t(1210),e.Random=t(180),o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.isEmpty()?0:e.getMajorRadius()*e.getMinorRadius()*Math.PI};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(111),u=function(s){return new e(s.x,s.y,s.width,s.height)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),u=function(s,a){return e(s,a.x,a.y)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(112),u=function(s,a){return e(s,a.x,a.y)&&e(s,a.right,a.y)&&e(s,a.x,a.bottom)&&e(s,a.right,a.bottom)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(s,a){return a===void 0&&(a=new e),a.x=s.left,a.y=s.top,a.width=s.width,a.height=s.height,a};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e.x+=u,e.y+=s,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x+=u.x,e.y+=u.y,e};o.exports=t},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(231),s=function(a,n,i){if(i===void 0&&(i=[]),u(a,n)){var r=a.x,f=a.y,l=a.radius,h=n.x,c=n.y,v=n.radius,d,m,y,T,C;if(f===c)C=(v*v-l*l-h*h+r*r)/(2*(r-h)),d=1,m=-2*c,y=h*h+C*C-2*h*C+c*c-v*v,T=m*m-4*d*y,T===0?i.push(new e(C,-m/(2*d))):T>0&&(i.push(new e(C,(-m+Math.sqrt(T))/(2*d))),i.push(new e(C,(-m-Math.sqrt(T))/(2*d))));else{var R=(r-h)/(f-c),A=(v*v-l*l-h*h+r*r-c*c+f*f)/(2*(f-c));d=R*R+1,m=2*f*R-2*A*R-2*r,y=r*r+f*f+A*A-l*l-2*f*A,T=m*m-4*d*y,T===0?(C=-m/(2*d),i.push(new e(C,A-C*R))):T>0&&(C=(-m+Math.sqrt(T))/(2*d),i.push(new e(C,A-C*R)),C=(-m-Math.sqrt(T))/(2*d),i.push(new e(C,A-C*R)))}}return i};o.exports=s},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),u=t(151),s=function(a,n,i){if(i===void 0&&(i=[]),u(a,n)){var r=n.getLineA(),f=n.getLineB(),l=n.getLineC(),h=n.getLineD();e(r,a,i),e(f,a,i),e(l,a,i),e(h,a,i)}return i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(140),u=t(487),s=t(47),a=new s;function n(f,l,h,c,v){var d=Math.cos(f),m=Math.sin(f);a.setTo(l,h,l+d,h+m);var y=u(a,c);y&&v.push(new e(y.x,y.y,f,y.w))}function i(f,l){return f.z-l.z}var r=function(f,l,h){Array.isArray(h)||(h=[h]);for(var c=[],v=[],d=0;d<h.length;d++)for(var m=h[d].points,y=0;y<m.length;y++){var T=Math.atan2(m[y].y-l,m[y].x-f);v.indexOf(T)===-1&&(n(T,f,l,h,c),n(T-1e-5,f,l,h,c),n(T+1e-5,f,l,h,c),v.push(T))}return c.sort(i)};o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(152),s=function(a,n,i){return i===void 0&&(i=new e),u(a,n)&&(i.x=Math.max(a.x,n.x),i.y=Math.max(a.y,n.y),i.width=Math.min(a.right,n.right)-i.x,i.height=Math.min(a.bottom,n.bottom)-i.y),i};o.exports=s},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(234),u=t(152),s=function(a,n,i){if(i===void 0&&(i=[]),u(a,n)){var r=a.getLineA(),f=a.getLineB(),l=a.getLineC(),h=a.getLineD();e(r,n,i),e(f,n,i),e(l,n,i),e(h,n,i)}return i};o.exports=s},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(489),u=t(234),s=function(a,n,i){if(i===void 0&&(i=[]),e(a,n)){var r=n.getLineA(),f=n.getLineB(),l=n.getLineC();u(r,a,i),u(f,a,i),u(l,a,i)}return i};o.exports=s},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(232),u=t(491),s=function(a,n,i){if(i===void 0&&(i=[]),u(a,n)){var r=a.getLineA(),f=a.getLineB(),l=a.getLineC();e(r,n,i),e(f,n,i),e(l,n,i)}return i};o.exports=s},function(o,x,t){/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(494),u=t(492),s=function(a,n,i){if(i===void 0&&(i=[]),e(a,n)){var r=n.getLineA(),f=n.getLineB(),l=n.getLineC();u(a,r,i),u(a,f,i),u(a,l,i)}return i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(496),u=function(s,a){if(!e(s,a))return!1;var n=Math.min(a.x1,a.x2),i=Math.max(a.x1,a.x2),r=Math.min(a.y1,a.y2),f=Math.max(a.y1,a.y2);return s.x>=n&&s.x<=i&&s.y>=r&&s.y<=f};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n,i){return i===void 0&&(i=0),!(u>e.right+i||s<e.left-i||a>e.bottom+i||n<e.top-i)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47);e.Angle=t(97),e.BresenhamPoints=t(317),e.CenterOn=t(1222),e.Clone=t(1223),e.CopyFrom=t(1224),e.Equals=t(1225),e.Extend=t(1226),e.GetEasedPoints=t(1227),e.GetMidPoint=t(1228),e.GetNearestPoint=t(1229),e.GetNormal=t(1230),e.GetPoint=t(307),e.GetPoints=t(172),e.GetShortestDistance=t(1231),e.Height=t(1232),e.Length=t(67),e.NormalAngle=t(497),e.NormalX=t(1233),e.NormalY=t(1234),e.Offset=t(1235),e.PerpSlope=t(1236),e.Random=t(173),e.ReflectAngle=t(1237),e.Rotate=t(1238),e.RotateAroundPoint=t(1239),e.RotateAroundXY=t(236),e.SetToAngle=t(1240),e.Slope=t(1241),e.Width=t(1242),o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=u-(e.x1+e.x2)/2,n=s-(e.y1+e.y2)/2;return e.x1+=a,e.y1+=n,e.x2+=a,e.y2+=n,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(47),u=function(s){return new e(s.x1,s.y1,s.x2,s.y2)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=function(s,a,n){n===void 0&&(n=a);var i=e(s),r=s.x2-s.x1,f=s.y2-s.y1;return a&&(s.x1=s.x1-r/i*a,s.y1=s.y1-f/i*a),n&&(s.x2=s.x2+r/i*n,s.y2=s.y2+f/i*n),s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(352),u=t(80),s=t(4),a=function(n,i,r,f,l){f===void 0&&(f=0),l===void 0&&(l=[]);var h=[],c=n.x1,v=n.y1,d=n.x2-c,m=n.y2-v,y=u(i,l),T,C,R=r-1;for(T=0;T<R;T++)C=y(T/R),h.push(new s(c+d*C,v+m*C));if(C=y(1),h.push(new s(c+d*C,v+m*C)),f>0){var A=h[0],P=[A];for(T=1;T<h.length-1;T++){var O=h[T];e(A,O)>=f&&(P.push(O),A=O)}var b=h[h.length-1];return e(A,b)<f&&P.pop(),P.push(b),P}else return h};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){return a===void 0&&(a=new e),a.x=(s.x1+s.x2)/2,a.y=(s.y1+s.y2)/2,a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a,n){n===void 0&&(n=new e);var i=s.x1,r=s.y1,f=s.x2,l=s.y2,h=(f-i)*(f-i)+(l-r)*(l-r);if(h===0)return n;var c=((a.x-i)*(f-i)+(a.y-r)*(l-r))/h;return n.x=i+c*(f-i),n.y=r+c*(l-r),n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(97),s=t(4),a=function(n,i){i===void 0&&(i=new s);var r=u(n)-e.TAU;return i.x=Math.cos(r),i.y=Math.sin(r),i};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=e.x1,a=e.y1,n=e.x2,i=e.y2,r=(n-s)*(n-s)+(i-a)*(i-a);if(r===0)return!1;var f=((a-u.y)*(n-s)-(s-u.x)*(i-a))/r;return Math.abs(f)*Math.sqrt(r)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.y1-e.y2)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(97),s=function(a){return Math.cos(u(a)-e.TAU)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(14),u=t(97),s=function(a){return Math.sin(u(a)-e.TAU)};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e.x1+=u,e.y1+=s,e.x2+=u,e.y2+=s,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return-((e.x2-e.x1)/(e.y2-e.y1))};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(97),u=t(497),s=function(a,n){return 2*u(n)-Math.PI-e(a)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),u=function(s,a){var n=(s.x1+s.x2)/2,i=(s.y1+s.y2)/2;return e(s,n,i,a)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(236),u=function(s,a,n){return e(s,a.x,a.y,n)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a,n){return e.x1=u,e.y1=s,e.x2=u+Math.cos(a)*n,e.y2=s+Math.sin(a)*n,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return(e.y2-e.y1)/(e.x2-e.x1)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return Math.abs(e.x1-e.x2)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={Face:t(116),GenerateGridVerts:t(1244),GenerateObjVerts:t(480),GenerateVerts:t(479),ParseObj:t(498),ParseObjMaterial:t(499),RotateFace:t(1245),Vertex:t(117)};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(116),u=t(2),s=t(69),a=t(39),n=t(117),i=new a,r=new a,f=new s,l=function(h){var c=u(h,"mesh"),v=u(h,"texture",null),d=u(h,"frame"),m=u(h,"width",1),y=u(h,"height",m),T=u(h,"widthSegments",1),C=u(h,"heightSegments",T),R=u(h,"x",0),A=u(h,"y",0),P=u(h,"z",0),O=u(h,"rotateX",0),b=u(h,"rotateY",0),D=u(h,"rotateZ",0),N=u(h,"zIsUp",!0),B=u(h,"isOrtho",c?c.dirtyCache[11]:!1),U=u(h,"colors",[16777215]),G=u(h,"alphas",[1]),W=u(h,"tile",!1),$=u(h,"flipY",!1),q=u(h,"width",null),_={faces:[],verts:[]};if(i.set(R,A,P),r.set(O,b,D),f.fromRotationXYTranslation(r,i,N),!v&&c)v=c.texture;else if(c&&typeof v=="string")v=c.scene.sys.textures.get(v);else return _;var V=v.get(d);!q&&B&&v&&c&&(m=V.width/c.height,y=V.height/c.height);var w=m/2,z=y/2,Y=Math.floor(T),H=Math.floor(C),j=Y+1,Z=H+1,k=m/Y,nt=y/H,rt=[],ht=[],vt,ot,Et=0,Tt=1,Pt=0,Xt=1;V&&(Et=V.u0,Tt=V.u1,$?(Pt=V.v1,Xt=V.v0):(Pt=V.v0,Xt=V.v1));var zt=Tt-Et,Ut=Xt-Pt;for(ot=0;ot<Z;ot++){var Mt=ot*nt-z;for(vt=0;vt<j;vt++){var ne=vt*k-w;ht.push(ne,-Mt);var Vt=Et+zt*(vt/Y),Zt=Pt+Ut*(ot/H);rt.push(Vt,Zt)}}Array.isArray(U)||(U=[U]),Array.isArray(G)||(G=[G]);var ye=0,Se=0;for(ot=0;ot<H;ot++)for(vt=0;vt<Y;vt++){var Bt=(vt+j*ot)*2,_t=(vt+j*(ot+1))*2,ie=(vt+1+j*(ot+1))*2,Re=(vt+1+j*ot)*2,Me=U[Se],Gt=G[ye],At=new n(ht[Bt],ht[Bt+1],0,rt[Bt],rt[Bt+1],Me,Gt).transformMat4(f),wt=new n(ht[_t],ht[_t+1],0,rt[_t],rt[_t+1],Me,Gt).transformMat4(f),se=new n(ht[Re],ht[Re+1],0,rt[Re],rt[Re+1],Me,Gt).transformMat4(f),ae=new n(ht[_t],ht[_t+1],0,rt[_t],rt[_t+1],Me,Gt).transformMat4(f),le=new n(ht[ie],ht[ie+1],0,rt[ie],rt[ie+1],Me,Gt).transformMat4(f),Ee=new n(ht[Re],ht[Re+1],0,rt[Re],rt[Re+1],Me,Gt).transformMat4(f);W&&(At.setUVs(Et,Xt),wt.setUVs(Et,Pt),se.setUVs(Tt,Xt),ae.setUVs(Et,Pt),le.setUVs(Tt,Pt),Ee.setUVs(Tt,Xt)),Se++,Se===U.length&&(Se=0),ye++,ye===G.length&&(ye=0),_.verts.push(At,wt,se,ae,le,Ee),_.faces.push(new e(At,wt,se),new e(ae,le,Ee))}return c&&(c.faces=c.faces.concat(_.faces),c.vertices=c.vertices.concat(_.verts)),_};o.exports=l},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){var n,i;if(s===void 0&&a===void 0){var r=e.getInCenter();n=r.x,i=r.y}var f=Math.cos(u),l=Math.sin(u),h=e.vertex1,c=e.vertex2,v=e.vertex3,d=h.x-n,m=h.y-i;h.set(d*f-m*l+n,d*l+m*f+i),d=c.x-n,m=c.y-i,c.set(d*f-m*l+n,d*l+m*f+i),d=v.x-n,m=v.y-i,v.set(d*f-m*l+n,d*l+m*f+i)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4);e.Ceil=t(1247),e.Clone=t(1248),e.CopyFrom=t(1249),e.Equals=t(1250),e.Floor=t(1251),e.GetCentroid=t(1252),e.GetMagnitude=t(500),e.GetMagnitudeSq=t(501),e.GetRectangleFromPoints=t(1253),e.Interpolate=t(1254),e.Invert=t(1255),e.Negative=t(1256),e.Project=t(1257),e.ProjectUnit=t(1258),e.SetMagnitude=t(1259),o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.ceil(e.x),Math.ceil(e.y))};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s){return new e(s.x,s.y)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x,e.y)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x===u.x&&e.y===u.y};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(Math.floor(e.x),Math.floor(e.y))};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){if(a===void 0&&(a=new e),!Array.isArray(s))throw new Error("GetCentroid points argument must be an array");var n=s.length;if(n<1)throw new Error("GetCentroid points array must not be empty");if(n===1)a.x=s[0].x,a.y=s[0].y;else{for(var i=0;i<n;i++)a.x+=s[i].x,a.y+=s[i].y;a.x/=n,a.y/=n}return a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(s,a){a===void 0&&(a=new e);for(var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,l=0;l<s.length;l++){var h=s[l];h.x>n&&(n=h.x),h.x<i&&(i=h.x),h.y>r&&(r=h.y),h.y<f&&(f=h.y)}return a.x=i,a.y=f,a.width=n-i,a.height=r-f,a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a,n,i){return n===void 0&&(n=0),i===void 0&&(i=new e),i.x=s.x+(a.x-s.x)*n,i.y=s.y+(a.y-s.y)*n,i};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.setTo(e.y,e.x)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){return a===void 0&&(a=new e),a.setTo(-s.x,-s.y)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(501),s=function(a,n,i){i===void 0&&(i=new e);var r=a.x*n.x+a.y*n.y,f=r/u(n);return f!==0&&(i.x=f*n.x,i.y=f*n.y),i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a,n){n===void 0&&(n=new e);var i=s.x*a.x+s.y*a.y;return i!==0&&(n.x=i*a.x,n.y=i*a.y),n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(500),u=function(s,a){if(s.x!==0||s.y!==0){var n=e(s);s.x/=n,s.y/=n}return s.x*=a,s.y*=a,s};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227);e.Clone=t(1261),e.Contains=t(228),e.ContainsPoint=t(1262),e.Earcut=t(59),e.GetAABB=t(469),e.GetNumberArray=t(1263),e.GetPoints=t(470),e.Perimeter=t(471),e.Reverse=t(1264),e.Simplify=t(1265),e.Smooth=t(472),e.Translate=t(1266),o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(227),u=function(s){return new e(s.points)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(228),u=function(s,a){return e(s,a.x,a.y)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=[]);for(var s=0;s<e.points.length;s++)u.push(e.points[s].x),u.push(e.points[s].y);return u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.points.reverse(),e};o.exports=t},function(o,x){function t(i,r){var f=i.x-r.x,l=i.y-r.y;return f*f+l*l}function e(i,r,f){var l=r.x,h=r.y,c=f.x-l,v=f.y-h;if(c!==0||v!==0){var d=((i.x-l)*c+(i.y-h)*v)/(c*c+v*v);d>1?(l=f.x,h=f.y):d>0&&(l+=c*d,h+=v*d)}return c=i.x-l,v=i.y-h,c*c+v*v}function u(i,r){for(var f=i[0],l=[f],h,c=1,v=i.length;c<v;c++)h=i[c],t(h,f)>r&&(l.push(h),f=h);return f!==h&&l.push(h),l}function s(i,r,f,l,h){for(var c=l,v,d=r+1;d<f;d++){var m=e(i[d],i[r],i[f]);m>c&&(v=d,c=m)}c>l&&(v-r>1&&s(i,r,v,l,h),h.push(i[v]),f-v>1&&s(i,v,f,l,h))}function a(i,r){var f=i.length-1,l=[i[0]];return s(i,0,f,r,l),l.push(i[f]),l}var n=function(i,r,f){r===void 0&&(r=1),f===void 0&&(f=!1);var l=i.points;if(l.length>2){var h=r*r;f||(l=u(l,h)),i.setTo(a(l,h))}return i};o.exports=n},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){for(var a=e.points,n=0;n<a.length;n++)a[n].x+=u,a[n].y+=s;return e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.width*e.height};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.ceil(e.x),e.y=Math.ceil(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(s){return new e(s.x,s.y,s.width,s.height)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(57),u=function(s,a){return e(s,a.x,a.y)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x,e.y,e.width,e.height)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x===u.x&&e.y===u.y&&e.width===u.width&&e.height===u.height};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),u=function(s,a){var n=e(s);return n<e(a)?s.setSize(a.height*n,a.height):s.setSize(a.width,a.width/n),s.setPosition(a.centerX-s.width/2,a.centerY-s.height/2)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(237),u=function(s,a){var n=e(s);return n>e(a)?s.setSize(a.height*n,a.height):s.setSize(a.width,a.width/n),s.setPosition(a.centerX-s.width/2,a.centerY-s.height/2)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height),e};o.exports=t},function(o,x,t){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=function(s,a,n,i,r){return r===void 0&&(r=new e),r.setTo(Math.min(s,n),Math.min(a,i),Math.abs(s-n),Math.abs(a-i))};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){return a===void 0&&(a=new e),a.x=s.centerX,a.y=s.centerY,a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=function(s,a){return a===void 0&&(a=new e),a.x=s.width,a.y=s.height,a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(190),u=function(s,a,n){var i=s.centerX,r=s.centerY;return s.setSize(s.width+a*2,s.height+n*2),e(s,i,r)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(10),u=t(152),s=function(a,n,i){return i===void 0&&(i=new e),u(a,n)?(i.x=Math.max(a.x,n.x),i.y=Math.max(a.y,n.y),i.width=Math.min(a.right,n.right)-i.x,i.height=Math.min(a.bottom,n.bottom)-i.y):i.setEmpty(),i};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){for(var s=e.x,a=e.right,n=e.y,i=e.bottom,r=0;r<u.length;r++)s=Math.min(s,u[r].x),a=Math.max(a,u[r].x),n=Math.min(n,u[r].y),i=Math.max(i,u[r].y);return e.x=s,e.y=n,e.width=a-s,e.height=i-n,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){var s=Math.min(e.x,u.x),a=Math.max(e.right,u.right);e.x=s,e.width=a-s;var n=Math.min(e.y,u.y),i=Math.max(e.bottom,u.bottom);return e.y=n,e.height=i-n,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){var a=Math.min(e.x,u),n=Math.max(e.right,u);e.x=a,e.width=n-a;var i=Math.min(e.y,s),r=Math.max(e.bottom,s);return e.y=i,e.height=r-i,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return e.x+=u,e.y+=s,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x+=u.x,e.y+=u.y,e};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x<u.right&&e.right>u.x&&e.y<u.bottom&&e.bottom>u.y};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(4),u=t(36),s=function(a,n,i){i===void 0&&(i=new e),n=u(n);var r=Math.sin(n),f=Math.cos(n),l=f>0?a.width/2:a.width/-2,h=r>0?a.height/2:a.height/-2;return Math.abs(l*r)<Math.abs(h*f)?h=l*r/f:l=h*f/r,i.x=l+a.centerX,i.y=h+a.centerY,i};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(195),u=t(503),s=t(4),a=function(n,i,r){if(r===void 0&&(r=new s),u(n,i))switch(e(0,3)){case 0:r.x=n.x+Math.random()*(i.right-n.x),r.y=n.y+Math.random()*(i.top-n.y);break;case 1:r.x=i.x+Math.random()*(n.right-i.x),r.y=i.bottom+Math.random()*(n.bottom-i.bottom);break;case 2:r.x=n.x+Math.random()*(i.x-n.x),r.y=i.y+Math.random()*(n.bottom-i.y);break;case 3:r.x=i.right+Math.random()*(n.right-i.right),r.y=n.y+Math.random()*(i.bottom-n.y);break}return r};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.width===u.width&&e.height===u.height};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s){return s===void 0&&(s=u),e.width*=u,e.height*=s,e};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82);e.Area=t(1294),e.BuildEquilateral=t(1295),e.BuildFromPolygon=t(1296),e.BuildRight=t(1297),e.CenterOn=t(1298),e.Centroid=t(504),e.CircumCenter=t(1299),e.CircumCircle=t(1300),e.Clone=t(1301),e.Contains=t(115),e.ContainsArray=t(235),e.ContainsPoint=t(1302),e.CopyFrom=t(1303),e.Decompose=t(495),e.Equals=t(1304),e.GetPoint=t(476),e.GetPoints=t(477),e.InCenter=t(506),e.Perimeter=t(1305),e.Offset=t(505),e.Random=t(181),e.Rotate=t(1306),e.RotateAroundPoint=t(1307),e.RotateAroundXY=t(238),o.exports=e},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){var u=e.x1,s=e.y1,a=e.x2,n=e.y2,i=e.x3,r=e.y3;return Math.abs(((i-u)*(n-s)-(a-u)*(r-s))/2)};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),u=function(s,a,n){var i=n*(Math.sqrt(3)/2),r=s,f=a,l=s+n/2,h=a+i,c=s-n/2,v=a+i;return new e(r,f,l,h,c,v)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(59),u=t(82),s=function(a,n,i,r,f){n===void 0&&(n=null),i===void 0&&(i=1),r===void 0&&(r=1),f===void 0&&(f=[]);for(var l=e(a,n),h,c,v,d,m,y,T,C,R,A=0;A<l.length;A+=3)h=l[A],c=l[A+1],v=l[A+2],d=a[h*2]*i,m=a[h*2+1]*r,y=a[c*2]*i,T=a[c*2+1]*r,C=a[v*2]*i,R=a[v*2+1]*r,f.push(new u(d,m,y,T,C,R));return f};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),u=function(s,a,n,i){i===void 0&&(i=n);var r=s,f=a,l=s,h=a-i,c=s+n,v=a;return new e(r,f,l,h,c,v)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(504),u=t(505),s=function(a,n,i,r){r===void 0&&(r=e);var f=r(a),l=n-f.x,h=i-f.y;return u(a,l,h)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(3);function u(a,n,i,r){return a*r-n*i}var s=function(a,n){n===void 0&&(n=new e);var i=a.x3,r=a.y3,f=a.x1-i,l=a.y1-r,h=a.x2-i,c=a.y2-r,v=2*u(f,l,h,c),d=u(l,f*f+l*l,c,h*h+c*c),m=u(f,f*f+l*l,h,h*h+c*c);return n.x=i-d/v,n.y=r+m/v,n};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),u=function(s,a){a===void 0&&(a=new e);var n=s.x1,i=s.y1,r=s.x2,f=s.y2,l=s.x3,h=s.y3,c=r-n,v=f-i,d=l-n,m=h-i,y=c*(n+r)+v*(i+f),T=d*(n+l)+m*(i+h),C=2*(c*(h-f)-v*(l-r)),R,A;if(Math.abs(C)<1e-6){var P=Math.min(n,r,l),O=Math.min(i,f,h);R=(Math.max(n,r,l)-P)*.5,A=(Math.max(i,f,h)-O)*.5,a.x=P+R,a.y=O+A,a.radius=Math.sqrt(R*R+A*A)}else a.x=(m*y-v*T)/C,a.y=(c*T-d*y)/C,R=a.x-n,A=a.y-i,a.radius=Math.sqrt(R*R+A*A);return a};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(82),u=function(s){return new e(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(115),u=function(s,a){return e(s,a.x,a.y)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u.setTo(e.x1,e.y1,e.x2,e.y2,e.x3,e.y3)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.x1===u.x1&&e.y1===u.y1&&e.x2===u.x2&&e.y2===u.y2&&e.x3===u.x3&&e.y3===u.y3};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(67),u=function(s){var a=s.getLineA(),n=s.getLineB(),i=s.getLineC();return e(a)+e(n)+e(i)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),u=t(506),s=function(a,n){var i=u(a);return e(a,i.x,i.y,n)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(238),u=function(s,a,n){return e(s,a.x,a.y,n)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(203),u=t(17),s={CreatePixelPerfectHandler:t(507),CreateInteractiveObject:t(508),Events:t(51),Gamepad:t(1309),InputManager:t(409),InputPlugin:t(1321),InputPluginCache:t(153),Keyboard:t(1322),Mouse:t(1336),Pointer:t(412),Touch:t(1337)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Axis:t(509),Button:t(510),Events:t(239),Gamepad:t(511),GamepadPlugin:t(1316),Configs:t(1317)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="connected"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="disconnected"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),s=t(239),a=t(511),n=t(6),i=t(153),r=t(51),f=new e({Extends:u,initialize:function(h){u.call(this),this.scene=h.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=h,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,h.pluginEvents.once(r.BOOT,this.boot,this),h.pluginEvents.on(r.START,this.start,this)},boot:function(){var l=this.scene.sys.game,h=this.settings.input,c=l.config;this.enabled=n(h,"gamepad",c.inputGamepad)&&l.device.input.gamepads,this.target=n(h,"gamepad.target",c.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var l=this,h=this.target,c=function(v){v.defaultPrevented||!l.isActive()||(l.refreshPads(),l.queue.push(v))};this.onGamepadHandler=c,h.addEventListener("gamepadconnected",c,!1),h.addEventListener("gamepaddisconnected",c,!1),this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update);for(var l=0;l<this.gamepads.length;l++)this.gamepads[l].removeAllListeners()},disconnectAll:function(){for(var l=0;l<this.gamepads.length;l++)this.gamepads[l].pad.connected=!1},refreshPads:function(){var l=navigator.getGamepads();if(!l)this.disconnectAll();else for(var h=this.gamepads,c=0;c<l.length;c++){var v=l[c];if(v){var d=v.id,m=v.index,y=h[m];if(y)y.id!==d?(y.destroy(),h[m]=new a(this,v)):y.update(v);else{var T=new a(this,v);h[m]=T,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=T):this._pad3=T:this._pad2=T:this._pad1=T}}}},getAll:function(){for(var l=[],h=this.gamepads,c=0;c<h.length;c++)h[c]&&l.push(h[c]);return l},getPad:function(l){for(var h=this.gamepads,c=0;c<h.length;c++)if(h[c]&&h[c].index===l)return h[c]},update:function(){if(this.enabled){this.refreshPads();var l=this.queue.length;if(l!==0)for(var h=this.queue.splice(0,l),c=0;c<l;c++){var v=h[c],d=this.getPad(v.gamepad.index);v.type==="gamepadconnected"?this.emit(s.CONNECTED,d,v):v.type==="gamepaddisconnected"&&this.emit(s.DISCONNECTED,d,v)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var l=0;l<this.gamepads.length;l++)this.gamepads[l]&&this.gamepads[l].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});i.register("GamepadPlugin",f,"gamepad","gamepad","inputGamepad"),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={DUALSHOCK_4:t(1318),SNES_USB:t(1319),XBOX_360:t(1320)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(65),u=t(66),s=t(0),a=t(203),n=t(508),i=t(507),r=t(50),f=t(111),l=t(112),h=t(51),c=t(9),v=t(2),d=t(56),m=t(153),y=t(7),T=t(24),C=t(10),R=t(57),A=t(20),P=t(82),O=t(115),b=new s({Extends:c,initialize:function(N){c.call(this),this.scene=N,this.systems=N.sys,this.settings=N.sys.settings,this.manager=N.sys.game.input,this.pluginEvents=new c,this.enabled=!0,this.displayList,this.cameras,m.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,N.sys.events.once(A.BOOT,this.boot,this),N.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(h.BOOT)},start:function(){var D=this.systems.events;D.on(A.TRANSITION_START,this.transitionIn,this),D.on(A.TRANSITION_OUT,this.transitionOut,this),D.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),D.on(A.PRE_UPDATE,this.preUpdate,this),D.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(h.GAME_OUT,this.onGameOut,this),this.manager.events.on(h.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(h.START)},onGameOver:function(D){this.isActive()&&this.emit(h.GAME_OVER,D.timeStamp,D)},onGameOut:function(D){this.isActive()&&this.emit(h.GAME_OUT,D.timeStamp,D)},preUpdate:function(){this.pluginEvents.emit(h.PRE_UPDATE);var D=this._pendingRemoval,N=this._pendingInsertion,B=D.length,U=N.length;if(!(B===0&&U===0)){for(var G=this._list,W=0;W<B;W++){var $=D[W],q=G.indexOf($);q>-1&&(G.splice(q,1),this.clear($,!0))}D.length=0,this._pendingRemoval.length=0,this._list=G.concat(N.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.isActive()},updatePoll:function(D,N){if(!this.isActive())return!1;if(this.pluginEvents.emit(h.UPDATE,D,N),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,U=this.manager,G=U.pointers,W=U.pointersTotal;for(B=0;B<W;B++)G[B].updateMotion();if(this._list.length===0)return!1;var $=this.pollRate;if($===-1)return!1;if($>0)if(this._pollTimer-=N,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var q=!1;for(B=0;B<W;B++){var _=0,V=G[B];this._tempZones=[],this._temp=this.hitTestPointer(V),this.sortGameObjects(this._temp,V),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),_+=this.processOverOutEvents(V),this.getDragState(V)===2&&this.processDragThresholdEvent(V,D),_>0&&(q=!0)}return q},update:function(D,N){if(!this.isActive())return!1;for(var B=N.length,U=!1,G=0;G<B;G++){var W=0,$=N[G];switch(this._tempZones=[],this._temp=this.hitTestPointer($),this.sortGameObjects(this._temp,$),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),D){case a.MOUSE_DOWN:W+=this.processDragDownEvent($),W+=this.processDownEvents($),W+=this.processOverOutEvents($);break;case a.MOUSE_UP:W+=this.processDragUpEvent($),W+=this.processUpEvents($),W+=this.processOverOutEvents($);break;case a.TOUCH_START:W+=this.processDragDownEvent($),W+=this.processDownEvents($),W+=this.processOverEvents($);break;case a.TOUCH_END:case a.TOUCH_CANCEL:W+=this.processDragUpEvent($),W+=this.processUpEvents($),W+=this.processOutEvents($);break;case a.MOUSE_MOVE:case a.TOUCH_MOVE:W+=this.processDragMoveEvent($),W+=this.processMoveEvents($),W+=this.processOverOutEvents($);break;case a.MOUSE_WHEEL:W+=this.processWheelEvent($);break}W>0&&(U=!0)}return this._updatedThisFrame=!0,U},clear:function(D,N){N===void 0&&(N=!1);var B=D.input;if(B){N||this.queueForRemoval(D),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,D.input=null;var U=this._draggable.indexOf(D);return U>-1&&this._draggable.splice(U,1),U=this._drag[0].indexOf(D),U>-1&&this._drag[0].splice(U,1),U=this._over[0].indexOf(D),U>-1&&(this._over[0].splice(U,1),this.manager.resetCursor(B)),D}},disable:function(D){D.input.enabled=!1},enable:function(D,N,B,U){return U===void 0&&(U=!1),D.input?D.input.enabled=!0:this.setHitArea(D,N,B),D.input&&U&&!D.input.dropZone&&(D.input.dropZone=U),this},hitTestPointer:function(D){for(var N=this.cameras.getCamerasBelowPointer(D),B=0;B<N.length;B++){for(var U=N[B],G=this.manager.hitTest(D,this._list,U),W=0;W<G.length;W++){var $=G[W];$.input.dropZone&&this._tempZones.push($)}if(G.length>0)return D.camera=U,G}return D.camera=N[0],[]},processDownEvents:function(D){var N=0,B=this._temp,U=this._eventData,G=this._eventContainer;U.cancelled=!1;for(var W=!1,$=0;$<B.length;$++){var q=B[$];if(q.input){if(N++,q.emit(h.GAMEOBJECT_POINTER_DOWN,D,q.input.localX,q.input.localY,G),U.cancelled||!q.input){W=!0;break}if(this.emit(h.GAMEOBJECT_DOWN,D,q,G),U.cancelled||!q.input){W=!0;break}}}return!W&&this.manager&&(D.downElement===this.manager.game.canvas?this.emit(h.POINTER_DOWN,D,B):this.emit(h.POINTER_DOWN_OUTSIDE,D)),N},getDragState:function(D){return this._dragState[D.id]},setDragState:function(D,N){this._dragState[D.id]=N},processDragThresholdEvent:function(D,N){var B=!1,U=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&r(D.x,D.y,D.downX,D.downY)>=G||U>0&&N>=D.downTime+U)&&(B=!0),B)return this.setDragState(D,3),this.processDragStartList(D)},processDragStartList:function(D){if(this.getDragState(D)!==3)return 0;for(var N=this._drag[D.id],B=0;B<N.length;B++){var U=N[B],G=U.input;G.dragState=2,G.dragStartX=U.x,G.dragStartY=U.y,G.dragStartXGlobal=D.worldX,G.dragStartYGlobal=D.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,U.emit(h.GAMEOBJECT_DRAG_START,D,G.dragX,G.dragY),this.emit(h.DRAG_START,D,U)}return this.setDragState(D,4),N.length},processDragDownEvent:function(D){var N=this._temp;if(this._draggable.length===0||N.length===0||!D.primaryDown||this.getDragState(D)!==0)return 0;this.setDragState(D,1);for(var B=[],U=0;U<N.length;U++){var G=N[U];G.input.draggable&&G.input.dragState===0&&B.push(G)}return B.length===0?(this.setDragState(D,0),0):(B.length>1&&(this.sortGameObjects(B,D),this.topOnly&&B.splice(1)),this._drag[D.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(D,3),this.processDragStartList(D)):(this.setDragState(D,2),0))},processDragMoveEvent:function(D){if(this.getDragState(D)===2&&this.processDragThresholdEvent(D,this.manager.game.loop.now),this.getDragState(D)!==4)return 0;for(var N=this._tempZones,B=this._drag[D.id],U=0;U<B.length;U++){var G=B[U],W=G.input,$=W.target;if($){var q=N.indexOf($);q===0?(G.emit(h.GAMEOBJECT_DRAG_OVER,D,$),this.emit(h.DRAG_OVER,D,G,$)):q>0?(G.emit(h.GAMEOBJECT_DRAG_LEAVE,D,$),this.emit(h.DRAG_LEAVE,D,G,$),W.target=N[0],$=W.target,G.emit(h.GAMEOBJECT_DRAG_ENTER,D,$),this.emit(h.DRAG_ENTER,D,G,$)):(G.emit(h.GAMEOBJECT_DRAG_LEAVE,D,$),this.emit(h.DRAG_LEAVE,D,G,$),N[0]?(W.target=N[0],$=W.target,G.emit(h.GAMEOBJECT_DRAG_ENTER,D,$),this.emit(h.DRAG_ENTER,D,G,$)):W.target=null)}else!$&&N[0]&&(W.target=N[0],$=W.target,G.emit(h.GAMEOBJECT_DRAG_ENTER,D,$),this.emit(h.DRAG_ENTER,D,G,$));var _,V;if(!G.parentContainer)_=D.worldX-W.dragX,V=D.worldY-W.dragY;else{var w=D.worldX-W.dragStartXGlobal,z=D.worldY-W.dragStartYGlobal,Y=G.getParentRotation(),H=w*Math.cos(Y)+z*Math.sin(Y),j=z*Math.cos(Y)-w*Math.sin(Y);H*=1/G.parentContainer.scaleX,j*=1/G.parentContainer.scaleY,_=H+W.dragStartX,V=j+W.dragStartY}G.emit(h.GAMEOBJECT_DRAG,D,_,V),this.emit(h.DRAG,D,G,_,V)}return B.length},processDragUpEvent:function(D){for(var N=this._drag[D.id],B=0;B<N.length;B++){var U=N[B],G=U.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-U.displayOriginX,G.dragY=G.localY-U.displayOriginY;var W=!1,$=G.target;$&&(U.emit(h.GAMEOBJECT_DROP,D,$),this.emit(h.DROP,D,U,$),G.target=null,W=!0),U.input&&(U.emit(h.GAMEOBJECT_DRAG_END,D,G.dragX,G.dragY,W),this.emit(h.DRAG_END,D,U,W))}}return this.setDragState(D,0),N.splice(0),0},processMoveEvents:function(D){var N=0,B=this._temp,U=this._eventData,G=this._eventContainer;U.cancelled=!1;for(var W=!1,$=0;$<B.length;$++){var q=B[$];if(q.input){if(N++,q.emit(h.GAMEOBJECT_POINTER_MOVE,D,q.input.localX,q.input.localY,G),U.cancelled||!q.input){W=!0;break}if(this.emit(h.GAMEOBJECT_MOVE,D,q,G),U.cancelled||!q.input){W=!0;break}if(this.topOnly)break}}return W||this.emit(h.POINTER_MOVE,D,B),N},processWheelEvent:function(D){var N=0,B=this._temp,U=this._eventData,G=this._eventContainer;U.cancelled=!1;for(var W=!1,$=D.deltaX,q=D.deltaY,_=D.deltaZ,V=0;V<B.length;V++){var w=B[V];if(w.input){if(N++,w.emit(h.GAMEOBJECT_POINTER_WHEEL,D,$,q,_,G),U.cancelled||!w.input){W=!0;break}if(this.emit(h.GAMEOBJECT_WHEEL,D,w,$,q,_,G),U.cancelled||!w.input){W=!0;break}}}return W||this.emit(h.POINTER_WHEEL,D,B,$,q,_),N},processOverEvents:function(D){var N=this._temp,B=0,U=N.length,G=[];if(U>0){var W=this.manager,$=this._eventData,q=this._eventContainer;$.cancelled=!1;for(var _=!1,V=0;V<U;V++){var w=N[V];if(w.input){if(G.push(w),W.setCursor(w.input),w.emit(h.GAMEOBJECT_POINTER_OVER,D,w.input.localX,w.input.localY,q),B++,$.cancelled||!w.input){_=!0;break}if(this.emit(h.GAMEOBJECT_OVER,D,w,q),$.cancelled||!w.input){_=!0;break}}}_||this.emit(h.POINTER_OVER,D,G)}return this._over[D.id]=G,B},processOutEvents:function(D){var N=this._over[D.id],B=0,U=N.length;if(U>0){var G=this.manager,W=this._eventData,$=this._eventContainer;W.cancelled=!1;var q=!1;this.sortGameObjects(N,D);for(var _=0;_<U;_++){var V=N[_];if(V=N[_],!!V.input){if(G.resetCursor(V.input),V.emit(h.GAMEOBJECT_POINTER_OUT,D,$),B++,W.cancelled||!V.input){q=!0;break}if(this.emit(h.GAMEOBJECT_OUT,D,V,$),W.cancelled||!V.input){q=!0;break}q||this.emit(h.POINTER_OUT,D,N)}}this._over[D.id]=[]}return B},processOverOutEvents:function(D){var N=this._temp,B,U,G=[],W=[],$=[],q=this._over[D.id],_=this._drag[D.id],V=this.manager;for(B=0;B<q.length;B++)U=q[B],N.indexOf(U)===-1&&_.indexOf(U)===-1?G.push(U):$.push(U);for(B=0;B<N.length;B++)U=N[B],q.indexOf(U)===-1&&W.push(U);var w=G.length,z=0,Y=this._eventData,H=this._eventContainer;Y.cancelled=!1;var j=!1;if(w>0){for(this.sortGameObjects(G,D),B=0;B<w;B++)if(U=G[B],!!U.input){if(V.resetCursor(U.input),U.emit(h.GAMEOBJECT_POINTER_OUT,D,H),z++,Y.cancelled||!U.input){j=!0;break}if(this.emit(h.GAMEOBJECT_OUT,D,U,H),Y.cancelled||!U.input){j=!0;break}}j||this.emit(h.POINTER_OUT,D,G)}if(w=W.length,Y.cancelled=!1,j=!1,w>0){for(this.sortGameObjects(W,D),B=0;B<w;B++)if(U=W[B],!!U.input){if(V.setCursor(U.input),U.emit(h.GAMEOBJECT_POINTER_OVER,D,U.input.localX,U.input.localY,H),z++,Y.cancelled||!U.input){j=!0;break}if(this.emit(h.GAMEOBJECT_OVER,D,U,H),Y.cancelled||!U.input){j=!0;break}}j||this.emit(h.POINTER_OVER,D,W)}return q=$.concat(W),this._over[D.id]=this.sortGameObjects(q,D),z},processUpEvents:function(D){var N=this._temp,B=this._eventData,U=this._eventContainer;B.cancelled=!1;for(var G=!1,W=0;W<N.length;W++){var $=N[W];if($.input){if($.emit(h.GAMEOBJECT_POINTER_UP,D,$.input.localX,$.input.localY,U),B.cancelled||!$.input){G=!0;break}if(this.emit(h.GAMEOBJECT_UP,D,$,U),B.cancelled||!$.input){G=!0;break}}}return!G&&this.manager&&(D.upElement===this.manager.game.canvas?this.emit(h.POINTER_UP,D,N):this.emit(h.POINTER_UP_OUTSIDE,D)),N.length},queueForInsertion:function(D){return this._pendingInsertion.indexOf(D)===-1&&this._list.indexOf(D)===-1&&this._pendingInsertion.push(D),this},queueForRemoval:function(D){return this._pendingRemoval.push(D),this},setDraggable:function(D,N){N===void 0&&(N=!0),Array.isArray(D)||(D=[D]);for(var B=0;B<D.length;B++){var U=D[B];U.input.draggable=N;var G=this._draggable.indexOf(U);N&&G===-1?this._draggable.push(U):!N&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(D){D===void 0&&(D=1);var N=this.systems.textures;return i(N,D)},setHitArea:function(D,N,B){if(N===void 0)return this.setHitAreaFromTexture(D);Array.isArray(D)||(D=[D]);var U=!1,G=!1,W=!1,$=!1,q=!1,_=!0;if(y(N)){var V=N;N=v(V,"hitArea",null),B=v(V,"hitAreaCallback",null),U=v(V,"draggable",!1),G=v(V,"dropZone",!1),W=v(V,"cursor",!1),$=v(V,"useHandCursor",!1),q=v(V,"pixelPerfect",!1);var w=v(V,"alphaTolerance",1);q&&(N={},B=this.makePixelPerfect(w)),(!N||!B)&&(this.setHitAreaFromTexture(D),_=!1)}else typeof N=="function"&&!B&&(B=N,N={});for(var z=0;z<D.length;z++){var Y=D[z];if(q&&Y.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var H=Y.input?Y.input:n(Y,N,B);H.customHitArea=_,H.dropZone=G,H.cursor=$?"pointer":W,Y.input=H,U&&this.setDraggable(Y),this.queueForInsertion(Y)}return this},setHitAreaCircle:function(D,N,B,U,G){G===void 0&&(G=u);var W=new e(N,B,U);return this.setHitArea(D,W,G)},setHitAreaEllipse:function(D,N,B,U,G,W){W===void 0&&(W=l);var $=new f(N,B,U,G);return this.setHitArea(D,$,W)},setHitAreaFromTexture:function(D,N){N===void 0&&(N=R),Array.isArray(D)||(D=[D]);for(var B=0;B<D.length;B++){var U=D[B],G=U.frame,W=0,$=0;if(U.width?(W=U.width,$=U.height):G&&(W=G.realWidth,$=G.realHeight),U.type==="Container"&&(W===0||$===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}W!==0&&$!==0&&(U.input=n(U,new C(0,0,W,$),N),this.queueForInsertion(U))}return this},setHitAreaRectangle:function(D,N,B,U,G,W){W===void 0&&(W=R);var $=new C(N,B,U,G);return this.setHitArea(D,$,W)},setHitAreaTriangle:function(D,N,B,U,G,W,$,q){q===void 0&&(q=O);var _=new P(N,B,U,G,W,$);return this.setHitArea(D,_,q)},enableDebug:function(D,N){N===void 0&&(N=65280);var B=D.input;if(!B||!B.hitArea)return this;var U=B.hitArea,G=U.type,W=B.hitAreaDebug,$=this.systems.add,q=this.systems.updateList;W&&(q.remove(W),W.destroy(),W=null);var _=0,V=0;switch(G){case d.CIRCLE:W=$.arc(0,0,U.radius),_=U.x-U.radius,V=U.y-U.radius;break;case d.ELLIPSE:W=$.ellipse(0,0,U.width,U.height),_=U.x-U.width/2,V=U.y-U.height/2;break;case d.LINE:W=$.line(0,0,U.x1,U.y1,U.x2,U.y2);break;case d.POLYGON:W=$.polygon(0,0,U.points);break;case d.RECTANGLE:W=$.rectangle(0,0,U.width,U.height),_=U.x,V=U.y;break;case d.TRIANGLE:W=$.triangle(0,0,U.x1,U.y1,U.x2,U.y2,U.x3,U.y3);break}return W&&(W.isFilled=!1,W.preUpdate=function(){W.setStrokeStyle(1/D.scale,N),W.setDisplayOrigin(D.displayOriginX,D.displayOriginY);var w=D.x,z=D.y,Y=D.rotation,H=D.scaleX,j=D.scaleY;if(D.parentContainer){var Z=D.getWorldTransformMatrix();w=Z.tx,z=Z.ty,Y=Z.rotation,H=Z.scaleX,j=Z.scaleY}W.setRotation(Y),W.setScale(H,j),W.setPosition(w+_,z+V),W.setScrollFactor(D.scrollFactorX,D.scrollFactorY),W.setDepth(D.depth)},q.add(W),B.hitAreaDebug=W),this},removeDebug:function(D){var N=D.input;if(N&&N.hitAreaDebug){var B=N.hitAreaDebug;this.systems.updateList.remove(B),B.destroy(),N.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(D){return this.pollRate=D,this._pollTimer=0,this},setGlobalTopOnly:function(D){return this.manager.globalTopOnly=D,this},setTopOnly:function(D){return this.topOnly=D,this},sortGameObjects:function(D,N){if(D.length<2)return D;var B=N.camera.renderList;return D.sort(function(U,G){return B.indexOf(G)-B.indexOf(U)})},sortDropZones:function(D){return D.length<2?D:(this.scene.sys.depthSort(),D.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(D,N){if(!D.parentContainer&&!N.parentContainer)return this.displayList.getIndex(N)-this.displayList.getIndex(D);if(D.parentContainer===N.parentContainer)return N.parentContainer.getIndex(N)-D.parentContainer.getIndex(D);if(D.parentContainer===N)return-1;if(N.parentContainer===D)return 1;for(var B=D.getIndexList(),U=N.getIndexList(),G=Math.min(B.length,U.length),W=0;W<G;W++){var $=B[W],q=U[W];if($!==q)return q-$}return U.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(D){return this.manager.addPointer(D)},setDefaultCursor:function(D){return this.manager.setDefaultCursor(D),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(h.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var D=0;D<10;D++)this._drag[D]=[],this._over[D]=[];this.removeAllListeners();var N=this.manager;N.canvas.style.cursor=N.defaultCursor;var B=this.systems.events;B.off(A.TRANSITION_START,this.transitionIn,this),B.off(A.TRANSITION_OUT,this.transitionOut,this),B.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(A.PRE_UPDATE,this.preUpdate,this),N.events.off(h.GAME_OUT,this.onGameOut,this),N.events.off(h.GAME_OVER,this.onGameOver,this),B.off(A.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.pluginEvents.emit(h.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});T.register("InputPlugin",b,"input"),o.exports=b},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Events:t(154),KeyboardManager:t(410),KeyboardPlugin:t(1330),Key:t(512),KeyCodes:t(143),KeyCombo:t(513),AdvanceKeyCombo:t(515),ProcessKeyCombo:t(514),ResetKeyCombo:t(516),JustDown:t(1332),JustUp:t(1333),DownDuration:t(1334),UpDuration:t(1335)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keydown"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keyup"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keycombomatch"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="down"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keydown-"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="keyup-"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="up"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(9),s=t(154),a=t(22),n=t(6),i=t(51),r=t(153),f=t(512),l=t(143),h=t(513),c=t(1331),v=t(20),d=t(76),m=new e({Extends:u,initialize:function(T){u.call(this),this.game=T.systems.game,this.scene=T.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=T,this.manager=T.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,T.pluginEvents.once(i.BOOT,this.boot,this),T.pluginEvents.on(i.START,this.start,this)},boot:function(){var y=this.settings.input;this.enabled=n(y,"keyboard",!0);var T=n(y,"keyboard.capture",null);T&&this.addCaptures(T),this.sceneInputPlugin.pluginEvents.once(i.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(i.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(i.SHUTDOWN,this.shutdown,this),this.game.events.on(a.BLUR,this.resetKeys,this),this.scene.sys.events.on(v.PAUSE,this.resetKeys,this),this.scene.sys.events.on(v.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(y){return this.manager.addCapture(y),this},removeCapture:function(y){return this.manager.removeCapture(y),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:l.UP,down:l.DOWN,left:l.LEFT,right:l.RIGHT,space:l.SPACE,shift:l.SHIFT})},addKeys:function(y,T,C){T===void 0&&(T=!0),C===void 0&&(C=!1);var R={};if(typeof y=="string"){y=y.split(",");for(var A=0;A<y.length;A++){var P=y[A].trim();P&&(R[P]=this.addKey(P,T,C))}}else for(var O in y)R[O]=this.addKey(y[O],T,C);return R},addKey:function(y,T,C){T===void 0&&(T=!0),C===void 0&&(C=!1);var R=this.keys;if(y instanceof f){var A=R.indexOf(y);return A>-1?R[A]=y:R[y.keyCode]=y,T&&this.addCapture(y.keyCode),y.setEmitOnRepeat(C),y}return typeof y=="string"&&(y=l[y.toUpperCase()]),R[y]||(R[y]=new f(this,y),T&&this.addCapture(y),R[y].setEmitOnRepeat(C)),R[y]},removeKey:function(y,T){T===void 0&&(T=!1);var C=this.keys,R;if(y instanceof f){var A=C.indexOf(y);A>-1&&(R=this.keys[A],this.keys[A]=void 0)}else typeof y=="string"&&(y=l[y.toUpperCase()]);return C[y]&&(R=C[y],C[y]=void 0),R&&(R.plugin=null,T&&R.destroy()),this},removeAllKeys:function(y){for(var T=this.keys,C=0;C<T.length;C++){var R=T[C];R&&(T[C]=void 0,y&&R.destroy())}return this},createCombo:function(y,T){return new h(this,y,T)},checkDown:function(y,T){if(T===void 0&&(T=0),this.enabled&&y.isDown){var C=d(this.time-y.timeDown,T);if(C>y._tick)return y._tick=C,!0}return!1},update:function(){var y=this.manager.queue,T=y.length;if(!(!this.isActive()||T===0))for(var C=this.keys,R=0;R<T;R++){var A=y[R],P=A.keyCode,O=C[P],b=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(P===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=P,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(O&&(b=O.isDown,O.onDown(A)),!A.cancelled&&(!O||!b)&&(c[P]&&this.emit(s.KEY_DOWN+c[P],A),A.cancelled||this.emit(s.ANY_KEY_DOWN,A))):(O&&O.onUp(A),A.cancelled||(c[P]&&this.emit(s.KEY_UP+c[P],A),A.cancelled||this.emit(s.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(i.MANAGER_PROCESS,this.update,this),this.game.events.off(a.BLUR,this.resetKeys),this.scene.sys.events.off(v.PAUSE,this.resetKeys,this),this.scene.sys.events.off(v.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var y=this.keys,T=0;T<y.length;T++)y[T]&&y[T].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});r.register("KeyboardPlugin",m,"keyboard","keyboard","inputKeyboard"),o.exports=m},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(143),u={};for(var s in e)u[e[s]]=s;o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justDown?(e._justDown=!1,!0):!1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e._justUp?(e._justUp=!1,!0):!1};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=50);var s=e.plugin.game.loop.time-e.timeDown;return e.isDown&&s<u};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){u===void 0&&(u=50);var s=e.plugin.game.loop.time-e.timeUp;return e.isUp&&s<u};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={MouseManager:t(411)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={TouchManager:t(413)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(21),u=t(17),s={Events:t(95),FileTypes:t(1339),File:t(23),FileTypesManager:t(8),GetURL:t(155),LoaderPlugin:t(1365),MergeXHRSettings:t(240),MultiFile:t(49),XHRLoader:t(517),XHRSettings:t(156)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AnimationJSONFile:t(1340),AsepriteFile:t(1341),AtlasJSONFile:t(1342),AtlasXMLFile:t(1343),AudioFile:t(518),AudioSpriteFile:t(1344),BinaryFile:t(1345),BitmapFontFile:t(1346),CSSFile:t(1347),GLSLFile:t(1348),HTML5AudioFile:t(519),HTMLFile:t(1349),HTMLTextureFile:t(1350),ImageFile:t(71),JSONFile:t(61),MultiAtlasFile:t(1351),MultiScriptFile:t(1352),OBJFile:t(1353),PackFile:t(1354),PluginFile:t(1355),SceneFile:t(1356),ScenePluginFile:t(1357),ScriptFile:t(520),SpriteSheetFile:t(1358),SVGFile:t(1359),TextFile:t(242),TilemapCSVFile:t(1360),TilemapImpactFile:t(1361),TilemapJSONFile:t(1362),UnityAtlasFile:t(1363),VideoFile:t(1364),XMLFile:t(241)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(61),a=t(95),n=new e({Extends:s,initialize:function(r,f,l,h,c){s.call(this,r,f,l,h,c),this.type="animationJSON"},onProcess:function(){this.loader.once(a.POST_PROCESS,this.onLoadComplete,this),s.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});u.register("animation",function(i,r,f,l){if(Array.isArray(i))for(var h=0;h<i.length;h++)this.addFile(new n(this,i[h]));else this.addFile(new n(this,i,r,l,f));return this}),o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(2),a=t(71),n=t(7),i=t(61),r=t(49),f=new e({Extends:r,initialize:function(h,c,v,d,m,y){var T,C;if(n(c)){var R=c;c=s(R,"key"),T=new a(h,{key:c,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),C=new i(h,{key:c,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","json"),xhrSettings:s(R,"atlasXhrSettings")})}else T=new a(h,c,v,m),C=new i(h,c,d,y);T.linkFile?r.call(this,h,"atlasjson",c,[T,C,T.linkFile]):r.call(this,h,"atlasjson",c,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],h=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(l.key,l.data,h.data,c),h.addToCache(),this.complete=!0}}});u.register("aseprite",function(l,h,c,v,d){var m;if(Array.isArray(l))for(var y=0;y<l.length;y++)m=new f(this,l[y]),this.addFile(m.files);else m=new f(this,l,h,c,v,d),this.addFile(m.files);return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(2),a=t(71),n=t(7),i=t(61),r=t(49),f=new e({Extends:r,initialize:function(h,c,v,d,m,y){var T,C;if(n(c)){var R=c;c=s(R,"key"),T=new a(h,{key:c,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),C=new i(h,{key:c,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","json"),xhrSettings:s(R,"atlasXhrSettings")})}else T=new a(h,c,v,m),C=new i(h,c,d,y);T.linkFile?r.call(this,h,"atlasjson",c,[T,C,T.linkFile]):r.call(this,h,"atlasjson",c,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],h=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(l.key,l.data,h.data,c),h.pendingDestroy(),this.complete=!0}}});u.register("atlas",function(l,h,c,v,d){var m;if(Array.isArray(l))for(var y=0;y<l.length;y++)m=new f(this,l[y]),this.addFile(m.files);else m=new f(this,l,h,c,v,d),this.addFile(m.files);return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(2),a=t(71),n=t(7),i=t(49),r=t(241),f=new e({Extends:i,initialize:function(h,c,v,d,m,y){var T,C;if(n(c)){var R=c;c=s(R,"key"),T=new a(h,{key:c,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),C=new r(h,{key:c,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","xml"),xhrSettings:s(R,"atlasXhrSettings")})}else T=new a(h,c,v,m),C=new r(h,c,d,y);T.linkFile?i.call(this,h,"atlasxml",c,[T,C,T.linkFile]):i.call(this,h,"atlasxml",c,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],h=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(l.key,l.data,h.data,c),h.pendingDestroy(),this.complete=!0}}});u.register("atlasXML",function(l,h,c,v,d){var m;if(Array.isArray(l))for(var y=0;y<l.length;y++)m=new f(this,l[y]),this.addFile(m.files);else m=new f(this,l,h,c,v,d),this.addFile(m.files);return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(518),u=t(0),s=t(8),a=t(2),n=t(7),i=t(61),r=t(49),f=new u({Extends:r,initialize:function(h,c,v,d,m,y,T){if(n(c)){var C=c;c=a(C,"key"),v=a(C,"jsonURL"),d=a(C,"audioURL"),m=a(C,"audioConfig"),y=a(C,"audioXhrSettings"),T=a(C,"jsonXhrSettings")}var R;if(!d)R=new i(h,c,v,T),r.call(this,h,"audiosprite",c,[R]),this.config.resourceLoad=!0,this.config.audioConfig=m,this.config.audioXhrSettings=y;else{var A=e.create(h,c,d,m,y);A&&(R=new i(h,c,v,T),r.call(this,h,"audiosprite",c,[A,R]),this.config.resourceLoad=!1)}},onFileComplete:function(l){var h=this.files.indexOf(l);if(h!==-1&&(this.pending--,this.config.resourceLoad&&l.type==="json"&&l.data.hasOwnProperty("resources"))){var c=l.data.resources,v=a(this.config,"audioConfig"),d=a(this.config,"audioXhrSettings"),m=e.create(this.loader,l.key,c,v,d);m&&(this.addToMultiFile(m),this.loader.addFile(m))}},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],h=this.files[1];l.addToCache(),h.addToCache(),this.complete=!0}}});s.register("audioSprite",function(l,h,c,v,d,m){var y=this.systems.game,T=y.config.audio,C=y.device.audio;if(T&&T.noAudio||!C.webAudio&&!C.audioData)return this;var R;if(Array.isArray(l))for(var A=0;A<l.length;A++)R=new f(this,l[A]),R.files&&this.addFile(R.files);else R=new f(this,l,h,c,v,d,m),R.files&&this.addFile(R.files);return this})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v,d){var m="bin";if(i(h)){var y=h;h=n(y,"key"),c=n(y,"url"),v=n(y,"xhrSettings"),m=n(y,"extension",m),d=n(y,"dataType",d)}var T={type:"binary",cache:l.cacheManager.binary,extension:m,responseType:"arraybuffer",key:h,url:c,xhrSettings:v,config:{dataType:d}};s.call(this,l,T)},onProcess:function(){this.state=u.FILE_PROCESSING;var f=this.config.dataType;this.data=f?new f(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});a.register("binary",function(f,l,h,c){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new r(this,f[v]));else this.addFile(new r(this,f,l,c,h));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(2),a=t(71),n=t(7),i=t(49),r=t(212),f=t(241),l=new e({Extends:i,initialize:function(c,v,d,m,y,T){var C,R;if(n(v)){var A=v;v=s(A,"key"),C=new a(c,{key:v,url:s(A,"textureURL"),extension:s(A,"textureExtension","png"),normalMap:s(A,"normalMap"),xhrSettings:s(A,"textureXhrSettings")}),R=new f(c,{key:v,url:s(A,"fontDataURL"),extension:s(A,"fontDataExtension","xml"),xhrSettings:s(A,"fontDataXhrSettings")})}else C=new a(c,v,d,y),R=new f(c,v,m,T);C.linkFile?i.call(this,c,"bitmapfont",v,[C,R,C.linkFile]):i.call(this,c,"bitmapfont",v,[C,R])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1];h.addToCache(),c.pendingDestroy();var v=h.cache.get(h.key),d=r(c.data,h.cache.getFrame(h.key),0,0,v);this.loader.cacheManager.bitmapFont.add(h.key,{data:d,texture:h.key,frame:null}),this.complete=!0}}});u.register("bitmapFont",function(h,c,v,d,m){var y;if(Array.isArray(h))for(var T=0;T<h.length;T++)y=new l(this,h[T]),this.addFile(y.files);else y=new l(this,h,c,v,d,m),this.addFile(y.files);return this}),o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v){var d="css";if(i(h)){var m=h;h=n(m,"key"),c=n(m,"url"),v=n(m,"xhrSettings"),d=n(m,"extension",d)}var y={type:"script",cache:!1,extension:d,responseType:"text",key:h,url:c,xhrSettings:v};s.call(this,l,y)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});a.register("css",function(f,l,h){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,l,h));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=t(396),f=new e({Extends:s,initialize:function(h,c,v,d,m){var y="glsl";if(i(c)){var T=c;c=n(T,"key"),v=n(T,"url"),d=n(T,"shaderType","fragment"),m=n(T,"xhrSettings"),y=n(T,"extension",y)}else d===void 0&&(d="fragment");var C={type:"glsl",cache:h.cacheManager.shader,extension:y,responseType:"text",key:c,url:v,config:{shaderType:d},xhrSettings:m};s.call(this,h,C)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l=this.data.split(`
`),h=this.extractBlock(l,0);if(h)for(;h;){var c=this.getShaderName(h.header),v=this.getShaderType(h.header),d=this.getShaderUniforms(h.header),m=h.shader;if(this.cache.has(c)){var y=this.cache.get(c);v==="fragment"?y.fragmentSrc=m:y.vertexSrc=m,y.uniforms||(y.uniforms=d)}else v==="fragment"?this.cache.add(c,new r(c,m,"",d)):this.cache.add(c,new r(c,"",m,d));h=this.extractBlock(l,h.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new r(this.key,this.data)):this.cache.add(this.key,new r(this.key,"",this.data));this.pendingDestroy()},getShaderName:function(l){for(var h=0;h<l.length;h++){var c=l[h].trim();if(c.substring(0,5)==="name:")return c.substring(5).trim()}return this.key},getShaderType:function(l){for(var h=0;h<l.length;h++){var c=l[h].trim();if(c.substring(0,5)==="type:")return c.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(l){for(var h={},c=0;c<l.length;c++){var v=l[c].trim();if(v.substring(0,8)==="uniform."){var d=v.indexOf(":");if(d){var m=v.substring(8,d);try{h[m]=JSON.parse(v.substring(d+1))}catch{console.warn("Invalid uniform JSON: "+m)}}}}return h},extractBlock:function(l,h){for(var c=-1,v=-1,d=-1,m=!1,y=!1,T=[],C=[],R=h;R<l.length;R++){var A=l[R].trim();if(A==="---")if(c===-1)c=R,m=!0;else if(m)v=R,m=!1,y=!0;else{y=!1;break}else m?T.push(A):y&&(C.push(A),d=R)}return!m&&v!==-1?{header:T,shader:C.join(`
`),offset:d}:null}});a.register("glsl",function(l,h,c,v){if(Array.isArray(l))for(var d=0;d<l.length;d++)this.addFile(new f(this,l[d]));else this.addFile(new f(this,l,h,c,v));return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v){var d="html";if(i(h)){var m=h;h=n(m,"key"),c=n(m,"url"),v=n(m,"xhrSettings"),d=n(m,"extension",d)}var y={type:"text",cache:l.cacheManager.html,extension:d,responseType:"text",key:h,url:c,xhrSettings:v};s.call(this,l,y)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});a.register("html",function(f,l,h){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,l,h));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v,d,m){v===void 0&&(v=512),d===void 0&&(d=512);var y="html";if(i(h)){var T=h;h=n(T,"key"),c=n(T,"url"),m=n(T,"xhrSettings"),y=n(T,"extension",y),v=n(T,"width",v),d=n(T,"height",d)}var C={type:"html",cache:l.textureManager,extension:y,responseType:"text",key:h,url:c,xhrSettings:m,config:{width:v,height:d}};s.call(this,l,C)},onProcess:function(){this.state=u.FILE_PROCESSING;var f=this.config.width,l=this.config.height,h=[];h.push('<svg width="'+f+'px" height="'+l+'px" viewBox="0 0 '+f+" "+l+'" xmlns="http://www.w3.org/2000/svg">'),h.push('<foreignObject width="100%" height="100%">'),h.push('<body xmlns="http://www.w3.org/1999/xhtml">'),h.push(this.xhrLoader.responseText),h.push("</body>"),h.push("</foreignObject>"),h.push("</svg>");var c=[h.join(`
`)],v=this;try{var d=new window.Blob(c,{type:"image/svg+xml;charset=utf-8"})}catch{v.state=u.FILE_ERRORED,v.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){s.revokeObjectURL(v.data),v.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(v.data),v.onProcessError()},s.createObjectURL(this.data,d,"image/svg+xml")},addToCache:function(){var f=this.cache.addImage(this.key,this.data);this.pendingDestroy(f)}});a.register("htmlTexture",function(f,l,h,c,v){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new r(this,f[d]));else this.addFile(new r(this,f,l,h,c,v));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(2),a=t(71),n=t(7),i=t(61),r=t(49),f=new e({Extends:r,initialize:function(h,c,v,d,m,y,T){if(n(c)){var C=c;c=s(C,"key"),s(C,"url",!1)?v=s(C,"url"):v=s(C,"atlasURL"),y=s(C,"xhrSettings"),d=s(C,"path"),m=s(C,"baseURL"),T=s(C,"textureXhrSettings")}var R=new i(h,c,v,y);r.call(this,h,"multiatlas",c,[R]),this.config.path=d,this.config.baseURL=m,this.config.textureXhrSettings=T},onFileComplete:function(l){var h=this.files.indexOf(l);if(h!==-1&&(this.pending--,l.type==="json"&&l.data.hasOwnProperty("textures"))){var c=l.data.textures,v=this.config,d=this.loader,m=d.baseURL,y=d.path,T=d.prefix,C=s(v,"baseURL",this.baseURL),R=s(v,"path",this.path),A=s(v,"prefix",this.prefix),P=s(v,"textureXhrSettings");d.setBaseURL(C),d.setPath(R),d.setPrefix(A);for(var O=0;O<c.length;O++){var b=c[O].image,D="MA"+this.multiKeyIndex+"_"+b,N=new a(d,D,b,P);if(this.addToMultiFile(N),d.addFile(N),c[O].normalMap){var B=new a(d,D,c[O].normalMap,P);B.type="normalMap",N.setLink(B),this.addToMultiFile(B),d.addFile(B)}}d.setBaseURL(m),d.setPath(y),d.setPrefix(T)}},addToCache:function(){if(this.isReadyToProcess()){for(var l=this.files[0],h=[],c=[],v=[],d=1;d<this.files.length;d++){var m=this.files[d];if(m.type!=="normalMap")for(var y=m.key.indexOf("_"),T=m.key.substr(y+1),C=m.data,R=0;R<l.data.textures.length;R++){var A=l.data.textures[R];if(A.image===T){c.push(C),h.push(A),m.linkFile&&v.push(m.linkFile.data);break}}}for(v.length===0&&(v=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,c,h,v),this.complete=!0,d=0;d<this.files.length;d++)this.files[d].pendingDestroy()}}});u.register("multiatlas",function(l,h,c,v,d){var m;if(Array.isArray(l))for(var y=0;y<l.length;y++)m=new f(this,l[y]),this.addFile(m.files);else m=new f(this,l,h,c,v,d),this.addFile(m.files);return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(2),a=t(7),n=t(49),i=t(520),r=new e({Extends:n,initialize:function(l,h,c,v){var d="js",m=[];if(a(h)){var y=h;h=s(y,"key"),c=s(y,"url"),v=s(y,"xhrSettings"),d=s(y,"extension",d)}Array.isArray(c)||(c=[c]);for(var T=0;T<c.length;T++){var C=new i(l,{key:h+"_"+T.toString(),url:c[T],extension:d,xhrSettings:v});C.onProcess=function(){this.onProcessComplete()},m.push(C)}n.call(this,l,"scripts",h,m)},addToCache:function(){if(this.isReadyToProcess()){for(var f=0;f<this.files.length;f++){var l=this.files[f];l.data=document.createElement("script"),l.data.language="javascript",l.data.type="text/javascript",l.data.defer=!1,l.data.text=l.xhrLoader.responseText,document.head.appendChild(l.data)}this.complete=!0}}});u.register("scripts",function(f,l,h){var c;if(Array.isArray(f))for(var v=0;v<f.length;v++)c=new r(this,f[v]),this.addFile(c.files);else c=new r(this,f,l,h),this.addFile(c.files);return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(2),a=t(7),n=t(49),i=t(498),r=t(499),f=t(242),l=new e({Extends:n,initialize:function(c,v,d,m,y,T){var C,R,A=c.cacheManager.obj;if(a(v)){var P=v;v=s(P,"key"),C=new f(c,{key:v,type:"obj",cache:A,url:s(P,"url"),extension:s(P,"extension","obj"),xhrSettings:s(P,"xhrSettings"),config:{flipUV:s(P,"flipUV",y)}}),m=s(P,"matURL"),m&&(R=new f(c,{key:v,type:"mat",cache:A,url:m,extension:s(P,"matExtension","mat"),xhrSettings:s(P,"xhrSettings")}))}else C=new f(c,{key:v,url:d,type:"obj",cache:A,extension:"obj",xhrSettings:T,config:{flipUV:y}}),m&&(R=new f(c,{key:v,url:m,type:"mat",cache:A,extension:"mat",xhrSettings:T}));n.call(this,c,"obj",v,[C,R])},addToCache:function(){if(this.isReadyToProcess()){var h=this.files[0],c=this.files[1],v=i(h.data,h.config.flipUV);c&&(v.materials=r(c.data)),h.cache.add(h.key,v),this.complete=!0}}});u.register("obj",function(h,c,v,d,m){var y;if(Array.isArray(h))for(var T=0;T<h.length;T++)y=new l(this,h[T]),this.addFile(y.files);else y=new l(this,h,c,v,d,m),this.addFile(y.files);return this}),o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(8),a=t(61),n=new e({Extends:a,initialize:function(r,f,l,h,c){a.call(this,r,f,l,h,c),this.type="packfile"},onProcess:function(){this.state!==u.FILE_POPULATED&&(this.state=u.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.loader.addPack(this.data,this.config),this.onProcessComplete()}});s.register("pack",function(i,r,f,l){if(Array.isArray(i))for(var h=0;h<i.length;h++)this.addFile(new n(this,i[h]));else this.addFile(new n(this,i,r,l,f));return this}),o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v,d,m){var y="js";if(i(h)){var T=h;h=n(T,"key"),c=n(T,"url"),m=n(T,"xhrSettings"),y=n(T,"extension",y),v=n(T,"start"),d=n(T,"mapping")}var C={type:"plugin",cache:!1,extension:y,responseType:"text",key:h,url:c,xhrSettings:m,config:{start:v,mapping:d}};s.call(this,l,C),typeof c=="function"&&(this.data=c,this.state=u.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,l=this.config,h=n(l,"start",!1),c=n(l,"mapping",null);if(this.state===u.FILE_POPULATED)f.install(this.key,this.data,h,c);else{this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var v=f.install(this.key,window[this.key],h,c);(h||c)&&(this.loader.systems[c]=v,this.loader.scene[c]=v)}this.onProcessComplete()}});a.register("plugin",function(f,l,h,c,v){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new r(this,f[d]));else this.addFile(new r(this,f,l,h,c,v));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v){var d="js";if(i(h)){var m=h;h=n(m,"key"),c=n(m,"url"),v=n(m,"xhrSettings"),d=n(m,"extension",d)}var y={type:"text",extension:d,responseType:"text",key:h,url:c,xhrSettings:v};s.call(this,l,y)},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var f=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),l=eval;this.loader.sceneManager.add(this.key,l(f)),this.complete=!0}});a.register("sceneFile",function(f,l,h){if(Array.isArray(f))for(var c=0;c<f.length;c++)this.addFile(new r(this,f[c]));else this.addFile(new r(this,f,l,h));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v,d,m){var y="js";if(i(h)){var T=h;h=n(T,"key"),c=n(T,"url"),m=n(T,"xhrSettings"),y=n(T,"extension",y),v=n(T,"systemKey"),d=n(T,"sceneKey")}var C={type:"scenePlugin",cache:!1,extension:y,responseType:"text",key:h,url:c,xhrSettings:m,config:{systemKey:v,sceneKey:d}};s.call(this,l,C),typeof c=="function"&&(this.data=c,this.state=u.FILE_POPULATED)},onProcess:function(){var f=this.loader.systems.plugins,l=this.config,h=this.key,c=n(l,"systemKey",h),v=n(l,"sceneKey",h);this.state===u.FILE_POPULATED?f.installScenePlugin(c,this.data,v,this.loader.scene,!0):(this.state=u.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),f.installScenePlugin(c,window[this.key],v,this.loader.scene,!0)),this.onProcessComplete()}});a.register("scenePlugin",function(f,l,h,c,v){if(Array.isArray(f))for(var d=0;d<f.length;d++)this.addFile(new r(this,f[d]));else this.addFile(new r(this,f,l,h,c,v));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(71),a=new e({Extends:s,initialize:function(i,r,f,l,h){s.call(this,i,r,f,h,l),this.type="spritesheet"},addToCache:function(){var n=this.cache.addSpriteSheet(this.key,this.data,this.config);this.pendingDestroy(n)}});u.register("spritesheet",function(n,i,r,f){if(Array.isArray(n))for(var l=0;l<n.length;l++)this.addFile(new a(this,n[l]));else this.addFile(new a(this,n,i,r,f));return this}),o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=new e({Extends:s,initialize:function(l,h,c,v,d){var m="svg";if(i(h)){var y=h;h=n(y,"key"),c=n(y,"url"),v=n(y,"svgConfig",{}),d=n(y,"xhrSettings"),m=n(y,"extension",m)}var T={type:"svg",cache:l.textureManager,extension:m,responseType:"text",key:h,url:c,xhrSettings:d,config:{width:n(v,"width"),height:n(v,"height"),scale:n(v,"scale")}};s.call(this,l,T)},onProcess:function(){this.state=u.FILE_PROCESSING;var f=this.xhrLoader.responseText,l=[f],h=this.config.width,c=this.config.height,v=this.config.scale;t:if(h&&c||v){var d=null,m=new DOMParser;d=m.parseFromString(f,"text/xml");var y=d.getElementsByTagName("svg")[0],T=y.hasAttribute("viewBox"),C=parseFloat(y.getAttribute("width")),R=parseFloat(y.getAttribute("height"));if(!T&&C&&R)y.setAttribute("viewBox","0  0 "+C+" "+R);else if(T&&!C&&!R){var A=y.getAttribute("viewBox").split(/\s+|,/);C=A[2],R=A[3]}if(v)if(C&&R)h=C*v,c=R*v;else break t;y.setAttribute("width",h.toString()+"px"),y.setAttribute("height",c.toString()+"px"),l=[new XMLSerializer().serializeToString(y)]}try{var P=new window.Blob(l,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,b=!1;this.data.onload=function(){b||s.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){b?O.onProcessError():(b=!0,s.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(l.join("")))},s.createObjectURL(this.data,P,"image/svg+xml")},addToCache:function(){var f=this.cache.addImage(this.key,this.data);this.pendingDestroy(f)}});a.register("svg",function(f,l,h,c){if(Array.isArray(f))for(var v=0;v<f.length;v++)this.addFile(new r(this,f[v]));else this.addFile(new r(this,f,l,h,c));return this}),o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(2),i=t(7),r=t(40),f=new e({Extends:s,initialize:function(h,c,v,d){var m="csv";if(i(c)){var y=c;c=n(y,"key"),v=n(y,"url"),d=n(y,"xhrSettings"),m=n(y,"extension",m)}var T={type:"tilemapCSV",cache:h.cacheManager.tilemap,extension:m,responseType:"text",key:c,url:v,xhrSettings:d};s.call(this,h,T),this.tilemapFormat=r.CSV},onProcess:function(){this.state=u.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var l={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,l),this.pendingDestroy(l)}});a.register("tilemapCSV",function(l,h,c){if(Array.isArray(l))for(var v=0;v<l.length;v++)this.addFile(new f(this,l[v]));else this.addFile(new f(this,l,h,c));return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(61),a=t(40),n=new e({Extends:s,initialize:function(r,f,l,h){s.call(this,r,f,l,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var i={format:a.WELTMEISTER,data:this.data};this.cache.add(this.key,i),this.pendingDestroy(i)}});u.register("tilemapImpact",function(i,r,f){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new n(this,i[l]));else this.addFile(new n(this,i,r,f));return this}),o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(61),a=t(40),n=new e({Extends:s,initialize:function(r,f,l,h){s.call(this,r,f,l,h),this.type="tilemapJSON",this.cache=r.cacheManager.tilemap},addToCache:function(){var i={format:a.TILED_JSON,data:this.data};this.cache.add(this.key,i),this.pendingDestroy(i)}});u.register("tilemapTiledJSON",function(i,r,f){if(Array.isArray(i))for(var l=0;l<i.length;l++)this.addFile(new n(this,i[l]));else this.addFile(new n(this,i,r,f));return this}),o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(8),s=t(2),a=t(71),n=t(7),i=t(49),r=t(242),f=new e({Extends:i,initialize:function(h,c,v,d,m,y){var T,C;if(n(c)){var R=c;c=s(R,"key"),T=new a(h,{key:c,url:s(R,"textureURL"),extension:s(R,"textureExtension","png"),normalMap:s(R,"normalMap"),xhrSettings:s(R,"textureXhrSettings")}),C=new r(h,{key:c,url:s(R,"atlasURL"),extension:s(R,"atlasExtension","txt"),xhrSettings:s(R,"atlasXhrSettings")})}else T=new a(h,c,v,m),C=new r(h,c,d,y);T.linkFile?i.call(this,h,"unityatlas",c,[T,C,T.linkFile]):i.call(this,h,"unityatlas",c,[T,C])},addToCache:function(){if(this.isReadyToProcess()){var l=this.files[0],h=this.files[1],c=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(l.key,l.data,h.data,c),h.pendingDestroy(),this.complete=!0}}});u.register("unityAtlas",function(l,h,c,v,d){var m;if(Array.isArray(l))for(var y=0;y<l.length;y++)m=new f(this,l[y]),this.addFile(m.files);else m=new f(this,l,h,c,v,d),this.addFile(m.files);return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(23),a=t(8),n=t(155),i=t(2),r=t(7),f=new e({Extends:s,initialize:function(h,c,v,d,m,y,T){d===void 0&&(d="loadeddata"),m===void 0&&(m=!1),y===void 0&&(y=!1),d!=="loadeddata"&&d!=="canplay"&&d!=="canplaythrough"&&(d="loadeddata");var C={type:"video",cache:h.cacheManager.video,extension:v.type,responseType:"blob",key:c,url:v.url,xhrSettings:T,config:{loadEvent:d,asBlob:m,noAudio:y}};this.onLoadCallback=this.onVideoLoadHandler.bind(this),this.onErrorCallback=this.onVideoErrorHandler.bind(this),s.call(this,h,C)},onProcess:function(){if(this.state=u.FILE_PROCESSING,!this.config.asBlob){this.onProcessComplete();return}var l=this.createVideoElement();this.data=l;var h=this;this.data.onloadeddata=function(){h.onProcessComplete()},this.data.onerror=function(){s.revokeObjectURL(h.data),h.onProcessError()},s.createObjectURL(l,this.xhrLoader.response,""),l.load()},createVideoElement:function(){var l=document.createElement("video");return l.controls=!1,l.crossOrigin=this.loader.crossOrigin,this.config.noAudio&&(l.muted=!0,l.defaultMuted=!0,l.setAttribute("autoplay","autoplay")),l.setAttribute("playsinline","playsinline"),l.setAttribute("preload","auto"),l},onVideoLoadHandler:function(l){var h=l.target;h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0),this.data=h,this.resetXHR(),this.loader.nextFile(this,!0)},onVideoErrorHandler:function(l){var h=l.target;h&&(h.removeEventListener(this.config.loadEvent,this.onLoadCallback,!0),h.removeEventListener("error",this.onErrorCallback,!0)),this.resetXHR(),this.loader.nextFile(this,!1)},load:function(){var l=this.config.loadEvent;if(this.config.asBlob)s.prototype.load.call(this);else{this.percentComplete=0;var h=this.createVideoElement();h.addEventListener(l,this.onLoadCallback,!0),h.addEventListener("error",this.onErrorCallback,!0),h.src=n(this,this.loader.baseURL),h.load()}}});f.create=function(l,h,c,v,d,m,y){var T=l.systems.game;r(h)&&(c=i(h,"url",[]),v=i(h,"loadEvent","loadeddata"),d=i(h,"asBlob",!1),m=i(h,"noAudio",!1),y=i(h,"xhrSettings"),h=i(h,"key"));var C=f.getVideoURL(T,c);if(C)return new f(l,h,C,v,d,m,y)},f.getVideoURL=function(l,h){Array.isArray(h)||(h=[h]);for(var c=0;c<h.length;c++){var v=i(h[c],"url",h[c]);if(v.indexOf("blob:")===0)return{url:v,type:""};var d;if(v.indexOf("data:")===0?d=v.split(",")[0].match(/\/(.*?);/):d=v.match(/\.([a-zA-Z0-9]+)($|\?)/),d=i(h[c],"type",d?d[1]:"").toLowerCase(),l.device.video[d])return{url:v,type:d}}return null},a.register("video",function(l,h,c,v,d,m){var y;if(Array.isArray(l))for(var T=0;T<l.length;T++)y=f.create(this,l[T]),y&&this.addFile(y);else y=f.create(this,l,h,c,v,d,m),y&&this.addFile(y);return this}),o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(21),s=t(149),a=t(9),n=t(95),i=t(8),r=t(2),f=t(24),l=t(20),h=t(156),c=new e({Extends:a,initialize:function(d){a.call(this);var m=d.sys.game.config,y=d.sys.settings.loader;this.scene=d,this.systems=d.sys,this.cacheManager=d.sys.cache,this.textureManager=d.sys.textures,this.sceneManager=d.sys.game.scene,i.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(r(y,"baseURL",m.loaderBaseURL)),this.setPath(r(y,"path",m.loaderPath)),this.setPrefix(r(y,"prefix",m.loaderPrefix)),this.maxParallelDownloads=r(y,"maxParallelDownloads",m.loaderMaxParallelDownloads),this.xhr=h(r(y,"responseType",m.loaderResponseType),r(y,"async",m.loaderAsync),r(y,"user",m.loaderUser),r(y,"password",m.loaderPassword),r(y,"timeout",m.loaderTimeout),r(y,"withCredentials",m.loaderWithCredentials)),this.crossOrigin=r(y,"crossOrigin",m.loaderCrossOrigin),this.totalToLoad=0,this.progress=0,this.list=new s,this.inflight=new s,this.queue=new s,this._deleteQueue=new s,this.totalFailed=0,this.totalComplete=0,this.state=u.LOADER_IDLE,this.multiKeyIndex=0,d.sys.events.once(l.BOOT,this.boot,this),d.sys.events.on(l.START,this.pluginStart,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(l.SHUTDOWN,this.shutdown,this)},setBaseURL:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.baseURL=v,this},setPath:function(v){return v===void 0&&(v=""),v!==""&&v.substr(-1)!=="/"&&(v=v.concat("/")),this.path=v,this},setPrefix:function(v){return v===void 0&&(v=""),this.prefix=v,this},setCORS:function(v){return this.crossOrigin=v,this},addFile:function(v){Array.isArray(v)||(v=[v]);for(var d=0;d<v.length;d++){var m=v[d];this.keyExists(m)||(this.list.set(m),this.emit(n.ADD,m.key,m.type,this,m),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(v){var d=v.hasCacheConflict();return d||this.list.iterate(function(m){if(m.type===v.type&&m.key===v.key)return d=!0,!1}),!d&&this.isLoading()&&(this.inflight.iterate(function(m){if(m.type===v.type&&m.key===v.key)return d=!0,!1}),this.queue.iterate(function(m){if(m.type===v.type&&m.key===v.key)return d=!0,!1})),d},addPack:function(v,d){d&&v.hasOwnProperty(d)&&(v={packKey:v[d]});var m=0,y=this.baseURL,T=this.path,C=this.prefix;for(var R in v)if(Object.prototype.hasOwnProperty.call(v,R)){var A=v[R],P=r(A,"baseURL",y),O=r(A,"path",T),b=r(A,"prefix",C),D=r(A,"files",null),N=r(A,"defaultType","void");if(Array.isArray(D)){this.setBaseURL(P),this.setPath(O),this.setPrefix(b);for(var B=0;B<D.length;B++){var U=D[B],G=U.hasOwnProperty("type")?U.type:N;this[G]&&(this[G](U),m++)}}}return this.setBaseURL(y),this.setPath(T),this.setPrefix(C),m>0},isLoading:function(){return this.state===u.LOADER_LOADING||this.state===u.LOADER_PROCESSING},isReady:function(){return this.state===u.LOADER_IDLE||this.state===u.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(n.START,this),this.list.size===0?this.loadComplete():(this.state=u.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(l.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(n.PROGRESS,this.progress)},update:function(){this.state===u.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(v){if((v.state===u.FILE_POPULATED||v.state===u.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(v),this.list.delete(v),v.crossOrigin||(v.crossOrigin=this.crossOrigin),v.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(v,d){this.inflight&&(this.inflight.delete(v),this.updateProgress(),d?(this.totalComplete++,this.queue.set(v),this.emit(n.FILE_LOAD,v),v.onProcess()):(this.totalFailed++,this._deleteQueue.set(v),this.emit(n.FILE_LOAD_ERROR,v),this.fileProcessComplete(v)))},fileProcessComplete:function(v){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(v.state===u.FILE_ERRORED?v.multiFile&&v.multiFile.onFileFailed(v):v.state===u.FILE_COMPLETE&&(v.multiFile?v.multiFile.isReadyToProcess()&&v.multiFile.addToCache():v.addToCache()),this.queue.delete(v),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(n.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=u.LOADER_COMPLETE,this.systems.events.off(l.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(n.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(v){this._deleteQueue.set(v)},saveJSON:function(v,d){return this.save(JSON.stringify(v),d)},save:function(v,d,m){d===void 0&&(d="file.json"),m===void 0&&(m="application/json");var y=new Blob([v],{type:m}),T=URL.createObjectURL(y),C=document.createElement("a");return C.download=d,C.textContent="Download "+d,C.href=T,C.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var v=this.systems.game.config,d=this.systems.settings.loader;this.setBaseURL(r(d,"baseURL",v.loaderBaseURL)),this.setPath(r(d,"path",v.loaderPath)),this.setPrefix(r(d,"prefix",v.loaderPrefix)),this.state=u.LOADER_IDLE},shutdown:function(){this.reset(),this.state=u.LOADER_SHUTDOWN,this.systems.events.off(l.UPDATE,this.update,this),this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=u.LOADER_DESTROYED,this.systems.events.off(l.UPDATE,this.update,this),this.systems.events.off(l.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});f.register("Loader",c,"load"),o.exports=c},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(62),u=t(17),s={ArcadePhysics:t(1367),Body:t(527),Collider:t(528),Components:t(243),Events:t(245),Factory:t(521),GetOverlapX:t(246),GetOverlapY:t(247),SeparateX:t(537),SeparateY:t(538),Group:t(524),Image:t(522),Sprite:t(157),StaticBody:t(539),StaticGroup:t(525),Tilemap:t(1391),World:t(526)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(36),s=t(50),a=t(353),n=t(521),i=t(2),r=t(127),f=t(523),l=t(244),h=t(24),c=t(20),v=t(3),d=t(526),m=new e({initialize:function(T){this.scene=T,this.systems=T.sys,this.config=this.getConfig(),this.world,this.add,T.sys.events.once(c.BOOT,this.boot,this),T.sys.events.on(c.START,this.start,this)},boot:function(){this.world=new d(this.scene,this.config),this.add=new n(this.world),this.systems.events.once(c.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new d(this.scene,this.config),this.add=new n(this.world));var y=this.systems.events;i(this.config,"customUpdate",!1)||y.on(c.UPDATE,this.world.update,this.world),y.on(c.POST_UPDATE,this.world.postUpdate,this.world),y.once(c.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(c.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(c.UPDATE,this.world.update,this.world)},getConfig:function(){var y=this.systems.game.config.physics,T=this.systems.settings.physics,C=r(i(T,"arcade",{}),i(y,"arcade",{}));return C},overlap:function(y,T,C,R,A){return C===void 0&&(C=null),R===void 0&&(R=null),A===void 0&&(A=C),this.world.collideObjects(y,T,C,R,A,!0)},collide:function(y,T,C,R,A){return C===void 0&&(C=null),R===void 0&&(R=null),A===void 0&&(A=C),this.world.collideObjects(y,T,C,R,A,!1)},collideTiles:function(y,T,C,R,A){return this.world.collideTiles(y,T,C,R,A)},overlapTiles:function(y,T,C,R,A){return this.world.overlapTiles(y,T,C,R,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(y,T,C,R,A,P){R===void 0&&(R=60);var O=Math.atan2(C-y.y,T-y.x);return y.body.acceleration.setToPolar(O,R),A!==void 0&&P!==void 0&&y.body.maxVelocity.set(A,P),O},accelerateToObject:function(y,T,C,R,A){return this.accelerateTo(y,T.x,T.y,C,R,A)},closest:function(y,T){T||(T=this.world.bodies.entries);for(var C=Number.MAX_VALUE,R=null,A=y.x,P=y.y,O=T.length,b=0;b<O;b++){var D=T[b],N=D.body||D;if(!(y===D||y===N||y===N.gameObject||y===N.center)){var B=a(A,P,N.center.x,N.center.y);B<C&&(R=D,C=B)}}return R},furthest:function(y,T){T||(T=this.world.bodies.entries);for(var C=-1,R=null,A=y.x,P=y.y,O=T.length,b=0;b<O;b++){var D=T[b],N=D.body||D;if(!(y===D||y===N||y===N.gameObject||y===N.center)){var B=a(A,P,N.center.x,N.center.y);B>C&&(R=D,C=B)}}return R},moveTo:function(y,T,C,R,A){R===void 0&&(R=60),A===void 0&&(A=0);var P=Math.atan2(C-y.y,T-y.x);return A>0&&(R=s(y.x,y.y,T,C)/(A/1e3)),y.body.velocity.setToPolar(P,R),P},moveToObject:function(y,T,C,R){return this.moveTo(y,T.x,T.y,C,R)},velocityFromAngle:function(y,T,C){return T===void 0&&(T=60),C===void 0&&(C=new v),C.setToPolar(u(y),T)},velocityFromRotation:function(y,T,C){return T===void 0&&(T=60),C===void 0&&(C=new v),C.setToPolar(y,T)},overlapRect:function(y,T,C,R,A,P){return l(this.world,y,T,C,R,A,P)},overlapCirc:function(y,T,C,R,A){return f(this.world,y,T,C,R,A)},shutdown:function(){if(this.world){var y=this.systems.events;y.off(c.UPDATE,this.world.update,this.world),y.off(c.POST_UPDATE,this.world.postUpdate,this.world),y.off(c.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(c.START,this.start,this),this.scene=null,this.systems=null}});h.register("ArcadePhysics",m,"arcadePhysics"),o.exports=m},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAcceleration:function(e,u){return this.body.acceleration.set(e,u),this},setAccelerationX:function(e){return this.body.acceleration.x=e,this},setAccelerationY:function(e){return this.body.acceleration.y=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setAngularVelocity:function(e){return this.body.angularVelocity=e,this},setAngularAcceleration:function(e){return this.body.angularAcceleration=e,this},setAngularDrag:function(e){return this.body.angularDrag=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e,u){return this.body.bounce.set(e,u),this},setBounceX:function(e){return this.body.bounce.x=e,this},setBounceY:function(e){return this.body.bounce.y=e,this},setCollideWorldBounds:function(e,u,s){return this.body.setCollideWorldBounds(e,u,s),this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDebug:function(e,u,s){return this.debugShowBody=e,this.debugShowVelocity=u,this.debugBodyColor=s,this},setDebugBodyColor:function(e){return this.body.debugBodyColor=e,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(e){this.body.debugShowBody=e}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(e){this.body.debugShowVelocity=e}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(e){this.body.debugBodyColor=e}}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setDrag:function(e,u){return this.body.drag.set(e,u),this},setDragX:function(e){return this.body.drag.x=e,this},setDragY:function(e){return this.body.drag.y=e,this},setDamping:function(e){return this.body.useDamping=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={enableBody:function(e,u,s,a,n){return e&&this.body.reset(u,s),a&&(this.body.gameObject.active=!0),n&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(e,u){return e===void 0&&(e=!1),u===void 0&&(u=!1),this.body.stop(),this.body.enable=!1,e&&(this.body.gameObject.active=!1),u&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,u){return this.body.friction.set(e,u),this},setFrictionX:function(e){return this.body.friction.x=e,this},setFrictionY:function(e){return this.body.friction.y=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setGravity:function(e,u){return this.body.gravity.set(e,u),this},setGravityX:function(e){return this.body.gravity.x=e,this},setGravityY:function(e){return this.body.gravity.y=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setImmovable:function(e){return e===void 0&&(e=!0),this.body.immovable=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setMass:function(e){return this.body.mass=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setPushable:function(e){return e===void 0&&(e=!0),this.body.pushable=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setOffset:function(e,u){return this.body.setOffset(e,u),this},setSize:function(e,u,s){return this.body.setSize(e,u,s),this},setBodySize:function(e,u,s){return this.body.setSize(e,u,s),this},setCircle:function(e,u,s){return this.body.setCircle(e,u,s),this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setVelocity:function(e,u){return this.body.setVelocity(e,u),this},setVelocityX:function(e){return this.body.setVelocityX(e),this},setVelocityY:function(e){return this.body.setVelocityY(e),this},setMaxVelocity:function(e,u){return this.body.maxVelocity.set(e,u),this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collide"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="overlap"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="tilecollide"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="tileoverlap"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="worldbounds"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="worldstep"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,u,s,a,n,i,r,f,l,h,c,v,d,m,y,T,C=function(D,N,B){t=D,e=N;var U=t.velocity.x,G=e.velocity.x;return u=t.pushable,f=t._dx<0,l=t._dx>0,h=t._dx===0,m=Math.abs(t.right-e.x)<=Math.abs(e.right-t.x),i=G-U*t.bounce.x,s=e.pushable,c=e._dx<0,v=e._dx>0,d=e._dx===0,y=!m,r=U-G*e.bounce.x,T=Math.abs(B),R()},R=function(){return l&&m&&e.blocked.right?(t.processX(-T,i,!1,!0),1):f&&y&&e.blocked.left?(t.processX(T,i,!0),1):v&&y&&t.blocked.right?(e.processX(-T,r,!1,!0),2):c&&m&&t.blocked.left?(e.processX(T,r,!0),2):0},A=function(){var D=t.velocity.x,N=e.velocity.x,B=Math.sqrt(N*N*e.mass/t.mass)*(N>0?1:-1),U=Math.sqrt(D*D*t.mass/e.mass)*(D>0?1:-1),G=(B+U)*.5;return B-=G,U-=G,a=G+B*t.bounce.x,n=G+U*e.bounce.x,f&&y?P(0):c&&m?P(1):l&&m?P(2):v&&y?P(3):!1},P=function(D){if(u&&s)T*=.5,D===0||D===3?(t.processX(T,a),e.processX(-T,n)):(t.processX(-T,a),e.processX(T,n));else if(u&&!s)D===0||D===3?t.processX(T,i,!0):t.processX(-T,i,!1,!0);else if(!u&&s)D===0||D===3?e.processX(-T,r,!1,!0):e.processX(T,r,!0);else{var N=T*.5;D===0?d?(t.processX(T,0,!0),e.processX(0,null,!1,!0)):v?(t.processX(N,0,!0),e.processX(-N,0,!1,!0)):(t.processX(N,e.velocity.x,!0),e.processX(-N,null,!1,!0)):D===1?h?(t.processX(0,null,!1,!0),e.processX(T,0,!0)):l?(t.processX(-N,0,!1,!0),e.processX(N,0,!0)):(t.processX(-N,null,!1,!0),e.processX(N,t.velocity.x,!0)):D===2?d?(t.processX(-T,0,!1,!0),e.processX(0,null,!0)):c?(t.processX(-N,0,!1,!0),e.processX(N,0,!0)):(t.processX(-N,e.velocity.x,!1,!0),e.processX(N,null,!0)):D===3&&(h?(t.processX(0,null,!0),e.processX(-T,0,!1,!0)):f?(t.processX(N,0,!0),e.processX(-N,0,!1,!0)):(t.processX(N,e.velocity.y,!0),e.processX(-N,null,!1,!0)))}return!0},O=function(D){D===1?e.velocity.x=0:m?e.processX(T,r,!0):e.processX(-T,r,!1,!0),t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y,e._dy=e.y-e.prev.y)},b=function(D){D===2?t.velocity.x=0:y?t.processX(T,i,!0):t.processX(-T,i,!1,!0),e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y,t._dy=t.y-t.prev.y)};o.exports={BlockCheck:R,Check:A,Set:C,Run:P,RunImmovableBody1:O,RunImmovableBody2:b}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t,e,u,s,a,n,i,r,f,l,h,c,v,d,m,y,T,C=function(D,N,B){t=D,e=N;var U=t.velocity.y,G=e.velocity.y;return u=t.pushable,f=t._dy<0,l=t._dy>0,h=t._dy===0,m=Math.abs(t.bottom-e.y)<=Math.abs(e.bottom-t.y),i=G-U*t.bounce.y,s=e.pushable,c=e._dy<0,v=e._dy>0,d=e._dy===0,y=!m,r=U-G*e.bounce.y,T=Math.abs(B),R()},R=function(){return l&&m&&e.blocked.down?(t.processY(-T,i,!1,!0),1):f&&y&&e.blocked.up?(t.processY(T,i,!0),1):v&&y&&t.blocked.down?(e.processY(-T,r,!1,!0),2):c&&m&&t.blocked.up?(e.processY(T,r,!0),2):0},A=function(){var D=t.velocity.y,N=e.velocity.y,B=Math.sqrt(N*N*e.mass/t.mass)*(N>0?1:-1),U=Math.sqrt(D*D*t.mass/e.mass)*(D>0?1:-1),G=(B+U)*.5;return B-=G,U-=G,a=G+B*t.bounce.y,n=G+U*e.bounce.y,f&&y?P(0):c&&m?P(1):l&&m?P(2):v&&y?P(3):!1},P=function(D){if(u&&s)T*=.5,D===0||D===3?(t.processY(T,a),e.processY(-T,n)):(t.processY(-T,a),e.processY(T,n));else if(u&&!s)D===0||D===3?t.processY(T,i,!0):t.processY(-T,i,!1,!0);else if(!u&&s)D===0||D===3?e.processY(-T,r,!1,!0):e.processY(T,r,!0);else{var N=T*.5;D===0?d?(t.processY(T,0,!0),e.processY(0,null,!1,!0)):v?(t.processY(N,0,!0),e.processY(-N,0,!1,!0)):(t.processY(N,e.velocity.y,!0),e.processY(-N,null,!1,!0)):D===1?h?(t.processY(0,null,!1,!0),e.processY(T,0,!0)):l?(t.processY(-N,0,!1,!0),e.processY(N,0,!0)):(t.processY(-N,null,!1,!0),e.processY(N,t.velocity.y,!0)):D===2?d?(t.processY(-T,0,!1,!0),e.processY(0,null,!0)):c?(t.processY(-N,0,!1,!0),e.processY(N,0,!0)):(t.processY(-N,e.velocity.y,!1,!0),e.processY(N,null,!0)):D===3&&(h?(t.processY(0,null,!0),e.processY(-T,0,!1,!0)):f?(t.processY(N,0,!0),e.processY(-N,0,!1,!0)):(t.processY(N,e.velocity.y,!0),e.processY(-N,null,!1,!0)))}return!0},O=function(D){D===1?e.velocity.y=0:m?e.processY(T,r,!0):e.processY(-T,r,!1,!0),t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x,e._dx=e.x-e.prev.x)},b=function(D){D===2?t.velocity.y=0:y?t.processY(T,i,!0):t.processY(-T,i,!1,!0),e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x,t._dx=t.x-t.prev.x)};o.exports={BlockCheck:R,Check:A,Set:C,Run:P,RunImmovableBody1:O,RunImmovableBody2:b}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ProcessTileCallbacks:t(530),ProcessTileSeparationX:t(534),ProcessTileSeparationY:t(536),SeparateTile:t(532),TileCheckX:t(533),TileCheckY:t(535),TileIntersectsBody:t(248)};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(3),s=new e({initialize:function(){this.boundsCenter=new u,this.centerDiff=new u},parseBody:function(a){if(a=a.hasOwnProperty("body")?a.body:a,!a.hasOwnProperty("bounds")||!a.hasOwnProperty("centerOfMass"))return!1;var n=this.boundsCenter,i=this.centerDiff,r=a.bounds.max.x-a.bounds.min.x,f=a.bounds.max.y-a.bounds.min.y,l=r*a.centerOfMass.x,h=f*a.centerOfMass.y;return n.set(r/2,f/2),i.set(l-n.x,h-n.y),!0},getTopLeft:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,f=this.centerDiff;return new u(n+r.x+f.x,i+r.y+f.y)}return!1},getTopCenter:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,f=this.centerDiff;return new u(n+f.x,i+r.y+f.y)}return!1},getTopRight:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,f=this.centerDiff;return new u(n-(r.x-f.x),i+r.y+f.y)}return!1},getLeftCenter:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,f=this.centerDiff;return new u(n+r.x+f.x,i+f.y)}return!1},getCenter:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.centerDiff;return new u(n+r.x,i+r.y)}return!1},getRightCenter:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,f=this.centerDiff;return new u(n-(r.x-f.x),i+f.y)}return!1},getBottomLeft:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,f=this.centerDiff;return new u(n+r.x+f.x,i-(r.y-f.y))}return!1},getBottomCenter:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,f=this.centerDiff;return new u(n+f.x,i-(r.y-f.y))}return!1},getBottomRight:function(a,n,i){if(n===void 0&&(n=0),i===void 0&&(i=0),this.parseBody(a)){var r=this.boundsCenter,f=this.centerDiff;return new u(n-(r.x-f.x),i-(r.y-f.y))}return!1}});o.exports=s},function(o,x){/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={decomp:D,quickDecomp:G,isSimple:B,removeCollinearPoints:W,removeDuplicatePoints:$,makeCCW:m};function t(V,w,z){z=z||0;var Y=[0,0],H,j,Z,k,nt,rt,ht;return H=V[1][1]-V[0][1],j=V[0][0]-V[1][0],Z=H*V[0][0]+j*V[0][1],k=w[1][1]-w[0][1],nt=w[0][0]-w[1][0],rt=k*w[0][0]+nt*w[0][1],ht=H*nt-k*j,q(ht,0,z)||(Y[0]=(nt*Z-j*rt)/ht,Y[1]=(H*rt-k*Z)/ht),Y}function e(V,w,z,Y){var H=w[0]-V[0],j=w[1]-V[1],Z=Y[0]-z[0],k=Y[1]-z[1];if(Z*j-k*H===0)return!1;var nt=(H*(z[1]-V[1])+j*(V[0]-z[0]))/(Z*j-k*H),rt=(Z*(V[1]-z[1])+k*(z[0]-V[0]))/(k*H-Z*j);return nt>=0&&nt<=1&&rt>=0&&rt<=1}function u(V,w,z){return(w[0]-V[0])*(z[1]-V[1])-(z[0]-V[0])*(w[1]-V[1])}function s(V,w,z){return u(V,w,z)>0}function a(V,w,z){return u(V,w,z)>=0}function n(V,w,z){return u(V,w,z)<0}function i(V,w,z){return u(V,w,z)<=0}var r=[],f=[];function l(V,w,z,Y){if(Y){var H=r,j=f;H[0]=w[0]-V[0],H[1]=w[1]-V[1],j[0]=z[0]-w[0],j[1]=z[1]-w[1];var Z=H[0]*j[0]+H[1]*j[1],k=Math.sqrt(H[0]*H[0]+H[1]*H[1]),nt=Math.sqrt(j[0]*j[0]+j[1]*j[1]),rt=Math.acos(Z/(k*nt));return rt<Y}else return u(V,w,z)===0}function h(V,w){var z=w[0]-V[0],Y=w[1]-V[1];return z*z+Y*Y}function c(V,w){var z=V.length;return V[w<0?w%z+z:w%z]}function v(V){V.length=0}function d(V,w,z,Y){for(var H=z;H<Y;H++)V.push(w[H])}function m(V){for(var w=0,z=V,Y=1;Y<V.length;++Y)(z[Y][1]<z[w][1]||z[Y][1]===z[w][1]&&z[Y][0]>z[w][0])&&(w=Y);return s(c(V,w-1),c(V,w),c(V,w+1))?!1:(y(V),!0)}function y(V){for(var w=[],z=V.length,Y=0;Y!==z;Y++)w.push(V.pop());for(var Y=0;Y!==z;Y++)V[Y]=w[Y]}function T(V,w){return n(c(V,w-1),c(V,w),c(V,w+1))}var C=[],R=[];function A(V,w,z){var Y,H,j=C,Z=R;if(a(c(V,w+1),c(V,w),c(V,z))&&i(c(V,w-1),c(V,w),c(V,z)))return!1;H=h(c(V,w),c(V,z));for(var k=0;k!==V.length;++k)if(!((k+1)%V.length===w||k===w)&&a(c(V,w),c(V,z),c(V,k+1))&&i(c(V,w),c(V,z),c(V,k))&&(j[0]=c(V,w),j[1]=c(V,z),Z[0]=c(V,k),Z[1]=c(V,k+1),Y=t(j,Z),h(c(V,w),Y)<H))return!1;return!0}function P(V,w,z){for(var Y=0;Y!==V.length;++Y)if(!(Y===w||Y===z||(Y+1)%V.length===w||(Y+1)%V.length===z)&&e(c(V,w),c(V,z),c(V,Y),c(V,Y+1)))return!1;return!0}function O(V,w,z,Y){var H=Y||[];if(v(H),w<z)for(var j=w;j<=z;j++)H.push(V[j]);else{for(var j=0;j<=z;j++)H.push(V[j]);for(var j=w;j<V.length;j++)H.push(V[j])}return H}function b(V){for(var w=[],z=[],Y=[],H=[],j=Number.MAX_VALUE,Z=0;Z<V.length;++Z)if(T(V,Z)){for(var k=0;k<V.length;++k)if(A(V,Z,k)){z=b(O(V,Z,k,H)),Y=b(O(V,k,Z,H));for(var nt=0;nt<Y.length;nt++)z.push(Y[nt]);z.length<j&&(w=z,j=z.length,w.push([c(V,Z),c(V,k)]))}}return w}function D(V){var w=b(V);return w.length>0?N(V,w):[V]}function N(V,w){if(w.length===0)return[V];if(w instanceof Array&&w.length&&w[0]instanceof Array&&w[0].length===2&&w[0][0]instanceof Array){for(var z=[V],Y=0;Y<w.length;Y++)for(var H=w[Y],j=0;j<z.length;j++){var Z=z[j],k=N(Z,H);if(k){z.splice(j,1),z.push(k[0],k[1]);break}}return z}else{var H=w,Y=V.indexOf(H[0]),j=V.indexOf(H[1]);return Y!==-1&&j!==-1?[O(V,Y,j),O(V,j,Y)]:!1}}function B(V){var w=V,z;for(z=0;z<w.length-1;z++)for(var Y=0;Y<z-1;Y++)if(e(w[z],w[z+1],w[Y],w[Y+1]))return!1;for(z=1;z<w.length-2;z++)if(e(w[0],w[w.length-1],w[z],w[z+1]))return!1;return!0}function U(V,w,z,Y,H){H=H||0;var j=w[1]-V[1],Z=V[0]-w[0],k=j*V[0]+Z*V[1],nt=Y[1]-z[1],rt=z[0]-Y[0],ht=nt*z[0]+rt*z[1],vt=j*rt-nt*Z;return q(vt,0,H)?[0,0]:[(rt*k-Z*ht)/vt,(j*ht-nt*k)/vt]}function G(V,w,z,Y,H,j,Z){j=j||100,Z=Z||0,H=H||25,w=typeof w<"u"?w:[],z=z||[],Y=Y||[];var k=[0,0],nt=[0,0],rt=[0,0],ht=0,vt=0,ot=0,Et=0,Tt=0,Pt=0,Xt=0,zt=[],Ut=[],Mt=V,ne=V;if(ne.length<3)return w;if(Z++,Z>j)return console.warn("quickDecomp: max level ("+j+") reached."),w;for(var Vt=0;Vt<V.length;++Vt)if(T(Mt,Vt)){z.push(Mt[Vt]),ht=vt=Number.MAX_VALUE;for(var Zt=0;Zt<V.length;++Zt)s(c(Mt,Vt-1),c(Mt,Vt),c(Mt,Zt))&&i(c(Mt,Vt-1),c(Mt,Vt),c(Mt,Zt-1))&&(rt=U(c(Mt,Vt-1),c(Mt,Vt),c(Mt,Zt),c(Mt,Zt-1)),n(c(Mt,Vt+1),c(Mt,Vt),rt)&&(ot=h(Mt[Vt],rt),ot<vt&&(vt=ot,nt=rt,Pt=Zt))),s(c(Mt,Vt+1),c(Mt,Vt),c(Mt,Zt+1))&&i(c(Mt,Vt+1),c(Mt,Vt),c(Mt,Zt))&&(rt=U(c(Mt,Vt+1),c(Mt,Vt),c(Mt,Zt),c(Mt,Zt+1)),s(c(Mt,Vt-1),c(Mt,Vt),rt)&&(ot=h(Mt[Vt],rt),ot<ht&&(ht=ot,k=rt,Tt=Zt)));if(Pt===(Tt+1)%V.length)rt[0]=(nt[0]+k[0])/2,rt[1]=(nt[1]+k[1])/2,Y.push(rt),Vt<Tt?(d(zt,Mt,Vt,Tt+1),zt.push(rt),Ut.push(rt),Pt!==0&&d(Ut,Mt,Pt,Mt.length),d(Ut,Mt,0,Vt+1)):(Vt!==0&&d(zt,Mt,Vt,Mt.length),d(zt,Mt,0,Tt+1),zt.push(rt),Ut.push(rt),d(Ut,Mt,Pt,Vt+1));else{if(Pt>Tt&&(Tt+=V.length),Et=Number.MAX_VALUE,Tt<Pt)return w;for(var Zt=Pt;Zt<=Tt;++Zt)a(c(Mt,Vt-1),c(Mt,Vt),c(Mt,Zt))&&i(c(Mt,Vt+1),c(Mt,Vt),c(Mt,Zt))&&(ot=h(c(Mt,Vt),c(Mt,Zt)),ot<Et&&P(Mt,Vt,Zt)&&(Et=ot,Xt=Zt%V.length));Vt<Xt?(d(zt,Mt,Vt,Xt+1),Xt!==0&&d(Ut,Mt,Xt,ne.length),d(Ut,Mt,0,Vt+1)):(Vt!==0&&d(zt,Mt,Vt,ne.length),d(zt,Mt,0,Xt+1),d(Ut,Mt,Xt,Vt+1))}return zt.length<Ut.length?(G(zt,w,z,Y,H,j,Z),G(Ut,w,z,Y,H,j,Z)):(G(Ut,w,z,Y,H,j,Z),G(zt,w,z,Y,H,j,Z)),w}return w.push(V),w}function W(V,w){for(var z=0,Y=V.length-1;V.length>3&&Y>=0;--Y)l(c(V,Y-1),c(V,Y),c(V,Y+1),w)&&(V.splice(Y%V.length,1),z++);return z}function $(V,w){for(var z=V.length-1;z>=1;--z)for(var Y=V[z],H=z-1;H>=0;--H)if(_(Y,V[H],w)){V.splice(z,1);continue}}function q(V,w,z){return z=z||0,Math.abs(V-w)<=z}function _(V,w,z){return q(V[0],w[0],z)&&q(V[1],w[1],z)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(0),s=t(591),a=t(128),n=t(592),i=t(1395),r=t(1396),f=t(1397),l=t(593),h=t(589),c=t(590),v=t(1398),d=t(64),m=new u({initialize:function(T){this.world=T,this.scene=T.scene,this.sys=T.scene.sys},rectangle:function(y,T,C,R,A){var P=e.rectangle(y,T,C,R,A);return this.world.add(P),P},trapezoid:function(y,T,C,R,A,P){var O=e.trapezoid(y,T,C,R,A,P);return this.world.add(O),O},circle:function(y,T,C,R,A){var P=e.circle(y,T,C,R,A);return this.world.add(P),P},polygon:function(y,T,C,R,A){var P=e.polygon(y,T,C,R,A);return this.world.add(P),P},fromVertices:function(y,T,C,R,A,P,O){typeof C=="string"&&(C=d.fromPath(C));var b=e.fromVertices(y,T,C,R,A,P,O);return this.world.add(b),b},fromPhysicsEditor:function(y,T,C,R,A){A===void 0&&(A=!0);var P=h.parseBody(y,T,C,R);return A&&!this.world.has(P)&&this.world.add(P),P},fromSVG:function(y,T,C,R,A,P){R===void 0&&(R=1),A===void 0&&(A={}),P===void 0&&(P=!0);for(var O=C.getElementsByTagName("path"),b=[],D=0;D<O.length;D++){var N=n.pathToVertices(O[D],30);R!==1&&d.scale(N,R,R),b.push(N)}var B=e.fromVertices(y,T,b,A);return P&&this.world.add(B),B},fromJSON:function(y,T,C,R,A){R===void 0&&(R={}),A===void 0&&(A=!0);var P=c.parseBody(y,T,C,R);return P&&A&&this.world.add(P),P},imageStack:function(y,T,C,R,A,P,O,b,D){O===void 0&&(O=0),b===void 0&&(b=0),D===void 0&&(D={});var N=this.world,B=this.sys.displayList;D.addToWorld=!1;var U=s.stack(C,R,A,P,O,b,function(G,W){var $=new r(N,G,W,y,T,D);return B.add($),$.body});return N.add(U),U},stack:function(y,T,C,R,A,P,O){var b=s.stack(y,T,C,R,A,P,O);return this.world.add(b),b},pyramid:function(y,T,C,R,A,P,O){var b=s.pyramid(y,T,C,R,A,P,O);return this.world.add(b),b},chain:function(y,T,C,R,A,P){return s.chain(y,T,C,R,A,P)},mesh:function(y,T,C,R,A){return s.mesh(y,T,C,R,A)},newtonsCradle:function(y,T,C,R,A){var P=s.newtonsCradle(y,T,C,R,A);return this.world.add(P),P},car:function(y,T,C,R,A){var P=s.car(y,T,C,R,A);return this.world.add(P),P},softBody:function(y,T,C,R,A,P,O,b,D,N){var B=s.softBody(y,T,C,R,A,P,O,b,D,N);return this.world.add(B),B},joint:function(y,T,C,R,A){return this.constraint(y,T,C,R,A)},spring:function(y,T,C,R,A){return this.constraint(y,T,C,R,A)},constraint:function(y,T,C,R,A){R===void 0&&(R=1),A===void 0&&(A={}),A.bodyA=y.type==="body"?y:y.body,A.bodyB=T.type==="body"?T:T.body,isNaN(C)||(A.length=C),A.stiffness=R;var P=a.create(A);return this.world.add(P),P},worldConstraint:function(y,T,C,R){C===void 0&&(C=1),R===void 0&&(R={}),R.bodyB=y.type==="body"?y:y.body,isNaN(T)||(R.length=T),R.stiffness=C;var A=a.create(R);return this.world.add(A),A},mouseSpring:function(y){return this.pointerConstraint(y)},pointerConstraint:function(y){y===void 0&&(y={}),y.hasOwnProperty("render")||(y.render={visible:!1});var T=new v(this.scene,this.world,y);return this.world.add(T.constraint),T},image:function(y,T,C,R,A){var P=new r(this.world,y,T,C,R,A);return this.sys.displayList.add(P),P},tileBody:function(y,T){return new l(this.world,y,T)},sprite:function(y,T,C,R,A){var P=new f(this.world,y,T,C,R,A);return this.sys.displayList.add(P),this.sys.updateList.add(P),P},gameObject:function(y,T,C){return i(this.world,y,T,C)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});o.exports=m},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(249),u=t(2),s=t(3);function a(i){return!!i.get&&typeof i.get=="function"||!!i.set&&typeof i.set=="function"}var n=function(i,r,f,l){f===void 0&&(f={}),l===void 0&&(l=!0);var h=r.x,c=r.y;r.body={temp:!0,position:{x:h,y:c}};var v=[e.Bounce,e.Collision,e.Force,e.Friction,e.Gravity,e.Mass,e.Sensor,e.SetBody,e.Sleep,e.Static,e.Transform,e.Velocity];if(v.forEach(function(m){for(var y in m)a(m[y])?Object.defineProperty(r,y,{get:m[y].get,set:m[y].set}):Object.defineProperty(r,y,{value:m[y]})}),r.world=i,r._tempVec2=new s(h,c),f.hasOwnProperty("type")&&f.type==="body")r.setExistingBody(f,l);else{var d=u(f,"shape",null);d||(d="rectangle"),f.addToWorld=l,r.setBody(d,f)}return r};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(249),s=t(15),a=t(2),n=t(125),i=t(167),r=t(3),f=new e({Extends:n,Mixins:[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity,i],initialize:function(h,c,v,d,m,y){s.call(this,h.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(d,m),this.setSizeToFrame(),this.setOrigin(),this.world=h,this._tempVec2=new r(c,v);var T=a(y,"shape",null);T?this.setBody(T,y):this.setRectangle(this.width,this.height,y),this.setPosition(c,v),this.initPipeline()}});o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(164),u=t(0),s=t(249),a=t(15),n=t(2),i=t(167),r=t(73),f=t(3),l=new u({Extends:r,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,i],initialize:function(c,v,d,m,y,T){a.call(this,c.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new e(this),this.setTexture(m,y),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new f(v,d);var C=n(T,"shape",null);C?this.setBody(C,T):this.setRectangle(this.width,this.height,T),this.setPosition(v,d),this.initPipeline()}});o.exports=l},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(84),u=t(0),s=t(118),a=t(128),n=t(273),i=t(272),r=t(51),f=t(127),l=t(165),h=t(3),c=t(64),v=new u({initialize:function(m,y,T){T===void 0&&(T={});var C={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=m,this.world=y,this.camera=null,this.pointer=null,this.active=!0,this.position=new h,this.body=null,this.part=null,this.constraint=a.create(f(T,C)),this.world.on(i.BEFORE_UPDATE,this.update,this),m.sys.input.on(r.POINTER_DOWN,this.onDown,this),m.sys.input.on(r.POINTER_UP,this.onUp,this)},onDown:function(d){this.pointer||(this.pointer=d,this.camera=d.camera)},onUp:function(d){d===this.pointer&&(this.pointer=null)},getBody:function(d){var m=this.position,y=this.constraint;this.camera.getWorldPoint(d.x,d.y,m);for(var T=s.allBodies(this.world.localWorld),C=0;C<T.length;C++){var R=T[C];if(!R.ignorePointer&&e.contains(R.bounds,m)&&n.canCollide(R.collisionFilter,y.collisionFilter)&&this.hitTestBody(R,m))return this.world.emit(i.DRAG_START,R,this.part,this),!0}return!1},hitTestBody:function(d,m){for(var y=this.constraint,T=d.parts.length,C=T>1?1:0,R=C;R<T;R++){var A=d.parts[R];if(c.contains(A.vertices,m))return y.pointA=m,y.pointB={x:m.x-d.position.x,y:m.y-d.position.y},y.bodyB=d,y.angleB=d.angle,l.set(d,!1),this.part=A,this.body=d,!0}return!1},update:function(){var d=this.pointer,m=this.body;if(!this.active||!d){m&&this.stopDrag();return}if(!d.isDown&&m){this.stopDrag();return}else if(d.isDown){if(!m&&!this.getBody(d))return;m=this.body;var y=this.position,T=this.constraint;this.camera.getWorldPoint(d.x,d.y,y),T.pointA.x=y.x,T.pointA.y=y.y,l.set(m,!1),this.world.emit(i.DRAG,m,this)}},stopDrag:function(){var d=this.body,m=this.constraint;m.bodyB=null,m.pointB=null,this.pointer=null,this.body=null,this.part=null,d&&this.world.emit(i.DRAG_END,d,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(i.BEFORE_UPDATE,this.update),this.scene.sys.input.off(r.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(r.POINTER_UP,this.onUp,this)}});o.exports=v},function(o,x,t){var e={};o.exports=e;var u=t(595),s=t(32);(function(){e.name="matter-js",e.version="0.14.2",e.uses=[],e.used=[],e.use=function(){u.use(e,Array.prototype.slice.call(arguments))},e.before=function(a,n){return a=a.replace(/^Matter./,""),s.chainPathBefore(e,a,n)},e.after=function(a,n){return a=a.replace(/^Matter./,""),s.chainPathAfter(e,a,n)}})()},function(o,x,t){var e={};o.exports=e;var u=t(83),s=t(274),a=t(84),n=t(86),i=t(64);(function(){e.collides=function(r,f){for(var l=[],h=0;h<f.length;h++){var c=f[h];if(r!==c&&a.overlaps(c.bounds,r.bounds))for(var v=c.parts.length===1?0:1;v<c.parts.length;v++){var d=c.parts[v];if(a.overlaps(d.bounds,r.bounds)){var m=s.collides(d,r);if(m.collided){l.push(m);break}}}}return l},e.ray=function(r,f,l,h){h=h||1e-100;for(var c=u.angle(f,l),v=u.magnitude(u.sub(f,l)),d=(l.x+f.x)*.5,m=(l.y+f.y)*.5,y=n.rectangle(d,m,v,h,{angle:c}),T=e.collides(y,r),C=0;C<T.length;C+=1){var R=T[C];R.body=R.bodyB=R.bodyA}return T},e.region=function(r,f,l){for(var h=[],c=0;c<r.length;c++){var v=r[c],d=a.overlaps(v.bounds,f);(d&&!l||!d&&l)&&h.push(v)}return h},e.point=function(r,f){for(var l=[],h=0;h<r.length;h++){var c=r[h];if(a.contains(c.bounds,f))for(var v=c.parts.length===1?0:1;v<c.parts.length;v++){var d=c.parts[v];if(a.contains(d.bounds,f)&&i.contains(d.vertices,f)){l.push(c);break}}}return l}})()},function(o,x,t){var e={};o.exports=e;var u=t(596),s=t(165),a=t(599),n=t(598),i=t(1523),r=t(597),f=t(166),l=t(118),h=t(128),c=t(32),v=t(41);(function(){e.create=function(d,m){m=c.isElement(d)?m:d,d=c.isElement(d)?d:null,m=m||{},(d||m.render)&&c.warn("Engine.create: engine.render is deprecated (see docs)");var y={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:r}},T=c.extend(y,m);return T.world=m.world||u.create(T.world),T.pairs=n.create(),T.broadphase=T.broadphase.controller.create(T.broadphase),T.metrics=T.metrics||{extended:!1},T.metrics=i.create(T.metrics),T},e.update=function(d,m,y){m=m||1e3/60,y=y||1;var T=d.world,C=d.timing,R=d.broadphase,A=[],P;C.timestamp+=m*C.timeScale;var O={timestamp:C.timestamp};f.trigger(d,"beforeUpdate",O);var b=l.allBodies(T),D=l.allConstraints(T);for(i.reset(d.metrics),d.enableSleeping&&s.update(b,C.timeScale),e._bodiesApplyGravity(b,T.gravity),e._bodiesUpdate(b,m,C.timeScale,y,T.bounds),h.preSolveAll(b),P=0;P<d.constraintIterations;P++)h.solveAll(D,C.timeScale);h.postSolveAll(b),R.controller?(T.isModified&&R.controller.clear(R),R.controller.update(R,b,d,T.isModified),A=R.pairsList):A=b,T.isModified&&l.setModified(T,!1,!1,!0);var N=R.detector(A,d),B=d.pairs,U=C.timestamp;for(n.update(B,N,U),n.removeOld(B,U),d.enableSleeping&&s.afterCollisions(B.list,C.timeScale),B.collisionStart.length>0&&f.trigger(d,"collisionStart",{pairs:B.collisionStart}),a.preSolvePosition(B.list),P=0;P<d.positionIterations;P++)a.solvePosition(B.list,b,C.timeScale);for(a.postSolvePosition(b),h.preSolveAll(b),P=0;P<d.constraintIterations;P++)h.solveAll(D,C.timeScale);for(h.postSolveAll(b),a.preSolveVelocity(B.list),P=0;P<d.velocityIterations;P++)a.solveVelocity(B.list,C.timeScale);return B.collisionActive.length>0&&f.trigger(d,"collisionActive",{pairs:B.collisionActive}),B.collisionEnd.length>0&&f.trigger(d,"collisionEnd",{pairs:B.collisionEnd}),i.update(d.metrics,d),e._bodiesClearForces(b),f.trigger(d,"afterUpdate",O),d},e.merge=function(d,m){if(c.extend(d,m),m.world){d.world=m.world,e.clear(d);for(var y=l.allBodies(d.world),T=0;T<y.length;T++){var C=y[T];s.set(C,!1),C.id=c.nextId()}}},e.clear=function(d){var m=d.world;n.clear(d.pairs);var y=d.broadphase;if(y.controller){var T=l.allBodies(m);y.controller.clear(y),y.controller.update(y,T,d,!0)}},e._bodiesClearForces=function(d){for(var m=0;m<d.length;m++){var y=d[m];y.force.x=0,y.force.y=0,y.torque=0}},e._bodiesApplyGravity=function(d,m){var y=typeof m.scale<"u"?m.scale:.001;if(!(m.x===0&&m.y===0||y===0))for(var T=0;T<d.length;T++){var C=d[T];C.ignoreGravity||C.isStatic||C.isSleeping||(C.force.x+=C.mass*m.x*y*C.gravityScale.x,C.force.y+=C.mass*m.y*y*C.gravityScale.y)}},e._bodiesUpdate=function(d,m,y,T,C){for(var R=0;R<d.length;R++){var A=d[R];A.isStatic||A.isSleeping||v.update(A,m,y,T)}}})()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),s=t(0),a=t(32),n=t(118),i=t(1401),r=t(9),f=t(272),l=t(2),h=t(6),c=t(41),v=t(166),d=t(593),m=t(596),y=t(83),T=new s({Extends:r,initialize:function(R,A){r.call(this),this.scene=R,this.engine=i.create(A),this.localWorld=this.engine.world;var P=h(A,"gravity",null);P?this.setGravity(P.x,P.y,P.scale):P===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=h(A,"enabled",!0),this.correction=h(A,"correction",1),this.getDelta=h(A,"getDelta",this.update60Hz);var O=l(A,"runner",{}),b=l(O,"fps",!1),D=l(O,"fps",60),N=l(O,"delta",1e3/D),B=l(O,"deltaMin",1e3/D),U=l(O,"deltaMax",1e3/(D*.5));b||(D=1e3/N),this.runner={fps:D,correction:l(O,"correction",1),deltaSampleSize:l(O,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:l(O,"isFixed",!1),delta:N,deltaMin:B,deltaMax:U},this.autoUpdate=h(A,"autoUpdate",!0);var G=h(A,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:l(G,"showAxes",!1),showAngleIndicator:l(G,"showAngleIndicator",!1),angleColor:l(G,"angleColor",15208787),showBroadphase:l(G,"showBroadphase",!1),broadphaseColor:l(G,"broadphaseColor",16757760),showBounds:l(G,"showBounds",!1),boundsColor:l(G,"boundsColor",16777215),showVelocity:l(G,"showVelocity",!1),velocityColor:l(G,"velocityColor",44783),showCollisions:l(G,"showCollisions",!1),collisionColor:l(G,"collisionColor",16094476),showSeparations:l(G,"showSeparations",!1),separationColor:l(G,"separationColor",16753920),showBody:l(G,"showBody",!0),showStaticBody:l(G,"showStaticBody",!0),showInternalEdges:l(G,"showInternalEdges",!1),renderFill:l(G,"renderFill",!1),renderLine:l(G,"renderLine",!0),fillColor:l(G,"fillColor",1075465),fillOpacity:l(G,"fillOpacity",1),lineColor:l(G,"lineColor",2678297),lineOpacity:l(G,"lineOpacity",1),lineThickness:l(G,"lineThickness",1),staticFillColor:l(G,"staticFillColor",857979),staticLineColor:l(G,"staticLineColor",1255396),showSleeping:l(G,"showSleeping",!1),staticBodySleepOpacity:l(G,"staticBodySleepOpacity",.7),sleepFillColor:l(G,"sleepFillColor",4605510),sleepLineColor:l(G,"sleepLineColor",10066585),showSensors:l(G,"showSensors",!0),sensorFillColor:l(G,"sensorFillColor",857979),sensorLineColor:l(G,"sensorLineColor",1255396),showPositions:l(G,"showPositions",!0),positionSize:l(G,"positionSize",4),positionColor:l(G,"positionColor",14697178),showJoint:l(G,"showJoint",!0),jointColor:l(G,"jointColor",14737474),jointLineOpacity:l(G,"jointLineOpacity",1),jointLineThickness:l(G,"jointLineThickness",2),pinSize:l(G,"pinSize",4),pinColor:l(G,"pinColor",4382944),springColor:l(G,"springColor",14697184),anchorColor:l(G,"anchorColor",15724527),anchorSize:l(G,"anchorSize",4),showConvexHulls:l(G,"showConvexHulls",!1),hullColor:l(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),l(A,"setBounds",!1)){var W=A.setBounds;if(typeof W=="boolean")this.setBounds();else{var $=l(W,"x",0),q=l(W,"y",0),_=l(W,"width",R.sys.scale.width),V=l(W,"height",R.sys.scale.height),w=l(W,"thickness",64),z=l(W,"left",!0),Y=l(W,"right",!0),H=l(W,"top",!0),j=l(W,"bottom",!0);this.setBounds($,q,_,V,w,z,Y,H,j)}}},setCompositeRenderStyle:function(C){var R=C.bodies,A=C.constraints,P=C.composites,O,b,D;for(O=0;O<R.length;O++)b=R[O],D=b.render,this.setBodyRenderStyle(b,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity);for(O=0;O<A.length;O++)b=A[O],D=b.render,this.setConstraintRenderStyle(b,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize);for(O=0;O<P.length;O++)b=P[O],this.setCompositeRenderStyle(b);return this},setBodyRenderStyle:function(C,R,A,P,O,b){var D=C.render,N=this.debugConfig;return D?(R==null&&(R=C.isStatic?N.staticLineColor:N.lineColor),A==null&&(A=N.lineOpacity),P==null&&(P=N.lineThickness),O==null&&(O=C.isStatic?N.staticFillColor:N.fillColor),b==null&&(b=N.fillOpacity),R!==!1&&(D.lineColor=R),A!==!1&&(D.lineOpacity=A),P!==!1&&(D.lineThickness=P),O!==!1&&(D.fillColor=O),b!==!1&&(D.fillOpacity=b),this):this},setConstraintRenderStyle:function(C,R,A,P,O,b,D){var N=C.render,B=this.debugConfig;if(!N)return this;if(R==null){var U=N.type;U==="line"?R=B.jointColor:U==="pin"?R=B.pinColor:U==="spring"&&(R=B.springColor)}return A==null&&(A=B.jointLineOpacity),P==null&&(P=B.jointLineThickness),O==null&&(O=B.pinSize),b==null&&(b=B.anchorColor),D==null&&(D=B.anchorSize),R!==!1&&(N.lineColor=R),A!==!1&&(N.lineOpacity=A),P!==!1&&(N.lineThickness=P),O!==!1&&(N.pinSize=O),b!==!1&&(N.anchorColor=b),D!==!1&&(N.anchorSize=D),this},setEventsProxy:function(){var C=this,R=this.engine,A=this.localWorld;this.drawDebug&&(v.on(A,"compositeModified",function(P){C.setCompositeRenderStyle(P)}),v.on(A,"beforeAdd",function(P){for(var O=[].concat(P.object),b=0;b<O.length;b++){var D=O[b],N=D.render;D.type==="body"?C.setBodyRenderStyle(D,N.lineColor,N.lineOpacity,N.lineThickness,N.fillColor,N.fillOpacity):D.type==="composite"?C.setCompositeRenderStyle(D):D.type==="constraint"&&C.setConstraintRenderStyle(D,N.lineColor,N.lineOpacity,N.lineThickness,N.pinSize,N.anchorColor,N.anchorSize)}})),v.on(A,"beforeAdd",function(P){C.emit(f.BEFORE_ADD,P)}),v.on(A,"afterAdd",function(P){C.emit(f.AFTER_ADD,P)}),v.on(A,"beforeRemove",function(P){C.emit(f.BEFORE_REMOVE,P)}),v.on(A,"afterRemove",function(P){C.emit(f.AFTER_REMOVE,P)}),v.on(R,"beforeUpdate",function(P){C.emit(f.BEFORE_UPDATE,P)}),v.on(R,"afterUpdate",function(P){C.emit(f.AFTER_UPDATE,P)}),v.on(R,"collisionStart",function(P){var O=P.pairs,b,D;O.length>0&&(b=O[0].bodyA,D=O[0].bodyB),C.emit(f.COLLISION_START,P,b,D)}),v.on(R,"collisionActive",function(P){var O=P.pairs,b,D;O.length>0&&(b=O[0].bodyA,D=O[0].bodyB),C.emit(f.COLLISION_ACTIVE,P,b,D)}),v.on(R,"collisionEnd",function(P){var O=P.pairs,b,D;O.length>0&&(b=O[0].bodyA,D=O[0].bodyB),C.emit(f.COLLISION_END,P,b,D)})},setBounds:function(C,R,A,P,O,b,D,N,B){return C===void 0&&(C=0),R===void 0&&(R=0),A===void 0&&(A=this.scene.sys.scale.width),P===void 0&&(P=this.scene.sys.scale.height),O===void 0&&(O=64),b===void 0&&(b=!0),D===void 0&&(D=!0),N===void 0&&(N=!0),B===void 0&&(B=!0),this.updateWall(b,"left",C-O,R-O,O,P+O*2),this.updateWall(D,"right",C+A,R-O,O,P+O*2),this.updateWall(N,"top",C,R-O,A,O),this.updateWall(B,"bottom",C,R+P,A,O),this},updateWall:function(C,R,A,P,O,b){var D=this.walls[R];C?(D&&m.remove(this.localWorld,D),A+=O/2,P+=b/2,this.walls[R]=this.create(A,P,O,b,{isStatic:!0,friction:0,frictionStatic:0})):(D&&m.remove(this.localWorld,D),this.walls[R]=null)},createDebugGraphic:function(){var C=this.scene.sys.add.graphics({x:0,y:0});return C.setDepth(Number.MAX_VALUE),this.debugGraphic=C,this.drawDebug=!0,C},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(C,R,A){return C===void 0&&(C=0),R===void 0&&(R=1),this.localWorld.gravity.x=C,this.localWorld.gravity.y=R,A!==void 0&&(this.localWorld.gravity.scale=A),this},create:function(C,R,A,P,O){var b=e.rectangle(C,R,A,P,O);return m.add(this.localWorld,b),b},add:function(C){return m.add(this.localWorld,C),this},remove:function(C,R){Array.isArray(C)||(C=[C]);for(var A=0;A<C.length;A++){var P=C[A],O=P.body?P.body:P;n.remove(this.localWorld,O,R)}return this},removeConstraint:function(C,R){return n.remove(this.localWorld,C,R),this},convertTilemapLayer:function(C,R){var A=C.layer,P=C.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(P,R),this},convertTiles:function(C,R){if(C.length===0)return this;for(var A=0;A<C.length;A++)new d(this,C[A],R);return this},nextGroup:function(C){return c.nextGroup(C)},nextCategory:function(){return c.nextCategory()},pause:function(){return this.enabled=!1,this.emit(f.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(f.RESUME),this},update:function(C,R){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,P=this.runner,O=A.timing,b=this.correction;P.isFixed?R=this.getDelta(C,R):(R=C-P.timePrev||P.delta,P.timePrev=C,P.deltaHistory.push(R),P.deltaHistory=P.deltaHistory.slice(-P.deltaSampleSize),R=Math.min.apply(null,P.deltaHistory),R=R<P.deltaMin?P.deltaMin:R,R=R>P.deltaMax?P.deltaMax:R,b=R/P.delta,P.delta=R),P.timeScalePrev!==0&&(b*=O.timeScale/P.timeScalePrev),O.timeScale===0&&(b=0),P.timeScalePrev=O.timeScale,P.correction=b,P.frameCounter+=1,C-P.counterTimestamp>=1e3&&(P.fps=P.frameCounter*((C-P.counterTimestamp)/1e3),P.counterTimestamp=C,P.frameCounter=0),i.update(A,R,b)}},step:function(C,R){i.update(this.engine,C,R)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(C){var R=C.hasOwnProperty("body")?C.body:C;return n.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return n.allBodies(this.localWorld)},getAllConstraints:function(){return n.allConstraints(this.localWorld)},getAllComposites:function(){return n.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var C=this.debugConfig,R=this.engine,A=this.debugGraphic,P=n.allBodies(this.localWorld);this.debugGraphic.clear(),C.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,A,C.broadphaseColor,.5),C.showBounds&&this.renderBodyBounds(P,A,C.boundsColor,.5),(C.showBody||C.showStaticBody)&&this.renderBodies(P),C.showJoint&&this.renderJoints(),(C.showAxes||C.showAngleIndicator)&&this.renderBodyAxes(P,A,C.showAxes,C.angleColor,.5),C.showVelocity&&this.renderBodyVelocity(P,A,C.velocityColor,1,2),C.showSeparations&&this.renderSeparations(R.pairs.list,A,C.separationColor),C.showCollisions&&this.renderCollisions(R.pairs.list,A,C.collisionColor)}},renderGrid:function(C,R,A,P){R.lineStyle(1,A,P);for(var O=a.keys(C.buckets),b=0;b<O.length;b++){var D=O[b];if(!(C.buckets[D].length<2)){var N=D.split(/C|R/);R.strokeRect(parseInt(N[1],10)*C.bucketWidth,parseInt(N[2],10)*C.bucketHeight,C.bucketWidth,C.bucketHeight)}}return this},renderSeparations:function(C,R,A){R.lineStyle(1,A,1);for(var P=0;P<C.length;P++){var O=C[P];if(O.isActive){var b=O.collision,D=b.bodyA,N=b.bodyB,B=D.position,U=N.position,G=b.penetration,W=!D.isStatic&&!N.isStatic?4:1;N.isStatic&&(W=0),R.lineBetween(U.x,U.y,U.x-G.x*W,U.y-G.y*W),W=!D.isStatic&&!N.isStatic?4:1,D.isStatic&&(W=0),R.lineBetween(B.x,B.y,B.x-G.x*W,B.y-G.y*W)}}return this},renderCollisions:function(C,R,A){R.lineStyle(1,A,.5),R.fillStyle(A,1);var P,O;for(P=0;P<C.length;P++)if(O=C[P],!!O.isActive)for(var b=0;b<O.activeContacts.length;b++){var D=O.activeContacts[b],N=D.vertex;R.fillRect(N.x-2,N.y-2,5,5)}for(P=0;P<C.length;P++)if(O=C[P],!!O.isActive){var B=O.collision,U=O.activeContacts;if(U.length>0){var G=U[0].vertex.x,W=U[0].vertex.y;U.length===2&&(G=(U[0].vertex.x+U[1].vertex.x)/2,W=(U[0].vertex.y+U[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?R.lineBetween(G-B.normal.x*8,W-B.normal.y*8,G,W):R.lineBetween(G+B.normal.x*8,W+B.normal.y*8,G,W)}}return this},renderBodyBounds:function(C,R,A,P){R.lineStyle(1,A,P);for(var O=0;O<C.length;O++){var b=C[O];if(b.render.visible){var D=b.bounds;if(D)R.strokeRect(D.min.x,D.min.y,D.max.x-D.min.x,D.max.y-D.min.y);else for(var N=b.parts,B=N.length>1?1:0;B<N.length;B++){var U=N[B];R.strokeRect(U.bounds.min.x,U.bounds.min.y,U.bounds.max.x-U.bounds.min.x,U.bounds.max.y-U.bounds.min.y)}}}return this},renderBodyAxes:function(C,R,A,P,O){R.lineStyle(1,P,O);for(var b=0;b<C.length;b++){var D=C[b],N=D.parts;if(D.render.visible){var B,U,G;if(A)for(U=N.length>1?1:0;U<N.length;U++)for(B=N[U],G=0;G<B.axes.length;G++){var W=B.axes[G];R.lineBetween(B.position.x,B.position.y,B.position.x+W.x*20,B.position.y+W.y*20)}else for(U=N.length>1?1:0;U<N.length;U++)for(B=N[U],G=0;G<B.axes.length;G++)R.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(C,R,A,P,O){R.lineStyle(O,A,P);for(var b=0;b<C.length;b++){var D=C[b];D.render.visible&&R.lineBetween(D.position.x,D.position.y,D.position.x+(D.position.x-D.positionPrev.x)*2,D.position.y+(D.position.y-D.positionPrev.y)*2)}return this},renderBodies:function(C){for(var R=this.debugGraphic,A=this.debugConfig,P=A.showBody,O=A.showStaticBody,b=A.showSleeping,D=A.showInternalEdges,N=A.showConvexHulls,B=A.renderFill,U=A.renderLine,G=A.staticBodySleepOpacity,W=A.sleepFillColor,$=A.sleepLineColor,q=A.hullColor,_=0;_<C.length;_++){var V=C[_];if(V.render.visible&&!(!O&&V.isStatic||!P&&!V.isStatic)){var w=V.render.lineColor,z=V.render.lineOpacity,Y=V.render.lineThickness,H=V.render.fillColor,j=V.render.fillOpacity;b&&V.isSleeping&&(V.isStatic?(z*=G,j*=G):(w=$,H=W)),B||(H=null),U||(w=null),this.renderBody(V,R,D,w,z,Y,H,j);var Z=V.parts.length;N&&Z>1&&this.renderConvexHull(V,R,q,Y)}}},renderBody:function(C,R,A,P,O,b,D,N){P===void 0&&(P=null),O===void 0&&(O=null),b===void 0&&(b=1),D===void 0&&(D=null),N===void 0&&(N=null);for(var B=this.debugConfig,U=B.sensorFillColor,G=B.sensorLineColor,W=C.parts,$=W.length,q=$>1?1:0;q<$;q++){var _=W[q],V=_.render,w=V.opacity;if(!(!V.visible||w===0||_.isSensor&&!B.showSensors)){var z=_.circleRadius;if(R.beginPath(),_.isSensor?(D!==null&&R.fillStyle(U,N*w),P!==null&&R.lineStyle(b,G,O*w)):(D!==null&&R.fillStyle(D,N*w),P!==null&&R.lineStyle(b,P,O*w)),z)R.arc(_.position.x,_.position.y,z,0,2*Math.PI);else{var Y=_.vertices,H=Y.length;R.moveTo(Y[0].x,Y[0].y);for(var j=1;j<H;j++){var Z=Y[j];if(!Y[j-1].isInternal||A?R.lineTo(Z.x,Z.y):R.moveTo(Z.x,Z.y),j<H&&Z.isInternal&&!A){var k=(j+1)%H;R.moveTo(Y[k].x,Y[k].y)}}R.closePath()}D!==null&&R.fillPath(),P!==null&&R.strokePath()}}if(B.showPositions&&!C.isStatic){var nt=C.position.x,rt=C.position.y,ht=Math.ceil(B.positionSize/2);R.fillStyle(B.positionColor,1),R.fillRect(nt-ht,rt-ht,B.positionSize,B.positionSize)}return this},renderConvexHull:function(C,R,A,P){P===void 0&&(P=1);var O=C.parts,b=O.length;if(b>1){var D=C.vertices;R.lineStyle(P,A),R.beginPath(),R.moveTo(D[0].x,D[0].y);for(var N=1;N<D.length;N++)R.lineTo(D[N].x,D[N].y);R.lineTo(D[0].x,D[0].y),R.strokePath()}return this},renderJoints:function(){for(var C=this.debugGraphic,R=n.allConstraints(this.localWorld),A=0;A<R.length;A++){var P=R[A].render,O=P.lineColor,b=P.lineOpacity,D=P.lineThickness,N=P.pinSize,B=P.anchorColor,U=P.anchorSize;this.renderConstraint(R[A],C,O,b,D,N,B,U)}},renderConstraint:function(C,R,A,P,O,b,D,N){var B=C.render;if(!B.visible||!C.pointA||!C.pointB)return this;R.lineStyle(O,A,P);var U=C.bodyA,G=C.bodyB,W,$;if(U?W=y.add(U.position,C.pointA):W=C.pointA,B.type==="pin")R.strokeCircle(W.x,W.y,b);else{if(G?$=y.add(G.position,C.pointB):$=C.pointB,R.beginPath(),R.moveTo(W.x,W.y),B.type==="spring")for(var q=y.sub($,W),_=y.perp(y.normalise(q)),V=Math.ceil(a.clamp(C.length/5,12,20)),w,z=1;z<V;z+=1)w=z%2===0?1:-1,R.lineTo(W.x+q.x*(z/V)+_.x*w*4,W.y+q.y*(z/V)+_.y*w*4);R.lineTo($.x,$.y)}return R.strokePath(),B.anchors&&N>0&&(R.fillStyle(D),R.fillCircle(W.x,W.y,N),R.fillCircle($.x,$.y,N)),this},resetCollisionIDs:function(){return u._nextCollidingGroupId=1,u._nextNonCollidingGroupId=-1,u._nextCategory=1,this},shutdown:function(){v.off(this.engine),this.removeAllListeners(),m.clear(this.localWorld,!1),i.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});o.exports=T},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BasePlugin:t(540),DefaultPlugins:t(197),PluginCache:t(24),PluginManager:t(414),ScenePlugin:t(1404)}},function(o,x,t){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var e=t(540),u=t(0),s=t(20),a=new u({Extends:e,initialize:function(i,r,f){e.call(this,r),this.scene=i,this.systems=i.sys,this.pluginKey=f,i.sys.events.once(s.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Canvas:t(1406),Events:t(91),Snapshot:t(1407),WebGL:t(1408)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={CanvasRenderer:t(368),GetBlendModes:t(370),SetTransform:t(30)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Canvas:t(369),WebGL:t(383)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(107),u=t(17),s={PipelineManager:t(372),Pipelines:t(1409),RenderTarget:t(141),Utils:t(12),WebGLPipeline:t(58),WebGLRenderer:t(371),WebGLShader:t(375)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(92),u=t(17),s={BitmapMaskPipeline:t(373),Events:t(374),GraphicsPipeline:t(376),LightPipeline:t(377),MultiPipeline:t(108),PointLightPipeline:t(378),PostFXPipeline:t(1410),RopePipeline:t(379),SinglePipeline:t(380),UtilityPipeline:t(381)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(198),s=t(2),a=t(1411),n=t(382),i=t(58),r=new e({Extends:i,initialize:function(l){l.renderTarget=s(l,"renderTarget",1),l.fragShader=s(l,"fragShader",a),l.vertShader=s(l,"vertShader",n),l.attributes=s(l,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),l.batchSize=1,l.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],i.call(this,l),this.isPostFX=!0,this.gameObject,this.colorMatrix=new u,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){i.prototype.boot.call(this);var f=this.manager.UTILITY_PIPELINE;this.fullFrame1=f.fullFrame1,this.fullFrame2=f.fullFrame2,this.halfFrame1=f.halfFrame1,this.halfFrame2=f.halfFrame2,this.set1i("uMainSampler",0)},onDraw:function(f){this.bindAndDraw(f)},copyFrame:function(f,l,h,c,v){this.manager.copyFrame(f,l,h,c,v)},copyToGame:function(f){this.manager.copyToGame(f)},drawFrame:function(f,l,h){this.manager.drawFrame(f,l,h,this.colorMatrix)},blendFrames:function(f,l,h,c,v){this.manager.blendFrames(f,l,h,c,v)},blendFramesAdditive:function(f,l,h,c,v){this.manager.blendFramesAdditive(f,l,h,c,v)},clearFrame:function(f,l){this.manager.clearFrame(f,l)},blitFrame:function(f,l,h,c,v,d){this.manager.blitFrame(f,l,h,c,v,d)},copyFrameRect:function(f,l,h,c,v,d,m,y){this.manager.copyFrameRect(f,l,h,c,v,d,m,y)},bindAndDraw:function(f,l,h,c,v){h===void 0&&(h=!0),c===void 0&&(c=!0);var d=this.gl,m=this.renderer;this.bind(v),this.set1i("uMainSampler",0),l?(d.viewport(0,0,l.width,l.height),d.bindFramebuffer(d.FRAMEBUFFER,l.framebuffer),d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,l.texture,0),h&&(c?d.clearColor(0,0,0,0):d.clearColor(0,0,0,1),d.clear(d.COLOR_BUFFER_BIT))):(m.popFramebuffer(!1,!1,!1),m.currentFramebuffer||d.viewport(0,0,m.width,m.height)),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,f.texture),d.bufferData(d.ARRAY_BUFFER,this.vertexData,d.STATIC_DRAW),d.drawArrays(d.TRIANGLES,0,6),l?(d.bindTexture(d.TEXTURE_2D,null),d.bindFramebuffer(d.FRAMEBUFFER,null)):m.resetTextures()}});o.exports=r},function(o,x){o.exports=["#define SHADER_NAME PHASER_POSTFX_FS","","precision mediump float;","","uniform sampler2D uMainSampler;","","varying vec2 outTexCoord;","","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}",""].join(`
`)},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=t(201),s={Center:t(403),Events:t(104),Orientation:t(404),ScaleManager:t(415),ScaleModes:t(405),Zoom:t(406)};s=e(!1,s,u.CENTER),s=e(!1,s,u.ORIENTATION),s=e(!1,s,u.SCALE_MODE),s=e(!1,s,u.ZOOM),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(144),u=t(17),s={Events:t(20),GetPhysicsPlugins:t(419),GetScenePlugins:t(420),SceneManager:t(417),ScenePlugin:t(1414),Settings:t(421),Systems:t(204)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(18),u=t(0),s=t(20),a=t(2),n=t(24),i=new u({initialize:function(f){this.scene=f,this.systems=f.sys,this.settings=f.sys.settings,this.key=f.sys.settings.key,this.manager=f.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,f.sys.events.once(s.BOOT,this.boot,this),f.sys.events.on(s.START,this.pluginStart,this)},boot:function(){this.systems.events.once(s.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(s.SHUTDOWN,this.shutdown,this)},start:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",r,f),this},restart:function(r){var f=this.key;return this.manager.queueOp("stop",f),this.manager.queueOp("start",f,r),this},transition:function(r){r===void 0&&(r={});var f=a(r,"target",!1),l=this.manager.getScene(f);if(!f||!this.checkValidTransition(l))return!1;var h=a(r,"duration",1e3);this._elapsed=0,this._target=l,this._duration=h,this._willSleep=a(r,"sleep",!1),this._willRemove=a(r,"remove",!1);var c=a(r,"onUpdate",null);c&&(this._onUpdate=c,this._onUpdateScope=a(r,"onUpdateScope",this.scene));var v=a(r,"allowInput",!1);this.settings.transitionAllowInput=v;var d=l.sys.settings;return d.isTransition=!0,d.transitionFrom=this.scene,d.transitionDuration=h,d.transitionAllowInput=v,a(r,"moveAbove",!1)?this.manager.moveAbove(this.key,f):a(r,"moveBelow",!1)&&this.manager.moveBelow(this.key,f),l.sys.isSleeping()?l.sys.wake(a(r,"data")):this.manager.start(f,a(r,"data")),this.systems.events.emit(s.TRANSITION_OUT,l,h),this.systems.events.on(s.UPDATE,this.step,this),!0},checkValidTransition:function(r){return!(!r||r.sys.isActive()||r.sys.isTransitioning()||r===this.scene||this.systems.isTransitioning())},step:function(r,f){this._elapsed+=f,this.transitionProgress=e(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var r=this._target.sys,f=this._target.sys.settings;this.systems.events.off(s.UPDATE,this.step,this),r.events.emit(s.TRANSITION_COMPLETE,this.scene),f.isTransition=!1,f.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(r,f,l,h){return this.manager.add(r,f,l,h)},launch:function(r,f){return r&&r!==this.key&&this.manager.queueOp("start",r,f),this},run:function(r,f){return r&&r!==this.key&&this.manager.queueOp("run",r,f),this},pause:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("pause",r,f),this},resume:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("resume",r,f),this},sleep:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("sleep",r,f),this},wake:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("wake",r,f),this},switch:function(r){return r!==this.key&&this.manager.queueOp("switch",this.key,r),this},stop:function(r,f){return r===void 0&&(r=this.key),this.manager.queueOp("stop",r,f),this},setActive:function(r,f,l){f===void 0&&(f=this.key);var h=this.manager.getScene(f);return h&&h.sys.setActive(r,l),this},setVisible:function(r,f){f===void 0&&(f=this.key);var l=this.manager.getScene(f);return l&&l.sys.setVisible(r),this},isSleeping:function(r){return r===void 0&&(r=this.key),this.manager.isSleeping(r)},isActive:function(r){return r===void 0&&(r=this.key),this.manager.isActive(r)},isPaused:function(r){return r===void 0&&(r=this.key),this.manager.isPaused(r)},isVisible:function(r){return r===void 0&&(r=this.key),this.manager.isVisible(r)},swapPosition:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.swapPosition(r,f),this},moveAbove:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.moveAbove(r,f),this},moveBelow:function(r,f){return f===void 0&&(f=this.key),r!==f&&this.manager.moveBelow(r,f),this},remove:function(r){return r===void 0&&(r=this.key),this.manager.remove(r),this},moveUp:function(r){return r===void 0&&(r=this.key),this.manager.moveUp(r),this},moveDown:function(r){return r===void 0&&(r=this.key),this.manager.moveDown(r),this},bringToTop:function(r){return r===void 0&&(r=this.key),this.manager.bringToTop(r),this},sendToBack:function(r){return r===void 0&&(r=this.key),this.manager.sendToBack(r),this},get:function(r){return this.manager.getScene(r)},getIndex:function(r){return r===void 0&&(r=this.key),this.manager.getIndex(r)},shutdown:function(){var r=this.systems.events;r.off(s.SHUTDOWN,this.shutdown,this),r.off(s.POST_UPDATE,this.step,this),r.off(s.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});n.register("ScenePlugin",i,"scenePlugin"),o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Events:t(438),List:t(110),Map:t(102),ProcessQueue:t(211),RTree:t(531),Set:t(149),Size:t(416)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=t(1417),s={CanvasTexture:t(423),Events:t(106),FilterMode:u,Frame:t(109),Parsers:t(425),Texture:t(206),TextureManager:t(422),TextureSource:t(424)};s=e(!1,s,u),o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={LINEAR:0,NEAREST:1};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(17),u=t(1419),s={Components:t(251),Parsers:t(1452),Formats:t(40),ImageCollection:t(576),ParseToTilemap:t(262),Tile:t(85),Tilemap:t(580),TilemapCreator:t(1459),TilemapFactory:t(1460),Tileset:t(122),TilemapLayer:t(581),Orientation:t(29),LayerData:t(120),MapData:t(121),ObjectLayer:t(572)};s=e(!1,s,u.ORIENTATION),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e={ORIENTATION:t(29)};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(63),s=function(a,n,i,r,f,l,h,c){h===void 0&&(h=!0),a<0&&(a=0),n<0&&(n=0);for(var v=e(a,n,i,r,null,c),d=f-a,m=l-n,y=0;y<v.length;y++){var T=v[y].x+d,C=v[y].y+m;T>=0&&T<c.width&&C>=0&&C<c.height&&c.data[C][T]&&c.data[C][T].copy(v[y])}h&&u(f-1,l-1,i+2,r+2,c)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(542),s=function(a,n,i,r,f,l){i||(i={}),Array.isArray(a)||(a=[a]);var h=l.tilemapLayer;r||(r=h.scene),f||(f=r.cameras.main);var c=e(0,0,l.width,l.height,null,l),v=[],d;for(d=0;d<c.length;d++){var m=c[d];if(a.indexOf(m.index)!==-1){var y=h.tileToWorldXY(m.x,m.y,void 0,f,l);i.x=y.x,i.y=y.y,v.push(r.make.sprite(i))}}if(typeof n=="number")for(d=0;d<a.length;d++)u(a[d],n,0,0,l.width,l.height,l);else if(Array.isArray(n))for(d=0;d<a.length;d++)u(a[d],n[d],0,0,l.width,l.height,l);return v};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(63),s=t(72),a=function(n,i,r,f,l,h,c){for(var v=c.collideIndexes.indexOf(n)!==-1,d=e(i,r,f,l,null,c),m=0;m<d.length;m++)d[m].index=n,s(d[m],v);h&&u(i-1,r-1,f+2,l+2,c)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(s,a,n,i,r,f,l,h){var c=e(n,i,r,f,l,h);return c.filter(s,a)};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){u===void 0&&(u=0),s===void 0&&(s=!1);var n=0,i,r,f;if(s){for(r=a.height-1;r>=0;r--)for(i=a.width-1;i>=0;i--)if(f=a.data[r][i],f&&f.index===e){if(n===u)return f;n+=1}}else for(r=0;r<a.height;r++)for(i=0;i<a.width;i++)if(f=a.data[r][i],f&&f.index===e){if(n===u)return f;n+=1}return null};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(s,a,n,i,r,f,l,h){var c=e(n,i,r,f,l,h);return c.find(s,a)||null};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(s,a,n,i,r,f,l,h){var c=e(n,i,r,f,l,h);c.forEach(s,a)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(544),s=t(545),a=t(547),n=t(1),i=t(548),r=function(f){return f===e.ORTHOGONAL?u:f===e.HEXAGONAL?s:f===e.STAGGERED?i:f===e.ISOMETRIC?a:n};o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(158),u=t(3),s=new u,a=function(n,i,r,f,l){return l.tilemapLayer.worldToTileXY(n,i,!0,s,f),e(s.x,s.y,r,l)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(483),u=t(26),s=t(484),a=t(1),n=t(3),i=function(c,v){return s.RectangleToTriangle(v,c)},r=new n,f=new n,l=new n,h=function(c,v,d,m){if(c===void 0)return[];var y=a;c instanceof e.Circle?y=s.CircleToRectangle:c instanceof e.Rectangle?y=s.RectangleToRectangle:c instanceof e.Triangle?y=i:c instanceof e.Line&&(y=s.LineToRectangle),m.tilemapLayer.worldToTileXY(c.left,c.top,!0,f,d);var T=f.x,C=f.y;m.tilemapLayer.worldToTileXY(c.right,c.bottom,!0,l,d);var R=Math.ceil(l.x),A=Math.ceil(l.y),P=Math.max(R-T,1),O=Math.max(A-C,1),b=u(T,C,P,O,v,m),D=m.tileWidth,N=m.tileHeight;m.tilemapLayer&&(D*=m.tilemapLayer.scaleX,N*=m.tilemapLayer.scaleY);for(var B=[],U=new e.Rectangle(0,0,D,N),G=0;G<b.length;G++){var W=b[G];m.tilemapLayer.tileToWorldXY(W.x,W.y,r,d),U.x=r.x,U.y=r.y,y(c,U)&&B.push(W)}return B};o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(1),s=t(253),a=function(n){return n===e.ORTHOGONAL?s:u};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(550),s=t(551),a=t(1),n=t(552),i=t(553),r=function(f){return f===e.ORTHOGONAL?i:f===e.ISOMETRIC?s:f===e.HEXAGONAL?u:f===e.STAGGERED?n:a};o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(554),s=t(1),a=t(555),n=t(254),i=function(r){return r===e.ORTHOGONAL?n:r===e.HEXAGONAL?u:r===e.STAGGERED?a:s};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(1),s=t(255),a=function(n){return n===e.ORTHOGONAL?s:u};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(556),s=t(557),a=t(1),n=t(558),i=t(559),r=function(f){return f===e.ORTHOGONAL?i:f===e.ISOMETRIC?s:f===e.HEXAGONAL?u:f===e.STAGGERED?n:a};o.exports=r},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(29),u=t(560),s=t(1),a=t(561),n=t(256),i=function(r){return r===e.ORTHOGONAL?n:r===e.HEXAGONAL?u:r===e.STAGGERED?a:s};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(562),u=t(3),s=new u,a=function(n,i,r,f){f.tilemapLayer.worldToTileXY(n,i,!0,s,r);var l=s.x,h=s.y;return e(l,h,f)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(257),u=t(3),s=new u,a=function(n,i,r,f,l,h){return h.tilemapLayer.worldToTileXY(i,r,!0,s,l,h),e(n,s.x,s.y,f,h)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(63),u=t(257),s=function(a,n,i,r,f){if(r===void 0&&(r=!0),!Array.isArray(a))return null;Array.isArray(a[0])||(a=[a]);for(var l=a.length,h=a[0].length,c=0;c<l;c++)for(var v=0;v<h;v++){var d=a[c][v];u(d,n+v,i+c,!1,f)}r&&e(n-1,i-1,h+2,l+2,f)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(210),s=function(a,n,i,r,f,l){var h,c=e(a,n,i,r,{},l);if(!f)for(f=[],h=0;h<c.length;h++)f.indexOf(c[h].index)===-1&&f.push(c[h].index);for(h=0;h<c.length;h++)c[h].index=u(f)};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(563),u=t(3),s=new u,a=function(n,i,r,f,l,h){return h.tilemapLayer.worldToTileXY(n,i,!0,s,l,h),e(s.x,s.y,r,f,h)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(397),s=new u(105,210,231,150),a=new u(243,134,48,200),n=new u(40,39,37,150),i=function(r,f,l){f===void 0&&(f={});var h=f.tileColor!==void 0?f.tileColor:s,c=f.collidingTileColor!==void 0?f.collidingTileColor:a,v=f.faceColor!==void 0?f.faceColor:n,d=e(0,0,l.width,l.height,null,l);r.translateCanvas(l.tilemapLayer.x,l.tilemapLayer.y),r.scaleCanvas(l.tilemapLayer.scaleX,l.tilemapLayer.scaleY);for(var m=0;m<d.length;m++){var y=d[m],T=y.width,C=y.height,R=y.pixelX,A=y.pixelY,P=y.collides?c:h;P!==null&&(r.fillStyle(P.color,P.alpha/255),r.fillRect(R,A,T,C)),R+=1,A+=1,T-=2,C-=2,v!==null&&(r.lineStyle(1,v.color,v.alpha/255),y.faceTop&&r.lineBetween(R,A,R+T,A),y.faceRight&&r.lineBetween(R+T,A,R+T,A+C),y.faceBottom&&r.lineBetween(R,A+C,R+T,A+C),y.faceLeft&&r.lineBetween(R,A,R,A+C))}};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),s=t(160),a=function(n,i,r,f,l){i===void 0&&(i=!0),r===void 0&&(r=!0),l===void 0&&(l=!0),Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++)s(n[h],i,f);if(l)for(var c=0;c<f.height;c++)for(var v=0;v<f.width;v++){var d=f.data[c][v];d&&n.indexOf(d.index)!==-1&&e(d,i)}r&&u(0,0,f.width,f.height,f)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),s=t(160),a=function(n,i,r,f,l,h){if(r===void 0&&(r=!0),f===void 0&&(f=!0),h===void 0&&(h=!0),!(n>i)){for(var c=n;c<=i;c++)s(c,r,l);if(h)for(var v=0;v<l.height;v++)for(var d=0;d<l.width;d++){var m=l.data[v][d];m&&m.index>=n&&m.index<=i&&e(m,r)}f&&u(0,0,l.width,l.height,l)}};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),s=t(160),a=function(n,i,r,f){i===void 0&&(i=!0),r===void 0&&(r=!0),Array.isArray(n)||(n=[n]);for(var l=0;l<f.height;l++)for(var h=0;h<f.width;h++){var c=f.data[l][h];c&&n.indexOf(c.index)===-1&&(e(c,i),s(c.index,i,f))}r&&u(0,0,f.width,f.height,f)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),s=t(126),a=function(n,i,r,f){i===void 0&&(i=!0),r===void 0&&(r=!0);for(var l=0;l<f.height;l++)for(var h=0;h<f.width;h++){var c=f.data[l][h];if(c){for(var v in n)if(s(c.properties,v)){var d=n[v];Array.isArray(d)||(d=[d]);for(var m=0;m<d.length;m++)c.properties[v]===d[m]&&e(c,i)}}}r&&u(0,0,f.width,f.height,f)};o.exports=a},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(72),u=t(63),s=function(a,n,i){a===void 0&&(a=!0),n===void 0&&(n=!0);for(var r=0;r<i.height;r++)for(var f=0;f<i.width;f++){var l=i.data[r][f];if(l){var h=l.getCollisionGroup();h&&h.objects&&h.objects.length>0&&e(l,a)}}n&&u(0,0,i.width,i.height,i)};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u,s,a){if(typeof e=="number")a.callbacks[e]=u!==null?{callback:u,callbackContext:s}:void 0;else for(var n=0,i=e.length;n<i;n++)a.callbacks[e[n]]=u!==null?{callback:u,callbackContext:s}:void 0};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(s,a,n,i,r,f,l){for(var h=e(s,a,n,i,null,l),c=0;c<h.length;c++)h[c].setCollisionCallback(r,f)};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=t(131),s=function(a,n,i,r,f){var l=e(a,n,i,r,null,f),h=l.map(function(v){return v.index});u(h);for(var c=0;c<l.length;c++)l[c].index=h[c]};o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(s,a,n,i,r,f,l){for(var h=e(n,i,r,f,null,l),c=0;c<h.length;c++)h[c]&&(h[c].index===s?h[c].index=a:h[c].index===a&&(h[c].index=s))};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(26),u=function(s,a,n,i,r,f){if(r){var l,h=e(s,a,n,i,null,f),c=0;for(l=0;l<r.length;l++)c+=r[l].weight;if(!(c<=0))for(l=0;l<h.length;l++){for(var v=Math.random()*c,d=0,m=-1,y=0;y<r.length;y++)if(d+=r[y].weight,v<=d){var T=r[y].index;m=Array.isArray(T)?T[Math.floor(Math.random()*T.length)]:T;break}h[l].index=m}}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={FromOrientationString:t(258),Parse:t(564),Parse2DArray:t(259),ParseCSV:t(565),Impact:t(1454),Tiled:t(1455)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){for(var s=0;s<e.length;s++){var a=e[s],n=s;if(a.name&&a.name!==""&&(n=a.name),Array.isArray(a.wangtiles)&&a.wangtiles.length>0){var i={},r={},f,l,h;if(Array.isArray(a.edgecolors))for(f=0;f<a.edgecolors.length;f++)h=1+f,l=a.edgecolors[f],l.name!==""&&(i[h]=l.name);if(Array.isArray(a.cornercolors))for(f=0;f<a.cornercolors.length;f++)h=1+f,l=a.cornercolors[f],l.name!==""&&(r[h]=l.name);if(Array.isArray(a.colors))for(f=0;f<a.colors.length;f++)l=a.colors[f],h=1+f,l.name!==""&&(i[h]=r[h]=l.name);for(var c=[i,r,i,r,i,r,i,r],v=0;v<a.wangtiles.length;v++){var d=a.wangtiles[v],m=u[d.tileid]||(u[d.tileid]={});m=m.wangid||(m.wangid={});for(var y=[],T=0;T<Math.min(c.length,d.wangid.length);T++){if(l=d.wangid[T],l===0){y.push(void 0);continue}var C=c[T][l];if(C!==void 0){y.push(C);continue}y.push(l)}m[n]=y}}}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ParseTileLayers:t(578),ParseTilesets:t(579),ParseWeltmeister:t(577)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={AssignTileProperties:t(567),Base64Decode:t(574),BuildTilesetIndex:t(568),CreateGroupLayer:t(161),ParseGID:t(261),ParseImageLayers:t(569),ParseJSONTiled:t(566),ParseObject:t(260),ParseObjectLayers:t(570),ParseTileLayers:t(573),ParseTilesets:t(575)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(1),u=t(1);e=t(1457),u=t(1458),o.exports={renderWebGL:e,renderCanvas:u}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(12),u=function(s,a,n){var i=a.cull(n),r=i.length,f=n.alpha*a.alpha;if(!(r===0||f<=0)){var l=a.gidMap,h=s.pipelines.set(a.pipeline,a),c=e.getTintAppendFloatAlpha,v=a.scrollFactorX,d=a.scrollFactorY,m=a.x,y=a.y,T=a.scaleX,C=a.scaleY;s.pipelines.preBatch(a);for(var R=0;R<r;R++){var A=i[R],P=l[A.index];if(P){var O=P.getTileTextureCoordinates(A.index);if(O!==null){var b=P.glTexture,D=h.setTexture2D(b,a),N=P.tileWidth,B=P.tileHeight,U=O.x,G=O.y,W=P.tileWidth*.5,$=P.tileHeight*.5,q=c(A.tint,f*A.alpha);h.batchTexture(a,b,b.width,b.height,m+(W+A.pixelX)*T,y+($+A.pixelY)*C,A.width,A.height,T,C,A.rotation,A.flipX,A.flipY,v,d,W,$,U,G,N,B,q,q,q,q,!1,0,0,n,null,!0,D)}}}s.pipelines.postBatch(a)}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(25),u=new e,s=new e,a=new e,n=function(i,r,f,l){var h=r.cull(f),c=h.length,v=f.alpha*r.alpha;if(!(c===0||v<=0)){var d=u,m=s,y=a;m.applyITRS(r.x,r.y,r.rotation,r.scaleX,r.scaleY),d.copyFrom(f.matrix);var T=i.currentContext,C=r.gidMap;T.save(),l?(d.multiplyWithOffset(l,-f.scrollX*r.scrollFactorX,-f.scrollY*r.scrollFactorY),m.e=r.x,m.f=r.y,d.multiply(m,y),y.copyToContext(T)):(m.e-=f.scrollX*r.scrollFactorX,m.f-=f.scrollY*r.scrollFactorY,m.copyToContext(T)),(!i.antialias||r.scaleX>1||r.scaleY>1)&&(T.imageSmoothingEnabled=!1);for(var R=0;R<c;R++){var A=h[R],P=C[A.index];if(P){var O=P.image.getSourceImage(),b=P.getTileTextureCoordinates(A.index);if(b!==null){var D=P.tileWidth,N=P.tileHeight,B=D*.5,U=N*.5;T.save(),T.translate(A.pixelX+B,A.pixelY+U),A.rotation!==0&&T.rotate(A.rotation),(A.flipX||A.flipY)&&T.scale(A.flipX?-1:1,A.flipY?-1:1),T.globalAlpha=v*A.alpha,T.drawImage(O,b.x,b.y,D,N,-B,-U,D,N),T.restore()}}}T.restore()}};o.exports=n},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(16),u=t(262);e.register("tilemap",function(s){var a=s!==void 0?s:{};return u(this.scene,a.key,a.tileWidth,a.tileHeight,a.width,a.height,a.data,a.insertNull)})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(5),u=t(262);e.register("tilemap",function(s,a,n,i,r,f,l){return s===null&&(s=void 0),a===null&&(a=void 0),n===null&&(n=void 0),i===null&&(i=void 0),r===null&&(r=void 0),u(this.scene,s,a,n,i,r,f,l)})},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Clock:t(1462),TimerEvent:t(582)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(0),u=t(24),s=t(20),a=t(582),n=t(93),i=new e({initialize:function(f){this.scene=f,this.systems=f.sys,this.now=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],f.sys.events.once(s.BOOT,this.boot,this),f.sys.events.on(s.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(s.DESTROY,this.destroy,this)},start:function(){var r=this.systems.events;r.on(s.PRE_UPDATE,this.preUpdate,this),r.on(s.UPDATE,this.update,this),r.once(s.SHUTDOWN,this.shutdown,this)},addEvent:function(r){var f;return r instanceof a?(f=r,this.removeEvent(f),f.elapsed=f.startAt,f.hasDispatched=!1,f.repeatCount=f.repeat===-1||f.loop?999999999999:f.repeat):f=new a(r),this._pendingInsertion.push(f),f},delayedCall:function(r,f,l,h){return this.addEvent({delay:r,callback:f,args:l,callbackScope:h})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(r){Array.isArray(r)||(r=[r]);for(var f=0;f<r.length;f++){var l=r[f];n(this._pendingRemoval,l),n(this._pendingInsertion,l),n(this._active,l)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var r=this._pendingRemoval.length,f=this._pendingInsertion.length;if(!(r===0&&f===0)){var l,h;for(l=0;l<r;l++){h=this._pendingRemoval[l];var c=this._active.indexOf(h);c>-1&&this._active.splice(c,1),h.destroy()}for(l=0;l<f;l++)h=this._pendingInsertion[l],this._active.push(h);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(r,f){if(this.now=r,!this.paused){f*=this.timeScale;for(var l=0;l<this._active.length;l++){var h=this._active[l];if(!h.paused&&(h.elapsed+=f*h.timeScale,h.elapsed>=h.delay)){var c=h.elapsed-h.delay;h.elapsed=h.delay,!h.hasDispatched&&h.callback&&(h.hasDispatched=!0,h.callback.apply(h.callbackScope,h.args)),h.repeatCount>0?(h.repeatCount--,h.elapsed=c,h.hasDispatched=!1):this._pendingRemoval.push(h)}}}},shutdown:function(){var r;for(r=0;r<this._pendingInsertion.length;r++)this._pendingInsertion[r].destroy();for(r=0;r<this._active.length;r++)this._active[r].destroy();for(r=0;r<this._pendingRemoval.length;r++)this._pendingRemoval[r].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var f=this.systems.events;f.off(s.PRE_UPDATE,this.preUpdate,this),f.off(s.UPDATE,this.update,this),f.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(s.START,this.start,this),this.scene=null,this.systems=null}});u.register("Clock",i,"time"),o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(100),u=t(17),s={Builders:t(1464),Events:t(267),TweenManager:t(1480),Tween:t(266),TweenData:t(268),Timeline:t(588)};s=u(!1,s,e),o.exports=s},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={GetBoolean:t(99),GetEaseFunction:t(80),GetNewValue:t(162),GetProps:t(583),GetTargets:t(263),GetTweens:t(584),GetValueOp:t(264),NumberTweenBuilder:t(585),StaggerBuilder:t(586),TimelineBuilder:t(587),TweenBuilder:t(163)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","loop","loopDelay","offset","onActive","onActiveParams","onActiveScope","onComplete","onCompleteParams","onCompleteScope","onLoop","onLoopParams","onLoopScope","onRepeat","onRepeatParams","onRepeatScope","onStart","onStartParams","onStartScope","onStop","onStopParams","onStopScope","onUpdate","onUpdateParams","onUpdateScope","onYoyo","onYoyoParams","onYoyoScope","paused","props","repeat","repeatDelay","targets","useFrames","yoyo"]},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="active"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="complete"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="loop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="repeat"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="start"},function(o,x){/**
 * @author       samme
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="stop"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="update"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="yoyo"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(93),u=t(0),s=t(585),a=t(24),n=t(20),i=t(586),r=t(587),f=t(100),l=t(163),h=new u({initialize:function(v){this.scene=v,this.systems=v.sys,this.timeScale=1,this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,v.sys.events.once(n.BOOT,this.boot,this),v.sys.events.on(n.START,this.start,this)},boot:function(){this.systems.events.once(n.DESTROY,this.destroy,this)},start:function(){var c=this.systems.events;c.on(n.PRE_UPDATE,this.preUpdate,this),c.on(n.UPDATE,this.update,this),c.once(n.SHUTDOWN,this.shutdown,this),this.timeScale=1},createTimeline:function(c){return r(this,c)},timeline:function(c){var v=r(this,c);return v.paused||(this._add.push(v),this._toProcess++),v},create:function(c){return l(this,c)},add:function(c){var v=l(this,c);return this._add.push(v),this._toProcess++,v},existing:function(c){return this._add.push(c),this._toProcess++,this},addCounter:function(c){var v=s(this,c);return this._add.push(v),this._toProcess++,v},stagger:function(c,v){return i(c,v)},preUpdate:function(){if(this._toProcess!==0){var c=this._destroy,v=this._active,d=this._pending,m,y;for(m=0;m<c.length;m++){y=c[m];var T=v.indexOf(y);T===-1?(T=d.indexOf(y),T>-1&&(y.state=f.REMOVED,d.splice(T,1))):(y.state=f.REMOVED,v.splice(T,1))}for(c.length=0,c=this._add,m=0;m<c.length;m++)y=c[m],y.state===f.PENDING_ADD&&(y.init()?(y.play(),this._active.push(y)):this._pending.push(y));c.length=0,this._toProcess=0}},update:function(c,v){var d=this._active,m;v*=this.timeScale;for(var y=0;y<d.length;y++)m=d[y],m.update(c,v)&&(this._destroy.push(m),this._toProcess++)},remove:function(c){return e(this._add,c),e(this._pending,c),e(this._active,c),e(this._destroy,c),c.state=f.REMOVED,this},makeActive:function(c){if(this._add.indexOf(c)!==-1||this._active.indexOf(c)!==-1)return this;var v=this._pending.indexOf(c);return v!==-1&&this._pending.splice(v,1),this._add.push(c),c.state=f.PENDING_ADD,this._toProcess++,this},each:function(c,v){for(var d=[null],m=1;m<arguments.length;m++)d.push(arguments[m]);for(var y in this.list)d[0]=this.list[y],c.apply(v,d)},getAllTweens:function(){for(var c=this._active,v=[],d=0;d<c.length;d++)v.push(c[d]);return v},getGlobalTimeScale:function(){return this.timeScale},getTweensOf:function(c,v){v===void 0&&(v=!1);var d=this._active,m,y=[],T,C;for(Array.isArray(c)||(c=[c]),T=0;T<d.length;T++)for(m=d[T],C=0;C<c.length;C++)m.hasTarget(c[C])&&y.push(m);if(v)for(d=this._pending,T=0;T<d.length;T++)for(m=d[T],C=0;C<c.length;C++)m.hasTarget(c[C])&&y.push(m);return y},isTweening:function(c){for(var v=this._active,d,m=0;m<v.length;m++)if(d=v[m],d.hasTarget(c)&&d.isPlaying())return!0;return!1},killAll:function(){for(var c=this.getAllTweens(),v=0;v<c.length;v++)c[v].stop();return this},killTweensOf:function(c){for(var v=this.getTweensOf(c),d=0;d<v.length;d++)v[d].stop();return this},pauseAll:function(){for(var c=this._active,v=0;v<c.length;v++)c[v].pause();return this},resumeAll:function(){for(var c=this._active,v=0;v<c.length;v++)c[v].resume();return this},setGlobalTimeScale:function(c){return this.timeScale=c,this},shutdown:function(){this.killAll(),this._add=[],this._pending=[],this._active=[],this._destroy=[],this._toProcess=0;var c=this.systems.events;c.off(n.PRE_UPDATE,this.preUpdate,this),c.off(n.UPDATE,this.update,this),c.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(n.START,this.start,this),this.scene=null,this.systems=null}});a.register("TweenManager",h,"tweens"),o.exports=h},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Array:t(208),Base64:t(1482),Objects:t(1484),String:t(1488),NOOP:t(1)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={ArrayBufferToBase64:t(1483),Base64ToArrayBuffer:t(433)}},function(o,x){/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=function(u,s){for(var a=new Uint8Array(u),n=a.length,i=s?"data:"+s+";base64,":"",r=0;r<n;r+=3)i+=t[a[r]>>2],i+=t[(a[r]&3)<<4|a[r+1]>>4],i+=t[(a[r+1]&15)<<2|a[r+2]>>6],i+=t[a[r+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};o.exports=e},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Clone:t(77),DeepCopy:t(175),Extend:t(17),GetAdvancedValue:t(13),GetFastValue:t(2),GetMinMaxValue:t(1485),GetValue:t(6),HasAll:t(1486),HasAny:t(455),HasValue:t(126),IsPlainObject:t(7),Merge:t(127),MergeRight:t(1487),Pick:t(571),SetValue:t(478)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(6),u=t(18),s=function(a,n,i,r,f){f===void 0&&(f=i);var l=e(a,n,f);return u(l,i,r)};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){for(var s=0;s<u.length;s++)if(!e.hasOwnProperty(u[s]))return!1;return!0};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(77),u=function(s,a){var n=e(s);for(var i in a)n.hasOwnProperty(i)&&(n[i]=a[i]);return n};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Format:t(1489),Pad:t(186),RemoveAt:t(1490),Reverse:t(1491),UppercaseFirst:t(205),UUID:t(222)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return e.replace(/%([0-9]+)/g,function(s,a){return u[Number(a)-1]})};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e,u){return u===0?e.slice(1):e.slice(0,u-1)+e.slice(u)};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t=function(e){return e.split("").reverse().join("")};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={SoundManagerCreator:t(426),Events:t(70),BaseSound:t(146),BaseSoundManager:t(145),WebAudioSound:t(434),WebAudioSoundManager:t(432),HTML5AudioSound:t(429),HTML5AudioSoundManager:t(427),NoAudioSound:t(431),NoAudioSoundManager:t(430)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={Arcade:t(1366),Matter:t(1494)}},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports={BodyBounds:t(1392),Components:t(249),Events:t(272),Factory:t(1394),MatterGameObject:t(1395),Image:t(1396),Matter:t(594),MatterPhysics:t(1524),PolyDecomp:t(1393),Sprite:t(1397),TileBody:t(593),PhysicsEditorParser:t(589),PhysicsJSONParser:t(590),PointerConstraint:t(1398),World:t(1402)}},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setBounce:function(e){return this.body.restitution=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setCollisionCategory:function(e){return this.body.collisionFilter.category=e,this},setCollisionGroup:function(e){return this.body.collisionFilter.group=e,this},setCollidesWith:function(e){var u=0;if(!Array.isArray(e))u=e;else for(var s=0;s<e.length;s++)u|=e[s];return this.body.collisionFilter.mask=u,this},setOnCollide:function(e){return this.body.onCollideCallback=e,this},setOnCollideEnd:function(e){return this.body.onCollideEndCallback=e,this},setOnCollideActive:function(e){return this.body.onCollideActiveCallback=e,this},setOnCollideWith:function(e,u){Array.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var a=e[s].hasOwnProperty("body")?e[s].body:e[s];this.body.setOnCollideWith(a,u)}return this}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u={applyForce:function(s){return this._tempVec2.set(this.body.position.x,this.body.position.y),e.applyForce(this.body,this._tempVec2,s),this},applyForceFrom:function(s,a){return e.applyForce(this.body,s,a),this},thrust:function(s){var a=this.body.angle;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(s){var a=this.body.angle-Math.PI/2;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(s){var a=this.body.angle+Math.PI/2;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(s){var a=this.body.angle-Math.PI;return this._tempVec2.set(s*Math.cos(a),s*Math.sin(a)),e.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};o.exports=u},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setFriction:function(e,u,s){return this.body.friction=e,u!==void 0&&(this.body.frictionAir=u),s!==void 0&&(this.body.frictionStatic=s),this},setFrictionAir:function(e){return this.body.frictionAir=e,this},setFrictionStatic:function(e){return this.body.frictionStatic=e,this}};o.exports=t},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setIgnoreGravity:function(e){return this.body.ignoreGravity=e,this}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u=t(3),s={setMass:function(a){return e.setMass(this.body,a),this},setDensity:function(a){return e.setDensity(this.body,a),this},centerOfMass:{get:function(){return new u(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};o.exports=s},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={setSensor:function(e){return this.body.isSensor=e,this},isSensor:function(){return this.body.isSensor}};o.exports=t},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(86),u=t(41),s=t(124),a=t(2),n=t(589),i=t(590),r=t(64),f={setRectangle:function(l,h,c){return this.setBody({type:"rectangle",width:l,height:h},c)},setCircle:function(l,h){return this.setBody({type:"circle",radius:l},h)},setPolygon:function(l,h,c){return this.setBody({type:"polygon",sides:h,radius:l},c)},setTrapezoid:function(l,h,c,v){return this.setBody({type:"trapezoid",width:l,height:h,slope:c},v)},setExistingBody:function(l,h){h===void 0&&(h=!0),this.body&&this.world.remove(this.body,!0),this.body=l;for(var c=0;c<l.parts.length;c++)l.parts[c].gameObject=this;var v=this;if(l.destroy=function(){v.world.remove(v.body,!0),v.body.gameObject=null},h&&(this.world.has(l)&&this.world.remove(l,!0),this.world.add(l)),this._originComponent){var d=l.render.sprite.xOffset,m=l.render.sprite.yOffset,y=l.centerOfMass.x,T=l.centerOfMass.y;if(s(y,.5)&&s(T,.5))this.setOrigin(d+.5,m+.5);else{var C=l.centerOffset.x,R=l.centerOffset.y;this.setOrigin(d+C/this.displayWidth,m+R/this.displayHeight)}}return this},setBody:function(l,h){if(!l)return this;var c;typeof l=="string"&&(l={type:l});var v=a(l,"type","rectangle"),d=a(l,"x",this._tempVec2.x),m=a(l,"y",this._tempVec2.y),y=a(l,"width",this.width),T=a(l,"height",this.height);switch(v){case"rectangle":c=e.rectangle(d,m,y,T,h);break;case"circle":var C=a(l,"radius",Math.max(y,T)/2),R=a(l,"maxSides",25);c=e.circle(d,m,C,h,R);break;case"trapezoid":var A=a(l,"slope",.5);c=e.trapezoid(d,m,y,T,A,h);break;case"polygon":var P=a(l,"sides",5),O=a(l,"radius",Math.max(y,T)/2);c=e.polygon(d,m,P,O,h);break;case"fromVertices":case"fromVerts":var b=a(l,"verts",null);if(b)if(typeof b=="string"&&(b=r.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))u.setVertices(this.body,b),c=this.body;else{var D=a(l,"flagInternal",!1),N=a(l,"removeCollinear",.01),B=a(l,"minimumArea",10);c=e.fromVertices(d,m,b,h,D,N,B)}break;case"fromPhysicsEditor":c=n.parseBody(d,m,l,h);break;case"fromPhysicsTracer":c=i.parseBody(d,m,l,h);break}return c&&this.setExistingBody(c,l.addToWorld),this}};o.exports=f},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(272),u=t(165),s=t(166),a={setToSleep:function(){return u.set(this.body,!0),this},setAwake:function(){return u.set(this.body,!1),this},setSleepThreshold:function(n){return n===void 0&&(n=60),this.body.sleepThreshold=n,this},setSleepEvents:function(n,i){return this.setSleepStartEvent(n),this.setSleepEndEvent(i),this},setSleepStartEvent:function(n){if(n){var i=this.world;s.on(this.body,"sleepStart",function(r){i.emit(e.SLEEP_START,r,this)})}else s.off(this.body,"sleepStart");return this},setSleepEndEvent:function(n){if(n){var i=this.world;s.on(this.body,"sleepEnd",function(r){i.emit(e.SLEEP_END,r,this)})}else s.off(this.body,"sleepEnd");return this}};o.exports=a},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afteradd"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afterremove"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="afterupdate"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeadd"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeremove"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="beforeupdate"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionactive"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionend"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="collisionstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragend"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="drag"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="dragstart"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="pause"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="resume"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleepend"},function(o,x){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */o.exports="sleepstart"},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u={setStatic:function(s){return e.setStatic(this.body,s),this},isStatic:function(){return this.body.isStatic}};o.exports=u},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u=t(14),s=t(269),a=t(270),n=4,i={x:{get:function(){return this.body.position.x},set:function(r){this._tempVec2.set(r,this.y),e.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(r){this._tempVec2.set(this.x,r),e.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(r){var f=1/this._scaleX,l=1/this._scaleY;this._scaleX=r,this._scaleX===0?this.renderFlags&=~n:this.renderFlags|=n,e.scale(this.body,f,l),e.scale(this.body,r,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(r){var f=1/this._scaleX,l=1/this._scaleY;this._scaleY=r,this._scaleY===0?this.renderFlags&=~n:this.renderFlags|=n,e.scale(this.body,f,l),e.scale(this.body,this._scaleX,r)}},angle:{get:function(){return a(this.body.angle*u.RAD_TO_DEG)},set:function(r){this.rotation=a(r)*u.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(r){this._rotation=s(r),e.setAngle(this.body,this._rotation)}},setPosition:function(r,f){return r===void 0&&(r=0),f===void 0&&(f=r),this._tempVec2.set(r,f),e.setPosition(this.body,this._tempVec2),this},setRotation:function(r){return r===void 0&&(r=0),this._rotation=s(r),e.setAngle(this.body,r),this},setFixedRotation:function(){return e.setInertia(this.body,1/0),this},setAngle:function(r){return r===void 0&&(r=0),this.angle=r,e.setAngle(this.body,this.rotation),this},setScale:function(r,f,l){r===void 0&&(r=1),f===void 0&&(f=r);var h=1/this._scaleX,c=1/this._scaleY;return this._scaleX=r,this._scaleY=f,e.scale(this.body,h,c,l),e.scale(this.body,r,f,l),this}};o.exports=i},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(41),u={setAngularVelocity:function(s){return e.setAngularVelocity(this.body,s),this},setVelocityX:function(s){return this._tempVec2.set(s,this.body.velocity.y),e.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(s){return this._tempVec2.set(this.body.velocity.x,s),e.setVelocity(this.body,this._tempVec2),this},setVelocity:function(s,a){return this._tempVec2.set(s,a),e.setVelocity(this.body,this._tempVec2),this}};o.exports=u},function(o,x,t){var e={};o.exports=e;var u=t(118),s=t(32);(function(){e.create=function(a){var n={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return s.extend(n,!1,a)},e.reset=function(a){a.extended&&(a.narrowDetections=0,a.narrowphaseTests=0,a.narrowReuse=0,a.narrowReuseCount=0,a.midphaseTests=0,a.broadphaseTests=0,a.narrowEff=0,a.midEff=0,a.broadEff=0,a.collisions=0,a.buckets=0,a.pairs=0,a.bodies=0)},e.update=function(a,n){if(a.extended){var i=n.world,r=u.allBodies(i);a.collisions=a.narrowDetections,a.pairs=n.pairs.list.length,a.bodies=r.length,a.midEff=(a.narrowDetections/(a.midphaseTests||1)).toFixed(2),a.narrowEff=(a.narrowDetections/(a.narrowphaseTests||1)).toFixed(2),a.broadEff=(1-a.broadphaseTests/(r.length||1)).toFixed(2),a.narrowReuse=(a.narrowReuseCount/(a.narrowphaseTests||1)).toFixed(2)}}})()},function(o,x,t){/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2020 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var e=t(123),u=t(271),s=t(86),a=t(41),n=t(1392),i=t(84),r=t(0),f=t(118),l=t(591),h=t(128),c=t(273),v=t(50),d=t(1394),m=t(2),y=t(6),T=t(597),C=t(1525),R=t(1526),A=t(1399),P=t(1527),O=t(127),b=t(250),D=t(598),N=t(595),B=t(24),U=t(1400),G=t(599),W=t(274),$=t(20),q=t(592),_=t(83),V=t(64),w=t(1402),z=new r({initialize:function(H){this.scene=H,this.systems=H.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=a,this.composite=f,this.detector=c,this.grid=T,this.pair=b,this.pairs=D,this.query=U,this.resolver=G,this.sat=W,this.constraint=h,this.bodies=s,this.composites=l,this.axes=u,this.bounds=i,this.svg=q,this.vector=_,this.vertices=V,this.verts=V,this._tempVec2=_.create(),y(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),y(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),y(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),G._restingThresh=y(this.config,"restingThresh",4),G._restingThreshTangent=y(this.config,"restingThreshTangent",6),G._positionDampen=y(this.config,"positionDampen",.9),G._positionWarming=y(this.config,"positionWarming",.8),G._frictionNormalMultiplier=y(this.config,"frictionNormalMultiplier",5),H.sys.events.once($.BOOT,this.boot,this),H.sys.events.on($.START,this.start,this)},boot:function(){this.world=new w(this.scene,this.config),this.add=new d(this.world),this.bodyBounds=new n,this.systems.events.once($.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new w(this.scene,this.config),this.add=new d(this.world));var Y=this.systems.events;Y.on($.UPDATE,this.world.update,this.world),Y.on($.POST_UPDATE,this.world.postUpdate,this.world),Y.once($.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,H=this.systems.settings.physics,j=O(m(H,"matter",{}),m(Y,"matter",{}));return j},enableAttractorPlugin:function(){return N.register(C),N.use(A,C),this},enableWrapPlugin:function(){return N.register(P),N.use(A,P),this},enableCollisionEventsPlugin:function(){return N.register(R),N.use(A,R),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,H){this.world.step(Y,H)},containsPoint:function(Y,H,j){Y=this.getMatterBodies(Y);var Z=_.create(H,j),k=U.point(Y,Z);return k.length>0},intersectPoint:function(Y,H,j){j=this.getMatterBodies(j);var Z=_.create(Y,H),k=[],nt=U.point(j,Z);return nt.forEach(function(rt){k.indexOf(rt)===-1&&k.push(rt)}),k},intersectRect:function(Y,H,j,Z,k,nt){k===void 0&&(k=!1),nt=this.getMatterBodies(nt);var rt={min:{x:Y,y:H},max:{x:Y+j,y:H+Z}},ht=[],vt=U.region(nt,rt,k);return vt.forEach(function(ot){ht.indexOf(ot)===-1&&ht.push(ot)}),ht},intersectRay:function(Y,H,j,Z,k,nt){k===void 0&&(k=1),nt=this.getMatterBodies(nt);for(var rt=[],ht=U.ray(nt,_.create(Y,H),_.create(j,Z),k),vt=0;vt<ht.length;vt++)rt.push(ht[vt].body);return rt},intersectBody:function(Y,H){H=this.getMatterBodies(H);for(var j=[],Z=U.collides(Y,H),k=0;k<Z.length;k++){var nt=Z[k];nt.bodyA===Y?j.push(nt.bodyB):j.push(nt.bodyA)}return j},overlap:function(Y,H,j,Z,k){j===void 0&&(j=null),Z===void 0&&(Z=null),k===void 0&&(k=j),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),H=this.getMatterBodies(H);for(var nt=!1,rt=0;rt<Y.length;rt++)for(var ht=Y[rt],vt=U.collides(ht,H),ot=0;ot<vt.length;ot++){var Et=vt[ot],Tt=Et.bodyA.id===ht.id?Et.bodyB:Et.bodyA;if(!Z||Z.call(k,ht,Tt,Et)){if(nt=!0,j)j.call(k,ht,Tt,Et);else if(!Z)return!0}}return nt},setCollisionCategory:function(Y,H){return Y=this.getMatterBodies(Y),Y.forEach(function(j){j.collisionFilter.category=H}),this},setCollisionGroup:function(Y,H){return Y=this.getMatterBodies(Y),Y.forEach(function(j){j.collisionFilter.group=H}),this},setCollidesWith:function(Y,H){Y=this.getMatterBodies(Y);var j=0;if(!Array.isArray(H))j=H;else for(var Z=0;Z<H.length;Z++)j|=H[Z];return Y.forEach(function(k){k.collisionFilter.mask=j}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var H=[],j=0;j<Y.length;j++){var Z=Y[j].hasOwnProperty("body")?Y[j].body:Y[j];H.push(Z)}return H},setVelocity:function(Y,H,j){Y=this.getMatterBodies(Y);var Z=this._tempVec2;return Z.x=H,Z.y=j,Y.forEach(function(k){a.setVelocity(k,Z)}),this},setVelocityX:function(Y,H){Y=this.getMatterBodies(Y);var j=this._tempVec2;return j.x=H,Y.forEach(function(Z){j.y=Z.velocity.y,a.setVelocity(Z,j)}),this},setVelocityY:function(Y,H){Y=this.getMatterBodies(Y);var j=this._tempVec2;return j.y=H,Y.forEach(function(Z){j.x=Z.velocity.x,a.setVelocity(Z,j)}),this},setAngularVelocity:function(Y,H){return Y=this.getMatterBodies(Y),Y.forEach(function(j){a.setAngularVelocity(j,H)}),this},applyForce:function(Y,H){Y=this.getMatterBodies(Y);var j=this._tempVec2;return Y.forEach(function(Z){j.x=Z.position.x,j.y=Z.position.y,a.applyForce(Z,j,H)}),this},applyForceFromPosition:function(Y,H,j,Z){Y=this.getMatterBodies(Y);var k=this._tempVec2;return Y.forEach(function(nt){Z===void 0&&(Z=nt.angle),k.x=j*Math.cos(Z),k.y=j*Math.sin(Z),a.applyForce(nt,H,k)}),this},applyForceFromAngle:function(Y,H,j){Y=this.getMatterBodies(Y);var Z=this._tempVec2;return Y.forEach(function(k){j===void 0&&(j=k.angle),Z.x=H*Math.cos(j),Z.y=H*Math.sin(j),a.applyForce(k,{x:k.position.x,y:k.position.y},Z)}),this},getConstraintLength:function(Y){var H=Y.pointA.x,j=Y.pointA.y,Z=Y.pointB.x,k=Y.pointB.y;return Y.bodyA&&(H+=Y.bodyA.position.x,j+=Y.bodyA.position.y),Y.bodyB&&(Z+=Y.bodyB.position.x,k+=Y.bodyB.position.y),v(H,j,Z,k)},alignBody:function(Y,H,j,Z){Y=Y.hasOwnProperty("body")?Y.body:Y;var k;switch(Z){case e.TOP_LEFT:case e.LEFT_TOP:k=this.bodyBounds.getTopLeft(Y,H,j);break;case e.TOP_CENTER:k=this.bodyBounds.getTopCenter(Y,H,j);break;case e.TOP_RIGHT:case e.RIGHT_TOP:k=this.bodyBounds.getTopRight(Y,H,j);break;case e.LEFT_CENTER:k=this.bodyBounds.getLeftCenter(Y,H,j);break;case e.CENTER:k=this.bodyBounds.getCenter(Y,H,j);break;case e.RIGHT_CENTER:k=this.bodyBounds.getRightCenter(Y,H,j);break;case e.LEFT_BOTTOM:case e.BOTTOM_LEFT:k=this.bodyBounds.getBottomLeft(Y,H,j);break;case e.BOTTOM_CENTER:k=this.bodyBounds.getBottomCenter(Y,H,j);break;case e.BOTTOM_RIGHT:case e.RIGHT_BOTTOM:k=this.bodyBounds.getBottomRight(Y,H,j);break}return k&&a.setPosition(Y,k),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off($.UPDATE,this.world.update,this.world),Y.off($.POST_UPDATE,this.world.postUpdate,this.world)),Y.off($.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off($.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",z,"matterPhysics"),o.exports=z},function(o,x,t){var e=t(594),u={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(s){s.after("Body.create",function(){u.Body.init(this)}),s.before("Engine.update",function(a){u.Engine.update(a)})},Body:{init:function(s){s.plugin.attractors=s.plugin.attractors||[]}},Engine:{update:function(s){for(var a=e.Composite.allBodies(s.world),n=0;n<a.length;n++){var i=a[n],r=i.plugin.attractors;if(r&&r.length>0)for(var f=0;f<a.length;f++){var l=a[f];if(n!==f)for(var h=0;h<r.length;h++){var c=r[h],v=c;e.Common.isFunction(c)&&(v=c(i,l)),v&&e.Body.applyForce(l,l.position,v)}}}}},Attractors:{gravityConstant:.001,gravity:function(s,a){var n=e.Vector.sub(a.position,s.position),i=e.Vector.magnitudeSquared(n)||1e-4,r=e.Vector.normalise(n),f=-u.Attractors.gravityConstant*(s.mass*a.mass/i),l=e.Vector.mult(r,f);e.Body.applyForce(s,s.position,e.Vector.neg(l)),e.Body.applyForce(a,a.position,l)}}};o.exports=u},function(o,x){/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var t={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(e){e.after("Engine.create",function(){e.Events.on(this,"collisionStart",function(u){u.pairs.map(function(s){var a=s.bodyA,n=s.bodyB;a.gameObject&&a.gameObject.emit("collide",a,n,s),n.gameObject&&n.gameObject.emit("collide",n,a,s),e.Events.trigger(a,"onCollide",{pair:s}),e.Events.trigger(n,"onCollide",{pair:s}),a.onCollideCallback&&a.onCollideCallback(s),n.onCollideCallback&&n.onCollideCallback(s),a.onCollideWith[n.id]&&a.onCollideWith[n.id](n,s),n.onCollideWith[a.id]&&n.onCollideWith[a.id](a,s)})}),e.Events.on(this,"collisionActive",function(u){u.pairs.map(function(s){var a=s.bodyA,n=s.bodyB;a.gameObject&&a.gameObject.emit("collideActive",a,n,s),n.gameObject&&n.gameObject.emit("collideActive",n,a,s),e.Events.trigger(a,"onCollideActive",{pair:s}),e.Events.trigger(n,"onCollideActive",{pair:s}),a.onCollideActiveCallback&&a.onCollideActiveCallback(s),n.onCollideActiveCallback&&n.onCollideActiveCallback(s)})}),e.Events.on(this,"collisionEnd",function(u){u.pairs.map(function(s){var a=s.bodyA,n=s.bodyB;a.gameObject&&a.gameObject.emit("collideEnd",a,n,s),n.gameObject&&n.gameObject.emit("collideEnd",n,a,s),e.Events.trigger(a,"onCollideEnd",{pair:s}),e.Events.trigger(n,"onCollideEnd",{pair:s}),a.onCollideEndCallback&&a.onCollideEndCallback(s),n.onCollideEndCallback&&n.onCollideEndCallback(s)})})})}};o.exports=t},function(o,x,t){var e=t(594),u={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(s){s.after("Engine.update",function(){u.Engine.update(this)})},Engine:{update:function(s){for(var a=s.world,n=e.Composite.allBodies(a),i=e.Composite.allComposites(a),r=0;r<n.length;r+=1){var f=n[r];f.plugin.wrap&&u.Body.wrap(f,f.plugin.wrap)}for(r=0;r<i.length;r+=1){var l=i[r];l.plugin.wrap&&u.Composite.wrap(l,l.plugin.wrap)}}},Bounds:{wrap:function(s,a){var n=null,i=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(s.min.x>a.max.x?n=a.min.x-s.max.x:s.max.x<a.min.x&&(n=a.max.x-s.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(s.min.y>a.max.y?i=a.min.y-s.max.y:s.max.y<a.min.y&&(i=a.max.y-s.min.y)),n!==null||i!==null)return{x:n||0,y:i||0}}},Body:{wrap:function(s,a){var n=u.Bounds.wrap(s.bounds,a);return n&&e.Body.translate(s,n),n}},Composite:{bounds:function(s){for(var a=e.Composite.allBodies(s),n=[],i=0;i<a.length;i+=1){var r=a[i];n.push(r.bounds.min,r.bounds.max)}return e.Bounds.create(n)},wrap:function(s,a){var n=u.Bounds.wrap(u.Composite.bounds(s),a);return n&&e.Composite.translate(s,n),n}}};o.exports=u},function(o,x,t){(function(e){/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2020 Photon Storm Ltd.
* @license      {@link https://opensource.org/licenses/MIT|MIT License}
*/var u=t(33),s=t(17),a={Actions:t(275),Animations:t(723),BlendModes:t(35),Cache:t(735),Cameras:t(738),Core:t(806),Class:t(0),Create:t(888),Curves:t(894),Data:t(896),Display:t(898),DOM:t(917),Events:t(918),Game:t(920),GameObjects:t(1011),Geom:t(483),Input:t(1308),Loader:t(1338),Math:t(193),Physics:t(1493),Plugins:t(1403),Renderer:t(1405),Scale:t(1412),ScaleModes:t(168),Scene:t(418),Scenes:t(1413),Structs:t(1415),Textures:t(1416),Tilemaps:t(1418),Time:t(1461),Tweens:t(1463),Utils:t(1481)};a.Sound=t(1492),a=s(!1,a,u),o.exports=a,e.Phaser=a}).call(this,t(600))}])})})(I3);const Ie=PA(Z0);var Q0={},J0={},U3={get exports(){return J0},set exports(E){J0=E}},Xn={},k0={},V3={get exports(){return k0},set exports(E){k0=E}},LA={};/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(E){(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var S=!1,o=!1,x=5;function t(At,wt){var se=At.length;At.push(wt),s(At,wt,se)}function e(At){return At.length===0?null:At[0]}function u(At){if(At.length===0)return null;var wt=At[0],se=At.pop();return se!==wt&&(At[0]=se,a(At,se,0)),wt}function s(At,wt,se){for(var ae=se;ae>0;){var le=ae-1>>>1,Ee=At[le];if(n(Ee,wt)>0)At[le]=wt,At[ae]=Ee,ae=le;else return}}function a(At,wt,se){for(var ae=se,le=At.length,Ee=le>>>1;ae<Ee;){var Ae=(ae+1)*2-1,Ti=At[Ae],we=Ae+1,Si=At[we];if(n(Ti,wt)<0)we<le&&n(Si,Ti)<0?(At[ae]=Si,At[we]=wt,ae=we):(At[ae]=Ti,At[Ae]=wt,ae=Ae);else if(we<le&&n(Si,wt)<0)At[ae]=Si,At[we]=wt,ae=we;else return}}function n(At,wt){var se=At.sortIndex-wt.sortIndex;return se!==0?se:At.id-wt.id}var i=1,r=2,f=3,l=4,h=5;function c(At,wt){}var v=typeof performance=="object"&&typeof performance.now=="function";if(v){var d=performance;E.unstable_now=function(){return d.now()}}else{var m=Date,y=m.now();E.unstable_now=function(){return m.now()-y}}var T=1073741823,C=-1,R=250,A=5e3,P=1e4,O=T,b=[],D=[],N=1,B=null,U=f,G=!1,W=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(At){for(var wt=e(D);wt!==null;){if(wt.callback===null)u(D);else if(wt.startTime<=At)u(D),wt.sortIndex=wt.expirationTime,t(b,wt);else return;wt=e(D)}}function z(At){if($=!1,w(At),!W)if(e(b)!==null)W=!0,_t(Y);else{var wt=e(D);wt!==null&&ie(z,wt.startTime-At)}}function Y(At,wt){W=!1,$&&($=!1,Re()),G=!0;var se=U;try{var ae;if(!o)return H(At,wt)}finally{B=null,U=se,G=!1}}function H(At,wt){var se=wt;for(w(se),B=e(b);B!==null&&!S&&!(B.expirationTime>se&&(!At||Mt()));){var ae=B.callback;if(typeof ae=="function"){B.callback=null,U=B.priorityLevel;var le=B.expirationTime<=se,Ee=ae(le);se=E.unstable_now(),typeof Ee=="function"?B.callback=Ee:B===e(b)&&u(b),w(se)}else u(b);B=e(b)}if(B!==null)return!0;var Ae=e(D);return Ae!==null&&ie(z,Ae.startTime-se),!1}function j(At,wt){switch(At){case i:case r:case f:case l:case h:break;default:At=f}var se=U;U=At;try{return wt()}finally{U=se}}function Z(At){var wt;switch(U){case i:case r:case f:wt=f;break;default:wt=U;break}var se=U;U=wt;try{return At()}finally{U=se}}function k(At){var wt=U;return function(){var se=U;U=wt;try{return At.apply(this,arguments)}finally{U=se}}}function nt(At,wt,se){var ae=E.unstable_now(),le;if(typeof se=="object"&&se!==null){var Ee=se.delay;typeof Ee=="number"&&Ee>0?le=ae+Ee:le=ae}else le=ae;var Ae;switch(At){case i:Ae=C;break;case r:Ae=R;break;case h:Ae=O;break;case l:Ae=P;break;case f:default:Ae=A;break}var Ti=le+Ae,we={id:N++,callback:wt,priorityLevel:At,startTime:le,expirationTime:Ti,sortIndex:-1};return le>ae?(we.sortIndex=le,t(D,we),e(b)===null&&we===e(D)&&($?Re():$=!0,ie(z,le-ae))):(we.sortIndex=Ti,t(b,we),!W&&!G&&(W=!0,_t(Y))),we}function rt(){}function ht(){!W&&!G&&(W=!0,_t(Y))}function vt(){return e(b)}function ot(At){At.callback=null}function Et(){return U}var Tt=!1,Pt=null,Xt=-1,zt=x,Ut=-1;function Mt(){var At=E.unstable_now()-Ut;return!(At<zt)}function ne(){}function Vt(At){if(At<0||At>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}At>0?zt=Math.floor(1e3/At):zt=x}var Zt=function(){if(Pt!==null){var At=E.unstable_now();Ut=At;var wt=!0,se=!0;try{se=Pt(wt,At)}finally{se?ye():(Tt=!1,Pt=null)}}else Tt=!1},ye;if(typeof V=="function")ye=function(){V(Zt)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Bt=Se.port2;Se.port1.onmessage=Zt,ye=function(){Bt.postMessage(null)}}else ye=function(){q(Zt,0)};function _t(At){Pt=At,Tt||(Tt=!0,ye())}function ie(At,wt){Xt=q(function(){At(E.unstable_now())},wt)}function Re(){_(Xt),Xt=-1}var Me=ne,Gt=null;E.unstable_IdlePriority=h,E.unstable_ImmediatePriority=i,E.unstable_LowPriority=l,E.unstable_NormalPriority=f,E.unstable_Profiling=Gt,E.unstable_UserBlockingPriority=r,E.unstable_cancelCallback=ot,E.unstable_continueExecution=ht,E.unstable_forceFrameRate=Vt,E.unstable_getCurrentPriorityLevel=Et,E.unstable_getFirstCallbackNode=vt,E.unstable_next=Z,E.unstable_pauseExecution=rt,E.unstable_requestPaint=Me,E.unstable_runWithPriority=j,E.unstable_scheduleCallback=nt,E.unstable_shouldYield=Mt,E.unstable_wrapCallback=k,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(LA);(function(E){E.exports=LA})(V3);/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var E=dt,S=k0,o=E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=!1;function t(p){x=p}function e(p){if(!x){for(var g=arguments.length,M=new Array(g>1?g-1:0),L=1;L<g;L++)M[L-1]=arguments[L];s("warn",p,M)}}function u(p){if(!x){for(var g=arguments.length,M=new Array(g>1?g-1:0),L=1;L<g;L++)M[L-1]=arguments[L];s("error",p,M)}}function s(p,g,M){{var L=o.ReactDebugCurrentFrame,F=L.getStackAddendum();F!==""&&(g+="%s",M=M.concat([F]));var I=M.map(function(X){return String(X)});I.unshift("Warning: "+g),Function.prototype.apply.call(console[p],console,I)}}var a=0,n=1,i=2,r=3,f=4,l=5,h=6,c=7,v=8,d=9,m=10,y=11,T=12,C=13,R=14,A=15,P=16,O=17,b=18,D=19,N=21,B=22,U=23,G=24,W=25,$=!0,q=!1,_=!1,V=!1,w=!1,z=!0,Y=!1,H=!1,j=!0,Z=!0,k=!0,nt=new Set,rt={},ht={};function vt(p,g){ot(p,g),ot(p+"Capture",g)}function ot(p,g){rt[p]&&u("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",p),rt[p]=g;{var M=p.toLowerCase();ht[M]=p,p==="onDoubleClick"&&(ht.ondblclick=p)}for(var L=0;L<g.length;L++)nt.add(g[L])}var Et=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tt=Object.prototype.hasOwnProperty;function Pt(p){{var g=typeof Symbol=="function"&&Symbol.toStringTag,M=g&&p[Symbol.toStringTag]||p.constructor.name||"Object";return M}}function Xt(p){try{return zt(p),!1}catch{return!0}}function zt(p){return""+p}function Ut(p,g){if(Xt(p))return u("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",g,Pt(p)),zt(p)}function Mt(p){if(Xt(p))return u("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Pt(p)),zt(p)}function ne(p,g){if(Xt(p))return u("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",g,Pt(p)),zt(p)}function Vt(p,g){if(Xt(p))return u("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",g,Pt(p)),zt(p)}function Zt(p){if(Xt(p))return u("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",Pt(p)),zt(p)}function ye(p){if(Xt(p))return u("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",Pt(p)),zt(p)}var Se=0,Bt=1,_t=2,ie=3,Re=4,Me=5,Gt=6,At=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",wt=At+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",se=new RegExp("^["+At+"]["+wt+"]*$"),ae={},le={};function Ee(p){return Tt.call(le,p)?!0:Tt.call(ae,p)?!1:se.test(p)?(le[p]=!0,!0):(ae[p]=!0,u("Invalid attribute name: `%s`",p),!1)}function Ae(p,g,M){return g!==null?g.type===Se:M?!1:p.length>2&&(p[0]==="o"||p[0]==="O")&&(p[1]==="n"||p[1]==="N")}function Ti(p,g,M,L){if(M!==null&&M.type===Se)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":{if(L)return!1;if(M!==null)return!M.acceptsBooleans;var F=p.toLowerCase().slice(0,5);return F!=="data-"&&F!=="aria-"}default:return!1}}function we(p,g,M,L){if(g===null||typeof g>"u"||Ti(p,g,M,L))return!0;if(L)return!1;if(M!==null)switch(M.type){case ie:return!g;case Re:return g===!1;case Me:return isNaN(g);case Gt:return isNaN(g)||g<1}return!1}function Si(p){return He.hasOwnProperty(p)?He[p]:null}function Ue(p,g,M,L,F,I,X){this.acceptsBooleans=g===_t||g===ie||g===Re,this.attributeName=L,this.attributeNamespace=F,this.mustUseProperty=M,this.propertyName=p,this.type=g,this.sanitizeURL=I,this.removeEmptyString=X}var He={},Tn=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Tn.forEach(function(p){He[p]=new Ue(p,Se,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var g=p[0],M=p[1];He[g]=new Ue(g,Bt,!1,M,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){He[p]=new Ue(p,_t,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){He[p]=new Ue(p,_t,!1,p,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(p){He[p]=new Ue(p,ie,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){He[p]=new Ue(p,ie,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){He[p]=new Ue(p,Re,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){He[p]=new Ue(p,Gt,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){He[p]=new Ue(p,Me,!1,p.toLowerCase(),null,!1,!1)});var Sn=/[\-\:]([a-z])/g,is=function(p){return p[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(p){var g=p.replace(Sn,is);He[g]=new Ue(g,Bt,!1,p,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(p){var g=p.replace(Sn,is);He[g]=new Ue(g,Bt,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var g=p.replace(Sn,is);He[g]=new Ue(g,Bt,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){He[p]=new Ue(p,Bt,!1,p.toLowerCase(),null,!1,!1)});var ns="xlinkHref";He[ns]=new Ue("xlinkHref",Bt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){He[p]=new Ue(p,Bt,!1,p.toLowerCase(),null,!0,!0)});var Aa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,Mr=!1;function Pr(p){!Mr&&Aa.test(p)&&(Mr=!0,u("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(p)))}function ar(p,g,M,L){if(L.mustUseProperty){var F=L.propertyName;return p[F]}else{Ut(M,g),L.sanitizeURL&&Pr(""+M);var I=L.attributeName,X=null;if(L.type===Re){if(p.hasAttribute(I)){var K=p.getAttribute(I);return K===""?!0:we(g,M,L,!1)?K:K===""+M?M:K}}else if(p.hasAttribute(I)){if(we(g,M,L,!1))return p.getAttribute(I);if(L.type===ie)return M;X=p.getAttribute(I)}return we(g,M,L,!1)?X===null?M:X:X===""+M?M:X}}function Lr(p,g,M,L){{if(!Ee(g))return;if(!p.hasAttribute(g))return M===void 0?void 0:null;var F=p.getAttribute(g);return Ut(M,g),F===""+M?M:F}}function or(p,g,M,L){var F=Si(g);if(!Ae(g,F,L)){if(we(g,M,F,L)&&(M=null),L||F===null){if(Ee(g)){var I=g;M===null?p.removeAttribute(I):(Ut(M,g),p.setAttribute(I,""+M))}return}var X=F.mustUseProperty;if(X){var K=F.propertyName;if(M===null){var Q=F.type;p[K]=Q===ie?!1:""}else p[K]=M;return}var tt=F.attributeName,et=F.attributeNamespace;if(M===null)p.removeAttribute(tt);else{var ut=F.type,lt;ut===ie||ut===Re&&M===!0?lt="":(Ut(M,tt),lt=""+M,F.sanitizeURL&&Pr(lt.toString())),et?p.setAttributeNS(et,tt,lt):p.setAttribute(tt,lt)}}}var Zn=Symbol.for("react.element"),at=Symbol.for("react.portal"),bt=Symbol.for("react.fragment"),Ht=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),yt=Symbol.for("react.provider"),Ot=Symbol.for("react.context"),Dt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),We=Symbol.for("react.scope"),je=Symbol.for("react.debug_trace_mode"),ti=Symbol.for("react.offscreen"),ai=Symbol.for("react.legacy_hidden"),Or=Symbol.for("react.cache"),To=Symbol.for("react.tracing_marker"),En=Symbol.iterator,Tv="@@iterator";function rs(p){if(p===null||typeof p!="object")return null;var g=En&&p[En]||p[Tv];return typeof g=="function"?g:null}var Le=Object.assign,Ma=0,ws,Bl,Il,Ul,Vl,Gl,zl;function Yl(){}Yl.__reactDisabledLog=!0;function of(){{if(Ma===0){ws=console.log,Bl=console.info,Il=console.warn,Ul=console.error,Vl=console.group,Gl=console.groupCollapsed,zl=console.groupEnd;var p={configurable:!0,enumerable:!0,value:Yl,writable:!0};Object.defineProperties(console,{info:p,log:p,warn:p,error:p,group:p,groupCollapsed:p,groupEnd:p})}Ma++}}function Sv(){{if(Ma--,Ma===0){var p={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Le({},p,{value:ws}),info:Le({},p,{value:Bl}),warn:Le({},p,{value:Il}),error:Le({},p,{value:Ul}),group:Le({},p,{value:Vl}),groupCollapsed:Le({},p,{value:Gl}),groupEnd:Le({},p,{value:zl})})}Ma<0&&u("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Xl=o.ReactCurrentDispatcher,Pa;function Qn(p,g,M){{if(Pa===void 0)try{throw Error()}catch(F){var L=F.stack.trim().match(/\n( *(at )?)/);Pa=L&&L[1]||""}return`
`+Pa+p}}var Bs=!1,Is;{var So=typeof WeakMap=="function"?WeakMap:Map;Is=new So}function Hl(p,g){if(!p||Bs)return"";{var M=Is.get(p);if(M!==void 0)return M}var L;Bs=!0;var F=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var I;I=Xl.current,Xl.current=null,of();try{if(g){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(mt){L=mt}Reflect.construct(p,[],X)}else{try{X.call()}catch(mt){L=mt}p.call(X.prototype)}}else{try{throw Error()}catch(mt){L=mt}p()}}catch(mt){if(mt&&L&&typeof mt.stack=="string"){for(var K=mt.stack.split(`
`),Q=L.stack.split(`
`),tt=K.length-1,et=Q.length-1;tt>=1&&et>=0&&K[tt]!==Q[et];)et--;for(;tt>=1&&et>=0;tt--,et--)if(K[tt]!==Q[et]){if(tt!==1||et!==1)do if(tt--,et--,et<0||K[tt]!==Q[et]){var ut=`
`+K[tt].replace(" at new "," at ");return p.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",p.displayName)),typeof p=="function"&&Is.set(p,ut),ut}while(tt>=1&&et>=0);break}}}finally{Bs=!1,Xl.current=I,Sv(),Error.prepareStackTrace=F}var lt=p?p.displayName||p.name:"",pt=lt?Qn(lt):"";return typeof p=="function"&&Is.set(p,pt),pt}function lf(p,g,M){return Hl(p,!0)}function Wl(p,g,M){return Hl(p,!1)}function Ev(p){var g=p.prototype;return!!(g&&g.isReactComponent)}function Us(p,g,M){if(p==null)return"";if(typeof p=="function")return Hl(p,Ev(p));if(typeof p=="string")return Qn(p);switch(p){case Wt:return Qn("Suspense");case de:return Qn("SuspenseList")}if(typeof p=="object")switch(p.$$typeof){case Dt:return Wl(p.render);case te:return Us(p.type,g,M);case jt:{var L=p,F=L._payload,I=L._init;try{return Us(I(F),g,M)}catch{}}}return""}function uf(p){switch(p._debugOwner&&p._debugOwner.type,p._debugSource,p.tag){case l:return Qn(p.type);case P:return Qn("Lazy");case C:return Qn("Suspense");case D:return Qn("SuspenseList");case a:case i:case A:return Wl(p.type);case y:return Wl(p.type.render);case n:return lf(p.type);default:return""}}function jl(p){try{var g="",M=p;do g+=uf(M),M=M.return;while(M);return g}catch(L){return`
Error generating stack: `+L.message+`
`+L.stack}}function Eo(p,g,M){var L=p.displayName;if(L)return L;var F=g.displayName||g.name||"";return F!==""?M+"("+F+")":M}function hf(p){return p.displayName||"Context"}function ze(p){if(p==null)return null;if(typeof p.tag=="number"&&u("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case bt:return"Fragment";case at:return"Portal";case it:return"Profiler";case Ht:return"StrictMode";case Wt:return"Suspense";case de:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case Ot:var g=p;return hf(g)+".Consumer";case yt:var M=p;return hf(M._context)+".Provider";case Dt:return Eo(p,p.render,"ForwardRef");case te:var L=p.displayName||null;return L!==null?L:ze(p.type)||"Memo";case jt:{var F=p,I=F._payload,X=F._init;try{return ze(X(I))}catch{return null}}}return null}function Kl(p,g,M){var L=g.displayName||g.name||"";return p.displayName||(L!==""?M+"("+L+")":M)}function $l(p){return p.displayName||"Context"}function Te(p){var g=p.tag,M=p.type;switch(g){case G:return"Cache";case d:var L=M;return $l(L)+".Consumer";case m:var F=M;return $l(F._context)+".Provider";case b:return"DehydratedFragment";case y:return Kl(M,M.render,"ForwardRef");case c:return"Fragment";case l:return M;case f:return"Portal";case r:return"Root";case h:return"Text";case P:return ze(M);case v:return M===Ht?"StrictMode":"Mode";case B:return"Offscreen";case T:return"Profiler";case N:return"Scope";case C:return"Suspense";case D:return"SuspenseList";case W:return"TracingMarker";case n:case a:case O:case i:case R:case A:if(typeof M=="function")return M.displayName||M.name||null;if(typeof M=="string")return M;break}return null}var ff=o.ReactDebugCurrentFrame,nn=null,La=!1;function Vs(){{if(nn===null)return null;var p=nn._debugOwner;if(p!==null&&typeof p<"u")return Te(p)}return null}function cf(){return nn===null?"":jl(nn)}function zi(){ff.getCurrentStack=null,nn=null,La=!1}function ci(p){ff.getCurrentStack=p===null?null:cf,nn=p,La=!1}function df(){return nn}function Nn(p){La=p}function Cn(p){return""+p}function Dr(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":return p;case"object":return ye(p),p;default:return""}}var Cv={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Co(p,g){Cv[g.type]||g.onChange||g.onInput||g.readOnly||g.disabled||g.value==null||u("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),g.onChange||g.readOnly||g.disabled||g.checked==null||u("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Oa(p){var g=p.type,M=p.nodeName;return M&&M.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function vf(p){return p._valueTracker}function Gs(p){p._valueTracker=null}function pf(p){var g="";return p&&(Oa(p)?g=p.checked?"true":"false":g=p.value),g}function Rv(p){var g=Oa(p)?"checked":"value",M=Object.getOwnPropertyDescriptor(p.constructor.prototype,g);ye(p[g]);var L=""+p[g];if(!(p.hasOwnProperty(g)||typeof M>"u"||typeof M.get!="function"||typeof M.set!="function")){var F=M.get,I=M.set;Object.defineProperty(p,g,{configurable:!0,get:function(){return F.call(this)},set:function(K){ye(K),L=""+K,I.call(this,K)}}),Object.defineProperty(p,g,{enumerable:M.enumerable});var X={getValue:function(){return L},setValue:function(K){ye(K),L=""+K},stopTracking:function(){Gs(p),delete p[g]}};return X}}function ss(p){vf(p)||(p._valueTracker=Rv(p))}function Ro(p){if(!p)return!1;var g=vf(p);if(!g)return!0;var M=g.getValue(),L=pf(p);return L!==M?(g.setValue(L),!0):!1}function zs(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var Ao=!1,mf=!1,gf=!1,xf=!1;function yf(p){var g=p.type==="checkbox"||p.type==="radio";return g?p.checked!=null:p.value!=null}function J(p,g){var M=p,L=g.checked,F=Le({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:L??M._wrapperState.initialChecked});return F}function st(p,g){Co("input",g),g.checked!==void 0&&g.defaultChecked!==void 0&&!mf&&(u("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Vs()||"A component",g.type),mf=!0),g.value!==void 0&&g.defaultValue!==void 0&&!Ao&&(u("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",Vs()||"A component",g.type),Ao=!0);var M=p,L=g.defaultValue==null?"":g.defaultValue;M._wrapperState={initialChecked:g.checked!=null?g.checked:g.defaultChecked,initialValue:Dr(g.value!=null?g.value:L),controlled:yf(g)}}function gt(p,g){var M=p,L=g.checked;L!=null&&or(M,"checked",L,!1)}function St(p,g){var M=p;{var L=yf(g);!M._wrapperState.controlled&&L&&!xf&&(u("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),xf=!0),M._wrapperState.controlled&&!L&&!gf&&(u("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),gf=!0)}gt(p,g);var F=Dr(g.value),I=g.type;if(F!=null)I==="number"?(F===0&&M.value===""||M.value!=F)&&(M.value=Cn(F)):M.value!==Cn(F)&&(M.value=Cn(F));else if(I==="submit"||I==="reset"){M.removeAttribute("value");return}g.hasOwnProperty("value")?pe(M,g.type,F):g.hasOwnProperty("defaultValue")&&pe(M,g.type,Dr(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(M.defaultChecked=!!g.defaultChecked)}function It(p,g,M){var L=p;if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var F=g.type,I=F==="submit"||F==="reset";if(I&&(g.value===void 0||g.value===null))return;var X=Cn(L._wrapperState.initialValue);M||X!==L.value&&(L.value=X),L.defaultValue=X}var K=L.name;K!==""&&(L.name=""),L.defaultChecked=!L.defaultChecked,L.defaultChecked=!!L._wrapperState.initialChecked,K!==""&&(L.name=K)}function fe(p,g){var M=p;St(M,g),ee(M,g)}function ee(p,g){var M=g.name;if(g.type==="radio"&&M!=null){for(var L=p;L.parentNode;)L=L.parentNode;Ut(M,"name");for(var F=L.querySelectorAll("input[name="+JSON.stringify(""+M)+'][type="radio"]'),I=0;I<F.length;I++){var X=F[I];if(!(X===p||X.form!==p.form)){var K=sc(X);if(!K)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Ro(X),St(X,K)}}}}function pe(p,g,M){(g!=="number"||zs(p.ownerDocument)!==p)&&(M==null?p.defaultValue=Cn(p._wrapperState.initialValue):p.defaultValue!==Cn(M)&&(p.defaultValue=Cn(M)))}var Oe=!1,Ze=!1,ni=!1;function ri(p,g){g.value==null&&(typeof g.children=="object"&&g.children!==null?E.Children.forEach(g.children,function(M){M!=null&&(typeof M=="string"||typeof M=="number"||Ze||(Ze=!0,u("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):g.dangerouslySetInnerHTML!=null&&(ni||(ni=!0,u("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),g.selected!=null&&!Oe&&(u("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),Oe=!0)}function li(p,g){g.value!=null&&p.setAttribute("value",Cn(Dr(g.value)))}var xi=Array.isArray;function Ye(p){return xi(p)}var Ys;Ys=!1;function Mo(){var p=Vs();return p?`

Check the render method of \``+p+"`.":""}var Zl=["value","defaultValue"];function Av(p){{Co("select",p);for(var g=0;g<Zl.length;g++){var M=Zl[g];if(p[M]!=null){var L=Ye(p[M]);p.multiple&&!L?u("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",M,Mo()):!p.multiple&&L&&u("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",M,Mo())}}}}function as(p,g,M,L){var F=p.options;if(g){for(var I=M,X={},K=0;K<I.length;K++)X["$"+I[K]]=!0;for(var Q=0;Q<F.length;Q++){var tt=X.hasOwnProperty("$"+F[Q].value);F[Q].selected!==tt&&(F[Q].selected=tt),tt&&L&&(F[Q].defaultSelected=!0)}}else{for(var et=Cn(Dr(M)),ut=null,lt=0;lt<F.length;lt++){if(F[lt].value===et){F[lt].selected=!0,L&&(F[lt].defaultSelected=!0);return}ut===null&&!F[lt].disabled&&(ut=F[lt])}ut!==null&&(ut.selected=!0)}}function Ql(p,g){return Le({},g,{value:void 0})}function Jl(p,g){var M=p;Av(g),M._wrapperState={wasMultiple:!!g.multiple},g.value!==void 0&&g.defaultValue!==void 0&&!Ys&&(u("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Ys=!0)}function Mv(p,g){var M=p;M.multiple=!!g.multiple;var L=g.value;L!=null?as(M,!!g.multiple,L,!1):g.defaultValue!=null&&as(M,!!g.multiple,g.defaultValue,!0)}function p2(p,g){var M=p,L=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!g.multiple;var F=g.value;F!=null?as(M,!!g.multiple,F,!1):L!==!!g.multiple&&(g.defaultValue!=null?as(M,!!g.multiple,g.defaultValue,!0):as(M,!!g.multiple,g.multiple?[]:"",!1))}function m2(p,g){var M=p,L=g.value;L!=null&&as(M,!!g.multiple,L,!1)}var yy=!1;function Pv(p,g){var M=p;if(g.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var L=Le({},g,{value:void 0,defaultValue:void 0,children:Cn(M._wrapperState.initialValue)});return L}function Ty(p,g){var M=p;Co("textarea",g),g.value!==void 0&&g.defaultValue!==void 0&&!yy&&(u("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",Vs()||"A component"),yy=!0);var L=g.value;if(L==null){var F=g.children,I=g.defaultValue;if(F!=null){u("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(I!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Ye(F)){if(F.length>1)throw new Error("<textarea> can only have at most one child.");F=F[0]}I=F}}I==null&&(I=""),L=I}M._wrapperState={initialValue:Dr(L)}}function Sy(p,g){var M=p,L=Dr(g.value),F=Dr(g.defaultValue);if(L!=null){var I=Cn(L);I!==M.value&&(M.value=I),g.defaultValue==null&&M.defaultValue!==I&&(M.defaultValue=I)}F!=null&&(M.defaultValue=Cn(F))}function Ey(p,g){var M=p,L=M.textContent;L===M._wrapperState.initialValue&&L!==""&&L!==null&&(M.value=L)}function g2(p,g){Sy(p,g)}var os="http://www.w3.org/1999/xhtml",x2="http://www.w3.org/1998/Math/MathML",Lv="http://www.w3.org/2000/svg";function Ov(p){switch(p){case"svg":return Lv;case"math":return x2;default:return os}}function Dv(p,g){return p==null||p===os?Ov(g):p===Lv&&g==="foreignObject"?os:p}var y2=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,M,L,F){MSApp.execUnsafeLocalFunction(function(){return p(g,M,L,F)})}:p},Tf,Cy=y2(function(p,g){if(p.namespaceURI===Lv&&!("innerHTML"in p)){Tf=Tf||document.createElement("div"),Tf.innerHTML="<svg>"+g.valueOf().toString()+"</svg>";for(var M=Tf.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;M.firstChild;)p.appendChild(M.firstChild);return}p.innerHTML=g}),Rn=1,ls=3,Ai=8,us=9,Fv=11,Sf=function(p,g){if(g){var M=p.firstChild;if(M&&M===p.lastChild&&M.nodeType===ls){M.nodeValue=g;return}}p.textContent=g},T2={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function S2(p,g){return p+g.charAt(0).toUpperCase()+g.substring(1)}var E2=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(p){E2.forEach(function(g){kl[S2(g,p)]=kl[p]})});function bv(p,g,M){var L=g==null||typeof g=="boolean"||g==="";return L?"":!M&&typeof g=="number"&&g!==0&&!(kl.hasOwnProperty(p)&&kl[p])?g+"px":(Vt(g,p),(""+g).trim())}var C2=/([A-Z])/g,R2=/^ms-/;function A2(p){return p.replace(C2,"-$1").toLowerCase().replace(R2,"-ms-")}var Ry=function(){};{var M2=/^(?:webkit|moz|o)[A-Z]/,P2=/^-ms-/,L2=/-(.)/g,Ay=/;\s*$/,Po={},Nv={},My=!1,Py=!1,O2=function(p){return p.replace(L2,function(g,M){return M.toUpperCase()})},D2=function(p){Po.hasOwnProperty(p)&&Po[p]||(Po[p]=!0,u("Unsupported style property %s. Did you mean %s?",p,O2(p.replace(P2,"ms-"))))},F2=function(p){Po.hasOwnProperty(p)&&Po[p]||(Po[p]=!0,u("Unsupported vendor-prefixed style property %s. Did you mean %s?",p,p.charAt(0).toUpperCase()+p.slice(1)))},b2=function(p,g){Nv.hasOwnProperty(g)&&Nv[g]||(Nv[g]=!0,u(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,p,g.replace(Ay,"")))},N2=function(p,g){My||(My=!0,u("`NaN` is an invalid value for the `%s` css style property.",p))},w2=function(p,g){Py||(Py=!0,u("`Infinity` is an invalid value for the `%s` css style property.",p))};Ry=function(p,g){p.indexOf("-")>-1?D2(p):M2.test(p)?F2(p):Ay.test(g)&&b2(p,g),typeof g=="number"&&(isNaN(g)?N2(p,g):isFinite(g)||w2(p,g))}}var B2=Ry;function I2(p){{var g="",M="";for(var L in p)if(p.hasOwnProperty(L)){var F=p[L];if(F!=null){var I=L.indexOf("--")===0;g+=M+(I?L:A2(L))+":",g+=bv(L,F,I),M=";"}}return g||null}}function Ly(p,g){var M=p.style;for(var L in g)if(g.hasOwnProperty(L)){var F=L.indexOf("--")===0;F||B2(L,g[L]);var I=bv(L,g[L],F);L==="float"&&(L="cssFloat"),F?M.setProperty(L,I):M[L]=I}}function U2(p){return p==null||typeof p=="boolean"||p===""}function Oy(p){var g={};for(var M in p)for(var L=T2[M]||[M],F=0;F<L.length;F++)g[L[F]]=M;return g}function V2(p,g){{if(!g)return;var M=Oy(p),L=Oy(g),F={};for(var I in M){var X=M[I],K=L[I];if(K&&X!==K){var Q=X+","+K;if(F[Q])continue;F[Q]=!0,u("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",U2(p[X])?"Removing":"Updating",X,K)}}}}var G2={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},z2=Le({menuitem:!0},G2),Y2="__html";function wv(p,g){if(g){if(z2[p]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw new Error(p+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof g.dangerouslySetInnerHTML!="object"||!(Y2 in g.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!g.suppressContentEditableWarning&&g.contentEditable&&g.children!=null&&u("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),g.style!=null&&typeof g.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Da(p,g){if(p.indexOf("-")===-1)return typeof g.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Dy={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Lo={},X2=new RegExp("^(aria)-["+wt+"]*$"),H2=new RegExp("^(aria)[A-Z]["+wt+"]*$");function W2(p,g){{if(Tt.call(Lo,g)&&Lo[g])return!0;if(H2.test(g)){var M="aria-"+g.slice(4).toLowerCase(),L=Dy.hasOwnProperty(M)?M:null;if(L==null)return u("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",g),Lo[g]=!0,!0;if(g!==L)return u("Invalid ARIA attribute `%s`. Did you mean `%s`?",g,L),Lo[g]=!0,!0}if(X2.test(g)){var F=g.toLowerCase(),I=Dy.hasOwnProperty(F)?F:null;if(I==null)return Lo[g]=!0,!1;if(g!==I)return u("Unknown ARIA attribute `%s`. Did you mean `%s`?",g,I),Lo[g]=!0,!0}}return!0}function j2(p,g){{var M=[];for(var L in g){var F=W2(p,L);F||M.push(L)}var I=M.map(function(X){return"`"+X+"`"}).join(", ");M.length===1?u("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",I,p):M.length>1&&u("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",I,p)}}function K2(p,g){Da(p,g)||j2(p,g)}var Fy=!1;function $2(p,g){{if(p!=="input"&&p!=="textarea"&&p!=="select")return;g!=null&&g.value===null&&!Fy&&(Fy=!0,p==="select"&&g.multiple?u("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",p):u("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",p))}}var by=function(){};{var cn={},Ny=/^on./,Z2=/^on[^A-Z]/,Q2=new RegExp("^(aria)-["+wt+"]*$"),J2=new RegExp("^(aria)[A-Z]["+wt+"]*$");by=function(p,g,M,L){if(Tt.call(cn,g)&&cn[g])return!0;var F=g.toLowerCase();if(F==="onfocusin"||F==="onfocusout")return u("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),cn[g]=!0,!0;if(L!=null){var I=L.registrationNameDependencies,X=L.possibleRegistrationNames;if(I.hasOwnProperty(g))return!0;var K=X.hasOwnProperty(F)?X[F]:null;if(K!=null)return u("Invalid event handler property `%s`. Did you mean `%s`?",g,K),cn[g]=!0,!0;if(Ny.test(g))return u("Unknown event handler property `%s`. It will be ignored.",g),cn[g]=!0,!0}else if(Ny.test(g))return Z2.test(g)&&u("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",g),cn[g]=!0,!0;if(Q2.test(g)||J2.test(g))return!0;if(F==="innerhtml")return u("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),cn[g]=!0,!0;if(F==="aria")return u("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),cn[g]=!0,!0;if(F==="is"&&M!==null&&M!==void 0&&typeof M!="string")return u("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof M),cn[g]=!0,!0;if(typeof M=="number"&&isNaN(M))return u("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",g),cn[g]=!0,!0;var Q=Si(g),tt=Q!==null&&Q.type===Se;if(Ef.hasOwnProperty(F)){var et=Ef[F];if(et!==g)return u("Invalid DOM property `%s`. Did you mean `%s`?",g,et),cn[g]=!0,!0}else if(!tt&&g!==F)return u("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",g,F),cn[g]=!0,!0;return typeof M=="boolean"&&Ti(g,M,Q,!1)?(M?u('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',M,g,g,M,g):u('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',M,g,g,M,g,g,g),cn[g]=!0,!0):tt?!0:Ti(g,M,Q,!1)?(cn[g]=!0,!1):((M==="false"||M==="true")&&Q!==null&&Q.type===ie&&(u("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",M,g,M==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',g,M),cn[g]=!0),!0)}}var k2=function(p,g,M){{var L=[];for(var F in g){var I=by(p,F,g[F],M);I||L.push(F)}var X=L.map(function(K){return"`"+K+"`"}).join(", ");L.length===1?u("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",X,p):L.length>1&&u("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",X,p)}};function q2(p,g,M){Da(p,g)||k2(p,g,M)}var wy=1,Bv=1<<1,ql=1<<2,_2=wy|Bv|ql,_l=null;function tL(p){_l!==null&&u("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),_l=p}function eL(){_l===null&&u("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),_l=null}function iL(p){return p===_l}function Iv(p){var g=p.target||p.srcElement||window;return g.correspondingUseElement&&(g=g.correspondingUseElement),g.nodeType===ls?g.parentNode:g}var Uv=null,Oo=null,Do=null;function By(p){var g=Qs(p);if(g){if(typeof Uv!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var M=g.stateNode;if(M){var L=sc(M);Uv(g.stateNode,g.type,L)}}}function nL(p){Uv=p}function Iy(p){Oo?Do?Do.push(p):Do=[p]:Oo=p}function rL(){return Oo!==null||Do!==null}function Uy(){if(Oo){var p=Oo,g=Do;if(Oo=null,Do=null,By(p),g)for(var M=0;M<g.length;M++)By(g[M])}}var Vy=function(p,g){return p(g)},Gy=function(){},Vv=!1;function sL(){var p=rL();p&&(Gy(),Uy())}function zy(p,g,M){if(Vv)return p(g,M);Vv=!0;try{return Vy(p,g,M)}finally{Vv=!1,sL()}}function aL(p,g,M){Vy=p,Gy=M}function oL(p){return p==="button"||p==="input"||p==="select"||p==="textarea"}function lL(p,g,M){switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(M.disabled&&oL(g));default:return!1}}function tu(p,g){var M=p.stateNode;if(M===null)return null;var L=sc(M);if(L===null)return null;var F=L[g];if(lL(g,p.type,L))return null;if(F&&typeof F!="function")throw new Error("Expected `"+g+"` listener to be a function, instead got a value of `"+typeof F+"` type.");return F}var Gv=!1;if(Et)try{var eu={};Object.defineProperty(eu,"passive",{get:function(){Gv=!0}}),window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{Gv=!1}function Yy(p,g,M,L,F,I,X,K,Q){var tt=Array.prototype.slice.call(arguments,3);try{g.apply(M,tt)}catch(et){this.onError(et)}}var Xy=Yy;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var zv=document.createElement("react");Xy=function(g,M,L,F,I,X,K,Q,tt){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var et=document.createEvent("Event"),ut=!1,lt=!0,pt=window.event,mt=Object.getOwnPropertyDescriptor(window,"event");function Ct(){zv.removeEventListener(Rt,oe,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=pt)}var Jt=Array.prototype.slice.call(arguments,3);function oe(){ut=!0,Ct(),M.apply(L,Jt),lt=!1}var re,be=!1,Pe=!1;function ft(ct){if(re=ct.error,be=!0,re===null&&ct.colno===0&&ct.lineno===0&&(Pe=!0),ct.defaultPrevented&&re!=null&&typeof re=="object")try{re._suppressLogging=!0}catch{}}var Rt="react-"+(g||"invokeguardedcallback");if(window.addEventListener("error",ft),zv.addEventListener(Rt,oe,!1),et.initEvent(Rt,!1,!1),zv.dispatchEvent(et),mt&&Object.defineProperty(window,"event",mt),ut&&lt&&(be?Pe&&(re=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):re=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(re)),window.removeEventListener("error",ft),!ut)return Ct(),Yy.apply(this,arguments)}}var uL=Xy,Fo=!1,Cf=null,Rf=!1,Yv=null,hL={onError:function(p){Fo=!0,Cf=p}};function Xv(p,g,M,L,F,I,X,K,Q){Fo=!1,Cf=null,uL.apply(hL,arguments)}function fL(p,g,M,L,F,I,X,K,Q){if(Xv.apply(this,arguments),Fo){var tt=Hv();Rf||(Rf=!0,Yv=tt)}}function cL(){if(Rf){var p=Yv;throw Rf=!1,Yv=null,p}}function dL(){return Fo}function Hv(){if(Fo){var p=Cf;return Fo=!1,Cf=null,p}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function bo(p){return p._reactInternals}function vL(p){return p._reactInternals!==void 0}function pL(p,g){p._reactInternals=g}var ue=0,No=1,Mi=2,Ne=4,Fa=16,iu=32,Wv=64,Xe=128,hs=256,Xs=512,ba=1024,lr=2048,fs=4096,Na=8192,Af=16384,mL=lr|Ne|Wv|Xs|ba|Af,gL=32767,nu=32768,dn=65536,jv=131072,Hy=1048576,Kv=2097152,wa=4194304,$v=8388608,cs=16777216,Mf=33554432,Zv=Ne|ba|0,Qv=Mi|Ne|Fa|iu|Xs|fs|Na,ru=Ne|Wv|Xs|Na,wo=lr|Fa,ds=wa|$v|Kv,xL=o.ReactCurrentOwner;function Ba(p){var g=p,M=p;if(p.alternate)for(;g.return;)g=g.return;else{var L=g;do g=L,(g.flags&(Mi|fs))!==ue&&(M=g.return),L=g.return;while(L)}return g.tag===r?M:null}function Wy(p){if(p.tag===C){var g=p.memoizedState;if(g===null){var M=p.alternate;M!==null&&(g=M.memoizedState)}if(g!==null)return g.dehydrated}return null}function jy(p){return p.tag===r?p.stateNode.containerInfo:null}function yL(p){return Ba(p)===p}function TL(p){{var g=xL.current;if(g!==null&&g.tag===n){var M=g,L=M.stateNode;L._warnedAboutRefsInRender||u("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Te(M)||"A component"),L._warnedAboutRefsInRender=!0}}var F=bo(p);return F?Ba(F)===F:!1}function Ky(p){if(Ba(p)!==p)throw new Error("Unable to find node on an unmounted component.")}function $y(p){var g=p.alternate;if(!g){var M=Ba(p);if(M===null)throw new Error("Unable to find node on an unmounted component.");return M!==p?null:p}for(var L=p,F=g;;){var I=L.return;if(I===null)break;var X=I.alternate;if(X===null){var K=I.return;if(K!==null){L=F=K;continue}break}if(I.child===X.child){for(var Q=I.child;Q;){if(Q===L)return Ky(I),p;if(Q===F)return Ky(I),g;Q=Q.sibling}throw new Error("Unable to find node on an unmounted component.")}if(L.return!==F.return)L=I,F=X;else{for(var tt=!1,et=I.child;et;){if(et===L){tt=!0,L=I,F=X;break}if(et===F){tt=!0,F=I,L=X;break}et=et.sibling}if(!tt){for(et=X.child;et;){if(et===L){tt=!0,L=X,F=I;break}if(et===F){tt=!0,F=X,L=I;break}et=et.sibling}if(!tt)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(L.alternate!==F)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(L.tag!==r)throw new Error("Unable to find node on an unmounted component.");return L.stateNode.current===L?p:g}function Zy(p){var g=$y(p);return g!==null?Qy(g):null}function Qy(p){if(p.tag===l||p.tag===h)return p;for(var g=p.child;g!==null;){var M=Qy(g);if(M!==null)return M;g=g.sibling}return null}function SL(p){var g=$y(p);return g!==null?Jy(g):null}function Jy(p){if(p.tag===l||p.tag===h)return p;for(var g=p.child;g!==null;){if(g.tag!==f){var M=Jy(g);if(M!==null)return M}g=g.sibling}return null}var ky=S.unstable_scheduleCallback,EL=S.unstable_cancelCallback,CL=S.unstable_shouldYield,RL=S.unstable_requestPaint,Yi=S.unstable_now,AL=S.unstable_getCurrentPriorityLevel,Pf=S.unstable_ImmediatePriority,Jv=S.unstable_UserBlockingPriority,Ia=S.unstable_NormalPriority,ML=S.unstable_LowPriority,kv=S.unstable_IdlePriority,PL=S.unstable_yieldValue,LL=S.unstable_setDisableYieldValue,Bo=null,rn=null,$t=null,Fr=!1,ur=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function OL(p){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled)return!0;if(!g.supportsFiber)return u("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{j&&(p=Le({},p,{getLaneLabelMap:BL,injectProfilingHooks:wL})),Bo=g.inject(p),rn=g}catch(M){u("React instrumentation encountered an error: %s.",M)}return!!g.checkDCE}function DL(p,g){if(rn&&typeof rn.onScheduleFiberRoot=="function")try{rn.onScheduleFiberRoot(Bo,p,g)}catch(M){Fr||(Fr=!0,u("React instrumentation encountered an error: %s",M))}}function FL(p,g){if(rn&&typeof rn.onCommitFiberRoot=="function")try{var M=(p.current.flags&Xe)===Xe;if(Z){var L;switch(g){case In:L=Pf;break;case ps:L=Jv;break;case ms:L=Ia;break;case wf:L=kv;break;default:L=Ia;break}rn.onCommitFiberRoot(Bo,p,L,M)}}catch(F){Fr||(Fr=!0,u("React instrumentation encountered an error: %s",F))}}function bL(p){if(rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Bo,p)}catch(g){Fr||(Fr=!0,u("React instrumentation encountered an error: %s",g))}}function NL(p){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Bo,p)}catch(g){Fr||(Fr=!0,u("React instrumentation encountered an error: %s",g))}}function Xi(p){if(typeof PL=="function"&&(LL(p),t(p)),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Bo,p)}catch(g){Fr||(Fr=!0,u("React instrumentation encountered an error: %s",g))}}function wL(p){$t=p}function BL(){{for(var p=new Map,g=1,M=0;M<_v;M++){var L=eO(g);p.set(g,L),g*=2}return p}}function IL(p){$t!==null&&typeof $t.markCommitStarted=="function"&&$t.markCommitStarted(p)}function qy(){$t!==null&&typeof $t.markCommitStopped=="function"&&$t.markCommitStopped()}function su(p){$t!==null&&typeof $t.markComponentRenderStarted=="function"&&$t.markComponentRenderStarted(p)}function Io(){$t!==null&&typeof $t.markComponentRenderStopped=="function"&&$t.markComponentRenderStopped()}function UL(p){$t!==null&&typeof $t.markComponentPassiveEffectMountStarted=="function"&&$t.markComponentPassiveEffectMountStarted(p)}function VL(){$t!==null&&typeof $t.markComponentPassiveEffectMountStopped=="function"&&$t.markComponentPassiveEffectMountStopped()}function GL(p){$t!==null&&typeof $t.markComponentPassiveEffectUnmountStarted=="function"&&$t.markComponentPassiveEffectUnmountStarted(p)}function zL(){$t!==null&&typeof $t.markComponentPassiveEffectUnmountStopped=="function"&&$t.markComponentPassiveEffectUnmountStopped()}function YL(p){$t!==null&&typeof $t.markComponentLayoutEffectMountStarted=="function"&&$t.markComponentLayoutEffectMountStarted(p)}function XL(){$t!==null&&typeof $t.markComponentLayoutEffectMountStopped=="function"&&$t.markComponentLayoutEffectMountStopped()}function _y(p){$t!==null&&typeof $t.markComponentLayoutEffectUnmountStarted=="function"&&$t.markComponentLayoutEffectUnmountStarted(p)}function tT(){$t!==null&&typeof $t.markComponentLayoutEffectUnmountStopped=="function"&&$t.markComponentLayoutEffectUnmountStopped()}function HL(p,g,M){$t!==null&&typeof $t.markComponentErrored=="function"&&$t.markComponentErrored(p,g,M)}function WL(p,g,M){$t!==null&&typeof $t.markComponentSuspended=="function"&&$t.markComponentSuspended(p,g,M)}function jL(p){$t!==null&&typeof $t.markLayoutEffectsStarted=="function"&&$t.markLayoutEffectsStarted(p)}function KL(){$t!==null&&typeof $t.markLayoutEffectsStopped=="function"&&$t.markLayoutEffectsStopped()}function $L(p){$t!==null&&typeof $t.markPassiveEffectsStarted=="function"&&$t.markPassiveEffectsStarted(p)}function ZL(){$t!==null&&typeof $t.markPassiveEffectsStopped=="function"&&$t.markPassiveEffectsStopped()}function eT(p){$t!==null&&typeof $t.markRenderStarted=="function"&&$t.markRenderStarted(p)}function QL(){$t!==null&&typeof $t.markRenderYielded=="function"&&$t.markRenderYielded()}function iT(){$t!==null&&typeof $t.markRenderStopped=="function"&&$t.markRenderStopped()}function JL(p){$t!==null&&typeof $t.markRenderScheduled=="function"&&$t.markRenderScheduled(p)}function kL(p,g){$t!==null&&typeof $t.markForceUpdateScheduled=="function"&&$t.markForceUpdateScheduled(p,g)}function qv(p,g){$t!==null&&typeof $t.markStateUpdateScheduled=="function"&&$t.markStateUpdateScheduled(p,g)}var he=0,De=1,Qe=2,Pi=8,br=16,nT=Math.clz32?Math.clz32:tO,qL=Math.log,_L=Math.LN2;function tO(p){var g=p>>>0;return g===0?32:31-(qL(g)/_L|0)|0}var _v=31,Ft=0,Hi=0,me=1,Uo=2,vs=4,Ua=8,Nr=16,au=32,Vo=4194240,ou=64,tp=128,ep=256,ip=512,np=1024,rp=2048,sp=4096,ap=8192,op=16384,lp=32768,up=65536,hp=131072,fp=262144,cp=524288,dp=1048576,vp=2097152,Lf=130023424,Go=4194304,pp=8388608,mp=16777216,gp=33554432,xp=67108864,rT=Go,lu=134217728,sT=268435455,uu=268435456,Va=536870912,wn=1073741824;function eO(p){{if(p&me)return"Sync";if(p&Uo)return"InputContinuousHydration";if(p&vs)return"InputContinuous";if(p&Ua)return"DefaultHydration";if(p&Nr)return"Default";if(p&au)return"TransitionHydration";if(p&Vo)return"Transition";if(p&Lf)return"Retry";if(p&lu)return"SelectiveHydration";if(p&uu)return"IdleHydration";if(p&Va)return"Idle";if(p&wn)return"Offscreen"}}var oi=-1,Of=ou,Df=Go;function hu(p){switch(Ga(p)){case me:return me;case Uo:return Uo;case vs:return vs;case Ua:return Ua;case Nr:return Nr;case au:return au;case ou:case tp:case ep:case ip:case np:case rp:case sp:case ap:case op:case lp:case up:case hp:case fp:case cp:case dp:case vp:return p&Vo;case Go:case pp:case mp:case gp:case xp:return p&Lf;case lu:return lu;case uu:return uu;case Va:return Va;case wn:return wn;default:return u("Should have found matching lanes. This is a bug in React."),p}}function Ff(p,g){var M=p.pendingLanes;if(M===Ft)return Ft;var L=Ft,F=p.suspendedLanes,I=p.pingedLanes,X=M&sT;if(X!==Ft){var K=X&~F;if(K!==Ft)L=hu(K);else{var Q=X&I;Q!==Ft&&(L=hu(Q))}}else{var tt=M&~F;tt!==Ft?L=hu(tt):I!==Ft&&(L=hu(I))}if(L===Ft)return Ft;if(g!==Ft&&g!==L&&(g&F)===Ft){var et=Ga(L),ut=Ga(g);if(et>=ut||et===Nr&&(ut&Vo)!==Ft)return g}(L&vs)!==Ft&&(L|=M&Nr);var lt=p.entangledLanes;if(lt!==Ft)for(var pt=p.entanglements,mt=L&lt;mt>0;){var Ct=za(mt),Jt=1<<Ct;L|=pt[Ct],mt&=~Jt}return L}function iO(p,g){for(var M=p.eventTimes,L=oi;g>0;){var F=za(g),I=1<<F,X=M[F];X>L&&(L=X),g&=~I}return L}function nO(p,g){switch(p){case me:case Uo:case vs:return g+250;case Ua:case Nr:case au:case ou:case tp:case ep:case ip:case np:case rp:case sp:case ap:case op:case lp:case up:case hp:case fp:case cp:case dp:case vp:return g+5e3;case Go:case pp:case mp:case gp:case xp:return oi;case lu:case uu:case Va:case wn:return oi;default:return u("Should have found matching lanes. This is a bug in React."),oi}}function rO(p,g){for(var M=p.pendingLanes,L=p.suspendedLanes,F=p.pingedLanes,I=p.expirationTimes,X=M;X>0;){var K=za(X),Q=1<<K,tt=I[K];tt===oi?((Q&L)===Ft||(Q&F)!==Ft)&&(I[K]=nO(Q,g)):tt<=g&&(p.expiredLanes|=Q),X&=~Q}}function sO(p){return hu(p.pendingLanes)}function yp(p){var g=p.pendingLanes&~wn;return g!==Ft?g:g&wn?wn:Ft}function aO(p){return(p&me)!==Ft}function Tp(p){return(p&sT)!==Ft}function aT(p){return(p&Lf)===p}function oO(p){var g=me|vs|Nr;return(p&g)===Ft}function lO(p){return(p&Vo)===p}function bf(p,g){var M=Uo|vs|Ua|Nr;return(g&M)!==Ft}function uO(p,g){return(g&p.expiredLanes)!==Ft}function oT(p){return(p&Vo)!==Ft}function lT(){var p=Of;return Of<<=1,(Of&Vo)===Ft&&(Of=ou),p}function hO(){var p=Df;return Df<<=1,(Df&Lf)===Ft&&(Df=Go),p}function Ga(p){return p&-p}function fu(p){return Ga(p)}function za(p){return 31-nT(p)}function Sp(p){return za(p)}function Bn(p,g){return(p&g)!==Ft}function zo(p,g){return(p&g)===g}function Ce(p,g){return p|g}function Nf(p,g){return p&~g}function uT(p,g){return p&g}function B8(p){return p}function fO(p,g){return p!==Hi&&p<g?p:g}function Ep(p){for(var g=[],M=0;M<_v;M++)g.push(p);return g}function cu(p,g,M){p.pendingLanes|=g,g!==Va&&(p.suspendedLanes=Ft,p.pingedLanes=Ft);var L=p.eventTimes,F=Sp(g);L[F]=M}function cO(p,g){p.suspendedLanes|=g,p.pingedLanes&=~g;for(var M=p.expirationTimes,L=g;L>0;){var F=za(L),I=1<<F;M[F]=oi,L&=~I}}function hT(p,g,M){p.pingedLanes|=p.suspendedLanes&g}function dO(p,g){var M=p.pendingLanes&~g;p.pendingLanes=g,p.suspendedLanes=Ft,p.pingedLanes=Ft,p.expiredLanes&=g,p.mutableReadLanes&=g,p.entangledLanes&=g;for(var L=p.entanglements,F=p.eventTimes,I=p.expirationTimes,X=M;X>0;){var K=za(X),Q=1<<K;L[K]=Ft,F[K]=oi,I[K]=oi,X&=~Q}}function Cp(p,g){for(var M=p.entangledLanes|=g,L=p.entanglements,F=M;F;){var I=za(F),X=1<<I;X&g|L[I]&g&&(L[I]|=g),F&=~X}}function vO(p,g){var M=Ga(g),L;switch(M){case vs:L=Uo;break;case Nr:L=Ua;break;case ou:case tp:case ep:case ip:case np:case rp:case sp:case ap:case op:case lp:case up:case hp:case fp:case cp:case dp:case vp:case Go:case pp:case mp:case gp:case xp:L=au;break;case Va:L=uu;break;default:L=Hi;break}return(L&(p.suspendedLanes|g))!==Hi?Hi:L}function fT(p,g,M){if(ur)for(var L=p.pendingUpdatersLaneMap;M>0;){var F=Sp(M),I=1<<F,X=L[F];X.add(g),M&=~I}}function cT(p,g){if(ur)for(var M=p.pendingUpdatersLaneMap,L=p.memoizedUpdaters;g>0;){var F=Sp(g),I=1<<F,X=M[F];X.size>0&&(X.forEach(function(K){var Q=K.alternate;(Q===null||!L.has(Q))&&L.add(K)}),X.clear()),g&=~I}}function dT(p,g){return null}var In=me,ps=vs,ms=Nr,wf=Va,du=Hi;function hr(){return du}function Wi(p){du=p}function pO(p,g){var M=du;try{return du=p,g()}finally{du=M}}function mO(p,g){return p!==0&&p<g?p:g}function gO(p,g){return p===0||p>g?p:g}function Rp(p,g){return p!==0&&p<g}function vT(p){var g=Ga(p);return Rp(In,g)?Rp(ps,g)?Tp(g)?ms:wf:ps:In}function Bf(p){var g=p.current.memoizedState;return g.isDehydrated}var pT;function xO(p){pT=p}function yO(p){pT(p)}var Ap;function TO(p){Ap=p}var mT;function SO(p){mT=p}var gT;function EO(p){gT=p}var xT;function CO(p){xT=p}var Mp=!1,If=[],Hs=null,Ws=null,js=null,vu=new Map,pu=new Map,Ks=[],RO=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function AO(p){return RO.indexOf(p)>-1}function MO(p,g,M,L,F){return{blockedOn:p,domEventName:g,eventSystemFlags:M,nativeEvent:F,targetContainers:[L]}}function yT(p,g){switch(p){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":{var M=g.pointerId;vu.delete(M);break}case"gotpointercapture":case"lostpointercapture":{var L=g.pointerId;pu.delete(L);break}}}function mu(p,g,M,L,F,I){if(p===null||p.nativeEvent!==I){var X=MO(g,M,L,F,I);if(g!==null){var K=Qs(g);K!==null&&Ap(K)}return X}p.eventSystemFlags|=L;var Q=p.targetContainers;return F!==null&&Q.indexOf(F)===-1&&Q.push(F),p}function PO(p,g,M,L,F){switch(g){case"focusin":{var I=F;return Hs=mu(Hs,p,g,M,L,I),!0}case"dragenter":{var X=F;return Ws=mu(Ws,p,g,M,L,X),!0}case"mouseover":{var K=F;return js=mu(js,p,g,M,L,K),!0}case"pointerover":{var Q=F,tt=Q.pointerId;return vu.set(tt,mu(vu.get(tt)||null,p,g,M,L,Q)),!0}case"gotpointercapture":{var et=F,ut=et.pointerId;return pu.set(ut,mu(pu.get(ut)||null,p,g,M,L,et)),!0}}return!1}function TT(p){var g=Ha(p.target);if(g!==null){var M=Ba(g);if(M!==null){var L=M.tag;if(L===C){var F=Wy(M);if(F!==null){p.blockedOn=F,xT(p.priority,function(){mT(M)});return}}else if(L===r){var I=M.stateNode;if(Bf(I)){p.blockedOn=jy(M);return}}}}p.blockedOn=null}function LO(p){for(var g=gT(),M={blockedOn:null,target:p,priority:g},L=0;L<Ks.length&&Rp(g,Ks[L].priority);L++);Ks.splice(L,0,M),L===0&&TT(M)}function Uf(p){if(p.blockedOn!==null)return!1;for(var g=p.targetContainers;g.length>0;){var M=g[0],L=Op(p.domEventName,p.eventSystemFlags,M,p.nativeEvent);if(L===null){var F=p.nativeEvent,I=new F.constructor(F.type,F);tL(I),F.target.dispatchEvent(I),eL()}else{var X=Qs(L);return X!==null&&Ap(X),p.blockedOn=L,!1}g.shift()}return!0}function ST(p,g,M){Uf(p)&&M.delete(g)}function OO(){Mp=!1,Hs!==null&&Uf(Hs)&&(Hs=null),Ws!==null&&Uf(Ws)&&(Ws=null),js!==null&&Uf(js)&&(js=null),vu.forEach(ST),pu.forEach(ST)}function gu(p,g){p.blockedOn===g&&(p.blockedOn=null,Mp||(Mp=!0,S.unstable_scheduleCallback(S.unstable_NormalPriority,OO)))}function xu(p){if(If.length>0){gu(If[0],p);for(var g=1;g<If.length;g++){var M=If[g];M.blockedOn===p&&(M.blockedOn=null)}}Hs!==null&&gu(Hs,p),Ws!==null&&gu(Ws,p),js!==null&&gu(js,p);var L=function(K){return gu(K,p)};vu.forEach(L),pu.forEach(L);for(var F=0;F<Ks.length;F++){var I=Ks[F];I.blockedOn===p&&(I.blockedOn=null)}for(;Ks.length>0;){var X=Ks[0];if(X.blockedOn!==null)break;TT(X),X.blockedOn===null&&Ks.shift()}}var Yo=o.ReactCurrentBatchConfig,Pp=!0;function ET(p){Pp=!!p}function DO(){return Pp}function FO(p,g,M){var L=CT(g),F;switch(L){case In:F=bO;break;case ps:F=NO;break;case ms:default:F=Lp;break}return F.bind(null,g,M,p)}function bO(p,g,M,L){var F=hr(),I=Yo.transition;Yo.transition=null;try{Wi(In),Lp(p,g,M,L)}finally{Wi(F),Yo.transition=I}}function NO(p,g,M,L){var F=hr(),I=Yo.transition;Yo.transition=null;try{Wi(ps),Lp(p,g,M,L)}finally{Wi(F),Yo.transition=I}}function Lp(p,g,M,L){Pp&&wO(p,g,M,L)}function wO(p,g,M,L){var F=Op(p,g,M,L);if(F===null){Hp(p,g,L,Vf,M),yT(p,L);return}if(PO(F,p,g,M,L)){L.stopPropagation();return}if(yT(p,L),g&ql&&AO(p)){for(;F!==null;){var I=Qs(F);I!==null&&yO(I);var X=Op(p,g,M,L);if(X===null&&Hp(p,g,L,Vf,M),X===F)break;F=X}F!==null&&L.stopPropagation();return}Hp(p,g,L,null,M)}var Vf=null;function Op(p,g,M,L){Vf=null;var F=Iv(L),I=Ha(F);if(I!==null){var X=Ba(I);if(X===null)I=null;else{var K=X.tag;if(K===C){var Q=Wy(X);if(Q!==null)return Q;I=null}else if(K===r){var tt=X.stateNode;if(Bf(tt))return jy(X);I=null}else X!==I&&(I=null)}}return Vf=I,null}function CT(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return In;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return ps;case"message":{var g=AL();switch(g){case Pf:return In;case Jv:return ps;case Ia:case ML:return ms;case kv:return wf;default:return ms}}default:return ms}}function BO(p,g,M){return p.addEventListener(g,M,!1),M}function IO(p,g,M){return p.addEventListener(g,M,!0),M}function UO(p,g,M,L){return p.addEventListener(g,M,{capture:!0,passive:L}),M}function VO(p,g,M,L){return p.addEventListener(g,M,{passive:L}),M}var yu=null,Dp=null,Tu=null;function GO(p){return yu=p,Dp=AT(),!0}function zO(){yu=null,Dp=null,Tu=null}function RT(){if(Tu)return Tu;var p,g=Dp,M=g.length,L,F=AT(),I=F.length;for(p=0;p<M&&g[p]===F[p];p++);var X=M-p;for(L=1;L<=X&&g[M-L]===F[I-L];L++);var K=L>1?1-L:void 0;return Tu=F.slice(p,K),Tu}function AT(){return"value"in yu?yu.value:yu.textContent}function Gf(p){var g,M=p.keyCode;return"charCode"in p?(g=p.charCode,g===0&&M===13&&(g=13)):g=M,g===10&&(g=13),g>=32||g===13?g:0}function zf(){return!0}function MT(){return!1}function Un(p){function g(M,L,F,I,X){this._reactName=M,this._targetInst=F,this.type=L,this.nativeEvent=I,this.target=X,this.currentTarget=null;for(var K in p)if(p.hasOwnProperty(K)){var Q=p[K];Q?this[K]=Q(I):this[K]=I[K]}var tt=I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1;return tt?this.isDefaultPrevented=zf:this.isDefaultPrevented=MT,this.isPropagationStopped=MT,this}return Le(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var M=this.nativeEvent;M&&(M.preventDefault?M.preventDefault():typeof M.returnValue!="unknown"&&(M.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var M=this.nativeEvent;M&&(M.stopPropagation?M.stopPropagation():typeof M.cancelBubble!="unknown"&&(M.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),g}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fp=Un(Xo),Su=Le({},Xo,{view:0,detail:0}),YO=Un(Su),bp,Np,Eu;function XO(p){p!==Eu&&(Eu&&p.type==="mousemove"?(bp=p.screenX-Eu.screenX,Np=p.screenY-Eu.screenY):(bp=0,Np=0),Eu=p)}var Yf=Le({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bp,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(XO(p),bp)},movementY:function(p){return"movementY"in p?p.movementY:Np}}),PT=Un(Yf),HO=Le({},Yf,{dataTransfer:0}),WO=Un(HO),jO=Le({},Su,{relatedTarget:0}),wp=Un(jO),KO=Le({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),$O=Un(KO),ZO=Le({},Xo,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),QO=Un(ZO),JO=Le({},Xo,{data:0}),LT=Un(JO),kO=LT,qO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function tD(p){if(p.key){var g=qO[p.key]||p.key;if(g!=="Unidentified")return g}if(p.type==="keypress"){var M=Gf(p);return M===13?"Enter":String.fromCharCode(M)}return p.type==="keydown"||p.type==="keyup"?_O[p.keyCode]||"Unidentified":""}var eD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iD(p){var g=this,M=g.nativeEvent;if(M.getModifierState)return M.getModifierState(p);var L=eD[p];return L?!!M[L]:!1}function Bp(p){return iD}var nD=Le({},Su,{key:tD,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bp,charCode:function(p){return p.type==="keypress"?Gf(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Gf(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),rD=Un(nD),sD=Le({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OT=Un(sD),aD=Le({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bp}),oD=Un(aD),lD=Le({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),uD=Un(lD),hD=Le({},Yf,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),fD=Un(hD),cD=[9,13,27,32],DT=229,Ip=Et&&"CompositionEvent"in window,Cu=null;Et&&"documentMode"in document&&(Cu=document.documentMode);var dD=Et&&"TextEvent"in window&&!Cu,FT=Et&&(!Ip||Cu&&Cu>8&&Cu<=11),bT=32,NT=String.fromCharCode(bT);function vD(){vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),vt("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),vt("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),vt("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var wT=!1;function pD(p){return(p.ctrlKey||p.altKey||p.metaKey)&&!(p.ctrlKey&&p.altKey)}function mD(p){switch(p){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function gD(p,g){return p==="keydown"&&g.keyCode===DT}function BT(p,g){switch(p){case"keyup":return cD.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==DT;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IT(p){var g=p.detail;return typeof g=="object"&&"data"in g?g.data:null}function UT(p){return p.locale==="ko"}var Ho=!1;function xD(p,g,M,L,F){var I,X;if(Ip?I=mD(g):Ho?BT(g,L)&&(I="onCompositionEnd"):gD(g,L)&&(I="onCompositionStart"),!I)return null;FT&&!UT(L)&&(!Ho&&I==="onCompositionStart"?Ho=GO(F):I==="onCompositionEnd"&&Ho&&(X=RT()));var K=Kf(M,I);if(K.length>0){var Q=new LT(I,g,null,L,F);if(p.push({event:Q,listeners:K}),X)Q.data=X;else{var tt=IT(L);tt!==null&&(Q.data=tt)}}}function yD(p,g){switch(p){case"compositionend":return IT(g);case"keypress":var M=g.which;return M!==bT?null:(wT=!0,NT);case"textInput":var L=g.data;return L===NT&&wT?null:L;default:return null}}function TD(p,g){if(Ho){if(p==="compositionend"||!Ip&&BT(p,g)){var M=RT();return zO(),Ho=!1,M}return null}switch(p){case"paste":return null;case"keypress":if(!pD(g)){if(g.char&&g.char.length>1)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return FT&&!UT(g)?null:g.data;default:return null}}function SD(p,g,M,L,F){var I;if(dD?I=yD(g,L):I=TD(g,L),!I)return null;var X=Kf(M,"onBeforeInput");if(X.length>0){var K=new kO("onBeforeInput","beforeinput",null,L,F);p.push({event:K,listeners:X}),K.data=I}}function ED(p,g,M,L,F,I,X){xD(p,g,M,L,F),SD(p,g,M,L,F)}var CD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VT(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g==="input"?!!CD[p.type]:g==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function RD(p){if(!Et)return!1;var g="on"+p,M=g in document;if(!M){var L=document.createElement("div");L.setAttribute(g,"return;"),M=typeof L[g]=="function"}return M}function AD(){vt("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function GT(p,g,M,L){Iy(L);var F=Kf(g,"onChange");if(F.length>0){var I=new Fp("onChange","change",null,M,L);p.push({event:I,listeners:F})}}var Ru=null,Au=null;function MD(p){var g=p.nodeName&&p.nodeName.toLowerCase();return g==="select"||g==="input"&&p.type==="file"}function PD(p){var g=[];GT(g,Au,p,Iv(p)),zy(LD,g)}function LD(p){n1(p,0)}function Xf(p){var g=Qo(p);if(Ro(g))return p}function OD(p,g){if(p==="change")return g}var zT=!1;Et&&(zT=RD("input")&&(!document.documentMode||document.documentMode>9));function DD(p,g){Ru=p,Au=g,Ru.attachEvent("onpropertychange",XT)}function YT(){Ru&&(Ru.detachEvent("onpropertychange",XT),Ru=null,Au=null)}function XT(p){p.propertyName==="value"&&Xf(Au)&&PD(p)}function FD(p,g,M){p==="focusin"?(YT(),DD(g,M)):p==="focusout"&&YT()}function bD(p,g){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Xf(Au)}function ND(p){var g=p.nodeName;return g&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")}function wD(p,g){if(p==="click")return Xf(g)}function BD(p,g){if(p==="input"||p==="change")return Xf(g)}function ID(p){var g=p._wrapperState;!g||!g.controlled||p.type!=="number"||pe(p,"number",p.value)}function UD(p,g,M,L,F,I,X){var K=M?Qo(M):window,Q,tt;if(MD(K)?Q=OD:VT(K)?zT?Q=BD:(Q=bD,tt=FD):ND(K)&&(Q=wD),Q){var et=Q(g,M);if(et){GT(p,et,L,F);return}}tt&&tt(g,K,M),g==="focusout"&&ID(K)}function VD(){ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"])}function GD(p,g,M,L,F,I,X){var K=g==="mouseover"||g==="pointerover",Q=g==="mouseout"||g==="pointerout";if(K&&!iL(L)){var tt=L.relatedTarget||L.fromElement;if(tt&&(Ha(tt)||zu(tt)))return}if(!(!Q&&!K)){var et;if(F.window===F)et=F;else{var ut=F.ownerDocument;ut?et=ut.defaultView||ut.parentWindow:et=window}var lt,pt;if(Q){var mt=L.relatedTarget||L.toElement;if(lt=M,pt=mt?Ha(mt):null,pt!==null){var Ct=Ba(pt);(pt!==Ct||pt.tag!==l&&pt.tag!==h)&&(pt=null)}}else lt=null,pt=M;if(lt!==pt){var Jt=PT,oe="onMouseLeave",re="onMouseEnter",be="mouse";(g==="pointerout"||g==="pointerover")&&(Jt=OT,oe="onPointerLeave",re="onPointerEnter",be="pointer");var Pe=lt==null?et:Qo(lt),ft=pt==null?et:Qo(pt),Rt=new Jt(oe,be+"leave",lt,L,F);Rt.target=Pe,Rt.relatedTarget=ft;var ct=null,Nt=Ha(F);if(Nt===M){var kt=new Jt(re,be+"enter",pt,L,F);kt.target=ft,kt.relatedTarget=Pe,ct=kt}uF(p,Rt,ct,lt,pt)}}}function zD(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var Vn=typeof Object.is=="function"?Object.is:zD;function Mu(p,g){if(Vn(p,g))return!0;if(typeof p!="object"||p===null||typeof g!="object"||g===null)return!1;var M=Object.keys(p),L=Object.keys(g);if(M.length!==L.length)return!1;for(var F=0;F<M.length;F++){var I=M[F];if(!Tt.call(g,I)||!Vn(p[I],g[I]))return!1}return!0}function HT(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function YD(p){for(;p;){if(p.nextSibling)return p.nextSibling;p=p.parentNode}}function WT(p,g){for(var M=HT(p),L=0,F=0;M;){if(M.nodeType===ls){if(F=L+M.textContent.length,L<=g&&F>=g)return{node:M,offset:g-L};L=F}M=HT(YD(M))}}function XD(p){var g=p.ownerDocument,M=g&&g.defaultView||window,L=M.getSelection&&M.getSelection();if(!L||L.rangeCount===0)return null;var F=L.anchorNode,I=L.anchorOffset,X=L.focusNode,K=L.focusOffset;try{F.nodeType,X.nodeType}catch{return null}return HD(p,F,I,X,K)}function HD(p,g,M,L,F){var I=0,X=-1,K=-1,Q=0,tt=0,et=p,ut=null;t:for(;;){for(var lt=null;et===g&&(M===0||et.nodeType===ls)&&(X=I+M),et===L&&(F===0||et.nodeType===ls)&&(K=I+F),et.nodeType===ls&&(I+=et.nodeValue.length),(lt=et.firstChild)!==null;)ut=et,et=lt;for(;;){if(et===p)break t;if(ut===g&&++Q===M&&(X=I),ut===L&&++tt===F&&(K=I),(lt=et.nextSibling)!==null)break;et=ut,ut=et.parentNode}et=lt}return X===-1||K===-1?null:{start:X,end:K}}function WD(p,g){var M=p.ownerDocument||document,L=M&&M.defaultView||window;if(L.getSelection){var F=L.getSelection(),I=p.textContent.length,X=Math.min(g.start,I),K=g.end===void 0?X:Math.min(g.end,I);if(!F.extend&&X>K){var Q=K;K=X,X=Q}var tt=WT(p,X),et=WT(p,K);if(tt&&et){if(F.rangeCount===1&&F.anchorNode===tt.node&&F.anchorOffset===tt.offset&&F.focusNode===et.node&&F.focusOffset===et.offset)return;var ut=M.createRange();ut.setStart(tt.node,tt.offset),F.removeAllRanges(),X>K?(F.addRange(ut),F.extend(et.node,et.offset)):(ut.setEnd(et.node,et.offset),F.addRange(ut))}}}function jT(p){return p&&p.nodeType===ls}function KT(p,g){return!p||!g?!1:p===g?!0:jT(p)?!1:jT(g)?KT(p,g.parentNode):"contains"in p?p.contains(g):p.compareDocumentPosition?!!(p.compareDocumentPosition(g)&16):!1}function jD(p){return p&&p.ownerDocument&&KT(p.ownerDocument.documentElement,p)}function KD(p){try{return typeof p.contentWindow.location.href=="string"}catch{return!1}}function $T(){for(var p=window,g=zs();g instanceof p.HTMLIFrameElement;){if(KD(g))p=g.contentWindow;else return g;g=zs(p.document)}return g}function Up(p){var g=p&&p.nodeName&&p.nodeName.toLowerCase();return g&&(g==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||g==="textarea"||p.contentEditable==="true")}function $D(){var p=$T();return{focusedElem:p,selectionRange:Up(p)?QD(p):null}}function ZD(p){var g=$T(),M=p.focusedElem,L=p.selectionRange;if(g!==M&&jD(M)){L!==null&&Up(M)&&JD(M,L);for(var F=[],I=M;I=I.parentNode;)I.nodeType===Rn&&F.push({element:I,left:I.scrollLeft,top:I.scrollTop});typeof M.focus=="function"&&M.focus();for(var X=0;X<F.length;X++){var K=F[X];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}}function QD(p){var g;return"selectionStart"in p?g={start:p.selectionStart,end:p.selectionEnd}:g=XD(p),g||{start:0,end:0}}function JD(p,g){var M=g.start,L=g.end;L===void 0&&(L=M),"selectionStart"in p?(p.selectionStart=M,p.selectionEnd=Math.min(L,p.value.length)):WD(p,g)}var kD=Et&&"documentMode"in document&&document.documentMode<=11;function qD(){vt("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Wo=null,Vp=null,Pu=null,Gp=!1;function _D(p){if("selectionStart"in p&&Up(p))return{start:p.selectionStart,end:p.selectionEnd};var g=p.ownerDocument&&p.ownerDocument.defaultView||window,M=g.getSelection();return{anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}}function tF(p){return p.window===p?p.document:p.nodeType===us?p:p.ownerDocument}function ZT(p,g,M){var L=tF(M);if(!(Gp||Wo==null||Wo!==zs(L))){var F=_D(Wo);if(!Pu||!Mu(Pu,F)){Pu=F;var I=Kf(Vp,"onSelect");if(I.length>0){var X=new Fp("onSelect","select",null,g,M);p.push({event:X,listeners:I}),X.target=Wo}}}}function eF(p,g,M,L,F,I,X){var K=M?Qo(M):window;switch(g){case"focusin":(VT(K)||K.contentEditable==="true")&&(Wo=K,Vp=M,Pu=null);break;case"focusout":Wo=null,Vp=null,Pu=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,ZT(p,L,F);break;case"selectionchange":if(kD)break;case"keydown":case"keyup":ZT(p,L,F)}}function Hf(p,g){var M={};return M[p.toLowerCase()]=g.toLowerCase(),M["Webkit"+p]="webkit"+g,M["Moz"+p]="moz"+g,M}var jo={animationend:Hf("Animation","AnimationEnd"),animationiteration:Hf("Animation","AnimationIteration"),animationstart:Hf("Animation","AnimationStart"),transitionend:Hf("Transition","TransitionEnd")},zp={},QT={};Et&&(QT=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function Wf(p){if(zp[p])return zp[p];if(!jo[p])return p;var g=jo[p];for(var M in g)if(g.hasOwnProperty(M)&&M in QT)return zp[p]=g[M];return p}var JT=Wf("animationend"),kT=Wf("animationiteration"),qT=Wf("animationstart"),_T=Wf("transitionend"),t1=new Map,e1=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function $s(p,g){t1.set(p,g),vt(g,[p])}function iF(){for(var p=0;p<e1.length;p++){var g=e1[p],M=g.toLowerCase(),L=g[0].toUpperCase()+g.slice(1);$s(M,"on"+L)}$s(JT,"onAnimationEnd"),$s(kT,"onAnimationIteration"),$s(qT,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(_T,"onTransitionEnd")}function nF(p,g,M,L,F,I,X){var K=t1.get(g);if(K!==void 0){var Q=Fp,tt=g;switch(g){case"keypress":if(Gf(L)===0)return;case"keydown":case"keyup":Q=rD;break;case"focusin":tt="focus",Q=wp;break;case"focusout":tt="blur",Q=wp;break;case"beforeblur":case"afterblur":Q=wp;break;case"click":if(L.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=PT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=WO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=oD;break;case JT:case kT:case qT:Q=$O;break;case _T:Q=uD;break;case"scroll":Q=YO;break;case"wheel":Q=fD;break;case"copy":case"cut":case"paste":Q=QO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=OT;break}var et=(I&ql)!==0;{var ut=!et&&g==="scroll",lt=oF(M,K,L.type,et,ut);if(lt.length>0){var pt=new Q(K,tt,null,L,F);p.push({event:pt,listeners:lt})}}}}iF(),VD(),AD(),qD(),vD();function rF(p,g,M,L,F,I,X){nF(p,g,M,L,F,I);var K=(I&_2)===0;K&&(GD(p,g,M,L,F),UD(p,g,M,L,F),eF(p,g,M,L,F),ED(p,g,M,L,F))}var Lu=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],Yp=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Lu));function i1(p,g,M){var L=p.type||"unknown-event";p.currentTarget=M,fL(L,g,void 0,p),p.currentTarget=null}function sF(p,g,M){var L;if(M)for(var F=g.length-1;F>=0;F--){var I=g[F],X=I.instance,K=I.currentTarget,Q=I.listener;if(X!==L&&p.isPropagationStopped())return;i1(p,Q,K),L=X}else for(var tt=0;tt<g.length;tt++){var et=g[tt],ut=et.instance,lt=et.currentTarget,pt=et.listener;if(ut!==L&&p.isPropagationStopped())return;i1(p,pt,lt),L=ut}}function n1(p,g){for(var M=(g&ql)!==0,L=0;L<p.length;L++){var F=p[L],I=F.event,X=F.listeners;sF(I,X,M)}cL()}function aF(p,g,M,L,F){var I=Iv(M),X=[];rF(X,p,L,M,I,g),n1(X,g)}function ui(p,g){Yp.has(p)||u('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',p);var M=!1,L=Ib(g),F=hF(p,M);L.has(F)||(r1(g,p,Bv,M),L.add(F))}function Xp(p,g,M){Yp.has(p)&&!g&&u('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',p);var L=0;g&&(L|=ql),r1(M,p,L,g)}var jf="_reactListening"+Math.random().toString(36).slice(2);function Ou(p){if(!p[jf]){p[jf]=!0,nt.forEach(function(M){M!=="selectionchange"&&(Yp.has(M)||Xp(M,!1,p),Xp(M,!0,p))});var g=p.nodeType===us?p:p.ownerDocument;g!==null&&(g[jf]||(g[jf]=!0,Xp("selectionchange",!1,g)))}}function r1(p,g,M,L,F){var I=FO(p,g,M),X=void 0;Gv&&(g==="touchstart"||g==="touchmove"||g==="wheel")&&(X=!0),p=p,L?X!==void 0?UO(p,g,I,X):IO(p,g,I):X!==void 0?VO(p,g,I,X):BO(p,g,I)}function s1(p,g){return p===g||p.nodeType===Ai&&p.parentNode===g}function Hp(p,g,M,L,F){var I=L;if(!(g&wy)&&!(g&Bv)){var X=F;if(L!==null){var K=L;t:for(;;){if(K===null)return;var Q=K.tag;if(Q===r||Q===f){var tt=K.stateNode.containerInfo;if(s1(tt,X))break;if(Q===f)for(var et=K.return;et!==null;){var ut=et.tag;if(ut===r||ut===f){var lt=et.stateNode.containerInfo;if(s1(lt,X))return}et=et.return}for(;tt!==null;){var pt=Ha(tt);if(pt===null)return;var mt=pt.tag;if(mt===l||mt===h){K=I=pt;continue t}tt=tt.parentNode}}K=K.return}}}zy(function(){return aF(p,g,M,I)})}function Du(p,g,M){return{instance:p,listener:g,currentTarget:M}}function oF(p,g,M,L,F,I){for(var X=g!==null?g+"Capture":null,K=L?X:g,Q=[],tt=p,et=null;tt!==null;){var ut=tt,lt=ut.stateNode,pt=ut.tag;if(pt===l&&lt!==null&&(et=lt,K!==null)){var mt=tu(tt,K);mt!=null&&Q.push(Du(tt,mt,et))}if(F)break;tt=tt.return}return Q}function Kf(p,g){for(var M=g+"Capture",L=[],F=p;F!==null;){var I=F,X=I.stateNode,K=I.tag;if(K===l&&X!==null){var Q=X,tt=tu(F,M);tt!=null&&L.unshift(Du(F,tt,Q));var et=tu(F,g);et!=null&&L.push(Du(F,et,Q))}F=F.return}return L}function Ko(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==l);return p||null}function lF(p,g){for(var M=p,L=g,F=0,I=M;I;I=Ko(I))F++;for(var X=0,K=L;K;K=Ko(K))X++;for(;F-X>0;)M=Ko(M),F--;for(;X-F>0;)L=Ko(L),X--;for(var Q=F;Q--;){if(M===L||L!==null&&M===L.alternate)return M;M=Ko(M),L=Ko(L)}return null}function a1(p,g,M,L,F){for(var I=g._reactName,X=[],K=M;K!==null&&K!==L;){var Q=K,tt=Q.alternate,et=Q.stateNode,ut=Q.tag;if(tt!==null&&tt===L)break;if(ut===l&&et!==null){var lt=et;if(F){var pt=tu(K,I);pt!=null&&X.unshift(Du(K,pt,lt))}else if(!F){var mt=tu(K,I);mt!=null&&X.push(Du(K,mt,lt))}}K=K.return}X.length!==0&&p.push({event:g,listeners:X})}function uF(p,g,M,L,F){var I=L&&F?lF(L,F):null;L!==null&&a1(p,g,L,I,!1),F!==null&&M!==null&&a1(p,M,F,I,!0)}function hF(p,g){return p+"__"+(g?"capture":"bubble")}var An=!1,Fu="dangerouslySetInnerHTML",$f="suppressContentEditableWarning",Zs="suppressHydrationWarning",o1="autoFocus",Ya="children",Xa="style",Zf="__html",Wp,Qf,bu,l1,Jf,u1,h1;Wp={dialog:!0,webview:!0},Qf=function(p,g){K2(p,g),$2(p,g),q2(p,g,{registrationNameDependencies:rt,possibleRegistrationNames:ht})},u1=Et&&!document.documentMode,bu=function(p,g,M){if(!An){var L=kf(M),F=kf(g);F!==L&&(An=!0,u("Prop `%s` did not match. Server: %s Client: %s",p,JSON.stringify(F),JSON.stringify(L)))}},l1=function(p){if(!An){An=!0;var g=[];p.forEach(function(M){g.push(M)}),u("Extra attributes from the server: %s",g)}},Jf=function(p,g){g===!1?u("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",p,p,p):u("Expected `%s` listener to be a function, instead got a value of `%s` type.",p,typeof g)},h1=function(p,g){var M=p.namespaceURI===os?p.ownerDocument.createElement(p.tagName):p.ownerDocument.createElementNS(p.namespaceURI,p.tagName);return M.innerHTML=g,M.innerHTML};var fF=/\r\n?/g,cF=/\u0000|\uFFFD/g;function kf(p){Zt(p);var g=typeof p=="string"?p:""+p;return g.replace(fF,`
`).replace(cF,"")}function qf(p,g,M,L){var F=kf(g),I=kf(p);if(I!==F&&(L&&(An||(An=!0,u('Text content did not match. Server: "%s" Client: "%s"',I,F))),M&&$))throw new Error("Text content does not match server-rendered HTML.")}function f1(p){return p.nodeType===us?p:p.ownerDocument}function dF(){}function _f(p){p.onclick=dF}function vF(p,g,M,L,F){for(var I in L)if(L.hasOwnProperty(I)){var X=L[I];if(I===Xa)X&&Object.freeze(X),Ly(g,X);else if(I===Fu){var K=X?X[Zf]:void 0;K!=null&&Cy(g,K)}else if(I===Ya)if(typeof X=="string"){var Q=p!=="textarea"||X!=="";Q&&Sf(g,X)}else typeof X=="number"&&Sf(g,""+X);else I===$f||I===Zs||I===o1||(rt.hasOwnProperty(I)?X!=null&&(typeof X!="function"&&Jf(I,X),I==="onScroll"&&ui("scroll",g)):X!=null&&or(g,I,X,F))}}function pF(p,g,M,L){for(var F=0;F<g.length;F+=2){var I=g[F],X=g[F+1];I===Xa?Ly(p,X):I===Fu?Cy(p,X):I===Ya?Sf(p,X):or(p,I,X,L)}}function mF(p,g,M,L){var F,I=f1(M),X,K=L;if(K===os&&(K=Ov(p)),K===os){if(F=Da(p,g),!F&&p!==p.toLowerCase()&&u("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",p),p==="script"){var Q=I.createElement("div");Q.innerHTML="<script><\/script>";var tt=Q.firstChild;X=Q.removeChild(tt)}else if(typeof g.is=="string")X=I.createElement(p,{is:g.is});else if(X=I.createElement(p),p==="select"){var et=X;g.multiple?et.multiple=!0:g.size&&(et.size=g.size)}}else X=I.createElementNS(K,p);return K===os&&!F&&Object.prototype.toString.call(X)==="[object HTMLUnknownElement]"&&!Tt.call(Wp,p)&&(Wp[p]=!0,u("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",p)),X}function gF(p,g){return f1(g).createTextNode(p)}function xF(p,g,M,L){var F=Da(g,M);Qf(g,M);var I;switch(g){case"dialog":ui("cancel",p),ui("close",p),I=M;break;case"iframe":case"object":case"embed":ui("load",p),I=M;break;case"video":case"audio":for(var X=0;X<Lu.length;X++)ui(Lu[X],p);I=M;break;case"source":ui("error",p),I=M;break;case"img":case"image":case"link":ui("error",p),ui("load",p),I=M;break;case"details":ui("toggle",p),I=M;break;case"input":st(p,M),I=J(p,M),ui("invalid",p);break;case"option":ri(p,M),I=M;break;case"select":Jl(p,M),I=Ql(p,M),ui("invalid",p);break;case"textarea":Ty(p,M),I=Pv(p,M),ui("invalid",p);break;default:I=M}switch(wv(g,I),vF(g,p,L,I,F),g){case"input":ss(p),It(p,M,!1);break;case"textarea":ss(p),Ey(p);break;case"option":li(p,M);break;case"select":Mv(p,M);break;default:typeof I.onClick=="function"&&_f(p);break}}function yF(p,g,M,L,F){Qf(g,L);var I=null,X,K;switch(g){case"input":X=J(p,M),K=J(p,L),I=[];break;case"select":X=Ql(p,M),K=Ql(p,L),I=[];break;case"textarea":X=Pv(p,M),K=Pv(p,L),I=[];break;default:X=M,K=L,typeof X.onClick!="function"&&typeof K.onClick=="function"&&_f(p);break}wv(g,K);var Q,tt,et=null;for(Q in X)if(!(K.hasOwnProperty(Q)||!X.hasOwnProperty(Q)||X[Q]==null))if(Q===Xa){var ut=X[Q];for(tt in ut)ut.hasOwnProperty(tt)&&(et||(et={}),et[tt]="")}else Q===Fu||Q===Ya||Q===$f||Q===Zs||Q===o1||(rt.hasOwnProperty(Q)?I||(I=[]):(I=I||[]).push(Q,null));for(Q in K){var lt=K[Q],pt=X!=null?X[Q]:void 0;if(!(!K.hasOwnProperty(Q)||lt===pt||lt==null&&pt==null))if(Q===Xa)if(lt&&Object.freeze(lt),pt){for(tt in pt)pt.hasOwnProperty(tt)&&(!lt||!lt.hasOwnProperty(tt))&&(et||(et={}),et[tt]="");for(tt in lt)lt.hasOwnProperty(tt)&&pt[tt]!==lt[tt]&&(et||(et={}),et[tt]=lt[tt])}else et||(I||(I=[]),I.push(Q,et)),et=lt;else if(Q===Fu){var mt=lt?lt[Zf]:void 0,Ct=pt?pt[Zf]:void 0;mt!=null&&Ct!==mt&&(I=I||[]).push(Q,mt)}else Q===Ya?(typeof lt=="string"||typeof lt=="number")&&(I=I||[]).push(Q,""+lt):Q===$f||Q===Zs||(rt.hasOwnProperty(Q)?(lt!=null&&(typeof lt!="function"&&Jf(Q,lt),Q==="onScroll"&&ui("scroll",p)),!I&&pt!==lt&&(I=[])):(I=I||[]).push(Q,lt))}return et&&(V2(et,K[Xa]),(I=I||[]).push(Xa,et)),I}function TF(p,g,M,L,F){M==="input"&&F.type==="radio"&&F.name!=null&&gt(p,F);var I=Da(M,L),X=Da(M,F);switch(pF(p,g,I,X),M){case"input":St(p,F);break;case"textarea":Sy(p,F);break;case"select":p2(p,F);break}}function SF(p){{var g=p.toLowerCase();return Ef.hasOwnProperty(g)&&Ef[g]||null}}function EF(p,g,M,L,F,I,X){var K,Q;switch(K=Da(g,M),Qf(g,M),g){case"dialog":ui("cancel",p),ui("close",p);break;case"iframe":case"object":case"embed":ui("load",p);break;case"video":case"audio":for(var tt=0;tt<Lu.length;tt++)ui(Lu[tt],p);break;case"source":ui("error",p);break;case"img":case"image":case"link":ui("error",p),ui("load",p);break;case"details":ui("toggle",p);break;case"input":st(p,M),ui("invalid",p);break;case"option":ri(p,M);break;case"select":Jl(p,M),ui("invalid",p);break;case"textarea":Ty(p,M),ui("invalid",p);break}wv(g,M);{Q=new Set;for(var et=p.attributes,ut=0;ut<et.length;ut++){var lt=et[ut].name.toLowerCase();switch(lt){case"value":break;case"checked":break;case"selected":break;default:Q.add(et[ut].name)}}}var pt=null;for(var mt in M)if(M.hasOwnProperty(mt)){var Ct=M[mt];if(mt===Ya)typeof Ct=="string"?p.textContent!==Ct&&(M[Zs]!==!0&&qf(p.textContent,Ct,I,X),pt=[Ya,Ct]):typeof Ct=="number"&&p.textContent!==""+Ct&&(M[Zs]!==!0&&qf(p.textContent,Ct,I,X),pt=[Ya,""+Ct]);else if(rt.hasOwnProperty(mt))Ct!=null&&(typeof Ct!="function"&&Jf(mt,Ct),mt==="onScroll"&&ui("scroll",p));else if(X&&typeof K=="boolean"){var Jt=void 0,oe=K&&Y?null:Si(mt);if(M[Zs]!==!0){if(!(mt===$f||mt===Zs||mt==="value"||mt==="checked"||mt==="selected")){if(mt===Fu){var re=p.innerHTML,be=Ct?Ct[Zf]:void 0;if(be!=null){var Pe=h1(p,be);Pe!==re&&bu(mt,re,Pe)}}else if(mt===Xa){if(Q.delete(mt),u1){var ft=I2(Ct);Jt=p.getAttribute("style"),ft!==Jt&&bu(mt,Jt,ft)}}else if(K&&!Y)Q.delete(mt.toLowerCase()),Jt=Lr(p,mt,Ct),Ct!==Jt&&bu(mt,Jt,Ct);else if(!Ae(mt,oe,K)&&!we(mt,Ct,oe,K)){var Rt=!1;if(oe!==null)Q.delete(oe.attributeName),Jt=ar(p,mt,Ct,oe);else{var ct=L;if(ct===os&&(ct=Ov(g)),ct===os)Q.delete(mt.toLowerCase());else{var Nt=SF(mt);Nt!==null&&Nt!==mt&&(Rt=!0,Q.delete(Nt)),Q.delete(mt)}Jt=Lr(p,mt,Ct)}var kt=Y;!kt&&Ct!==Jt&&!Rt&&bu(mt,Jt,Ct)}}}}}switch(X&&Q.size>0&&M[Zs]!==!0&&l1(Q),g){case"input":ss(p),It(p,M,!0);break;case"textarea":ss(p),Ey(p);break;case"select":case"option":break;default:typeof M.onClick=="function"&&_f(p);break}return pt}function CF(p,g,M){var L=p.nodeValue!==g;return L}function jp(p,g){{if(An)return;An=!0,u("Did not expect server HTML to contain a <%s> in <%s>.",g.nodeName.toLowerCase(),p.nodeName.toLowerCase())}}function Kp(p,g){{if(An)return;An=!0,u('Did not expect server HTML to contain the text node "%s" in <%s>.',g.nodeValue,p.nodeName.toLowerCase())}}function $p(p,g,M){{if(An)return;An=!0,u("Expected server HTML to contain a matching <%s> in <%s>.",g,p.nodeName.toLowerCase())}}function Zp(p,g){{if(g===""||An)return;An=!0,u('Expected server HTML to contain a matching text node for "%s" in <%s>.',g,p.nodeName.toLowerCase())}}function RF(p,g,M){switch(g){case"input":fe(p,M);return;case"textarea":g2(p,M);return;case"select":m2(p,M);return}}var Nu=function(){},wu=function(){};{var AF=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],c1=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],MF=c1.concat(["button"]),PF=["dd","dt","li","option","optgroup","p","rp","rt"],d1={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};wu=function(p,g){var M=Le({},p||d1),L={tag:g};return c1.indexOf(g)!==-1&&(M.aTagInScope=null,M.buttonTagInScope=null,M.nobrTagInScope=null),MF.indexOf(g)!==-1&&(M.pTagInButtonScope=null),AF.indexOf(g)!==-1&&g!=="address"&&g!=="div"&&g!=="p"&&(M.listItemTagAutoclosing=null,M.dlItemTagAutoclosing=null),M.current=L,g==="form"&&(M.formTag=L),g==="a"&&(M.aTagInScope=L),g==="button"&&(M.buttonTagInScope=L),g==="nobr"&&(M.nobrTagInScope=L),g==="p"&&(M.pTagInButtonScope=L),g==="li"&&(M.listItemTagAutoclosing=L),(g==="dd"||g==="dt")&&(M.dlItemTagAutoclosing=L),M};var LF=function(p,g){switch(g){case"select":return p==="option"||p==="optgroup"||p==="#text";case"optgroup":return p==="option"||p==="#text";case"option":return p==="#text";case"tr":return p==="th"||p==="td"||p==="style"||p==="script"||p==="template";case"tbody":case"thead":case"tfoot":return p==="tr"||p==="style"||p==="script"||p==="template";case"colgroup":return p==="col"||p==="template";case"table":return p==="caption"||p==="colgroup"||p==="tbody"||p==="tfoot"||p==="thead"||p==="style"||p==="script"||p==="template";case"head":return p==="base"||p==="basefont"||p==="bgsound"||p==="link"||p==="meta"||p==="title"||p==="noscript"||p==="noframes"||p==="style"||p==="script"||p==="template";case"html":return p==="head"||p==="body"||p==="frameset";case"frameset":return p==="frame";case"#document":return p==="html"}switch(p){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return g!=="h1"&&g!=="h2"&&g!=="h3"&&g!=="h4"&&g!=="h5"&&g!=="h6";case"rp":case"rt":return PF.indexOf(g)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return g==null}return!0},OF=function(p,g){switch(p){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return g.pTagInButtonScope;case"form":return g.formTag||g.pTagInButtonScope;case"li":return g.listItemTagAutoclosing;case"dd":case"dt":return g.dlItemTagAutoclosing;case"button":return g.buttonTagInScope;case"a":return g.aTagInScope;case"nobr":return g.nobrTagInScope}return null},v1={};Nu=function(p,g,M){M=M||d1;var L=M.current,F=L&&L.tag;g!=null&&(p!=null&&u("validateDOMNesting: when childText is passed, childTag should be null"),p="#text");var I=LF(p,F)?null:L,X=I?null:OF(p,M),K=I||X;if(K){var Q=K.tag,tt=!!I+"|"+p+"|"+Q;if(!v1[tt]){v1[tt]=!0;var et=p,ut="";if(p==="#text"?/\S/.test(g)?et="Text nodes":(et="Whitespace text nodes",ut=" Make sure you don't have any extra whitespace between tags on each line of your source code."):et="<"+p+">",I){var lt="";Q==="table"&&p==="tr"&&(lt+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),u("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",et,Q,ut,lt)}else u("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",et,Q)}}}}var tc="suppressHydrationWarning",ec="$",ic="/$",Bu="$?",Iu="$!",DF="style",Qp=null,Jp=null;function FF(p){var g,M,L=p.nodeType;switch(L){case us:case Fv:{g=L===us?"#document":"#fragment";var F=p.documentElement;M=F?F.namespaceURI:Dv(null,"");break}default:{var I=L===Ai?p.parentNode:p,X=I.namespaceURI||null;g=I.tagName,M=Dv(X,g);break}}{var K=g.toLowerCase(),Q=wu(null,K);return{namespace:M,ancestorInfo:Q}}}function bF(p,g,M){{var L=p,F=Dv(L.namespace,g),I=wu(L.ancestorInfo,g);return{namespace:F,ancestorInfo:I}}}function I8(p){return p}function NF(p){Qp=DO(),Jp=$D();var g=null;return ET(!1),g}function wF(p){ZD(Jp),ET(Qp),Qp=null,Jp=null}function BF(p,g,M,L,F){var I;{var X=L;if(Nu(p,null,X.ancestorInfo),typeof g.children=="string"||typeof g.children=="number"){var K=""+g.children,Q=wu(X.ancestorInfo,p);Nu(null,K,Q)}I=X.namespace}var tt=mF(p,g,M,I);return Gu(F,tt),rm(tt,g),tt}function IF(p,g){p.appendChild(g)}function UF(p,g,M,L,F){switch(xF(p,g,M,L),g){case"button":case"input":case"select":case"textarea":return!!M.autoFocus;case"img":return!0;default:return!1}}function VF(p,g,M,L,F,I){{var X=I;if(typeof L.children!=typeof M.children&&(typeof L.children=="string"||typeof L.children=="number")){var K=""+L.children,Q=wu(X.ancestorInfo,g);Nu(null,K,Q)}}return yF(p,g,M,L)}function kp(p,g){return p==="textarea"||p==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}function GF(p,g,M,L){{var F=M;Nu(null,p,F.ancestorInfo)}var I=gF(p,g);return Gu(L,I),I}function zF(){var p=window.event;return p===void 0?ms:CT(p.type)}var qp=typeof setTimeout=="function"?setTimeout:void 0,YF=typeof clearTimeout=="function"?clearTimeout:void 0,_p=-1,p1=typeof Promise=="function"?Promise:void 0,XF=typeof queueMicrotask=="function"?queueMicrotask:typeof p1<"u"?function(p){return p1.resolve(null).then(p).catch(HF)}:qp;function HF(p){setTimeout(function(){throw p})}function WF(p,g,M,L){switch(g){case"button":case"input":case"select":case"textarea":M.autoFocus&&p.focus();return;case"img":{M.src&&(p.src=M.src);return}}}function jF(p,g,M,L,F,I){TF(p,g,M,L,F),rm(p,F)}function m1(p){Sf(p,"")}function KF(p,g,M){p.nodeValue=M}function $F(p,g){p.appendChild(g)}function ZF(p,g){var M;p.nodeType===Ai?(M=p.parentNode,M.insertBefore(g,p)):(M=p,M.appendChild(g));var L=p._reactRootContainer;L==null&&M.onclick===null&&_f(M)}function QF(p,g,M){p.insertBefore(g,M)}function JF(p,g,M){p.nodeType===Ai?p.parentNode.insertBefore(g,M):p.insertBefore(g,M)}function kF(p,g){p.removeChild(g)}function qF(p,g){p.nodeType===Ai?p.parentNode.removeChild(g):p.removeChild(g)}function tm(p,g){var M=g,L=0;do{var F=M.nextSibling;if(p.removeChild(M),F&&F.nodeType===Ai){var I=F.data;if(I===ic)if(L===0){p.removeChild(F),xu(g);return}else L--;else(I===ec||I===Bu||I===Iu)&&L++}M=F}while(M);xu(g)}function _F(p,g){p.nodeType===Ai?tm(p.parentNode,g):p.nodeType===Rn&&tm(p,g),xu(p)}function tb(p){p=p;var g=p.style;typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"}function eb(p){p.nodeValue=""}function ib(p,g){p=p;var M=g[DF],L=M!=null&&M.hasOwnProperty("display")?M.display:null;p.style.display=bv("display",L)}function nb(p,g){p.nodeValue=g}function rb(p){p.nodeType===Rn?p.textContent="":p.nodeType===us&&p.documentElement&&p.removeChild(p.documentElement)}function sb(p,g,M){return p.nodeType!==Rn||g.toLowerCase()!==p.nodeName.toLowerCase()?null:p}function ab(p,g){return g===""||p.nodeType!==ls?null:p}function ob(p){return p.nodeType!==Ai?null:p}function g1(p){return p.data===Bu}function em(p){return p.data===Iu}function lb(p){var g=p.nextSibling&&p.nextSibling.dataset,M,L,F;return g&&(M=g.dgst,L=g.msg,F=g.stck),{message:L,digest:M,stack:F}}function ub(p,g){p._reactRetry=g}function nc(p){for(;p!=null;p=p.nextSibling){var g=p.nodeType;if(g===Rn||g===ls)break;if(g===Ai){var M=p.data;if(M===ec||M===Iu||M===Bu)break;if(M===ic)return null}}return p}function Uu(p){return nc(p.nextSibling)}function hb(p){return nc(p.firstChild)}function fb(p){return nc(p.firstChild)}function cb(p){return nc(p.nextSibling)}function db(p,g,M,L,F,I,X){Gu(I,p),rm(p,M);var K;{var Q=F;K=Q.namespace}var tt=(I.mode&De)!==he;return EF(p,g,M,K,L,tt,X)}function vb(p,g,M,L){return Gu(M,p),M.mode&De,CF(p,g)}function pb(p,g){Gu(g,p)}function mb(p){for(var g=p.nextSibling,M=0;g;){if(g.nodeType===Ai){var L=g.data;if(L===ic){if(M===0)return Uu(g);M--}else(L===ec||L===Iu||L===Bu)&&M++}g=g.nextSibling}return null}function x1(p){for(var g=p.previousSibling,M=0;g;){if(g.nodeType===Ai){var L=g.data;if(L===ec||L===Iu||L===Bu){if(M===0)return g;M--}else L===ic&&M++}g=g.previousSibling}return null}function gb(p){xu(p)}function xb(p){xu(p)}function yb(p){return p!=="head"&&p!=="body"}function Tb(p,g,M,L){var F=!0;qf(g.nodeValue,M,L,F)}function Sb(p,g,M,L,F,I){if(g[tc]!==!0){var X=!0;qf(L.nodeValue,F,I,X)}}function Eb(p,g){g.nodeType===Rn?jp(p,g):g.nodeType===Ai||Kp(p,g)}function Cb(p,g){{var M=p.parentNode;M!==null&&(g.nodeType===Rn?jp(M,g):g.nodeType===Ai||Kp(M,g))}}function Rb(p,g,M,L,F){(F||g[tc]!==!0)&&(L.nodeType===Rn?jp(M,L):L.nodeType===Ai||Kp(M,L))}function Ab(p,g,M){$p(p,g)}function Mb(p,g){Zp(p,g)}function Pb(p,g,M){{var L=p.parentNode;L!==null&&$p(L,g)}}function Lb(p,g){{var M=p.parentNode;M!==null&&Zp(M,g)}}function Ob(p,g,M,L,F,I){(I||g[tc]!==!0)&&$p(M,L)}function Db(p,g,M,L,F){(F||g[tc]!==!0)&&Zp(M,L)}function Fb(p){u("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",p.nodeName.toLowerCase())}function bb(p){Ou(p)}var $o=Math.random().toString(36).slice(2),Zo="__reactFiber$"+$o,im="__reactProps$"+$o,Vu="__reactContainer$"+$o,nm="__reactEvents$"+$o,Nb="__reactListeners$"+$o,wb="__reactHandles$"+$o;function Bb(p){delete p[Zo],delete p[im],delete p[nm],delete p[Nb],delete p[wb]}function Gu(p,g){g[Zo]=p}function rc(p,g){g[Vu]=p}function y1(p){p[Vu]=null}function zu(p){return!!p[Vu]}function Ha(p){var g=p[Zo];if(g)return g;for(var M=p.parentNode;M;){if(g=M[Vu]||M[Zo],g){var L=g.alternate;if(g.child!==null||L!==null&&L.child!==null)for(var F=x1(p);F!==null;){var I=F[Zo];if(I)return I;F=x1(F)}return g}p=M,M=p.parentNode}return null}function Qs(p){var g=p[Zo]||p[Vu];return g&&(g.tag===l||g.tag===h||g.tag===C||g.tag===r)?g:null}function Qo(p){if(p.tag===l||p.tag===h)return p.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function sc(p){return p[im]||null}function rm(p,g){p[im]=g}function Ib(p){var g=p[nm];return g===void 0&&(g=p[nm]=new Set),g}var T1={},S1=o.ReactDebugCurrentFrame;function ac(p){if(p){var g=p._owner,M=Us(p.type,p._source,g?g.type:null);S1.setExtraStackFrame(M)}else S1.setExtraStackFrame(null)}function fr(p,g,M,L,F){{var I=Function.call.bind(Tt);for(var X in p)if(I(p,X)){var K=void 0;try{if(typeof p[X]!="function"){var Q=Error((L||"React class")+": "+M+" type `"+X+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof p[X]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Q.name="Invariant Violation",Q}K=p[X](g,X,L,M,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(tt){K=tt}K&&!(K instanceof Error)&&(ac(F),u("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",L||"React class",M,X,typeof K),ac(null)),K instanceof Error&&!(K.message in T1)&&(T1[K.message]=!0,ac(F),u("Failed %s type: %s",M,K.message),ac(null))}}}var sm=[],oc;oc=[];var gs=-1;function Js(p){return{current:p}}function sn(p,g){if(gs<0){u("Unexpected pop.");return}g!==oc[gs]&&u("Unexpected Fiber popped."),p.current=sm[gs],sm[gs]=null,oc[gs]=null,gs--}function an(p,g,M){gs++,sm[gs]=p.current,oc[gs]=M,p.current=g}var am;am={};var Gn={};Object.freeze(Gn);var xs=Js(Gn),wr=Js(!1),om=Gn;function Jo(p,g,M){return M&&Br(g)?om:xs.current}function E1(p,g,M){{var L=p.stateNode;L.__reactInternalMemoizedUnmaskedChildContext=g,L.__reactInternalMemoizedMaskedChildContext=M}}function ko(p,g){{var M=p.type,L=M.contextTypes;if(!L)return Gn;var F=p.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===g)return F.__reactInternalMemoizedMaskedChildContext;var I={};for(var X in L)I[X]=g[X];{var K=Te(p)||"Unknown";fr(L,I,"context",K)}return F&&E1(p,g,I),I}}function lc(){return wr.current}function Br(p){{var g=p.childContextTypes;return g!=null}}function uc(p){sn(wr,p),sn(xs,p)}function lm(p){sn(wr,p),sn(xs,p)}function C1(p,g,M){{if(xs.current!==Gn)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");an(xs,g,p),an(wr,M,p)}}function R1(p,g,M){{var L=p.stateNode,F=g.childContextTypes;if(typeof L.getChildContext!="function"){{var I=Te(p)||"Unknown";am[I]||(am[I]=!0,u("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",I,I))}return M}var X=L.getChildContext();for(var K in X)if(!(K in F))throw new Error((Te(p)||"Unknown")+'.getChildContext(): key "'+K+'" is not defined in childContextTypes.');{var Q=Te(p)||"Unknown";fr(F,X,"child context",Q)}return Le({},M,X)}}function hc(p){{var g=p.stateNode,M=g&&g.__reactInternalMemoizedMergedChildContext||Gn;return om=xs.current,an(xs,M,p),an(wr,wr.current,p),!0}}function A1(p,g,M){{var L=p.stateNode;if(!L)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(M){var F=R1(p,g,om);L.__reactInternalMemoizedMergedChildContext=F,sn(wr,p),sn(xs,p),an(xs,F,p),an(wr,M,p)}else sn(wr,p),an(wr,M,p)}}function Ub(p){{if(!yL(p)||p.tag!==n)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var g=p;do{switch(g.tag){case r:return g.stateNode.context;case n:{var M=g.type;if(Br(M))return g.stateNode.__reactInternalMemoizedMergedChildContext;break}}g=g.return}while(g!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var ks=0,fc=1,ys=null,um=!1,hm=!1;function M1(p){ys===null?ys=[p]:ys.push(p)}function Vb(p){um=!0,M1(p)}function P1(){um&&qs()}function qs(){if(!hm&&ys!==null){hm=!0;var p=0,g=hr();try{var M=!0,L=ys;for(Wi(In);p<L.length;p++){var F=L[p];do F=F(M);while(F!==null)}ys=null,um=!1}catch(I){throw ys!==null&&(ys=ys.slice(p+1)),ky(Pf,qs),I}finally{Wi(g),hm=!1}}return null}var qo=[],_o=0,cc=null,dc=0,Jn=[],kn=0,Wa=null,Ts=1,Ss="";function Gb(p){return Ka(),(p.flags&Hy)!==ue}function zb(p){return Ka(),dc}function Yb(){var p=Ss,g=Ts,M=g&~Xb(g);return M.toString(32)+p}function ja(p,g){Ka(),qo[_o++]=dc,qo[_o++]=cc,cc=p,dc=g}function L1(p,g,M){Ka(),Jn[kn++]=Ts,Jn[kn++]=Ss,Jn[kn++]=Wa,Wa=p;var L=Ts,F=Ss,I=vc(L)-1,X=L&~(1<<I),K=M+1,Q=vc(g)+I;if(Q>30){var tt=I-I%5,et=(1<<tt)-1,ut=(X&et).toString(32),lt=X>>tt,pt=I-tt,mt=vc(g)+pt,Ct=K<<pt,Jt=Ct|lt,oe=ut+F;Ts=1<<mt|Jt,Ss=oe}else{var re=K<<I,be=re|X,Pe=F;Ts=1<<Q|be,Ss=Pe}}function fm(p){Ka();var g=p.return;if(g!==null){var M=1,L=0;ja(p,M),L1(p,M,L)}}function vc(p){return 32-nT(p)}function Xb(p){return 1<<vc(p)-1}function cm(p){for(;p===cc;)cc=qo[--_o],qo[_o]=null,dc=qo[--_o],qo[_o]=null;for(;p===Wa;)Wa=Jn[--kn],Jn[kn]=null,Ss=Jn[--kn],Jn[kn]=null,Ts=Jn[--kn],Jn[kn]=null}function Hb(){return Ka(),Wa!==null?{id:Ts,overflow:Ss}:null}function Wb(p,g){Ka(),Jn[kn++]=Ts,Jn[kn++]=Ss,Jn[kn++]=Wa,Ts=g.id,Ss=g.overflow,Wa=p}function Ka(){$i()||u("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Ki=null,qn=null,cr=!1,$a=!1,_s=null;function jb(){cr&&u("We should not be hydrating here. This is a bug in React. Please file a bug.")}function O1(){$a=!0}function Kb(){return $a}function $b(p){var g=p.stateNode.containerInfo;return qn=fb(g),Ki=p,cr=!0,_s=null,$a=!1,!0}function Zb(p,g,M){return qn=cb(g),Ki=p,cr=!0,_s=null,$a=!1,M!==null&&Wb(p,M),!0}function D1(p,g){switch(p.tag){case r:{Eb(p.stateNode.containerInfo,g);break}case l:{var M=(p.mode&De)!==he;Rb(p.type,p.memoizedProps,p.stateNode,g,M);break}case C:{var L=p.memoizedState;L.dehydrated!==null&&Cb(L.dehydrated,g);break}}}function F1(p,g){D1(p,g);var M=kB();M.stateNode=g,M.return=p;var L=p.deletions;L===null?(p.deletions=[M],p.flags|=Fa):L.push(M)}function dm(p,g){{if($a)return;switch(p.tag){case r:{var M=p.stateNode.containerInfo;switch(g.tag){case l:var L=g.type;g.pendingProps,Ab(M,L);break;case h:var F=g.pendingProps;Mb(M,F);break}break}case l:{var I=p.type,X=p.memoizedProps,K=p.stateNode;switch(g.tag){case l:{var Q=g.type,tt=g.pendingProps,et=(p.mode&De)!==he;Ob(I,X,K,Q,tt,et);break}case h:{var ut=g.pendingProps,lt=(p.mode&De)!==he;Db(I,X,K,ut,lt);break}}break}case C:{var pt=p.memoizedState,mt=pt.dehydrated;if(mt!==null)switch(g.tag){case l:var Ct=g.type;g.pendingProps,Pb(mt,Ct);break;case h:var Jt=g.pendingProps;Lb(mt,Jt);break}break}default:return}}}function b1(p,g){g.flags=g.flags&~fs|Mi,dm(p,g)}function N1(p,g){switch(p.tag){case l:{var M=p.type;p.pendingProps;var L=sb(g,M);return L!==null?(p.stateNode=L,Ki=p,qn=hb(L),!0):!1}case h:{var F=p.pendingProps,I=ab(g,F);return I!==null?(p.stateNode=I,Ki=p,qn=null,!0):!1}case C:{var X=ob(g);if(X!==null){var K={dehydrated:X,treeContext:Hb(),retryLane:wn};p.memoizedState=K;var Q=qB(X);return Q.return=p,p.child=Q,Ki=p,qn=null,!0}return!1}default:return!1}}function vm(p){return(p.mode&De)!==he&&(p.flags&Xe)===ue}function pm(p){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function mm(p){if(cr){var g=qn;if(!g){vm(p)&&(dm(Ki,p),pm()),b1(Ki,p),cr=!1,Ki=p;return}var M=g;if(!N1(p,g)){vm(p)&&(dm(Ki,p),pm()),g=Uu(M);var L=Ki;if(!g||!N1(p,g)){b1(Ki,p),cr=!1,Ki=p;return}F1(L,M)}}}function Qb(p,g,M){var L=p.stateNode,F=!$a,I=db(L,p.type,p.memoizedProps,g,M,p,F);return p.updateQueue=I,I!==null}function Jb(p){var g=p.stateNode,M=p.memoizedProps,L=vb(g,M,p);if(L){var F=Ki;if(F!==null)switch(F.tag){case r:{var I=F.stateNode.containerInfo,X=(F.mode&De)!==he;Tb(I,g,M,X);break}case l:{var K=F.type,Q=F.memoizedProps,tt=F.stateNode,et=(F.mode&De)!==he;Sb(K,Q,tt,g,M,et);break}}}return L}function kb(p){var g=p.memoizedState,M=g!==null?g.dehydrated:null;if(!M)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");pb(M,p)}function qb(p){var g=p.memoizedState,M=g!==null?g.dehydrated:null;if(!M)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return mb(M)}function w1(p){for(var g=p.return;g!==null&&g.tag!==l&&g.tag!==r&&g.tag!==C;)g=g.return;Ki=g}function pc(p){if(p!==Ki)return!1;if(!cr)return w1(p),cr=!0,!1;if(p.tag!==r&&(p.tag!==l||yb(p.type)&&!kp(p.type,p.memoizedProps))){var g=qn;if(g)if(vm(p))B1(p),pm();else for(;g;)F1(p,g),g=Uu(g)}return w1(p),p.tag===C?qn=qb(p):qn=Ki?Uu(p.stateNode):null,!0}function _b(){return cr&&qn!==null}function B1(p){for(var g=qn;g;)D1(p,g),g=Uu(g)}function tl(){Ki=null,qn=null,cr=!1,$a=!1}function I1(){_s!==null&&(DE(_s),_s=null)}function $i(){return cr}function gm(p){_s===null?_s=[p]:_s.push(p)}var tN=o.ReactCurrentBatchConfig,eN=null;function iN(){return tN.transition}var dr={recordUnsafeLifecycleWarnings:function(p,g){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(p,g){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var nN=function(p){for(var g=null,M=p;M!==null;)M.mode&Pi&&(g=M),M=M.return;return g},Za=function(p){var g=[];return p.forEach(function(M){g.push(M)}),g.sort().join(", ")},Yu=[],Xu=[],Hu=[],Wu=[],ju=[],Ku=[],Qa=new Set;dr.recordUnsafeLifecycleWarnings=function(p,g){Qa.has(p.type)||(typeof g.componentWillMount=="function"&&g.componentWillMount.__suppressDeprecationWarning!==!0&&Yu.push(p),p.mode&Pi&&typeof g.UNSAFE_componentWillMount=="function"&&Xu.push(p),typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&Hu.push(p),p.mode&Pi&&typeof g.UNSAFE_componentWillReceiveProps=="function"&&Wu.push(p),typeof g.componentWillUpdate=="function"&&g.componentWillUpdate.__suppressDeprecationWarning!==!0&&ju.push(p),p.mode&Pi&&typeof g.UNSAFE_componentWillUpdate=="function"&&Ku.push(p))},dr.flushPendingUnsafeLifecycleWarnings=function(){var p=new Set;Yu.length>0&&(Yu.forEach(function(lt){p.add(Te(lt)||"Component"),Qa.add(lt.type)}),Yu=[]);var g=new Set;Xu.length>0&&(Xu.forEach(function(lt){g.add(Te(lt)||"Component"),Qa.add(lt.type)}),Xu=[]);var M=new Set;Hu.length>0&&(Hu.forEach(function(lt){M.add(Te(lt)||"Component"),Qa.add(lt.type)}),Hu=[]);var L=new Set;Wu.length>0&&(Wu.forEach(function(lt){L.add(Te(lt)||"Component"),Qa.add(lt.type)}),Wu=[]);var F=new Set;ju.length>0&&(ju.forEach(function(lt){F.add(Te(lt)||"Component"),Qa.add(lt.type)}),ju=[]);var I=new Set;if(Ku.length>0&&(Ku.forEach(function(lt){I.add(Te(lt)||"Component"),Qa.add(lt.type)}),Ku=[]),g.size>0){var X=Za(g);u(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,X)}if(L.size>0){var K=Za(L);u(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,K)}if(I.size>0){var Q=Za(I);u(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,Q)}if(p.size>0){var tt=Za(p);e(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,tt)}if(M.size>0){var et=Za(M);e(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,et)}if(F.size>0){var ut=Za(F);e(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,ut)}};var mc=new Map,U1=new Set;dr.recordLegacyContextWarning=function(p,g){var M=nN(p);if(M===null){u("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!U1.has(p.type)){var L=mc.get(M);(p.type.contextTypes!=null||p.type.childContextTypes!=null||g!==null&&typeof g.getChildContext=="function")&&(L===void 0&&(L=[],mc.set(M,L)),L.push(p))}},dr.flushLegacyContextWarning=function(){mc.forEach(function(p,g){if(p.length!==0){var M=p[0],L=new Set;p.forEach(function(I){L.add(Te(I)||"Component"),U1.add(I.type)});var F=Za(L);try{ci(M),u(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,F)}finally{zi()}}})},dr.discardPendingWarnings=function(){Yu=[],Xu=[],Hu=[],Wu=[],ju=[],Ku=[],mc=new Map}}function vr(p,g){if(p&&p.defaultProps){var M=Le({},g),L=p.defaultProps;for(var F in L)M[F]===void 0&&(M[F]=L[F]);return M}return g}var xm=Js(null),ym;ym={};var gc=null,el=null,Tm=null,xc=!1;function yc(){gc=null,el=null,Tm=null,xc=!1}function V1(){xc=!0}function G1(){xc=!1}function z1(p,g,M){an(xm,g._currentValue,p),g._currentValue=M,g._currentRenderer!==void 0&&g._currentRenderer!==null&&g._currentRenderer!==ym&&u("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),g._currentRenderer=ym}function Sm(p,g){var M=xm.current;sn(xm,g),p._currentValue=M}function Em(p,g,M){for(var L=p;L!==null;){var F=L.alternate;if(zo(L.childLanes,g)?F!==null&&!zo(F.childLanes,g)&&(F.childLanes=Ce(F.childLanes,g)):(L.childLanes=Ce(L.childLanes,g),F!==null&&(F.childLanes=Ce(F.childLanes,g))),L===M)break;L=L.return}L!==M&&u("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function rN(p,g,M){sN(p,g,M)}function sN(p,g,M){var L=p.child;for(L!==null&&(L.return=p);L!==null;){var F=void 0,I=L.dependencies;if(I!==null){F=L.child;for(var X=I.firstContext;X!==null;){if(X.context===g){if(L.tag===n){var K=fu(M),Q=Es(oi,K);Q.tag=Sc;var tt=L.updateQueue;if(tt!==null){var et=tt.shared,ut=et.pending;ut===null?Q.next=Q:(Q.next=ut.next,ut.next=Q),et.pending=Q}}L.lanes=Ce(L.lanes,M);var lt=L.alternate;lt!==null&&(lt.lanes=Ce(lt.lanes,M)),Em(L.return,M,p),I.lanes=Ce(I.lanes,M);break}X=X.next}}else if(L.tag===m)F=L.type===p.type?null:L.child;else if(L.tag===b){var pt=L.return;if(pt===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");pt.lanes=Ce(pt.lanes,M);var mt=pt.alternate;mt!==null&&(mt.lanes=Ce(mt.lanes,M)),Em(pt,M,p),F=L.sibling}else F=L.child;if(F!==null)F.return=L;else for(F=L;F!==null;){if(F===p){F=null;break}var Ct=F.sibling;if(Ct!==null){Ct.return=F.return,F=Ct;break}F=F.return}L=F}}function il(p,g){gc=p,el=null,Tm=null;var M=p.dependencies;if(M!==null){var L=M.firstContext;L!==null&&(Bn(M.lanes,g)&&ah(),M.firstContext=null)}}function Li(p){xc&&u("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var g=p._currentValue;if(Tm!==p){var M={context:p,memoizedValue:g,next:null};if(el===null){if(gc===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");el=M,gc.dependencies={lanes:Ft,firstContext:M}}else el=el.next=M}return g}var Ja=null;function Cm(p){Ja===null?Ja=[p]:Ja.push(p)}function aN(){if(Ja!==null){for(var p=0;p<Ja.length;p++){var g=Ja[p],M=g.interleaved;if(M!==null){g.interleaved=null;var L=M.next,F=g.pending;if(F!==null){var I=F.next;F.next=L,M.next=I}g.pending=M}}Ja=null}}function Y1(p,g,M,L){var F=g.interleaved;return F===null?(M.next=M,Cm(g)):(M.next=F.next,F.next=M),g.interleaved=M,Tc(p,L)}function oN(p,g,M,L){var F=g.interleaved;F===null?(M.next=M,Cm(g)):(M.next=F.next,F.next=M),g.interleaved=M}function lN(p,g,M,L){var F=g.interleaved;return F===null?(M.next=M,Cm(g)):(M.next=F.next,F.next=M),g.interleaved=M,Tc(p,L)}function Mn(p,g){return Tc(p,g)}var uN=Tc;function Tc(p,g){p.lanes=Ce(p.lanes,g);var M=p.alternate;M!==null&&(M.lanes=Ce(M.lanes,g)),M===null&&(p.flags&(Mi|fs))!==ue&&XE(p);for(var L=p,F=p.return;F!==null;)F.childLanes=Ce(F.childLanes,g),M=F.alternate,M!==null?M.childLanes=Ce(M.childLanes,g):(F.flags&(Mi|fs))!==ue&&XE(p),L=F,F=F.return;if(L.tag===r){var I=L.stateNode;return I}else return null}var X1=0,H1=1,Sc=2,Rm=3,Ec=!1,Am,Cc;Am=!1,Cc=null;function Mm(p){var g={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Ft},effects:null};p.updateQueue=g}function W1(p,g){var M=g.updateQueue,L=p.updateQueue;if(M===L){var F={baseState:L.baseState,firstBaseUpdate:L.firstBaseUpdate,lastBaseUpdate:L.lastBaseUpdate,shared:L.shared,effects:L.effects};g.updateQueue=F}}function Es(p,g){var M={eventTime:p,lane:g,tag:X1,payload:null,callback:null,next:null};return M}function ta(p,g,M){var L=p.updateQueue;if(L===null)return null;var F=L.shared;if(Cc===F&&!Am&&(u("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),Am=!0),uB()){var I=F.pending;return I===null?g.next=g:(g.next=I.next,I.next=g),F.pending=g,uN(p,M)}else return lN(p,F,g,M)}function Rc(p,g,M){var L=g.updateQueue;if(L!==null){var F=L.shared;if(oT(M)){var I=F.lanes;I=uT(I,p.pendingLanes);var X=Ce(I,M);F.lanes=X,Cp(p,X)}}}function Pm(p,g){var M=p.updateQueue,L=p.alternate;if(L!==null){var F=L.updateQueue;if(M===F){var I=null,X=null,K=M.firstBaseUpdate;if(K!==null){var Q=K;do{var tt={eventTime:Q.eventTime,lane:Q.lane,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null};X===null?I=X=tt:(X.next=tt,X=tt),Q=Q.next}while(Q!==null);X===null?I=X=g:(X.next=g,X=g)}else I=X=g;M={baseState:F.baseState,firstBaseUpdate:I,lastBaseUpdate:X,shared:F.shared,effects:F.effects},p.updateQueue=M;return}}var et=M.lastBaseUpdate;et===null?M.firstBaseUpdate=g:et.next=g,M.lastBaseUpdate=g}function hN(p,g,M,L,F,I){switch(M.tag){case H1:{var X=M.payload;if(typeof X=="function"){V1();var K=X.call(I,L,F);{if(p.mode&Pi){Xi(!0);try{X.call(I,L,F)}finally{Xi(!1)}}G1()}return K}return X}case Rm:p.flags=p.flags&~dn|Xe;case X1:{var Q=M.payload,tt;if(typeof Q=="function"){V1(),tt=Q.call(I,L,F);{if(p.mode&Pi){Xi(!0);try{Q.call(I,L,F)}finally{Xi(!1)}}G1()}}else tt=Q;return tt==null?L:Le({},L,tt)}case Sc:return Ec=!0,L}return L}function Ac(p,g,M,L){var F=p.updateQueue;Ec=!1,Cc=F.shared;var I=F.firstBaseUpdate,X=F.lastBaseUpdate,K=F.shared.pending;if(K!==null){F.shared.pending=null;var Q=K,tt=Q.next;Q.next=null,X===null?I=tt:X.next=tt,X=Q;var et=p.alternate;if(et!==null){var ut=et.updateQueue,lt=ut.lastBaseUpdate;lt!==X&&(lt===null?ut.firstBaseUpdate=tt:lt.next=tt,ut.lastBaseUpdate=Q)}}if(I!==null){var pt=F.baseState,mt=Ft,Ct=null,Jt=null,oe=null,re=I;do{var be=re.lane,Pe=re.eventTime;if(zo(L,be)){if(oe!==null){var Rt={eventTime:Pe,lane:Hi,tag:re.tag,payload:re.payload,callback:re.callback,next:null};oe=oe.next=Rt}pt=hN(p,F,re,pt,g,M);var ct=re.callback;if(ct!==null&&re.lane!==Hi){p.flags|=Wv;var Nt=F.effects;Nt===null?F.effects=[re]:Nt.push(re)}}else{var ft={eventTime:Pe,lane:be,tag:re.tag,payload:re.payload,callback:re.callback,next:null};oe===null?(Jt=oe=ft,Ct=pt):oe=oe.next=ft,mt=Ce(mt,be)}if(re=re.next,re===null){if(K=F.shared.pending,K===null)break;var kt=K,Kt=kt.next;kt.next=null,re=Kt,F.lastBaseUpdate=kt,F.shared.pending=null}}while(!0);oe===null&&(Ct=pt),F.baseState=Ct,F.firstBaseUpdate=Jt,F.lastBaseUpdate=oe;var ce=F.shared.interleaved;if(ce!==null){var xe=ce;do mt=Ce(mt,xe.lane),xe=xe.next;while(xe!==ce)}else I===null&&(F.shared.lanes=Ft);xh(mt),p.lanes=mt,p.memoizedState=pt}Cc=null}function fN(p,g){if(typeof p!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+p));p.call(g)}function j1(){Ec=!1}function Mc(){return Ec}function K1(p,g,M){var L=g.effects;if(g.effects=null,L!==null)for(var F=0;F<L.length;F++){var I=L[F],X=I.callback;X!==null&&(I.callback=null,fN(X,M))}}var Lm={},$1=new E.Component().refs,Om,Dm,Fm,bm,Nm,Z1,Pc,wm,Bm,Im;{Om=new Set,Dm=new Set,Fm=new Set,bm=new Set,wm=new Set,Nm=new Set,Bm=new Set,Im=new Set;var Q1=new Set;Pc=function(p,g){if(!(p===null||typeof p=="function")){var M=g+"_"+p;Q1.has(M)||(Q1.add(M),u("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",g,p))}},Z1=function(p,g){if(g===void 0){var M=ze(p)||"Component";Nm.has(M)||(Nm.add(M),u("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",M))}},Object.defineProperty(Lm,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Lm)}function Um(p,g,M,L){var F=p.memoizedState,I=M(L,F);{if(p.mode&Pi){Xi(!0);try{I=M(L,F)}finally{Xi(!1)}}Z1(g,I)}var X=I==null?F:Le({},F,I);if(p.memoizedState=X,p.lanes===Ft){var K=p.updateQueue;K.baseState=X}}var Vm={isMounted:TL,enqueueSetState:function(p,g,M){var L=bo(p),F=mn(),I=la(L),X=Es(F,I);X.payload=g,M!=null&&(Pc(M,"setState"),X.callback=M);var K=ta(L,X,I);K!==null&&(Gi(K,L,I,F),Rc(K,L,I)),qv(L,I)},enqueueReplaceState:function(p,g,M){var L=bo(p),F=mn(),I=la(L),X=Es(F,I);X.tag=H1,X.payload=g,M!=null&&(Pc(M,"replaceState"),X.callback=M);var K=ta(L,X,I);K!==null&&(Gi(K,L,I,F),Rc(K,L,I)),qv(L,I)},enqueueForceUpdate:function(p,g){var M=bo(p),L=mn(),F=la(M),I=Es(L,F);I.tag=Sc,g!=null&&(Pc(g,"forceUpdate"),I.callback=g);var X=ta(M,I,F);X!==null&&(Gi(X,M,F,L),Rc(X,M,F)),kL(M,F)}};function J1(p,g,M,L,F,I,X){var K=p.stateNode;if(typeof K.shouldComponentUpdate=="function"){var Q=K.shouldComponentUpdate(L,I,X);{if(p.mode&Pi){Xi(!0);try{Q=K.shouldComponentUpdate(L,I,X)}finally{Xi(!1)}}Q===void 0&&u("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",ze(g)||"Component")}return Q}return g.prototype&&g.prototype.isPureReactComponent?!Mu(M,L)||!Mu(F,I):!0}function cN(p,g,M){var L=p.stateNode;{var F=ze(g)||"Component",I=L.render;I||(g.prototype&&typeof g.prototype.render=="function"?u("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",F):u("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",F)),L.getInitialState&&!L.getInitialState.isReactClassApproved&&!L.state&&u("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",F),L.getDefaultProps&&!L.getDefaultProps.isReactClassApproved&&u("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",F),L.propTypes&&u("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",F),L.contextType&&u("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",F),L.contextTypes&&u("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",F),g.contextType&&g.contextTypes&&!Bm.has(g)&&(Bm.add(g),u("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",F)),typeof L.componentShouldUpdate=="function"&&u("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",F),g.prototype&&g.prototype.isPureReactComponent&&typeof L.shouldComponentUpdate<"u"&&u("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",ze(g)||"A pure component"),typeof L.componentDidUnmount=="function"&&u("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",F),typeof L.componentDidReceiveProps=="function"&&u("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",F),typeof L.componentWillRecieveProps=="function"&&u("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",F),typeof L.UNSAFE_componentWillRecieveProps=="function"&&u("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",F);var X=L.props!==M;L.props!==void 0&&X&&u("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",F,F),L.defaultProps&&u("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",F,F),typeof L.getSnapshotBeforeUpdate=="function"&&typeof L.componentDidUpdate!="function"&&!Fm.has(g)&&(Fm.add(g),u("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",ze(g))),typeof L.getDerivedStateFromProps=="function"&&u("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",F),typeof L.getDerivedStateFromError=="function"&&u("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",F),typeof g.getSnapshotBeforeUpdate=="function"&&u("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",F);var K=L.state;K&&(typeof K!="object"||Ye(K))&&u("%s.state: must be set to an object or null",F),typeof L.getChildContext=="function"&&typeof g.childContextTypes!="object"&&u("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",F)}}function k1(p,g){g.updater=Vm,p.stateNode=g,pL(g,p),g._reactInternalInstance=Lm}function q1(p,g,M){var L=!1,F=Gn,I=Gn,X=g.contextType;if("contextType"in g){var K=X===null||X!==void 0&&X.$$typeof===Ot&&X._context===void 0;if(!K&&!Im.has(g)){Im.add(g);var Q="";X===void 0?Q=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof X!="object"?Q=" However, it is set to a "+typeof X+".":X.$$typeof===yt?Q=" Did you accidentally pass the Context.Provider instead?":X._context!==void 0?Q=" Did you accidentally pass the Context.Consumer instead?":Q=" However, it is set to an object with keys {"+Object.keys(X).join(", ")+"}.",u("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",ze(g)||"Component",Q)}}if(typeof X=="object"&&X!==null)I=Li(X);else{F=Jo(p,g,!0);var tt=g.contextTypes;L=tt!=null,I=L?ko(p,F):Gn}var et=new g(M,I);if(p.mode&Pi){Xi(!0);try{et=new g(M,I)}finally{Xi(!1)}}var ut=p.memoizedState=et.state!==null&&et.state!==void 0?et.state:null;k1(p,et);{if(typeof g.getDerivedStateFromProps=="function"&&ut===null){var lt=ze(g)||"Component";Dm.has(lt)||(Dm.add(lt),u("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",lt,et.state===null?"null":"undefined",lt))}if(typeof g.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"){var pt=null,mt=null,Ct=null;if(typeof et.componentWillMount=="function"&&et.componentWillMount.__suppressDeprecationWarning!==!0?pt="componentWillMount":typeof et.UNSAFE_componentWillMount=="function"&&(pt="UNSAFE_componentWillMount"),typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps.__suppressDeprecationWarning!==!0?mt="componentWillReceiveProps":typeof et.UNSAFE_componentWillReceiveProps=="function"&&(mt="UNSAFE_componentWillReceiveProps"),typeof et.componentWillUpdate=="function"&&et.componentWillUpdate.__suppressDeprecationWarning!==!0?Ct="componentWillUpdate":typeof et.UNSAFE_componentWillUpdate=="function"&&(Ct="UNSAFE_componentWillUpdate"),pt!==null||mt!==null||Ct!==null){var Jt=ze(g)||"Component",oe=typeof g.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";bm.has(Jt)||(bm.add(Jt),u(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Jt,oe,pt!==null?`
  `+pt:"",mt!==null?`
  `+mt:"",Ct!==null?`
  `+Ct:""))}}}return L&&E1(p,F,I),et}function dN(p,g){var M=g.state;typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),M!==g.state&&(u("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Te(p)||"Component"),Vm.enqueueReplaceState(g,g.state,null))}function _1(p,g,M,L){var F=g.state;if(typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(M,L),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(M,L),g.state!==F){{var I=Te(p)||"Component";Om.has(I)||(Om.add(I),u("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",I))}Vm.enqueueReplaceState(g,g.state,null)}}function Gm(p,g,M,L){cN(p,g,M);var F=p.stateNode;F.props=M,F.state=p.memoizedState,F.refs=$1,Mm(p);var I=g.contextType;if(typeof I=="object"&&I!==null)F.context=Li(I);else{var X=Jo(p,g,!0);F.context=ko(p,X)}{if(F.state===M){var K=ze(g)||"Component";wm.has(K)||(wm.add(K),u("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",K))}p.mode&Pi&&dr.recordLegacyContextWarning(p,F),dr.recordUnsafeLifecycleWarnings(p,F)}F.state=p.memoizedState;var Q=g.getDerivedStateFromProps;if(typeof Q=="function"&&(Um(p,g,Q,M),F.state=p.memoizedState),typeof g.getDerivedStateFromProps!="function"&&typeof F.getSnapshotBeforeUpdate!="function"&&(typeof F.UNSAFE_componentWillMount=="function"||typeof F.componentWillMount=="function")&&(dN(p,F),Ac(p,M,F,L),F.state=p.memoizedState),typeof F.componentDidMount=="function"){var tt=Ne;tt|=wa,(p.mode&br)!==he&&(tt|=cs),p.flags|=tt}}function vN(p,g,M,L){var F=p.stateNode,I=p.memoizedProps;F.props=I;var X=F.context,K=g.contextType,Q=Gn;if(typeof K=="object"&&K!==null)Q=Li(K);else{var tt=Jo(p,g,!0);Q=ko(p,tt)}var et=g.getDerivedStateFromProps,ut=typeof et=="function"||typeof F.getSnapshotBeforeUpdate=="function";!ut&&(typeof F.UNSAFE_componentWillReceiveProps=="function"||typeof F.componentWillReceiveProps=="function")&&(I!==M||X!==Q)&&_1(p,F,M,Q),j1();var lt=p.memoizedState,pt=F.state=lt;if(Ac(p,M,F,L),pt=p.memoizedState,I===M&&lt===pt&&!lc()&&!Mc()){if(typeof F.componentDidMount=="function"){var mt=Ne;mt|=wa,(p.mode&br)!==he&&(mt|=cs),p.flags|=mt}return!1}typeof et=="function"&&(Um(p,g,et,M),pt=p.memoizedState);var Ct=Mc()||J1(p,g,I,M,lt,pt,Q);if(Ct){if(!ut&&(typeof F.UNSAFE_componentWillMount=="function"||typeof F.componentWillMount=="function")&&(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"){var Jt=Ne;Jt|=wa,(p.mode&br)!==he&&(Jt|=cs),p.flags|=Jt}}else{if(typeof F.componentDidMount=="function"){var oe=Ne;oe|=wa,(p.mode&br)!==he&&(oe|=cs),p.flags|=oe}p.memoizedProps=M,p.memoizedState=pt}return F.props=M,F.state=pt,F.context=Q,Ct}function pN(p,g,M,L,F){var I=g.stateNode;W1(p,g);var X=g.memoizedProps,K=g.type===g.elementType?X:vr(g.type,X);I.props=K;var Q=g.pendingProps,tt=I.context,et=M.contextType,ut=Gn;if(typeof et=="object"&&et!==null)ut=Li(et);else{var lt=Jo(g,M,!0);ut=ko(g,lt)}var pt=M.getDerivedStateFromProps,mt=typeof pt=="function"||typeof I.getSnapshotBeforeUpdate=="function";!mt&&(typeof I.UNSAFE_componentWillReceiveProps=="function"||typeof I.componentWillReceiveProps=="function")&&(X!==Q||tt!==ut)&&_1(g,I,L,ut),j1();var Ct=g.memoizedState,Jt=I.state=Ct;if(Ac(g,L,I,F),Jt=g.memoizedState,X===Q&&Ct===Jt&&!lc()&&!Mc()&&!_)return typeof I.componentDidUpdate=="function"&&(X!==p.memoizedProps||Ct!==p.memoizedState)&&(g.flags|=Ne),typeof I.getSnapshotBeforeUpdate=="function"&&(X!==p.memoizedProps||Ct!==p.memoizedState)&&(g.flags|=ba),!1;typeof pt=="function"&&(Um(g,M,pt,L),Jt=g.memoizedState);var oe=Mc()||J1(g,M,K,L,Ct,Jt,ut)||_;return oe?(!mt&&(typeof I.UNSAFE_componentWillUpdate=="function"||typeof I.componentWillUpdate=="function")&&(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(L,Jt,ut),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(L,Jt,ut)),typeof I.componentDidUpdate=="function"&&(g.flags|=Ne),typeof I.getSnapshotBeforeUpdate=="function"&&(g.flags|=ba)):(typeof I.componentDidUpdate=="function"&&(X!==p.memoizedProps||Ct!==p.memoizedState)&&(g.flags|=Ne),typeof I.getSnapshotBeforeUpdate=="function"&&(X!==p.memoizedProps||Ct!==p.memoizedState)&&(g.flags|=ba),g.memoizedProps=L,g.memoizedState=Jt),I.props=L,I.state=Jt,I.context=ut,oe}var zm,Ym,Xm,Hm,Wm,tS=function(p,g){};zm=!1,Ym=!1,Xm={},Hm={},Wm={},tS=function(p,g){if(!(p===null||typeof p!="object")&&!(!p._store||p._store.validated||p.key!=null)){if(typeof p._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");p._store.validated=!0;var M=Te(g)||"Component";Hm[M]||(Hm[M]=!0,u('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function $u(p,g,M){var L=M.ref;if(L!==null&&typeof L!="function"&&typeof L!="object"){if((p.mode&Pi||H)&&!(M._owner&&M._self&&M._owner.stateNode!==M._self)){var F=Te(p)||"Component";Xm[F]||(u('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',L),Xm[F]=!0)}if(M._owner){var I=M._owner,X;if(I){var K=I;if(K.tag!==n)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");X=K.stateNode}if(!X)throw new Error("Missing owner for string ref "+L+". This error is likely caused by a bug in React. Please file an issue.");var Q=X;ne(L,"ref");var tt=""+L;if(g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===tt)return g.ref;var et=function(ut){var lt=Q.refs;lt===$1&&(lt=Q.refs={}),ut===null?delete lt[tt]:lt[tt]=ut};return et._stringRef=tt,et}else{if(typeof L!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!M._owner)throw new Error("Element ref was specified as a string ("+L+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return L}function Lc(p,g){var M=Object.prototype.toString.call(g);throw new Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}function Oc(p){{var g=Te(p)||"Component";if(Wm[g])return;Wm[g]=!0,u("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function eS(p){var g=p._payload,M=p._init;return M(g)}function iS(p){function g(ft,Rt){if(p){var ct=ft.deletions;ct===null?(ft.deletions=[Rt],ft.flags|=Fa):ct.push(Rt)}}function M(ft,Rt){if(!p)return null;for(var ct=Rt;ct!==null;)g(ft,ct),ct=ct.sibling;return null}function L(ft,Rt){for(var ct=new Map,Nt=Rt;Nt!==null;)Nt.key!==null?ct.set(Nt.key,Nt):ct.set(Nt.index,Nt),Nt=Nt.sibling;return ct}function F(ft,Rt){var ct=ro(ft,Rt);return ct.index=0,ct.sibling=null,ct}function I(ft,Rt,ct){if(ft.index=ct,!p)return ft.flags|=Hy,Rt;var Nt=ft.alternate;if(Nt!==null){var kt=Nt.index;return kt<Rt?(ft.flags|=Mi,Rt):kt}else return ft.flags|=Mi,Rt}function X(ft){return p&&ft.alternate===null&&(ft.flags|=Mi),ft}function K(ft,Rt,ct,Nt){if(Rt===null||Rt.tag!==h){var kt=g0(ct,ft.mode,Nt);return kt.return=ft,kt}else{var Kt=F(Rt,ct);return Kt.return=ft,Kt}}function Q(ft,Rt,ct,Nt){var kt=ct.type;if(kt===bt)return et(ft,Rt,ct.props.children,Nt,ct.key);if(Rt!==null&&(Rt.elementType===kt||KE(Rt,ct)||typeof kt=="object"&&kt!==null&&kt.$$typeof===jt&&eS(kt)===Rt.type)){var Kt=F(Rt,ct.props);return Kt.ref=$u(ft,Rt,ct),Kt.return=ft,Kt._debugSource=ct._source,Kt._debugOwner=ct._owner,Kt}var ce=m0(ct,ft.mode,Nt);return ce.ref=$u(ft,Rt,ct),ce.return=ft,ce}function tt(ft,Rt,ct,Nt){if(Rt===null||Rt.tag!==f||Rt.stateNode.containerInfo!==ct.containerInfo||Rt.stateNode.implementation!==ct.implementation){var kt=x0(ct,ft.mode,Nt);return kt.return=ft,kt}else{var Kt=F(Rt,ct.children||[]);return Kt.return=ft,Kt}}function et(ft,Rt,ct,Nt,kt){if(Rt===null||Rt.tag!==c){var Kt=ha(ct,ft.mode,Nt,kt);return Kt.return=ft,Kt}else{var ce=F(Rt,ct);return ce.return=ft,ce}}function ut(ft,Rt,ct){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"){var Nt=g0(""+Rt,ft.mode,ct);return Nt.return=ft,Nt}if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case Zn:{var kt=m0(Rt,ft.mode,ct);return kt.ref=$u(ft,null,Rt),kt.return=ft,kt}case at:{var Kt=x0(Rt,ft.mode,ct);return Kt.return=ft,Kt}case jt:{var ce=Rt._payload,xe=Rt._init;return ut(ft,xe(ce),ct)}}if(Ye(Rt)||rs(Rt)){var ke=ha(Rt,ft.mode,ct,null);return ke.return=ft,ke}Lc(ft,Rt)}return typeof Rt=="function"&&Oc(ft),null}function lt(ft,Rt,ct,Nt){var kt=Rt!==null?Rt.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return kt!==null?null:K(ft,Rt,""+ct,Nt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case Zn:return ct.key===kt?Q(ft,Rt,ct,Nt):null;case at:return ct.key===kt?tt(ft,Rt,ct,Nt):null;case jt:{var Kt=ct._payload,ce=ct._init;return lt(ft,Rt,ce(Kt),Nt)}}if(Ye(ct)||rs(ct))return kt!==null?null:et(ft,Rt,ct,Nt,null);Lc(ft,ct)}return typeof ct=="function"&&Oc(ft),null}function pt(ft,Rt,ct,Nt,kt){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number"){var Kt=ft.get(ct)||null;return K(Rt,Kt,""+Nt,kt)}if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case Zn:{var ce=ft.get(Nt.key===null?ct:Nt.key)||null;return Q(Rt,ce,Nt,kt)}case at:{var xe=ft.get(Nt.key===null?ct:Nt.key)||null;return tt(Rt,xe,Nt,kt)}case jt:var ke=Nt._payload,Ve=Nt._init;return pt(ft,Rt,ct,Ve(ke),kt)}if(Ye(Nt)||rs(Nt)){var Ei=ft.get(ct)||null;return et(Rt,Ei,Nt,kt,null)}Lc(Rt,Nt)}return typeof Nt=="function"&&Oc(Rt),null}function mt(ft,Rt,ct){{if(typeof ft!="object"||ft===null)return Rt;switch(ft.$$typeof){case Zn:case at:tS(ft,ct);var Nt=ft.key;if(typeof Nt!="string")break;if(Rt===null){Rt=new Set,Rt.add(Nt);break}if(!Rt.has(Nt)){Rt.add(Nt);break}u("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",Nt);break;case jt:var kt=ft._payload,Kt=ft._init;mt(Kt(kt),Rt,ct);break}}return Rt}function Ct(ft,Rt,ct,Nt){for(var kt=null,Kt=0;Kt<ct.length;Kt++){var ce=ct[Kt];kt=mt(ce,kt,ft)}for(var xe=null,ke=null,Ve=Rt,Ei=0,Ge=0,yi=null;Ve!==null&&Ge<ct.length;Ge++){Ve.index>Ge?(yi=Ve,Ve=null):yi=Ve.sibling;var ln=lt(ft,Ve,ct[Ge],Nt);if(ln===null){Ve===null&&(Ve=yi);break}p&&Ve&&ln.alternate===null&&g(ft,Ve),Ei=I(ln,Ei,Ge),ke===null?xe=ln:ke.sibling=ln,ke=ln,Ve=yi}if(Ge===ct.length){if(M(ft,Ve),$i()){var tn=Ge;ja(ft,tn)}return xe}if(Ve===null){for(;Ge<ct.length;Ge++){var Yn=ut(ft,ct[Ge],Nt);Yn!==null&&(Ei=I(Yn,Ei,Ge),ke===null?xe=Yn:ke.sibling=Yn,ke=Yn)}if($i()){var gn=Ge;ja(ft,gn)}return xe}for(var xn=L(ft,Ve);Ge<ct.length;Ge++){var un=pt(xn,ft,Ge,ct[Ge],Nt);un!==null&&(p&&un.alternate!==null&&xn.delete(un.key===null?Ge:un.key),Ei=I(un,Ei,Ge),ke===null?xe=un:ke.sibling=un,ke=un)}if(p&&xn.forEach(function(yl){return g(ft,yl)}),$i()){var Ls=Ge;ja(ft,Ls)}return xe}function Jt(ft,Rt,ct,Nt){var kt=rs(ct);if(typeof kt!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&ct[Symbol.toStringTag]==="Generator"&&(Ym||u("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Ym=!0),ct.entries===kt&&(zm||u("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),zm=!0);var Kt=kt.call(ct);if(Kt)for(var ce=null,xe=Kt.next();!xe.done;xe=Kt.next()){var ke=xe.value;ce=mt(ke,ce,ft)}}var Ve=kt.call(ct);if(Ve==null)throw new Error("An iterable object provided no iterator.");for(var Ei=null,Ge=null,yi=Rt,ln=0,tn=0,Yn=null,gn=Ve.next();yi!==null&&!gn.done;tn++,gn=Ve.next()){yi.index>tn?(Yn=yi,yi=null):Yn=yi.sibling;var xn=lt(ft,yi,gn.value,Nt);if(xn===null){yi===null&&(yi=Yn);break}p&&yi&&xn.alternate===null&&g(ft,yi),ln=I(xn,ln,tn),Ge===null?Ei=xn:Ge.sibling=xn,Ge=xn,yi=Yn}if(gn.done){if(M(ft,yi),$i()){var un=tn;ja(ft,un)}return Ei}if(yi===null){for(;!gn.done;tn++,gn=Ve.next()){var Ls=ut(ft,gn.value,Nt);Ls!==null&&(ln=I(Ls,ln,tn),Ge===null?Ei=Ls:Ge.sibling=Ls,Ge=Ls)}if($i()){var yl=tn;ja(ft,yl)}return Ei}for(var Ch=L(ft,yi);!gn.done;tn++,gn=Ve.next()){var Hr=pt(Ch,ft,tn,gn.value,Nt);Hr!==null&&(p&&Hr.alternate!==null&&Ch.delete(Hr.key===null?tn:Hr.key),ln=I(Hr,ln,tn),Ge===null?Ei=Hr:Ge.sibling=Hr,Ge=Hr)}if(p&&Ch.forEach(function(O3){return g(ft,O3)}),$i()){var L3=tn;ja(ft,L3)}return Ei}function oe(ft,Rt,ct,Nt){if(Rt!==null&&Rt.tag===h){M(ft,Rt.sibling);var kt=F(Rt,ct);return kt.return=ft,kt}M(ft,Rt);var Kt=g0(ct,ft.mode,Nt);return Kt.return=ft,Kt}function re(ft,Rt,ct,Nt){for(var kt=ct.key,Kt=Rt;Kt!==null;){if(Kt.key===kt){var ce=ct.type;if(ce===bt){if(Kt.tag===c){M(ft,Kt.sibling);var xe=F(Kt,ct.props.children);return xe.return=ft,xe._debugSource=ct._source,xe._debugOwner=ct._owner,xe}}else if(Kt.elementType===ce||KE(Kt,ct)||typeof ce=="object"&&ce!==null&&ce.$$typeof===jt&&eS(ce)===Kt.type){M(ft,Kt.sibling);var ke=F(Kt,ct.props);return ke.ref=$u(ft,Kt,ct),ke.return=ft,ke._debugSource=ct._source,ke._debugOwner=ct._owner,ke}M(ft,Kt);break}else g(ft,Kt);Kt=Kt.sibling}if(ct.type===bt){var Ve=ha(ct.props.children,ft.mode,Nt,ct.key);return Ve.return=ft,Ve}else{var Ei=m0(ct,ft.mode,Nt);return Ei.ref=$u(ft,Rt,ct),Ei.return=ft,Ei}}function be(ft,Rt,ct,Nt){for(var kt=ct.key,Kt=Rt;Kt!==null;){if(Kt.key===kt)if(Kt.tag===f&&Kt.stateNode.containerInfo===ct.containerInfo&&Kt.stateNode.implementation===ct.implementation){M(ft,Kt.sibling);var ce=F(Kt,ct.children||[]);return ce.return=ft,ce}else{M(ft,Kt);break}else g(ft,Kt);Kt=Kt.sibling}var xe=x0(ct,ft.mode,Nt);return xe.return=ft,xe}function Pe(ft,Rt,ct,Nt){var kt=typeof ct=="object"&&ct!==null&&ct.type===bt&&ct.key===null;if(kt&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case Zn:return X(re(ft,Rt,ct,Nt));case at:return X(be(ft,Rt,ct,Nt));case jt:var Kt=ct._payload,ce=ct._init;return Pe(ft,Rt,ce(Kt),Nt)}if(Ye(ct))return Ct(ft,Rt,ct,Nt);if(rs(ct))return Jt(ft,Rt,ct,Nt);Lc(ft,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?X(oe(ft,Rt,""+ct,Nt)):(typeof ct=="function"&&Oc(ft),M(ft,Rt))}return Pe}var nl=iS(!0),nS=iS(!1);function mN(p,g){if(p!==null&&g.child!==p.child)throw new Error("Resuming work not yet implemented.");if(g.child!==null){var M=g.child,L=ro(M,M.pendingProps);for(g.child=L,L.return=g;M.sibling!==null;)M=M.sibling,L=L.sibling=ro(M,M.pendingProps),L.return=g;L.sibling=null}}function gN(p,g){for(var M=p.child;M!==null;)KB(M,g),M=M.sibling}var Zu={},ea=Js(Zu),Qu=Js(Zu),Dc=Js(Zu);function Fc(p){if(p===Zu)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return p}function rS(){var p=Fc(Dc.current);return p}function jm(p,g){an(Dc,g,p),an(Qu,p,p),an(ea,Zu,p);var M=FF(g);sn(ea,p),an(ea,M,p)}function rl(p){sn(ea,p),sn(Qu,p),sn(Dc,p)}function Km(){var p=Fc(ea.current);return p}function sS(p){Fc(Dc.current);var g=Fc(ea.current),M=bF(g,p.type);g!==M&&(an(Qu,p,p),an(ea,M,p))}function $m(p){Qu.current===p&&(sn(ea,p),sn(Qu,p))}var xN=0,aS=1,oS=1,Ju=2,pr=Js(xN);function Zm(p,g){return(p&g)!==0}function sl(p){return p&aS}function Qm(p,g){return p&aS|g}function yN(p,g){return p|g}function ia(p,g){an(pr,g,p)}function al(p){sn(pr,p)}function TN(p,g){var M=p.memoizedState;return M!==null?M.dehydrated!==null:(p.memoizedProps,!0)}function bc(p){for(var g=p;g!==null;){if(g.tag===C){var M=g.memoizedState;if(M!==null){var L=M.dehydrated;if(L===null||g1(L)||em(L))return g}}else if(g.tag===D&&g.memoizedProps.revealOrder!==void 0){var F=(g.flags&Xe)!==ue;if(F)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===p)return null;for(;g.sibling===null;){if(g.return===null||g.return===p)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Pn=0,bi=1,Ir=2,Ni=4,Zi=8,Jm=[];function km(){for(var p=0;p<Jm.length;p++){var g=Jm[p];g._workInProgressVersionPrimary=null}Jm.length=0}function SN(p,g){var M=g._getVersion,L=M(g._source);p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[g,L]:p.mutableSourceEagerHydrationData.push(g,L)}var Qt=o.ReactCurrentDispatcher,ku=o.ReactCurrentBatchConfig,qm,ol;qm=new Set;var ka=Ft,Je=null,wi=null,Bi=null,Nc=!1,qu=!1,_u=0,EN=0,CN=25,Lt=null,_n=null,na=-1,_m=!1;function Ke(){{var p=Lt;_n===null?_n=[p]:_n.push(p)}}function Yt(){{var p=Lt;_n!==null&&(na++,_n[na]!==p&&RN(p))}}function ll(p){p!=null&&!Ye(p)&&u("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Lt,typeof p)}function RN(p){{var g=Te(Je);if(!qm.has(g)&&(qm.add(g),_n!==null)){for(var M="",L=30,F=0;F<=na;F++){for(var I=_n[F],X=F===na?p:I,K=F+1+". "+I;K.length<L;)K+=" ";K+=X+`
`,M+=K}u(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,g,M)}}}function on(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function tg(p,g){if(_m)return!1;if(g===null)return u("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Lt),!1;p.length!==g.length&&u(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Lt,"["+g.join(", ")+"]","["+p.join(", ")+"]");for(var M=0;M<g.length&&M<p.length;M++)if(!Vn(p[M],g[M]))return!1;return!0}function ul(p,g,M,L,F,I){ka=I,Je=g,_n=p!==null?p._debugHookTypes:null,na=-1,_m=p!==null&&p.type!==g.type,g.memoizedState=null,g.updateQueue=null,g.lanes=Ft,p!==null&&p.memoizedState!==null?Qt.current=OS:_n!==null?Qt.current=LS:Qt.current=PS;var X=M(L,F);if(qu){var K=0;do{if(qu=!1,_u=0,K>=CN)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");K+=1,_m=!1,wi=null,Bi=null,g.updateQueue=null,na=-1,Qt.current=DS,X=M(L,F)}while(qu)}Qt.current=Kc,g._debugHookTypes=_n;var Q=wi!==null&&wi.next!==null;if(ka=Ft,Je=null,wi=null,Bi=null,Lt=null,_n=null,na=-1,p!==null&&(p.flags&ds)!==(g.flags&ds)&&(p.mode&De)!==he&&u("Internal React error: Expected static flag was missing. Please notify the React team."),Nc=!1,Q)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return X}function hl(){var p=_u!==0;return _u=0,p}function lS(p,g,M){g.updateQueue=p.updateQueue,(g.mode&br)!==he?g.flags&=~(Mf|cs|lr|Ne):g.flags&=~(lr|Ne),p.lanes=Nf(p.lanes,M)}function uS(){if(Qt.current=Kc,Nc){for(var p=Je.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Nc=!1}ka=Ft,Je=null,wi=null,Bi=null,_n=null,na=-1,Lt=null,ES=!1,qu=!1,_u=0}function Ur(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?Je.memoizedState=Bi=p:Bi=Bi.next=p,Bi}function tr(){var p;if(wi===null){var g=Je.alternate;g!==null?p=g.memoizedState:p=null}else p=wi.next;var M;if(Bi===null?M=Je.memoizedState:M=Bi.next,M!==null)Bi=M,M=Bi.next,wi=p;else{if(p===null)throw new Error("Rendered more hooks than during the previous render.");wi=p;var L={memoizedState:wi.memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null};Bi===null?Je.memoizedState=Bi=L:Bi=Bi.next=L}return Bi}function hS(){return{lastEffect:null,stores:null}}function eg(p,g){return typeof g=="function"?g(p):g}function ig(p,g,M){var L=Ur(),F;M!==void 0?F=M(g):F=g,L.memoizedState=L.baseState=F;var I={pending:null,interleaved:null,lanes:Ft,dispatch:null,lastRenderedReducer:p,lastRenderedState:F};L.queue=I;var X=I.dispatch=LN.bind(null,Je,I);return[L.memoizedState,X]}function ng(p,g,M){var L=tr(),F=L.queue;if(F===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");F.lastRenderedReducer=p;var I=wi,X=I.baseQueue,K=F.pending;if(K!==null){if(X!==null){var Q=X.next,tt=K.next;X.next=tt,K.next=Q}I.baseQueue!==X&&u("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),I.baseQueue=X=K,F.pending=null}if(X!==null){var et=X.next,ut=I.baseState,lt=null,pt=null,mt=null,Ct=et;do{var Jt=Ct.lane;if(zo(ka,Jt)){if(mt!==null){var re={lane:Hi,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};mt=mt.next=re}if(Ct.hasEagerState)ut=Ct.eagerState;else{var be=Ct.action;ut=p(ut,be)}}else{var oe={lane:Jt,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};mt===null?(pt=mt=oe,lt=ut):mt=mt.next=oe,Je.lanes=Ce(Je.lanes,Jt),xh(Jt)}Ct=Ct.next}while(Ct!==null&&Ct!==et);mt===null?lt=ut:mt.next=pt,Vn(ut,L.memoizedState)||ah(),L.memoizedState=ut,L.baseState=lt,L.baseQueue=mt,F.lastRenderedState=ut}var Pe=F.interleaved;if(Pe!==null){var ft=Pe;do{var Rt=ft.lane;Je.lanes=Ce(Je.lanes,Rt),xh(Rt),ft=ft.next}while(ft!==Pe)}else X===null&&(F.lanes=Ft);var ct=F.dispatch;return[L.memoizedState,ct]}function rg(p,g,M){var L=tr(),F=L.queue;if(F===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");F.lastRenderedReducer=p;var I=F.dispatch,X=F.pending,K=L.memoizedState;if(X!==null){F.pending=null;var Q=X.next,tt=Q;do{var et=tt.action;K=p(K,et),tt=tt.next}while(tt!==Q);Vn(K,L.memoizedState)||ah(),L.memoizedState=K,L.baseQueue===null&&(L.baseState=K),F.lastRenderedState=K}return[K,I]}function U8(p,g,M){}function V8(p,g,M){}function sg(p,g,M){var L=Je,F=Ur(),I,X=$i();if(X){if(M===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");I=M(),ol||I!==M()&&(u("The result of getServerSnapshot should be cached to avoid an infinite loop"),ol=!0)}else{if(I=g(),!ol){var K=g();Vn(I,K)||(u("The result of getSnapshot should be cached to avoid an infinite loop"),ol=!0)}var Q=hd();if(Q===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");bf(Q,ka)||fS(L,g,I)}F.memoizedState=I;var tt={value:I,getSnapshot:g};return F.queue=tt,Vc(dS.bind(null,L,tt,p),[p]),L.flags|=lr,th(bi|Zi,cS.bind(null,L,tt,I,g),void 0,null),I}function wc(p,g,M){var L=Je,F=tr(),I=g();if(!ol){var X=g();Vn(I,X)||(u("The result of getSnapshot should be cached to avoid an infinite loop"),ol=!0)}var K=F.memoizedState,Q=!Vn(K,I);Q&&(F.memoizedState=I,ah());var tt=F.queue;if(ih(dS.bind(null,L,tt,p),[p]),tt.getSnapshot!==g||Q||Bi!==null&&Bi.memoizedState.tag&bi){L.flags|=lr,th(bi|Zi,cS.bind(null,L,tt,I,g),void 0,null);var et=hd();if(et===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");bf(et,ka)||fS(L,g,I)}return I}function fS(p,g,M){p.flags|=Af;var L={getSnapshot:g,value:M},F=Je.updateQueue;if(F===null)F=hS(),Je.updateQueue=F,F.stores=[L];else{var I=F.stores;I===null?F.stores=[L]:I.push(L)}}function cS(p,g,M,L){g.value=M,g.getSnapshot=L,vS(g)&&pS(p)}function dS(p,g,M){var L=function(){vS(g)&&pS(p)};return M(L)}function vS(p){var g=p.getSnapshot,M=p.value;try{var L=g();return!Vn(M,L)}catch{return!0}}function pS(p){var g=Mn(p,me);g!==null&&Gi(g,p,me,oi)}function Bc(p){var g=Ur();typeof p=="function"&&(p=p()),g.memoizedState=g.baseState=p;var M={pending:null,interleaved:null,lanes:Ft,dispatch:null,lastRenderedReducer:eg,lastRenderedState:p};g.queue=M;var L=M.dispatch=ON.bind(null,Je,M);return[g.memoizedState,L]}function ag(p){return ng(eg)}function og(p){return rg(eg)}function th(p,g,M,L){var F={tag:p,create:g,destroy:M,deps:L,next:null},I=Je.updateQueue;if(I===null)I=hS(),Je.updateQueue=I,I.lastEffect=F.next=F;else{var X=I.lastEffect;if(X===null)I.lastEffect=F.next=F;else{var K=X.next;X.next=F,F.next=K,I.lastEffect=F}}return F}function lg(p){var g=Ur();{var M={current:p};return g.memoizedState=M,M}}function Ic(p){var g=tr();return g.memoizedState}function eh(p,g,M,L){var F=Ur(),I=L===void 0?null:L;Je.flags|=p,F.memoizedState=th(bi|g,M,void 0,I)}function Uc(p,g,M,L){var F=tr(),I=L===void 0?null:L,X=void 0;if(wi!==null){var K=wi.memoizedState;if(X=K.destroy,I!==null){var Q=K.deps;if(tg(I,Q)){F.memoizedState=th(g,M,X,I);return}}}Je.flags|=p,F.memoizedState=th(bi|g,M,X,I)}function Vc(p,g){return(Je.mode&br)!==he?eh(Mf|lr|$v,Zi,p,g):eh(lr|$v,Zi,p,g)}function ih(p,g){return Uc(lr,Zi,p,g)}function ug(p,g){return eh(Ne,Ir,p,g)}function Gc(p,g){return Uc(Ne,Ir,p,g)}function hg(p,g){var M=Ne;return M|=wa,(Je.mode&br)!==he&&(M|=cs),eh(M,Ni,p,g)}function zc(p,g){return Uc(Ne,Ni,p,g)}function mS(p,g){if(typeof g=="function"){var M=g,L=p();return M(L),function(){M(null)}}else if(g!=null){var F=g;F.hasOwnProperty("current")||u("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(F).join(", ")+"}");var I=p();return F.current=I,function(){F.current=null}}}function fg(p,g,M){typeof g!="function"&&u("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",g!==null?typeof g:"null");var L=M!=null?M.concat([p]):null,F=Ne;return F|=wa,(Je.mode&br)!==he&&(F|=cs),eh(F,Ni,mS.bind(null,g,p),L)}function Yc(p,g,M){typeof g!="function"&&u("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",g!==null?typeof g:"null");var L=M!=null?M.concat([p]):null;return Uc(Ne,Ni,mS.bind(null,g,p),L)}function AN(p,g){}var Xc=AN;function cg(p,g){var M=Ur(),L=g===void 0?null:g;return M.memoizedState=[p,L],p}function Hc(p,g){var M=tr(),L=g===void 0?null:g,F=M.memoizedState;if(F!==null&&L!==null){var I=F[1];if(tg(L,I))return F[0]}return M.memoizedState=[p,L],p}function dg(p,g){var M=Ur(),L=g===void 0?null:g,F=p();return M.memoizedState=[F,L],F}function Wc(p,g){var M=tr(),L=g===void 0?null:g,F=M.memoizedState;if(F!==null&&L!==null){var I=F[1];if(tg(L,I))return F[0]}var X=p();return M.memoizedState=[X,L],X}function vg(p){var g=Ur();return g.memoizedState=p,p}function gS(p){var g=tr(),M=wi,L=M.memoizedState;return yS(g,L,p)}function xS(p){var g=tr();if(wi===null)return g.memoizedState=p,p;var M=wi.memoizedState;return yS(g,M,p)}function yS(p,g,M){var L=!oO(ka);if(L){if(!Vn(M,g)){var F=lT();Je.lanes=Ce(Je.lanes,F),xh(F),p.baseState=!0}return g}else return p.baseState&&(p.baseState=!1,ah()),p.memoizedState=M,M}function MN(p,g,M){var L=hr();Wi(mO(L,ps)),p(!0);var F=ku.transition;ku.transition={};var I=ku.transition;ku.transition._updatedFibers=new Set;try{p(!1),g()}finally{if(Wi(L),ku.transition=F,F===null&&I._updatedFibers){var X=I._updatedFibers.size;X>10&&e("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),I._updatedFibers.clear()}}}function pg(){var p=Bc(!1),g=p[0],M=p[1],L=MN.bind(null,M),F=Ur();return F.memoizedState=L,[g,L]}function TS(){var p=ag(),g=p[0],M=tr(),L=M.memoizedState;return[g,L]}function SS(){var p=og(),g=p[0],M=tr(),L=M.memoizedState;return[g,L]}var ES=!1;function PN(){return ES}function mg(){var p=Ur(),g=hd(),M=g.identifierPrefix,L;if($i()){var F=Yb();L=":"+M+"R"+F;var I=_u++;I>0&&(L+="H"+I.toString(32)),L+=":"}else{var X=EN++;L=":"+M+"r"+X.toString(32)+":"}return p.memoizedState=L,L}function jc(){var p=tr(),g=p.memoizedState;return g}function LN(p,g,M){typeof arguments[3]=="function"&&u("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var L=la(p),F={lane:L,action:M,hasEagerState:!1,eagerState:null,next:null};if(CS(p))RS(g,F);else{var I=Y1(p,g,F,L);if(I!==null){var X=mn();Gi(I,p,L,X),AS(I,g,L)}}MS(p,L)}function ON(p,g,M){typeof arguments[3]=="function"&&u("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var L=la(p),F={lane:L,action:M,hasEagerState:!1,eagerState:null,next:null};if(CS(p))RS(g,F);else{var I=p.alternate;if(p.lanes===Ft&&(I===null||I.lanes===Ft)){var X=g.lastRenderedReducer;if(X!==null){var K;K=Qt.current,Qt.current=mr;try{var Q=g.lastRenderedState,tt=X(Q,M);if(F.hasEagerState=!0,F.eagerState=tt,Vn(tt,Q)){oN(p,g,F,L);return}}catch{}finally{Qt.current=K}}}var et=Y1(p,g,F,L);if(et!==null){var ut=mn();Gi(et,p,L,ut),AS(et,g,L)}}MS(p,L)}function CS(p){var g=p.alternate;return p===Je||g!==null&&g===Je}function RS(p,g){qu=Nc=!0;var M=p.pending;M===null?g.next=g:(g.next=M.next,M.next=g),p.pending=g}function AS(p,g,M){if(oT(M)){var L=g.lanes;L=uT(L,p.pendingLanes);var F=Ce(L,M);g.lanes=F,Cp(p,F)}}function MS(p,g,M){qv(p,g)}var Kc={readContext:Li,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:q},PS=null,LS=null,OS=null,DS=null,Vr=null,mr=null,$c=null;{var gg=function(){u("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},ge=function(){u("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};PS={readContext:function(p){return Li(p)},useCallback:function(p,g){return Lt="useCallback",Ke(),ll(g),cg(p,g)},useContext:function(p){return Lt="useContext",Ke(),Li(p)},useEffect:function(p,g){return Lt="useEffect",Ke(),ll(g),Vc(p,g)},useImperativeHandle:function(p,g,M){return Lt="useImperativeHandle",Ke(),ll(M),fg(p,g,M)},useInsertionEffect:function(p,g){return Lt="useInsertionEffect",Ke(),ll(g),ug(p,g)},useLayoutEffect:function(p,g){return Lt="useLayoutEffect",Ke(),ll(g),hg(p,g)},useMemo:function(p,g){Lt="useMemo",Ke(),ll(g);var M=Qt.current;Qt.current=Vr;try{return dg(p,g)}finally{Qt.current=M}},useReducer:function(p,g,M){Lt="useReducer",Ke();var L=Qt.current;Qt.current=Vr;try{return ig(p,g,M)}finally{Qt.current=L}},useRef:function(p){return Lt="useRef",Ke(),lg(p)},useState:function(p){Lt="useState",Ke();var g=Qt.current;Qt.current=Vr;try{return Bc(p)}finally{Qt.current=g}},useDebugValue:function(p,g){return Lt="useDebugValue",Ke(),void 0},useDeferredValue:function(p){return Lt="useDeferredValue",Ke(),vg(p)},useTransition:function(){return Lt="useTransition",Ke(),pg()},useMutableSource:function(p,g,M){return Lt="useMutableSource",Ke(),void 0},useSyncExternalStore:function(p,g,M){return Lt="useSyncExternalStore",Ke(),sg(p,g,M)},useId:function(){return Lt="useId",Ke(),mg()},unstable_isNewReconciler:q},LS={readContext:function(p){return Li(p)},useCallback:function(p,g){return Lt="useCallback",Yt(),cg(p,g)},useContext:function(p){return Lt="useContext",Yt(),Li(p)},useEffect:function(p,g){return Lt="useEffect",Yt(),Vc(p,g)},useImperativeHandle:function(p,g,M){return Lt="useImperativeHandle",Yt(),fg(p,g,M)},useInsertionEffect:function(p,g){return Lt="useInsertionEffect",Yt(),ug(p,g)},useLayoutEffect:function(p,g){return Lt="useLayoutEffect",Yt(),hg(p,g)},useMemo:function(p,g){Lt="useMemo",Yt();var M=Qt.current;Qt.current=Vr;try{return dg(p,g)}finally{Qt.current=M}},useReducer:function(p,g,M){Lt="useReducer",Yt();var L=Qt.current;Qt.current=Vr;try{return ig(p,g,M)}finally{Qt.current=L}},useRef:function(p){return Lt="useRef",Yt(),lg(p)},useState:function(p){Lt="useState",Yt();var g=Qt.current;Qt.current=Vr;try{return Bc(p)}finally{Qt.current=g}},useDebugValue:function(p,g){return Lt="useDebugValue",Yt(),void 0},useDeferredValue:function(p){return Lt="useDeferredValue",Yt(),vg(p)},useTransition:function(){return Lt="useTransition",Yt(),pg()},useMutableSource:function(p,g,M){return Lt="useMutableSource",Yt(),void 0},useSyncExternalStore:function(p,g,M){return Lt="useSyncExternalStore",Yt(),sg(p,g,M)},useId:function(){return Lt="useId",Yt(),mg()},unstable_isNewReconciler:q},OS={readContext:function(p){return Li(p)},useCallback:function(p,g){return Lt="useCallback",Yt(),Hc(p,g)},useContext:function(p){return Lt="useContext",Yt(),Li(p)},useEffect:function(p,g){return Lt="useEffect",Yt(),ih(p,g)},useImperativeHandle:function(p,g,M){return Lt="useImperativeHandle",Yt(),Yc(p,g,M)},useInsertionEffect:function(p,g){return Lt="useInsertionEffect",Yt(),Gc(p,g)},useLayoutEffect:function(p,g){return Lt="useLayoutEffect",Yt(),zc(p,g)},useMemo:function(p,g){Lt="useMemo",Yt();var M=Qt.current;Qt.current=mr;try{return Wc(p,g)}finally{Qt.current=M}},useReducer:function(p,g,M){Lt="useReducer",Yt();var L=Qt.current;Qt.current=mr;try{return ng(p,g,M)}finally{Qt.current=L}},useRef:function(p){return Lt="useRef",Yt(),Ic()},useState:function(p){Lt="useState",Yt();var g=Qt.current;Qt.current=mr;try{return ag(p)}finally{Qt.current=g}},useDebugValue:function(p,g){return Lt="useDebugValue",Yt(),Xc()},useDeferredValue:function(p){return Lt="useDeferredValue",Yt(),gS(p)},useTransition:function(){return Lt="useTransition",Yt(),TS()},useMutableSource:function(p,g,M){return Lt="useMutableSource",Yt(),void 0},useSyncExternalStore:function(p,g,M){return Lt="useSyncExternalStore",Yt(),wc(p,g)},useId:function(){return Lt="useId",Yt(),jc()},unstable_isNewReconciler:q},DS={readContext:function(p){return Li(p)},useCallback:function(p,g){return Lt="useCallback",Yt(),Hc(p,g)},useContext:function(p){return Lt="useContext",Yt(),Li(p)},useEffect:function(p,g){return Lt="useEffect",Yt(),ih(p,g)},useImperativeHandle:function(p,g,M){return Lt="useImperativeHandle",Yt(),Yc(p,g,M)},useInsertionEffect:function(p,g){return Lt="useInsertionEffect",Yt(),Gc(p,g)},useLayoutEffect:function(p,g){return Lt="useLayoutEffect",Yt(),zc(p,g)},useMemo:function(p,g){Lt="useMemo",Yt();var M=Qt.current;Qt.current=$c;try{return Wc(p,g)}finally{Qt.current=M}},useReducer:function(p,g,M){Lt="useReducer",Yt();var L=Qt.current;Qt.current=$c;try{return rg(p,g,M)}finally{Qt.current=L}},useRef:function(p){return Lt="useRef",Yt(),Ic()},useState:function(p){Lt="useState",Yt();var g=Qt.current;Qt.current=$c;try{return og(p)}finally{Qt.current=g}},useDebugValue:function(p,g){return Lt="useDebugValue",Yt(),Xc()},useDeferredValue:function(p){return Lt="useDeferredValue",Yt(),xS(p)},useTransition:function(){return Lt="useTransition",Yt(),SS()},useMutableSource:function(p,g,M){return Lt="useMutableSource",Yt(),void 0},useSyncExternalStore:function(p,g,M){return Lt="useSyncExternalStore",Yt(),wc(p,g)},useId:function(){return Lt="useId",Yt(),jc()},unstable_isNewReconciler:q},Vr={readContext:function(p){return gg(),Li(p)},useCallback:function(p,g){return Lt="useCallback",ge(),Ke(),cg(p,g)},useContext:function(p){return Lt="useContext",ge(),Ke(),Li(p)},useEffect:function(p,g){return Lt="useEffect",ge(),Ke(),Vc(p,g)},useImperativeHandle:function(p,g,M){return Lt="useImperativeHandle",ge(),Ke(),fg(p,g,M)},useInsertionEffect:function(p,g){return Lt="useInsertionEffect",ge(),Ke(),ug(p,g)},useLayoutEffect:function(p,g){return Lt="useLayoutEffect",ge(),Ke(),hg(p,g)},useMemo:function(p,g){Lt="useMemo",ge(),Ke();var M=Qt.current;Qt.current=Vr;try{return dg(p,g)}finally{Qt.current=M}},useReducer:function(p,g,M){Lt="useReducer",ge(),Ke();var L=Qt.current;Qt.current=Vr;try{return ig(p,g,M)}finally{Qt.current=L}},useRef:function(p){return Lt="useRef",ge(),Ke(),lg(p)},useState:function(p){Lt="useState",ge(),Ke();var g=Qt.current;Qt.current=Vr;try{return Bc(p)}finally{Qt.current=g}},useDebugValue:function(p,g){return Lt="useDebugValue",ge(),Ke(),void 0},useDeferredValue:function(p){return Lt="useDeferredValue",ge(),Ke(),vg(p)},useTransition:function(){return Lt="useTransition",ge(),Ke(),pg()},useMutableSource:function(p,g,M){return Lt="useMutableSource",ge(),Ke(),void 0},useSyncExternalStore:function(p,g,M){return Lt="useSyncExternalStore",ge(),Ke(),sg(p,g,M)},useId:function(){return Lt="useId",ge(),Ke(),mg()},unstable_isNewReconciler:q},mr={readContext:function(p){return gg(),Li(p)},useCallback:function(p,g){return Lt="useCallback",ge(),Yt(),Hc(p,g)},useContext:function(p){return Lt="useContext",ge(),Yt(),Li(p)},useEffect:function(p,g){return Lt="useEffect",ge(),Yt(),ih(p,g)},useImperativeHandle:function(p,g,M){return Lt="useImperativeHandle",ge(),Yt(),Yc(p,g,M)},useInsertionEffect:function(p,g){return Lt="useInsertionEffect",ge(),Yt(),Gc(p,g)},useLayoutEffect:function(p,g){return Lt="useLayoutEffect",ge(),Yt(),zc(p,g)},useMemo:function(p,g){Lt="useMemo",ge(),Yt();var M=Qt.current;Qt.current=mr;try{return Wc(p,g)}finally{Qt.current=M}},useReducer:function(p,g,M){Lt="useReducer",ge(),Yt();var L=Qt.current;Qt.current=mr;try{return ng(p,g,M)}finally{Qt.current=L}},useRef:function(p){return Lt="useRef",ge(),Yt(),Ic()},useState:function(p){Lt="useState",ge(),Yt();var g=Qt.current;Qt.current=mr;try{return ag(p)}finally{Qt.current=g}},useDebugValue:function(p,g){return Lt="useDebugValue",ge(),Yt(),Xc()},useDeferredValue:function(p){return Lt="useDeferredValue",ge(),Yt(),gS(p)},useTransition:function(){return Lt="useTransition",ge(),Yt(),TS()},useMutableSource:function(p,g,M){return Lt="useMutableSource",ge(),Yt(),void 0},useSyncExternalStore:function(p,g,M){return Lt="useSyncExternalStore",ge(),Yt(),wc(p,g)},useId:function(){return Lt="useId",ge(),Yt(),jc()},unstable_isNewReconciler:q},$c={readContext:function(p){return gg(),Li(p)},useCallback:function(p,g){return Lt="useCallback",ge(),Yt(),Hc(p,g)},useContext:function(p){return Lt="useContext",ge(),Yt(),Li(p)},useEffect:function(p,g){return Lt="useEffect",ge(),Yt(),ih(p,g)},useImperativeHandle:function(p,g,M){return Lt="useImperativeHandle",ge(),Yt(),Yc(p,g,M)},useInsertionEffect:function(p,g){return Lt="useInsertionEffect",ge(),Yt(),Gc(p,g)},useLayoutEffect:function(p,g){return Lt="useLayoutEffect",ge(),Yt(),zc(p,g)},useMemo:function(p,g){Lt="useMemo",ge(),Yt();var M=Qt.current;Qt.current=mr;try{return Wc(p,g)}finally{Qt.current=M}},useReducer:function(p,g,M){Lt="useReducer",ge(),Yt();var L=Qt.current;Qt.current=mr;try{return rg(p,g,M)}finally{Qt.current=L}},useRef:function(p){return Lt="useRef",ge(),Yt(),Ic()},useState:function(p){Lt="useState",ge(),Yt();var g=Qt.current;Qt.current=mr;try{return og(p)}finally{Qt.current=g}},useDebugValue:function(p,g){return Lt="useDebugValue",ge(),Yt(),Xc()},useDeferredValue:function(p){return Lt="useDeferredValue",ge(),Yt(),xS(p)},useTransition:function(){return Lt="useTransition",ge(),Yt(),SS()},useMutableSource:function(p,g,M){return Lt="useMutableSource",ge(),Yt(),void 0},useSyncExternalStore:function(p,g,M){return Lt="useSyncExternalStore",ge(),Yt(),wc(p,g)},useId:function(){return Lt="useId",ge(),Yt(),jc()},unstable_isNewReconciler:q}}var ra=S.unstable_now,FS=0,Zc=-1,nh=-1,Qc=-1,xg=!1,Jc=!1;function bS(){return xg}function DN(){Jc=!0}function FN(){xg=!1,Jc=!1}function bN(){xg=Jc,Jc=!1}function NS(){return FS}function wS(){FS=ra()}function yg(p){nh=ra(),p.actualStartTime<0&&(p.actualStartTime=ra())}function BS(p){nh=-1}function kc(p,g){if(nh>=0){var M=ra()-nh;p.actualDuration+=M,g&&(p.selfBaseDuration=M),nh=-1}}function Gr(p){if(Zc>=0){var g=ra()-Zc;Zc=-1;for(var M=p.return;M!==null;){switch(M.tag){case r:var L=M.stateNode;L.effectDuration+=g;return;case T:var F=M.stateNode;F.effectDuration+=g;return}M=M.return}}}function Tg(p){if(Qc>=0){var g=ra()-Qc;Qc=-1;for(var M=p.return;M!==null;){switch(M.tag){case r:var L=M.stateNode;L!==null&&(L.passiveEffectDuration+=g);return;case T:var F=M.stateNode;F!==null&&(F.passiveEffectDuration+=g);return}M=M.return}}}function zr(){Zc=ra()}function Sg(){Qc=ra()}function Eg(p){for(var g=p.child;g;)p.actualDuration+=g.actualDuration,g=g.sibling}function qa(p,g){return{value:p,source:g,stack:jl(g),digest:null}}function Cg(p,g,M){return{value:p,source:null,stack:M??null,digest:g??null}}function NN(p,g){return!0}function Rg(p,g){try{var M=NN(p,g);if(M===!1)return;var L=g.value,F=g.source,I=g.stack,X=I!==null?I:"";if(L!=null&&L._suppressLogging){if(p.tag===n)return;console.error(L)}var K=F?Te(F):null,Q=K?"The above error occurred in the <"+K+"> component:":"The above error occurred in one of your React components:",tt;if(p.tag===r)tt=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var et=Te(p)||"Anonymous";tt="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+et+".")}var ut=Q+`
`+X+`

`+(""+tt);console.error(ut)}catch(lt){setTimeout(function(){throw lt})}}var wN=typeof WeakMap=="function"?WeakMap:Map;function IS(p,g,M){var L=Es(oi,M);L.tag=Rm,L.payload={element:null};var F=g.value;return L.callback=function(){MB(F),Rg(p,g)},L}function Ag(p,g,M){var L=Es(oi,M);L.tag=Rm;var F=p.type.getDerivedStateFromError;if(typeof F=="function"){var I=g.value;L.payload=function(){return F(I)},L.callback=function(){$E(p),Rg(p,g)}}var X=p.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(L.callback=function(){$E(p),Rg(p,g),typeof F!="function"&&RB(this);var Q=g.value,tt=g.stack;this.componentDidCatch(Q,{componentStack:tt!==null?tt:""}),typeof F!="function"&&(Bn(p.lanes,me)||u("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Te(p)||"Unknown"))}),L}function US(p,g,M){var L=p.pingCache,F;if(L===null?(L=p.pingCache=new wN,F=new Set,L.set(g,F)):(F=L.get(g),F===void 0&&(F=new Set,L.set(g,F))),!F.has(M)){F.add(M);var I=PB.bind(null,p,g,M);ur&&yh(p,M),g.then(I,I)}}function BN(p,g,M,L){var F=p.updateQueue;if(F===null){var I=new Set;I.add(M),p.updateQueue=I}else F.add(M)}function IN(p,g){var M=p.tag;if((p.mode&De)===he&&(M===a||M===y||M===A)){var L=p.alternate;L?(p.updateQueue=L.updateQueue,p.memoizedState=L.memoizedState,p.lanes=L.lanes):(p.updateQueue=null,p.memoizedState=null)}}function VS(p){var g=p;do{if(g.tag===C&&TN(g))return g;g=g.return}while(g!==null);return null}function GS(p,g,M,L,F){if((p.mode&De)===he){if(p===g)p.flags|=dn;else{if(p.flags|=Xe,M.flags|=jv,M.flags&=~(mL|nu),M.tag===n){var I=M.alternate;if(I===null)M.tag=O;else{var X=Es(oi,me);X.tag=Sc,ta(M,X,me)}}M.lanes=Ce(M.lanes,me)}return p}return p.flags|=dn,p.lanes=F,p}function UN(p,g,M,L,F){if(M.flags|=nu,ur&&yh(p,F),L!==null&&typeof L=="object"&&typeof L.then=="function"){var I=L;IN(M),$i()&&M.mode&De&&O1();var X=VS(g);if(X!==null){X.flags&=~hs,GS(X,g,M,p,F),X.mode&De&&US(p,I,F),BN(X,p,I);return}else{if(!aO(F)){US(p,I,F),r0();return}var K=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");L=K}}else if($i()&&M.mode&De){O1();var Q=VS(g);if(Q!==null){(Q.flags&dn)===ue&&(Q.flags|=hs),GS(Q,g,M,p,F),gm(qa(L,M));return}}L=qa(L,M),mB(L);var tt=g;do{switch(tt.tag){case r:{var et=L;tt.flags|=dn;var ut=fu(F);tt.lanes=Ce(tt.lanes,ut);var lt=IS(tt,et,ut);Pm(tt,lt);return}case n:var pt=L,mt=tt.type,Ct=tt.stateNode;if((tt.flags&Xe)===ue&&(typeof mt.getDerivedStateFromError=="function"||Ct!==null&&typeof Ct.componentDidCatch=="function"&&!VE(Ct))){tt.flags|=dn;var Jt=fu(F);tt.lanes=Ce(tt.lanes,Jt);var oe=Ag(tt,pt,Jt);Pm(tt,oe);return}break}tt=tt.return}while(tt!==null)}function VN(){return null}var rh=o.ReactCurrentOwner,gr=!1,Mg,sh,Pg,Lg,Og,_a,Dg,qc;Mg={},sh={},Pg={},Lg={},Og={},_a=!1,Dg={},qc={};function vn(p,g,M,L){p===null?g.child=nS(g,null,M,L):g.child=nl(g,p.child,M,L)}function GN(p,g,M,L){g.child=nl(g,p.child,null,L),g.child=nl(g,null,M,L)}function zS(p,g,M,L,F){if(g.type!==g.elementType){var I=M.propTypes;I&&fr(I,L,"prop",ze(M))}var X=M.render,K=g.ref,Q,tt;il(g,F),su(g);{if(rh.current=g,Nn(!0),Q=ul(p,g,X,L,K,F),tt=hl(),g.mode&Pi){Xi(!0);try{Q=ul(p,g,X,L,K,F),tt=hl()}finally{Xi(!1)}}Nn(!1)}return Io(),p!==null&&!gr?(lS(p,g,F),Cs(p,g,F)):($i()&&tt&&fm(g),g.flags|=No,vn(p,g,Q,F),g.child)}function YS(p,g,M,L,F){if(p===null){var I=M.type;if(WB(I)&&M.compare===null&&M.defaultProps===void 0){var X=I;return X=xl(I),g.tag=A,g.type=X,Ng(g,I),XS(p,g,X,L,F)}{var K=I.propTypes;K&&fr(K,L,"prop",ze(I))}var Q=p0(M.type,null,L,g,g.mode,F);return Q.ref=g.ref,Q.return=g,g.child=Q,Q}{var tt=M.type,et=tt.propTypes;et&&fr(et,L,"prop",ze(tt))}var ut=p.child,lt=Gg(p,F);if(!lt){var pt=ut.memoizedProps,mt=M.compare;if(mt=mt!==null?mt:Mu,mt(pt,L)&&p.ref===g.ref)return Cs(p,g,F)}g.flags|=No;var Ct=ro(ut,L);return Ct.ref=g.ref,Ct.return=g,g.child=Ct,Ct}function XS(p,g,M,L,F){if(g.type!==g.elementType){var I=g.elementType;if(I.$$typeof===jt){var X=I,K=X._payload,Q=X._init;try{I=Q(K)}catch{I=null}var tt=I&&I.propTypes;tt&&fr(tt,L,"prop",ze(I))}}if(p!==null){var et=p.memoizedProps;if(Mu(et,L)&&p.ref===g.ref&&g.type===p.type)if(gr=!1,g.pendingProps=L=et,Gg(p,F))(p.flags&jv)!==ue&&(gr=!0);else return g.lanes=p.lanes,Cs(p,g,F)}return Fg(p,g,M,L,F)}function HS(p,g,M){var L=g.pendingProps,F=L.children,I=p!==null?p.memoizedState:null;if(L.mode==="hidden"||V)if((g.mode&De)===he){var X={baseLanes:Ft,cachePool:null,transitions:null};g.memoizedState=X,fd(g,M)}else if(Bn(M,wn)){var ut={baseLanes:Ft,cachePool:null,transitions:null};g.memoizedState=ut;var lt=I!==null?I.baseLanes:M;fd(g,lt)}else{var K=null,Q;if(I!==null){var tt=I.baseLanes;Q=Ce(tt,M)}else Q=M;g.lanes=g.childLanes=wn;var et={baseLanes:Q,cachePool:K,transitions:null};return g.memoizedState=et,g.updateQueue=null,fd(g,Q),null}else{var pt;I!==null?(pt=Ce(I.baseLanes,M),g.memoizedState=null):pt=M,fd(g,pt)}return vn(p,g,F,M),g.child}function zN(p,g,M){var L=g.pendingProps;return vn(p,g,L,M),g.child}function YN(p,g,M){var L=g.pendingProps.children;return vn(p,g,L,M),g.child}function XN(p,g,M){{g.flags|=Ne;{var L=g.stateNode;L.effectDuration=0,L.passiveEffectDuration=0}}var F=g.pendingProps,I=F.children;return vn(p,g,I,M),g.child}function WS(p,g){var M=g.ref;(p===null&&M!==null||p!==null&&p.ref!==M)&&(g.flags|=Xs,g.flags|=Kv)}function Fg(p,g,M,L,F){if(g.type!==g.elementType){var I=M.propTypes;I&&fr(I,L,"prop",ze(M))}var X;{var K=Jo(g,M,!0);X=ko(g,K)}var Q,tt;il(g,F),su(g);{if(rh.current=g,Nn(!0),Q=ul(p,g,M,L,X,F),tt=hl(),g.mode&Pi){Xi(!0);try{Q=ul(p,g,M,L,X,F),tt=hl()}finally{Xi(!1)}}Nn(!1)}return Io(),p!==null&&!gr?(lS(p,g,F),Cs(p,g,F)):($i()&&tt&&fm(g),g.flags|=No,vn(p,g,Q,F),g.child)}function jS(p,g,M,L,F){{switch(s3(g)){case!1:{var I=g.stateNode,X=g.type,K=new X(g.memoizedProps,I.context),Q=K.state;I.updater.enqueueSetState(I,Q,null);break}case!0:{g.flags|=Xe,g.flags|=dn;var tt=new Error("Simulated error coming from DevTools"),et=fu(F);g.lanes=Ce(g.lanes,et);var ut=Ag(g,qa(tt,g),et);Pm(g,ut);break}}if(g.type!==g.elementType){var lt=M.propTypes;lt&&fr(lt,L,"prop",ze(M))}}var pt;Br(M)?(pt=!0,hc(g)):pt=!1,il(g,F);var mt=g.stateNode,Ct;mt===null?(td(p,g),q1(g,M,L),Gm(g,M,L,F),Ct=!0):p===null?Ct=vN(g,M,L,F):Ct=pN(p,g,M,L,F);var Jt=bg(p,g,M,Ct,pt,F);{var oe=g.stateNode;Ct&&oe.props!==L&&(_a||u("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Te(g)||"a component"),_a=!0)}return Jt}function bg(p,g,M,L,F,I){WS(p,g);var X=(g.flags&Xe)!==ue;if(!L&&!X)return F&&A1(g,M,!1),Cs(p,g,I);var K=g.stateNode;rh.current=g;var Q;if(X&&typeof M.getDerivedStateFromError!="function")Q=null,BS();else{su(g);{if(Nn(!0),Q=K.render(),g.mode&Pi){Xi(!0);try{K.render()}finally{Xi(!1)}}Nn(!1)}Io()}return g.flags|=No,p!==null&&X?GN(p,g,Q,I):vn(p,g,Q,I),g.memoizedState=K.state,F&&A1(g,M,!0),g.child}function KS(p){var g=p.stateNode;g.pendingContext?C1(p,g.pendingContext,g.pendingContext!==g.context):g.context&&C1(p,g.context,!1),jm(p,g.containerInfo)}function HN(p,g,M){if(KS(g),p===null)throw new Error("Should have a current fiber. This is a bug in React.");var L=g.pendingProps,F=g.memoizedState,I=F.element;W1(p,g),Ac(g,L,null,M);var X=g.memoizedState;g.stateNode;var K=X.element;if(F.isDehydrated){var Q={element:K,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},tt=g.updateQueue;if(tt.baseState=Q,g.memoizedState=Q,g.flags&hs){var et=qa(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),g);return $S(p,g,K,M,et)}else if(K!==I){var ut=qa(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),g);return $S(p,g,K,M,ut)}else{$b(g);var lt=nS(g,null,K,M);g.child=lt;for(var pt=lt;pt;)pt.flags=pt.flags&~Mi|fs,pt=pt.sibling}}else{if(tl(),K===I)return Cs(p,g,M);vn(p,g,K,M)}return g.child}function $S(p,g,M,L,F){return tl(),gm(F),g.flags|=hs,vn(p,g,M,L),g.child}function WN(p,g,M){sS(g),p===null&&mm(g);var L=g.type,F=g.pendingProps,I=p!==null?p.memoizedProps:null,X=F.children,K=kp(L,F);return K?X=null:I!==null&&kp(L,I)&&(g.flags|=iu),WS(p,g),vn(p,g,X,M),g.child}function jN(p,g){return p===null&&mm(g),null}function KN(p,g,M,L){td(p,g);var F=g.pendingProps,I=M,X=I._payload,K=I._init,Q=K(X);g.type=Q;var tt=g.tag=jB(Q),et=vr(Q,F),ut;switch(tt){case a:return Ng(g,Q),g.type=Q=xl(Q),ut=Fg(null,g,Q,et,L),ut;case n:return g.type=Q=u0(Q),ut=jS(null,g,Q,et,L),ut;case y:return g.type=Q=h0(Q),ut=zS(null,g,Q,et,L),ut;case R:{if(g.type!==g.elementType){var lt=Q.propTypes;lt&&fr(lt,et,"prop",ze(Q))}return ut=YS(null,g,Q,vr(Q.type,et),L),ut}}var pt="";throw Q!==null&&typeof Q=="object"&&Q.$$typeof===jt&&(pt=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+Q+". "+("Lazy element type must resolve to a class or function."+pt))}function $N(p,g,M,L,F){td(p,g),g.tag=n;var I;return Br(M)?(I=!0,hc(g)):I=!1,il(g,F),q1(g,M,L),Gm(g,M,L,F),bg(null,g,M,!0,I,F)}function ZN(p,g,M,L){td(p,g);var F=g.pendingProps,I;{var X=Jo(g,M,!1);I=ko(g,X)}il(g,L);var K,Q;su(g);{if(M.prototype&&typeof M.prototype.render=="function"){var tt=ze(M)||"Unknown";Mg[tt]||(u("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",tt,tt),Mg[tt]=!0)}g.mode&Pi&&dr.recordLegacyContextWarning(g,null),Nn(!0),rh.current=g,K=ul(null,g,M,F,I,L),Q=hl(),Nn(!1)}if(Io(),g.flags|=No,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0){var et=ze(M)||"Unknown";sh[et]||(u("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",et,et,et),sh[et]=!0)}if(typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0){{var ut=ze(M)||"Unknown";sh[ut]||(u("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",ut,ut,ut),sh[ut]=!0)}g.tag=n,g.memoizedState=null,g.updateQueue=null;var lt=!1;return Br(M)?(lt=!0,hc(g)):lt=!1,g.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,Mm(g),k1(g,K),Gm(g,M,F,L),bg(null,g,M,!0,lt,L)}else{if(g.tag=a,g.mode&Pi){Xi(!0);try{K=ul(null,g,M,F,I,L),Q=hl()}finally{Xi(!1)}}return $i()&&Q&&fm(g),vn(null,g,K,L),Ng(g,M),g.child}}function Ng(p,g){{if(g&&g.childContextTypes&&u("%s(...): childContextTypes cannot be defined on a function component.",g.displayName||g.name||"Component"),p.ref!==null){var M="",L=Vs();L&&(M+=`

Check the render method of \``+L+"`.");var F=L||"",I=p._debugSource;I&&(F=I.fileName+":"+I.lineNumber),Og[F]||(Og[F]=!0,u("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",M))}if(typeof g.getDerivedStateFromProps=="function"){var X=ze(g)||"Unknown";Lg[X]||(u("%s: Function components do not support getDerivedStateFromProps.",X),Lg[X]=!0)}if(typeof g.contextType=="object"&&g.contextType!==null){var K=ze(g)||"Unknown";Pg[K]||(u("%s: Function components do not support contextType.",K),Pg[K]=!0)}}}var wg={dehydrated:null,treeContext:null,retryLane:Hi};function Bg(p){return{baseLanes:p,cachePool:VN(),transitions:null}}function QN(p,g){var M=null;return{baseLanes:Ce(p.baseLanes,g),cachePool:M,transitions:p.transitions}}function JN(p,g,M,L){if(g!==null){var F=g.memoizedState;if(F===null)return!1}return Zm(p,Ju)}function kN(p,g){return Nf(p.childLanes,g)}function ZS(p,g,M){var L=g.pendingProps;a3(g)&&(g.flags|=Xe);var F=pr.current,I=!1,X=(g.flags&Xe)!==ue;if(X||JN(F,p)?(I=!0,g.flags&=~Xe):(p===null||p.memoizedState!==null)&&(F=yN(F,oS)),F=sl(F),ia(g,F),p===null){mm(g);var K=g.memoizedState;if(K!==null){var Q=K.dehydrated;if(Q!==null)return iw(g,Q)}var tt=L.children,et=L.fallback;if(I){var ut=qN(g,tt,et,M),lt=g.child;return lt.memoizedState=Bg(M),g.memoizedState=wg,ut}else return Ig(g,tt)}else{var pt=p.memoizedState;if(pt!==null){var mt=pt.dehydrated;if(mt!==null)return nw(p,g,X,L,mt,pt,M)}if(I){var Ct=L.fallback,Jt=L.children,oe=tw(p,g,Jt,Ct,M),re=g.child,be=p.child.memoizedState;return re.memoizedState=be===null?Bg(M):QN(be,M),re.childLanes=kN(p,M),g.memoizedState=wg,oe}else{var Pe=L.children,ft=_N(p,g,Pe,M);return g.memoizedState=null,ft}}}function Ig(p,g,M){var L=p.mode,F={mode:"visible",children:g},I=Ug(F,L);return I.return=p,p.child=I,I}function qN(p,g,M,L){var F=p.mode,I=p.child,X={mode:"hidden",children:g},K,Q;return(F&De)===he&&I!==null?(K=I,K.childLanes=Ft,K.pendingProps=X,p.mode&Qe&&(K.actualDuration=0,K.actualStartTime=-1,K.selfBaseDuration=0,K.treeBaseDuration=0),Q=ha(M,F,L,null)):(K=Ug(X,F),Q=ha(M,F,L,null)),K.return=p,Q.return=p,K.sibling=Q,p.child=K,Q}function Ug(p,g,M){return QE(p,g,Ft,null)}function QS(p,g){return ro(p,g)}function _N(p,g,M,L){var F=p.child,I=F.sibling,X=QS(F,{mode:"visible",children:M});if((g.mode&De)===he&&(X.lanes=L),X.return=g,X.sibling=null,I!==null){var K=g.deletions;K===null?(g.deletions=[I],g.flags|=Fa):K.push(I)}return g.child=X,X}function tw(p,g,M,L,F){var I=g.mode,X=p.child,K=X.sibling,Q={mode:"hidden",children:M},tt;if((I&De)===he&&g.child!==X){var et=g.child;tt=et,tt.childLanes=Ft,tt.pendingProps=Q,g.mode&Qe&&(tt.actualDuration=0,tt.actualStartTime=-1,tt.selfBaseDuration=X.selfBaseDuration,tt.treeBaseDuration=X.treeBaseDuration),g.deletions=null}else tt=QS(X,Q),tt.subtreeFlags=X.subtreeFlags&ds;var ut;return K!==null?ut=ro(K,L):(ut=ha(L,I,F,null),ut.flags|=Mi),ut.return=g,tt.return=g,tt.sibling=ut,g.child=tt,ut}function _c(p,g,M,L){L!==null&&gm(L),nl(g,p.child,null,M);var F=g.pendingProps,I=F.children,X=Ig(g,I);return X.flags|=Mi,g.memoizedState=null,X}function ew(p,g,M,L,F){var I=g.mode,X={mode:"visible",children:M},K=Ug(X,I),Q=ha(L,I,F,null);return Q.flags|=Mi,K.return=g,Q.return=g,K.sibling=Q,g.child=K,(g.mode&De)!==he&&nl(g,p.child,null,F),Q}function iw(p,g,M){return(p.mode&De)===he?(u("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),p.lanes=me):em(g)?p.lanes=Ua:p.lanes=wn,null}function nw(p,g,M,L,F,I,X){if(M)if(g.flags&hs){g.flags&=~hs;var ft=Cg(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return _c(p,g,X,ft)}else{if(g.memoizedState!==null)return g.child=p.child,g.flags|=Xe,null;var Rt=L.children,ct=L.fallback,Nt=ew(p,g,Rt,ct,X),kt=g.child;return kt.memoizedState=Bg(X),g.memoizedState=wg,Nt}else{if(jb(),(g.mode&De)===he)return _c(p,g,X,null);if(em(F)){var K,Q,tt;{var et=lb(F);K=et.digest,Q=et.message,tt=et.stack}var ut;Q?ut=new Error(Q):ut=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var lt=Cg(ut,K,tt);return _c(p,g,X,lt)}var pt=Bn(X,p.childLanes);if(gr||pt){var mt=hd();if(mt!==null){var Ct=vO(mt,X);if(Ct!==Hi&&Ct!==I.retryLane){I.retryLane=Ct;var Jt=oi;Mn(p,Ct),Gi(mt,p,Ct,Jt)}}r0();var oe=Cg(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return _c(p,g,X,oe)}else if(g1(F)){g.flags|=Xe,g.child=p.child;var re=LB.bind(null,p);return ub(F,re),null}else{Zb(g,F,I.treeContext);var be=L.children,Pe=Ig(g,be);return Pe.flags|=fs,Pe}}}function JS(p,g,M){p.lanes=Ce(p.lanes,g);var L=p.alternate;L!==null&&(L.lanes=Ce(L.lanes,g)),Em(p.return,g,M)}function rw(p,g,M){for(var L=g;L!==null;){if(L.tag===C){var F=L.memoizedState;F!==null&&JS(L,M,p)}else if(L.tag===D)JS(L,M,p);else if(L.child!==null){L.child.return=L,L=L.child;continue}if(L===p)return;for(;L.sibling===null;){if(L.return===null||L.return===p)return;L=L.return}L.sibling.return=L.return,L=L.sibling}}function sw(p){for(var g=p,M=null;g!==null;){var L=g.alternate;L!==null&&bc(L)===null&&(M=g),g=g.sibling}return M}function aw(p){if(p!==void 0&&p!=="forwards"&&p!=="backwards"&&p!=="together"&&!Dg[p])if(Dg[p]=!0,typeof p=="string")switch(p.toLowerCase()){case"together":case"forwards":case"backwards":{u('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',p,p.toLowerCase());break}case"forward":case"backward":{u('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',p,p.toLowerCase());break}default:u('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',p);break}else u('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',p)}function ow(p,g){p!==void 0&&!qc[p]&&(p!=="collapsed"&&p!=="hidden"?(qc[p]=!0,u('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',p)):g!=="forwards"&&g!=="backwards"&&(qc[p]=!0,u('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',p)))}function kS(p,g){{var M=Ye(p),L=!M&&typeof rs(p)=="function";if(M||L){var F=M?"array":"iterable";return u("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",F,g,F),!1}}return!0}function lw(p,g){if((g==="forwards"||g==="backwards")&&p!==void 0&&p!==null&&p!==!1)if(Ye(p)){for(var M=0;M<p.length;M++)if(!kS(p[M],M))return}else{var L=rs(p);if(typeof L=="function"){var F=L.call(p);if(F)for(var I=F.next(),X=0;!I.done;I=F.next()){if(!kS(I.value,X))return;X++}}else u('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',g)}}function Vg(p,g,M,L,F){var I=p.memoizedState;I===null?p.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:L,tail:M,tailMode:F}:(I.isBackwards=g,I.rendering=null,I.renderingStartTime=0,I.last=L,I.tail=M,I.tailMode=F)}function qS(p,g,M){var L=g.pendingProps,F=L.revealOrder,I=L.tail,X=L.children;aw(F),ow(I,F),lw(X,F),vn(p,g,X,M);var K=pr.current,Q=Zm(K,Ju);if(Q)K=Qm(K,Ju),g.flags|=Xe;else{var tt=p!==null&&(p.flags&Xe)!==ue;tt&&rw(g,g.child,M),K=sl(K)}if(ia(g,K),(g.mode&De)===he)g.memoizedState=null;else switch(F){case"forwards":{var et=sw(g.child),ut;et===null?(ut=g.child,g.child=null):(ut=et.sibling,et.sibling=null),Vg(g,!1,ut,et,I);break}case"backwards":{var lt=null,pt=g.child;for(g.child=null;pt!==null;){var mt=pt.alternate;if(mt!==null&&bc(mt)===null){g.child=pt;break}var Ct=pt.sibling;pt.sibling=lt,lt=pt,pt=Ct}Vg(g,!0,lt,null,I);break}case"together":{Vg(g,!1,null,null,void 0);break}default:g.memoizedState=null}return g.child}function uw(p,g,M){jm(g,g.stateNode.containerInfo);var L=g.pendingProps;return p===null?g.child=nl(g,null,L,M):vn(p,g,L,M),g.child}var _S=!1;function hw(p,g,M){var L=g.type,F=L._context,I=g.pendingProps,X=g.memoizedProps,K=I.value;{"value"in I||_S||(_S=!0,u("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var Q=g.type.propTypes;Q&&fr(Q,I,"prop","Context.Provider")}if(z1(g,F,K),X!==null){var tt=X.value;if(Vn(tt,K)){if(X.children===I.children&&!lc())return Cs(p,g,M)}else rN(g,F,M)}var et=I.children;return vn(p,g,et,M),g.child}var tE=!1;function fw(p,g,M){var L=g.type;L._context===void 0?L!==L.Consumer&&(tE||(tE=!0,u("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):L=L._context;var F=g.pendingProps,I=F.children;typeof I!="function"&&u("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),il(g,M);var X=Li(L);su(g);var K;return rh.current=g,Nn(!0),K=I(X),Nn(!1),Io(),g.flags|=No,vn(p,g,K,M),g.child}function ah(){gr=!0}function td(p,g){(g.mode&De)===he&&p!==null&&(p.alternate=null,g.alternate=null,g.flags|=Mi)}function Cs(p,g,M){return p!==null&&(g.dependencies=p.dependencies),BS(),xh(g.lanes),Bn(M,g.childLanes)?(mN(p,g),g.child):null}function cw(p,g,M){{var L=g.return;if(L===null)throw new Error("Cannot swap the root fiber.");if(p.alternate=null,g.alternate=null,M.index=g.index,M.sibling=g.sibling,M.return=g.return,M.ref=g.ref,g===L.child)L.child=M;else{var F=L.child;if(F===null)throw new Error("Expected parent to have a child.");for(;F.sibling!==g;)if(F=F.sibling,F===null)throw new Error("Expected to find the previous sibling.");F.sibling=M}var I=L.deletions;return I===null?(L.deletions=[p],L.flags|=Fa):I.push(p),M.flags|=Mi,M}}function Gg(p,g){var M=p.lanes;return!!Bn(M,g)}function dw(p,g,M){switch(g.tag){case r:KS(g),g.stateNode,tl();break;case l:sS(g);break;case n:{var L=g.type;Br(L)&&hc(g);break}case f:jm(g,g.stateNode.containerInfo);break;case m:{var F=g.memoizedProps.value,I=g.type._context;z1(g,I,F);break}case T:{var X=Bn(M,g.childLanes);X&&(g.flags|=Ne);{var K=g.stateNode;K.effectDuration=0,K.passiveEffectDuration=0}}break;case C:{var Q=g.memoizedState;if(Q!==null){if(Q.dehydrated!==null)return ia(g,sl(pr.current)),g.flags|=Xe,null;var tt=g.child,et=tt.childLanes;if(Bn(M,et))return ZS(p,g,M);ia(g,sl(pr.current));var ut=Cs(p,g,M);return ut!==null?ut.sibling:null}else ia(g,sl(pr.current));break}case D:{var lt=(p.flags&Xe)!==ue,pt=Bn(M,g.childLanes);if(lt){if(pt)return qS(p,g,M);g.flags|=Xe}var mt=g.memoizedState;if(mt!==null&&(mt.rendering=null,mt.tail=null,mt.lastEffect=null),ia(g,pr.current),pt)break;return null}case B:case U:return g.lanes=Ft,HS(p,g,M)}return Cs(p,g,M)}function eE(p,g,M){if(g._debugNeedsRemount&&p!==null)return cw(p,g,p0(g.type,g.key,g.pendingProps,g._debugOwner||null,g.mode,g.lanes));if(p!==null){var L=p.memoizedProps,F=g.pendingProps;if(L!==F||lc()||g.type!==p.type)gr=!0;else{var I=Gg(p,M);if(!I&&(g.flags&Xe)===ue)return gr=!1,dw(p,g,M);(p.flags&jv)!==ue?gr=!0:gr=!1}}else if(gr=!1,$i()&&Gb(g)){var X=g.index,K=zb();L1(g,K,X)}switch(g.lanes=Ft,g.tag){case i:return ZN(p,g,g.type,M);case P:{var Q=g.elementType;return KN(p,g,Q,M)}case a:{var tt=g.type,et=g.pendingProps,ut=g.elementType===tt?et:vr(tt,et);return Fg(p,g,tt,ut,M)}case n:{var lt=g.type,pt=g.pendingProps,mt=g.elementType===lt?pt:vr(lt,pt);return jS(p,g,lt,mt,M)}case r:return HN(p,g,M);case l:return WN(p,g,M);case h:return jN(p,g);case C:return ZS(p,g,M);case f:return uw(p,g,M);case y:{var Ct=g.type,Jt=g.pendingProps,oe=g.elementType===Ct?Jt:vr(Ct,Jt);return zS(p,g,Ct,oe,M)}case c:return zN(p,g,M);case v:return YN(p,g,M);case T:return XN(p,g,M);case m:return hw(p,g,M);case d:return fw(p,g,M);case R:{var re=g.type,be=g.pendingProps,Pe=vr(re,be);if(g.type!==g.elementType){var ft=re.propTypes;ft&&fr(ft,Pe,"prop",ze(re))}return Pe=vr(re.type,Pe),YS(p,g,re,Pe,M)}case A:return XS(p,g,g.type,g.pendingProps,M);case O:{var Rt=g.type,ct=g.pendingProps,Nt=g.elementType===Rt?ct:vr(Rt,ct);return $N(p,g,Rt,Nt,M)}case D:return qS(p,g,M);case N:break;case B:return HS(p,g,M)}throw new Error("Unknown unit of work tag ("+g.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function fl(p){p.flags|=Ne}function iE(p){p.flags|=Xs,p.flags|=Kv}var nE,zg,rE,sE;nE=function(p,g,M,L){for(var F=g.child;F!==null;){if(F.tag===l||F.tag===h)IF(p,F.stateNode);else if(F.tag!==f){if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===g)return;for(;F.sibling===null;){if(F.return===null||F.return===g)return;F=F.return}F.sibling.return=F.return,F=F.sibling}},zg=function(p,g){},rE=function(p,g,M,L,F){var I=p.memoizedProps;if(I!==L){var X=g.stateNode,K=Km(),Q=VF(X,M,I,L,F,K);g.updateQueue=Q,Q&&fl(g)}},sE=function(p,g,M,L){M!==L&&fl(g)};function oh(p,g){if(!$i())switch(p.tailMode){case"hidden":{for(var M=p.tail,L=null;M!==null;)M.alternate!==null&&(L=M),M=M.sibling;L===null?p.tail=null:L.sibling=null;break}case"collapsed":{for(var F=p.tail,I=null;F!==null;)F.alternate!==null&&(I=F),F=F.sibling;I===null?!g&&p.tail!==null?p.tail.sibling=null:p.tail=null:I.sibling=null;break}}}function Qi(p){var g=p.alternate!==null&&p.alternate.child===p.child,M=Ft,L=ue;if(g){if((p.mode&Qe)!==he){for(var Q=p.selfBaseDuration,tt=p.child;tt!==null;)M=Ce(M,Ce(tt.lanes,tt.childLanes)),L|=tt.subtreeFlags&ds,L|=tt.flags&ds,Q+=tt.treeBaseDuration,tt=tt.sibling;p.treeBaseDuration=Q}else for(var et=p.child;et!==null;)M=Ce(M,Ce(et.lanes,et.childLanes)),L|=et.subtreeFlags&ds,L|=et.flags&ds,et.return=p,et=et.sibling;p.subtreeFlags|=L}else{if((p.mode&Qe)!==he){for(var F=p.actualDuration,I=p.selfBaseDuration,X=p.child;X!==null;)M=Ce(M,Ce(X.lanes,X.childLanes)),L|=X.subtreeFlags,L|=X.flags,F+=X.actualDuration,I+=X.treeBaseDuration,X=X.sibling;p.actualDuration=F,p.treeBaseDuration=I}else for(var K=p.child;K!==null;)M=Ce(M,Ce(K.lanes,K.childLanes)),L|=K.subtreeFlags,L|=K.flags,K.return=p,K=K.sibling;p.subtreeFlags|=L}return p.childLanes=M,g}function vw(p,g,M){if(_b()&&(g.mode&De)!==he&&(g.flags&Xe)===ue)return B1(g),tl(),g.flags|=hs|nu|dn,!1;var L=pc(g);if(M!==null&&M.dehydrated!==null)if(p===null){if(!L)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(kb(g),Qi(g),(g.mode&Qe)!==he){var F=M!==null;if(F){var I=g.child;I!==null&&(g.treeBaseDuration-=I.treeBaseDuration)}}return!1}else{if(tl(),(g.flags&Xe)===ue&&(g.memoizedState=null),g.flags|=Ne,Qi(g),(g.mode&Qe)!==he){var X=M!==null;if(X){var K=g.child;K!==null&&(g.treeBaseDuration-=K.treeBaseDuration)}}return!1}else return I1(),!0}function aE(p,g,M){var L=g.pendingProps;switch(cm(g),g.tag){case i:case P:case A:case a:case y:case c:case v:case T:case d:case R:return Qi(g),null;case n:{var F=g.type;return Br(F)&&uc(g),Qi(g),null}case r:{var I=g.stateNode;if(rl(g),lm(g),km(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),p===null||p.child===null){var X=pc(g);if(X)fl(g);else if(p!==null){var K=p.memoizedState;(!K.isDehydrated||(g.flags&hs)!==ue)&&(g.flags|=ba,I1())}}return zg(p,g),Qi(g),null}case l:{$m(g);var Q=rS(),tt=g.type;if(p!==null&&g.stateNode!=null)rE(p,g,tt,L,Q),p.ref!==g.ref&&iE(g);else{if(!L){if(g.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Qi(g),null}var et=Km(),ut=pc(g);if(ut)Qb(g,Q,et)&&fl(g);else{var lt=BF(tt,L,Q,et,g);nE(lt,g,!1,!1),g.stateNode=lt,UF(lt,tt,L,Q)&&fl(g)}g.ref!==null&&iE(g)}return Qi(g),null}case h:{var pt=L;if(p&&g.stateNode!=null){var mt=p.memoizedProps;sE(p,g,mt,pt)}else{if(typeof pt!="string"&&g.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var Ct=rS(),Jt=Km(),oe=pc(g);oe?Jb(g)&&fl(g):g.stateNode=GF(pt,Ct,Jt,g)}return Qi(g),null}case C:{al(g);var re=g.memoizedState;if(p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){var be=vw(p,g,re);if(!be)return g.flags&dn?g:null}if((g.flags&Xe)!==ue)return g.lanes=M,(g.mode&Qe)!==he&&Eg(g),g;var Pe=re!==null,ft=p!==null&&p.memoizedState!==null;if(Pe!==ft&&Pe){var Rt=g.child;if(Rt.flags|=Na,(g.mode&De)!==he){var ct=p===null&&(g.memoizedProps.unstable_avoidThisFallback!==!0||!w);ct||Zm(pr.current,oS)?pB():r0()}}var Nt=g.updateQueue;if(Nt!==null&&(g.flags|=Ne),Qi(g),(g.mode&Qe)!==he&&Pe){var kt=g.child;kt!==null&&(g.treeBaseDuration-=kt.treeBaseDuration)}return null}case f:return rl(g),zg(p,g),p===null&&bb(g.stateNode.containerInfo),Qi(g),null;case m:var Kt=g.type._context;return Sm(Kt,g),Qi(g),null;case O:{var ce=g.type;return Br(ce)&&uc(g),Qi(g),null}case D:{al(g);var xe=g.memoizedState;if(xe===null)return Qi(g),null;var ke=(g.flags&Xe)!==ue,Ve=xe.rendering;if(Ve===null)if(ke)oh(xe,!1);else{var Ei=gB()&&(p===null||(p.flags&Xe)===ue);if(!Ei)for(var Ge=g.child;Ge!==null;){var yi=bc(Ge);if(yi!==null){ke=!0,g.flags|=Xe,oh(xe,!1);var ln=yi.updateQueue;return ln!==null&&(g.updateQueue=ln,g.flags|=Ne),g.subtreeFlags=ue,gN(g,M),ia(g,Qm(pr.current,Ju)),g.child}Ge=Ge.sibling}xe.tail!==null&&Yi()>PE()&&(g.flags|=Xe,ke=!0,oh(xe,!1),g.lanes=rT)}else{if(!ke){var tn=bc(Ve);if(tn!==null){g.flags|=Xe,ke=!0;var Yn=tn.updateQueue;if(Yn!==null&&(g.updateQueue=Yn,g.flags|=Ne),oh(xe,!0),xe.tail===null&&xe.tailMode==="hidden"&&!Ve.alternate&&!$i())return Qi(g),null}else Yi()*2-xe.renderingStartTime>PE()&&M!==wn&&(g.flags|=Xe,ke=!0,oh(xe,!1),g.lanes=rT)}if(xe.isBackwards)Ve.sibling=g.child,g.child=Ve;else{var gn=xe.last;gn!==null?gn.sibling=Ve:g.child=Ve,xe.last=Ve}}if(xe.tail!==null){var xn=xe.tail;xe.rendering=xn,xe.tail=xn.sibling,xe.renderingStartTime=Yi(),xn.sibling=null;var un=pr.current;return ke?un=Qm(un,Ju):un=sl(un),ia(g,un),xn}return Qi(g),null}case N:break;case B:case U:{n0(g);var Ls=g.memoizedState,yl=Ls!==null;if(p!==null){var Ch=p.memoizedState,Hr=Ch!==null;Hr!==yl&&!V&&(g.flags|=Na)}return!yl||(g.mode&De)===he?Qi(g):Bn(Xr,wn)&&(Qi(g),g.subtreeFlags&(Mi|Ne)&&(g.flags|=Na)),null}case G:return null;case W:return null}throw new Error("Unknown unit of work tag ("+g.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function pw(p,g,M){switch(cm(g),g.tag){case n:{var L=g.type;Br(L)&&uc(g);var F=g.flags;return F&dn?(g.flags=F&~dn|Xe,(g.mode&Qe)!==he&&Eg(g),g):null}case r:{g.stateNode,rl(g),lm(g),km();var I=g.flags;return(I&dn)!==ue&&(I&Xe)===ue?(g.flags=I&~dn|Xe,g):null}case l:return $m(g),null;case C:{al(g);var X=g.memoizedState;if(X!==null&&X.dehydrated!==null){if(g.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");tl()}var K=g.flags;return K&dn?(g.flags=K&~dn|Xe,(g.mode&Qe)!==he&&Eg(g),g):null}case D:return al(g),null;case f:return rl(g),null;case m:var Q=g.type._context;return Sm(Q,g),null;case B:case U:return n0(g),null;case G:return null;default:return null}}function oE(p,g,M){switch(cm(g),g.tag){case n:{var L=g.type.childContextTypes;L!=null&&uc(g);break}case r:{g.stateNode,rl(g),lm(g),km();break}case l:{$m(g);break}case f:rl(g);break;case C:al(g);break;case D:al(g);break;case m:var F=g.type._context;Sm(F,g);break;case B:case U:n0(g);break}}var lE=null;lE=new Set;var ed=!1,Ji=!1,mw=typeof WeakSet=="function"?WeakSet:Set,qt=null,cl=null,dl=null;function gw(p){Xv(null,function(){throw p}),Hv()}var xw=function(p,g){if(g.props=p.memoizedProps,g.state=p.memoizedState,p.mode&Qe)try{zr(),g.componentWillUnmount()}finally{Gr(p)}else g.componentWillUnmount()};function uE(p,g){try{sa(Ni,p)}catch(M){si(p,g,M)}}function Yg(p,g,M){try{xw(p,M)}catch(L){si(p,g,L)}}function yw(p,g,M){try{M.componentDidMount()}catch(L){si(p,g,L)}}function hE(p,g){try{cE(p)}catch(M){si(p,g,M)}}function vl(p,g){var M=p.ref;if(M!==null)if(typeof M=="function"){var L;try{if(Z&&k&&p.mode&Qe)try{zr(),L=M(null)}finally{Gr(p)}else L=M(null)}catch(F){si(p,g,F)}typeof L=="function"&&u("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Te(p))}else M.current=null}function id(p,g,M){try{M()}catch(L){si(p,g,L)}}var fE=!1;function Tw(p,g){NF(p.containerInfo),qt=g,Sw();var M=fE;return fE=!1,M}function Sw(){for(;qt!==null;){var p=qt,g=p.child;(p.subtreeFlags&Zv)!==ue&&g!==null?(g.return=p,qt=g):Ew()}}function Ew(){for(;qt!==null;){var p=qt;ci(p);try{Cw(p)}catch(M){si(p,p.return,M)}zi();var g=p.sibling;if(g!==null){g.return=p.return,qt=g;return}qt=p.return}}function Cw(p){var g=p.alternate,M=p.flags;if((M&ba)!==ue){switch(ci(p),p.tag){case a:case y:case A:break;case n:{if(g!==null){var L=g.memoizedProps,F=g.memoizedState,I=p.stateNode;p.type===p.elementType&&!_a&&(I.props!==p.memoizedProps&&u("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Te(p)||"instance"),I.state!==p.memoizedState&&u("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Te(p)||"instance"));var X=I.getSnapshotBeforeUpdate(p.elementType===p.type?L:vr(p.type,L),F);{var K=lE;X===void 0&&!K.has(p.type)&&(K.add(p.type),u("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Te(p)))}I.__reactInternalSnapshotBeforeUpdate=X}break}case r:{{var Q=p.stateNode;rb(Q.containerInfo)}break}case l:case h:case f:case O:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}zi()}}function xr(p,g,M){var L=g.updateQueue,F=L!==null?L.lastEffect:null;if(F!==null){var I=F.next,X=I;do{if((X.tag&p)===p){var K=X.destroy;X.destroy=void 0,K!==void 0&&((p&Zi)!==Pn?GL(g):(p&Ni)!==Pn&&_y(g),(p&Ir)!==Pn&&Th(!0),id(g,M,K),(p&Ir)!==Pn&&Th(!1),(p&Zi)!==Pn?zL():(p&Ni)!==Pn&&tT())}X=X.next}while(X!==I)}}function sa(p,g){var M=g.updateQueue,L=M!==null?M.lastEffect:null;if(L!==null){var F=L.next,I=F;do{if((I.tag&p)===p){(p&Zi)!==Pn?UL(g):(p&Ni)!==Pn&&YL(g);var X=I.create;(p&Ir)!==Pn&&Th(!0),I.destroy=X(),(p&Ir)!==Pn&&Th(!1),(p&Zi)!==Pn?VL():(p&Ni)!==Pn&&XL();{var K=I.destroy;if(K!==void 0&&typeof K!="function"){var Q=void 0;(I.tag&Ni)!==ue?Q="useLayoutEffect":(I.tag&Ir)!==ue?Q="useInsertionEffect":Q="useEffect";var tt=void 0;K===null?tt=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof K.then=="function"?tt=`

It looks like you wrote `+Q+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+Q+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:tt=" You returned: "+K,u("%s must not return anything besides a function, which is used for clean-up.%s",Q,tt)}}}I=I.next}while(I!==F)}}function Rw(p,g){if((g.flags&Ne)!==ue)switch(g.tag){case T:{var M=g.stateNode.passiveEffectDuration,L=g.memoizedProps,F=L.id,I=L.onPostCommit,X=NS(),K=g.alternate===null?"mount":"update";bS()&&(K="nested-update"),typeof I=="function"&&I(F,K,M,X);var Q=g.return;t:for(;Q!==null;){switch(Q.tag){case r:var tt=Q.stateNode;tt.passiveEffectDuration+=M;break t;case T:var et=Q.stateNode;et.passiveEffectDuration+=M;break t}Q=Q.return}break}}}function Aw(p,g,M,L){if((M.flags&ru)!==ue)switch(M.tag){case a:case y:case A:{if(!Ji)if(M.mode&Qe)try{zr(),sa(Ni|bi,M)}finally{Gr(M)}else sa(Ni|bi,M);break}case n:{var F=M.stateNode;if(M.flags&Ne&&!Ji)if(g===null)if(M.type===M.elementType&&!_a&&(F.props!==M.memoizedProps&&u("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Te(M)||"instance"),F.state!==M.memoizedState&&u("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Te(M)||"instance")),M.mode&Qe)try{zr(),F.componentDidMount()}finally{Gr(M)}else F.componentDidMount();else{var I=M.elementType===M.type?g.memoizedProps:vr(M.type,g.memoizedProps),X=g.memoizedState;if(M.type===M.elementType&&!_a&&(F.props!==M.memoizedProps&&u("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Te(M)||"instance"),F.state!==M.memoizedState&&u("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Te(M)||"instance")),M.mode&Qe)try{zr(),F.componentDidUpdate(I,X,F.__reactInternalSnapshotBeforeUpdate)}finally{Gr(M)}else F.componentDidUpdate(I,X,F.__reactInternalSnapshotBeforeUpdate)}var K=M.updateQueue;K!==null&&(M.type===M.elementType&&!_a&&(F.props!==M.memoizedProps&&u("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Te(M)||"instance"),F.state!==M.memoizedState&&u("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Te(M)||"instance")),K1(M,K,F));break}case r:{var Q=M.updateQueue;if(Q!==null){var tt=null;if(M.child!==null)switch(M.child.tag){case l:tt=M.child.stateNode;break;case n:tt=M.child.stateNode;break}K1(M,Q,tt)}break}case l:{var et=M.stateNode;if(g===null&&M.flags&Ne){var ut=M.type,lt=M.memoizedProps;WF(et,ut,lt)}break}case h:break;case f:break;case T:{{var pt=M.memoizedProps,mt=pt.onCommit,Ct=pt.onRender,Jt=M.stateNode.effectDuration,oe=NS(),re=g===null?"mount":"update";bS()&&(re="nested-update"),typeof Ct=="function"&&Ct(M.memoizedProps.id,re,M.actualDuration,M.treeBaseDuration,M.actualStartTime,oe);{typeof mt=="function"&&mt(M.memoizedProps.id,re,Jt,oe),EB(M);var be=M.return;t:for(;be!==null;){switch(be.tag){case r:var Pe=be.stateNode;Pe.effectDuration+=Jt;break t;case T:var ft=be.stateNode;ft.effectDuration+=Jt;break t}be=be.return}}}break}case C:{Nw(p,M);break}case D:case O:case N:case B:case U:case W:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Ji||M.flags&Xs&&cE(M)}function Mw(p){switch(p.tag){case a:case y:case A:{if(p.mode&Qe)try{zr(),uE(p,p.return)}finally{Gr(p)}else uE(p,p.return);break}case n:{var g=p.stateNode;typeof g.componentDidMount=="function"&&yw(p,p.return,g),hE(p,p.return);break}case l:{hE(p,p.return);break}}}function Pw(p,g){for(var M=null,L=p;;){if(L.tag===l){if(M===null){M=L;try{var F=L.stateNode;g?tb(F):ib(L.stateNode,L.memoizedProps)}catch(X){si(p,p.return,X)}}}else if(L.tag===h){if(M===null)try{var I=L.stateNode;g?eb(I):nb(I,L.memoizedProps)}catch(X){si(p,p.return,X)}}else if(!((L.tag===B||L.tag===U)&&L.memoizedState!==null&&L!==p)){if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===p)return;for(;L.sibling===null;){if(L.return===null||L.return===p)return;M===L&&(M=null),L=L.return}M===L&&(M=null),L.sibling.return=L.return,L=L.sibling}}function cE(p){var g=p.ref;if(g!==null){var M=p.stateNode,L;switch(p.tag){case l:L=M;break;default:L=M}if(typeof g=="function"){var F;if(p.mode&Qe)try{zr(),F=g(L)}finally{Gr(p)}else F=g(L);typeof F=="function"&&u("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Te(p))}else g.hasOwnProperty("current")||u("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Te(p)),g.current=L}}function Lw(p){var g=p.alternate;g!==null&&(g.return=null),p.return=null}function dE(p){var g=p.alternate;g!==null&&(p.alternate=null,dE(g));{if(p.child=null,p.deletions=null,p.sibling=null,p.tag===l){var M=p.stateNode;M!==null&&Bb(M)}p.stateNode=null,p._debugOwner=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}}function Ow(p){for(var g=p.return;g!==null;){if(vE(g))return g;g=g.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function vE(p){return p.tag===l||p.tag===r||p.tag===f}function pE(p){var g=p;t:for(;;){for(;g.sibling===null;){if(g.return===null||vE(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==l&&g.tag!==h&&g.tag!==b;){if(g.flags&Mi||g.child===null||g.tag===f)continue t;g.child.return=g,g=g.child}if(!(g.flags&Mi))return g.stateNode}}function Dw(p){var g=Ow(p);switch(g.tag){case l:{var M=g.stateNode;g.flags&iu&&(m1(M),g.flags&=~iu);var L=pE(p);Hg(p,L,M);break}case r:case f:{var F=g.stateNode.containerInfo,I=pE(p);Xg(p,I,F);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function Xg(p,g,M){var L=p.tag,F=L===l||L===h;if(F){var I=p.stateNode;g?JF(M,I,g):ZF(M,I)}else if(L!==f){var X=p.child;if(X!==null){Xg(X,g,M);for(var K=X.sibling;K!==null;)Xg(K,g,M),K=K.sibling}}}function Hg(p,g,M){var L=p.tag,F=L===l||L===h;if(F){var I=p.stateNode;g?QF(M,I,g):$F(M,I)}else if(L!==f){var X=p.child;if(X!==null){Hg(X,g,M);for(var K=X.sibling;K!==null;)Hg(K,g,M),K=K.sibling}}}var ki=null,yr=!1;function Fw(p,g,M){{var L=g;t:for(;L!==null;){switch(L.tag){case l:{ki=L.stateNode,yr=!1;break t}case r:{ki=L.stateNode.containerInfo,yr=!0;break t}case f:{ki=L.stateNode.containerInfo,yr=!0;break t}}L=L.return}if(ki===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");mE(p,g,M),ki=null,yr=!1}Lw(M)}function aa(p,g,M){for(var L=M.child;L!==null;)mE(p,g,L),L=L.sibling}function mE(p,g,M){switch(NL(M),M.tag){case l:Ji||vl(M,g);case h:{{var L=ki,F=yr;ki=null,aa(p,g,M),ki=L,yr=F,ki!==null&&(yr?qF(ki,M.stateNode):kF(ki,M.stateNode))}return}case b:{ki!==null&&(yr?_F(ki,M.stateNode):tm(ki,M.stateNode));return}case f:{{var I=ki,X=yr;ki=M.stateNode.containerInfo,yr=!0,aa(p,g,M),ki=I,yr=X}return}case a:case y:case R:case A:{if(!Ji){var K=M.updateQueue;if(K!==null){var Q=K.lastEffect;if(Q!==null){var tt=Q.next,et=tt;do{var ut=et,lt=ut.destroy,pt=ut.tag;lt!==void 0&&((pt&Ir)!==Pn?id(M,g,lt):(pt&Ni)!==Pn&&(_y(M),M.mode&Qe?(zr(),id(M,g,lt),Gr(M)):id(M,g,lt),tT())),et=et.next}while(et!==tt)}}}aa(p,g,M);return}case n:{if(!Ji){vl(M,g);var mt=M.stateNode;typeof mt.componentWillUnmount=="function"&&Yg(M,g,mt)}aa(p,g,M);return}case N:{aa(p,g,M);return}case B:{if(M.mode&De){var Ct=Ji;Ji=Ct||M.memoizedState!==null,aa(p,g,M),Ji=Ct}else aa(p,g,M);break}default:{aa(p,g,M);return}}}function bw(p){p.memoizedState}function Nw(p,g){var M=g.memoizedState;if(M===null){var L=g.alternate;if(L!==null){var F=L.memoizedState;if(F!==null){var I=F.dehydrated;I!==null&&xb(I)}}}}function gE(p){var g=p.updateQueue;if(g!==null){p.updateQueue=null;var M=p.stateNode;M===null&&(M=p.stateNode=new mw),g.forEach(function(L){var F=OB.bind(null,p,L);if(!M.has(L)){if(M.add(L),ur)if(cl!==null&&dl!==null)yh(dl,cl);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");L.then(F,F)}})}}function ww(p,g,M){cl=M,dl=p,ci(g),xE(g,p),ci(g),cl=null,dl=null}function Tr(p,g,M){var L=g.deletions;if(L!==null)for(var F=0;F<L.length;F++){var I=L[F];try{Fw(p,g,I)}catch(Q){si(I,g,Q)}}var X=df();if(g.subtreeFlags&Qv)for(var K=g.child;K!==null;)ci(K),xE(K,p),K=K.sibling;ci(X)}function xE(p,g,M){var L=p.alternate,F=p.flags;switch(p.tag){case a:case y:case R:case A:{if(Tr(g,p),Yr(p),F&Ne){try{xr(Ir|bi,p,p.return),sa(Ir|bi,p)}catch(ce){si(p,p.return,ce)}if(p.mode&Qe){try{zr(),xr(Ni|bi,p,p.return)}catch(ce){si(p,p.return,ce)}Gr(p)}else try{xr(Ni|bi,p,p.return)}catch(ce){si(p,p.return,ce)}}return}case n:{Tr(g,p),Yr(p),F&Xs&&L!==null&&vl(L,L.return);return}case l:{Tr(g,p),Yr(p),F&Xs&&L!==null&&vl(L,L.return);{if(p.flags&iu){var I=p.stateNode;try{m1(I)}catch(ce){si(p,p.return,ce)}}if(F&Ne){var X=p.stateNode;if(X!=null){var K=p.memoizedProps,Q=L!==null?L.memoizedProps:K,tt=p.type,et=p.updateQueue;if(p.updateQueue=null,et!==null)try{jF(X,et,tt,Q,K,p)}catch(ce){si(p,p.return,ce)}}}}return}case h:{if(Tr(g,p),Yr(p),F&Ne){if(p.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var ut=p.stateNode,lt=p.memoizedProps,pt=L!==null?L.memoizedProps:lt;try{KF(ut,pt,lt)}catch(ce){si(p,p.return,ce)}}return}case r:{if(Tr(g,p),Yr(p),F&Ne&&L!==null){var mt=L.memoizedState;if(mt.isDehydrated)try{gb(g.containerInfo)}catch(ce){si(p,p.return,ce)}}return}case f:{Tr(g,p),Yr(p);return}case C:{Tr(g,p),Yr(p);var Ct=p.child;if(Ct.flags&Na){var Jt=Ct.stateNode,oe=Ct.memoizedState,re=oe!==null;if(Jt.isHidden=re,re){var be=Ct.alternate!==null&&Ct.alternate.memoizedState!==null;be||vB()}}if(F&Ne){try{bw(p)}catch(ce){si(p,p.return,ce)}gE(p)}return}case B:{var Pe=L!==null&&L.memoizedState!==null;if(p.mode&De){var ft=Ji;Ji=ft||Pe,Tr(g,p),Ji=ft}else Tr(g,p);if(Yr(p),F&Na){var Rt=p.stateNode,ct=p.memoizedState,Nt=ct!==null,kt=p;if(Rt.isHidden=Nt,Nt&&!Pe&&(kt.mode&De)!==he){qt=kt;for(var Kt=kt.child;Kt!==null;)qt=Kt,Iw(Kt),Kt=Kt.sibling}Pw(kt,Nt)}return}case D:{Tr(g,p),Yr(p),F&Ne&&gE(p);return}case N:return;default:{Tr(g,p),Yr(p);return}}}function Yr(p){var g=p.flags;if(g&Mi){try{Dw(p)}catch(M){si(p,p.return,M)}p.flags&=~Mi}g&fs&&(p.flags&=~fs)}function Bw(p,g,M){cl=M,dl=g,qt=p,yE(p,g,M),cl=null,dl=null}function yE(p,g,M){for(var L=(p.mode&De)!==he;qt!==null;){var F=qt,I=F.child;if(F.tag===B&&L){var X=F.memoizedState!==null,K=X||ed;if(K){Wg(p,g,M);continue}else{var Q=F.alternate,tt=Q!==null&&Q.memoizedState!==null,et=tt||Ji,ut=ed,lt=Ji;ed=K,Ji=et,Ji&&!lt&&(qt=F,Uw(F));for(var pt=I;pt!==null;)qt=pt,yE(pt,g,M),pt=pt.sibling;qt=F,ed=ut,Ji=lt,Wg(p,g,M);continue}}(F.subtreeFlags&ru)!==ue&&I!==null?(I.return=F,qt=I):Wg(p,g,M)}}function Wg(p,g,M){for(;qt!==null;){var L=qt;if((L.flags&ru)!==ue){var F=L.alternate;ci(L);try{Aw(g,F,L,M)}catch(X){si(L,L.return,X)}zi()}if(L===p){qt=null;return}var I=L.sibling;if(I!==null){I.return=L.return,qt=I;return}qt=L.return}}function Iw(p){for(;qt!==null;){var g=qt,M=g.child;switch(g.tag){case a:case y:case R:case A:{if(g.mode&Qe)try{zr(),xr(Ni,g,g.return)}finally{Gr(g)}else xr(Ni,g,g.return);break}case n:{vl(g,g.return);var L=g.stateNode;typeof L.componentWillUnmount=="function"&&Yg(g,g.return,L);break}case l:{vl(g,g.return);break}case B:{var F=g.memoizedState!==null;if(F){TE(p);continue}break}}M!==null?(M.return=g,qt=M):TE(p)}}function TE(p){for(;qt!==null;){var g=qt;if(g===p){qt=null;return}var M=g.sibling;if(M!==null){M.return=g.return,qt=M;return}qt=g.return}}function Uw(p){for(;qt!==null;){var g=qt,M=g.child;if(g.tag===B){var L=g.memoizedState!==null;if(L){SE(p);continue}}M!==null?(M.return=g,qt=M):SE(p)}}function SE(p){for(;qt!==null;){var g=qt;ci(g);try{Mw(g)}catch(L){si(g,g.return,L)}if(zi(),g===p){qt=null;return}var M=g.sibling;if(M!==null){M.return=g.return,qt=M;return}qt=g.return}}function Vw(p,g,M,L){qt=g,Gw(g,p,M,L)}function Gw(p,g,M,L){for(;qt!==null;){var F=qt,I=F.child;(F.subtreeFlags&wo)!==ue&&I!==null?(I.return=F,qt=I):zw(p,g,M,L)}}function zw(p,g,M,L){for(;qt!==null;){var F=qt;if((F.flags&lr)!==ue){ci(F);try{Yw(g,F,M,L)}catch(X){si(F,F.return,X)}zi()}if(F===p){qt=null;return}var I=F.sibling;if(I!==null){I.return=F.return,qt=I;return}qt=F.return}}function Yw(p,g,M,L){switch(g.tag){case a:case y:case A:{if(g.mode&Qe){Sg();try{sa(Zi|bi,g)}finally{Tg(g)}}else sa(Zi|bi,g);break}}}function Xw(p){qt=p,Hw()}function Hw(){for(;qt!==null;){var p=qt,g=p.child;if((qt.flags&Fa)!==ue){var M=p.deletions;if(M!==null){for(var L=0;L<M.length;L++){var F=M[L];qt=F,Kw(F,p)}{var I=p.alternate;if(I!==null){var X=I.child;if(X!==null){I.child=null;do{var K=X.sibling;X.sibling=null,X=K}while(X!==null)}}}qt=p}}(p.subtreeFlags&wo)!==ue&&g!==null?(g.return=p,qt=g):Ww()}}function Ww(){for(;qt!==null;){var p=qt;(p.flags&lr)!==ue&&(ci(p),jw(p),zi());var g=p.sibling;if(g!==null){g.return=p.return,qt=g;return}qt=p.return}}function jw(p){switch(p.tag){case a:case y:case A:{p.mode&Qe?(Sg(),xr(Zi|bi,p,p.return),Tg(p)):xr(Zi|bi,p,p.return);break}}}function Kw(p,g){for(;qt!==null;){var M=qt;ci(M),Zw(M,g),zi();var L=M.child;L!==null?(L.return=M,qt=L):$w(p)}}function $w(p){for(;qt!==null;){var g=qt,M=g.sibling,L=g.return;if(dE(g),g===p){qt=null;return}if(M!==null){M.return=L,qt=M;return}qt=L}}function Zw(p,g){switch(p.tag){case a:case y:case A:{p.mode&Qe?(Sg(),xr(Zi,p,g),Tg(p)):xr(Zi,p,g);break}}}function Qw(p){switch(p.tag){case a:case y:case A:{try{sa(Ni|bi,p)}catch(M){si(p,p.return,M)}break}case n:{var g=p.stateNode;try{g.componentDidMount()}catch(M){si(p,p.return,M)}break}}}function Jw(p){switch(p.tag){case a:case y:case A:{try{sa(Zi|bi,p)}catch(g){si(p,p.return,g)}break}}}function kw(p){switch(p.tag){case a:case y:case A:{try{xr(Ni|bi,p,p.return)}catch(M){si(p,p.return,M)}break}case n:{var g=p.stateNode;typeof g.componentWillUnmount=="function"&&Yg(p,p.return,g);break}}}function qw(p){switch(p.tag){case a:case y:case A:try{xr(Zi|bi,p,p.return)}catch(g){si(p,p.return,g)}}}if(typeof Symbol=="function"&&Symbol.for){var lh=Symbol.for;lh("selector.component"),lh("selector.has_pseudo_class"),lh("selector.role"),lh("selector.test_id"),lh("selector.text")}var _w=[];function tB(){_w.forEach(function(p){return p()})}var eB=o.ReactCurrentActQueue;function iB(p){{var g=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,M=typeof jest<"u";return M&&g!==!1}}function EE(){{var p=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!p&&eB.current!==null&&u("The current testing environment is not configured to support act(...)"),p}}var nB=Math.ceil,jg=o.ReactCurrentDispatcher,Kg=o.ReactCurrentOwner,qi=o.ReactCurrentBatchConfig,Sr=o.ReactCurrentActQueue,Ii=0,CE=1,_i=2,er=4,Rs=0,uh=1,to=2,nd=3,hh=4,RE=5,$g=6,Fe=Ii,pn=null,di=null,Ui=Ft,Xr=Ft,Zg=Js(Ft),Vi=Rs,fh=null,rd=Ft,ch=Ft,sd=Ft,dh=null,Ln=null,Qg=0,AE=500,ME=1/0,rB=500,As=null;function vh(){ME=Yi()+rB}function PE(){return ME}var ad=!1,Jg=null,pl=null,eo=!1,oa=null,ph=Ft,kg=[],qg=null,sB=50,mh=0,_g=null,t0=!1,od=!1,aB=50,ml=0,ld=null,gh=oi,ud=Ft,LE=!1;function hd(){return pn}function mn(){return(Fe&(_i|er))!==Ii?Yi():(gh!==oi||(gh=Yi()),gh)}function la(p){var g=p.mode;if((g&De)===he)return me;if((Fe&_i)!==Ii&&Ui!==Ft)return fu(Ui);var M=iN()!==eN;if(M){if(qi.transition!==null){var L=qi.transition;L._updatedFibers||(L._updatedFibers=new Set),L._updatedFibers.add(p)}return ud===Hi&&(ud=lT()),ud}var F=hr();if(F!==Hi)return F;var I=zF();return I}function oB(p){var g=p.mode;return(g&De)===he?me:hO()}function Gi(p,g,M,L){FB(),LE&&u("useInsertionEffect must not schedule updates."),t0&&(od=!0),cu(p,M,L),(Fe&_i)!==Ft&&p===pn?wB(g):(ur&&fT(p,g,M),BB(g),p===pn&&((Fe&_i)===Ii&&(ch=Ce(ch,M)),Vi===hh&&ua(p,Ui)),On(p,L),M===me&&Fe===Ii&&(g.mode&De)===he&&!Sr.isBatchingLegacy&&(vh(),P1()))}function lB(p,g,M){var L=p.current;L.lanes=g,cu(p,g,M),On(p,M)}function uB(p){return(Fe&_i)!==Ii}function On(p,g){var M=p.callbackNode;rO(p,g);var L=Ff(p,p===pn?Ui:Ft);if(L===Ft){M!==null&&WE(M),p.callbackNode=null,p.callbackPriority=Hi;return}var F=Ga(L),I=p.callbackPriority;if(I===F&&!(Sr.current!==null&&M!==o0)){M==null&&I!==me&&u("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}M!=null&&WE(M);var X;if(F===me)p.tag===ks?(Sr.isBatchingLegacy!==null&&(Sr.didScheduleLegacyUpdate=!0),Vb(FE.bind(null,p))):M1(FE.bind(null,p)),Sr.current!==null?Sr.current.push(qs):XF(function(){(Fe&(_i|er))===Ii&&qs()}),X=null;else{var K;switch(vT(L)){case In:K=Pf;break;case ps:K=Jv;break;case ms:K=Ia;break;case wf:K=kv;break;default:K=Ia;break}X=l0(K,OE.bind(null,p))}p.callbackPriority=F,p.callbackNode=X}function OE(p,g){if(FN(),gh=oi,ud=Ft,(Fe&(_i|er))!==Ii)throw new Error("Should not already be working.");var M=p.callbackNode,L=Ps();if(L&&p.callbackNode!==M)return null;var F=Ff(p,p===pn?Ui:Ft);if(F===Ft)return null;var I=!bf(p,F)&&!uO(p,F)&&!g,X=I?yB(p,F):cd(p,F);if(X!==Rs){if(X===to){var K=yp(p);K!==Ft&&(F=K,X=e0(p,K))}if(X===uh){var Q=fh;throw io(p,Ft),ua(p,F),On(p,Yi()),Q}if(X===$g)ua(p,F);else{var tt=!bf(p,F),et=p.current.alternate;if(tt&&!fB(et)){if(X=cd(p,F),X===to){var ut=yp(p);ut!==Ft&&(F=ut,X=e0(p,ut))}if(X===uh){var lt=fh;throw io(p,Ft),ua(p,F),On(p,Yi()),lt}}p.finishedWork=et,p.finishedLanes=F,hB(p,X,F)}}return On(p,Yi()),p.callbackNode===M?OE.bind(null,p):null}function e0(p,g){var M=dh;if(Bf(p)){var L=io(p,g);L.flags|=hs,Fb(p.containerInfo)}var F=cd(p,g);if(F!==to){var I=Ln;Ln=M,I!==null&&DE(I)}return F}function DE(p){Ln===null?Ln=p:Ln.push.apply(Ln,p)}function hB(p,g,M){switch(g){case Rs:case uh:throw new Error("Root did not complete. This is a bug in React.");case to:{no(p,Ln,As);break}case nd:{if(ua(p,M),aT(M)&&!jE()){var L=Qg+AE-Yi();if(L>10){var F=Ff(p,Ft);if(F!==Ft)break;var I=p.suspendedLanes;if(!zo(I,M)){mn(),hT(p,I);break}p.timeoutHandle=qp(no.bind(null,p,Ln,As),L);break}}no(p,Ln,As);break}case hh:{if(ua(p,M),lO(M))break;if(!jE()){var X=iO(p,M),K=X,Q=Yi()-K,tt=DB(Q)-Q;if(tt>10){p.timeoutHandle=qp(no.bind(null,p,Ln,As),tt);break}}no(p,Ln,As);break}case RE:{no(p,Ln,As);break}default:throw new Error("Unknown root exit status.")}}function fB(p){for(var g=p;;){if(g.flags&Af){var M=g.updateQueue;if(M!==null){var L=M.stores;if(L!==null)for(var F=0;F<L.length;F++){var I=L[F],X=I.getSnapshot,K=I.value;try{if(!Vn(X(),K))return!1}catch{return!1}}}}var Q=g.child;if(g.subtreeFlags&Af&&Q!==null){Q.return=g,g=Q;continue}if(g===p)return!0;for(;g.sibling===null;){if(g.return===null||g.return===p)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}return!0}function ua(p,g){g=Nf(g,sd),g=Nf(g,ch),cO(p,g)}function FE(p){if(bN(),(Fe&(_i|er))!==Ii)throw new Error("Should not already be working.");Ps();var g=Ff(p,Ft);if(!Bn(g,me))return On(p,Yi()),null;var M=cd(p,g);if(p.tag!==ks&&M===to){var L=yp(p);L!==Ft&&(g=L,M=e0(p,L))}if(M===uh){var F=fh;throw io(p,Ft),ua(p,g),On(p,Yi()),F}if(M===$g)throw new Error("Root did not complete. This is a bug in React.");var I=p.current.alternate;return p.finishedWork=I,p.finishedLanes=g,no(p,Ln,As),On(p,Yi()),null}function cB(p,g){g!==Ft&&(Cp(p,Ce(g,me)),On(p,Yi()),(Fe&(_i|er))===Ii&&(vh(),qs()))}function i0(p,g){var M=Fe;Fe|=CE;try{return p(g)}finally{Fe=M,Fe===Ii&&!Sr.isBatchingLegacy&&(vh(),P1())}}function dB(p,g,M,L,F){var I=hr(),X=qi.transition;try{return qi.transition=null,Wi(In),p(g,M,L,F)}finally{Wi(I),qi.transition=X,Fe===Ii&&vh()}}function Ms(p){oa!==null&&oa.tag===ks&&(Fe&(_i|er))===Ii&&Ps();var g=Fe;Fe|=CE;var M=qi.transition,L=hr();try{return qi.transition=null,Wi(In),p?p():void 0}finally{Wi(L),qi.transition=M,Fe=g,(Fe&(_i|er))===Ii&&qs()}}function bE(){return(Fe&(_i|er))!==Ii}function fd(p,g){an(Zg,Xr,p),Xr=Ce(Xr,g)}function n0(p){Xr=Zg.current,sn(Zg,p)}function io(p,g){p.finishedWork=null,p.finishedLanes=Ft;var M=p.timeoutHandle;if(M!==_p&&(p.timeoutHandle=_p,YF(M)),di!==null)for(var L=di.return;L!==null;){var F=L.alternate;oE(F,L),L=L.return}pn=p;var I=ro(p.current,null);return di=I,Ui=Xr=g,Vi=Rs,fh=null,rd=Ft,ch=Ft,sd=Ft,dh=null,Ln=null,aN(),dr.discardPendingWarnings(),I}function NE(p,g){do{var M=di;try{if(yc(),uS(),zi(),Kg.current=null,M===null||M.return===null){Vi=uh,fh=g,di=null;return}if(Z&&M.mode&Qe&&kc(M,!0),j)if(Io(),g!==null&&typeof g=="object"&&typeof g.then=="function"){var L=g;WL(M,L,Ui)}else HL(M,g,Ui);UN(p,M.return,M,g,Ui),UE(M)}catch(F){g=F,di===M&&M!==null?(M=M.return,di=M):M=di;continue}return}while(!0)}function wE(){var p=jg.current;return jg.current=Kc,p===null?Kc:p}function BE(p){jg.current=p}function vB(){Qg=Yi()}function xh(p){rd=Ce(p,rd)}function pB(){Vi===Rs&&(Vi=nd)}function r0(){(Vi===Rs||Vi===nd||Vi===to)&&(Vi=hh),pn!==null&&(Tp(rd)||Tp(ch))&&ua(pn,Ui)}function mB(p){Vi!==hh&&(Vi=to),dh===null?dh=[p]:dh.push(p)}function gB(){return Vi===Rs}function cd(p,g){var M=Fe;Fe|=_i;var L=wE();if(pn!==p||Ui!==g){if(ur){var F=p.memoizedUpdaters;F.size>0&&(yh(p,Ui),F.clear()),cT(p,g)}As=dT(),io(p,g)}eT(g);do try{xB();break}catch(I){NE(p,I)}while(!0);if(yc(),Fe=M,BE(L),di!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return iT(),pn=null,Ui=Ft,Vi}function xB(){for(;di!==null;)IE(di)}function yB(p,g){var M=Fe;Fe|=_i;var L=wE();if(pn!==p||Ui!==g){if(ur){var F=p.memoizedUpdaters;F.size>0&&(yh(p,Ui),F.clear()),cT(p,g)}As=dT(),vh(),io(p,g)}eT(g);do try{TB();break}catch(I){NE(p,I)}while(!0);return yc(),BE(L),Fe=M,di!==null?(QL(),Rs):(iT(),pn=null,Ui=Ft,Vi)}function TB(){for(;di!==null&&!CL();)IE(di)}function IE(p){var g=p.alternate;ci(p);var M;(p.mode&Qe)!==he?(yg(p),M=s0(g,p,Xr),kc(p,!0)):M=s0(g,p,Xr),zi(),p.memoizedProps=p.pendingProps,M===null?UE(p):di=M,Kg.current=null}function UE(p){var g=p;do{var M=g.alternate,L=g.return;if((g.flags&nu)===ue){ci(g);var F=void 0;if((g.mode&Qe)===he?F=aE(M,g,Xr):(yg(g),F=aE(M,g,Xr),kc(g,!1)),zi(),F!==null){di=F;return}}else{var I=pw(M,g);if(I!==null){I.flags&=gL,di=I;return}if((g.mode&Qe)!==he){kc(g,!1);for(var X=g.actualDuration,K=g.child;K!==null;)X+=K.actualDuration,K=K.sibling;g.actualDuration=X}if(L!==null)L.flags|=nu,L.subtreeFlags=ue,L.deletions=null;else{Vi=$g,di=null;return}}var Q=g.sibling;if(Q!==null){di=Q;return}g=L,di=g}while(g!==null);Vi===Rs&&(Vi=RE)}function no(p,g,M){var L=hr(),F=qi.transition;try{qi.transition=null,Wi(In),SB(p,g,M,L)}finally{qi.transition=F,Wi(L)}return null}function SB(p,g,M,L){do Ps();while(oa!==null);if(bB(),(Fe&(_i|er))!==Ii)throw new Error("Should not already be working.");var F=p.finishedWork,I=p.finishedLanes;if(IL(I),F===null)return qy(),null;if(I===Ft&&u("root.finishedLanes should not be empty during a commit. This is a bug in React."),p.finishedWork=null,p.finishedLanes=Ft,F===p.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");p.callbackNode=null,p.callbackPriority=Hi;var X=Ce(F.lanes,F.childLanes);dO(p,X),p===pn&&(pn=null,di=null,Ui=Ft),((F.subtreeFlags&wo)!==ue||(F.flags&wo)!==ue)&&(eo||(eo=!0,qg=M,l0(Ia,function(){return Ps(),null})));var K=(F.subtreeFlags&(Zv|Qv|ru|wo))!==ue,Q=(F.flags&(Zv|Qv|ru|wo))!==ue;if(K||Q){var tt=qi.transition;qi.transition=null;var et=hr();Wi(In);var ut=Fe;Fe|=er,Kg.current=null,Tw(p,F),wS(),ww(p,F,I),wF(p.containerInfo),p.current=F,jL(I),Bw(F,p,I),KL(),RL(),Fe=ut,Wi(et),qi.transition=tt}else p.current=F,wS();var lt=eo;if(eo?(eo=!1,oa=p,ph=I):(ml=0,ld=null),X=p.pendingLanes,X===Ft&&(pl=null),lt||YE(p.current,!1),FL(F.stateNode,L),ur&&p.memoizedUpdaters.clear(),tB(),On(p,Yi()),g!==null)for(var pt=p.onRecoverableError,mt=0;mt<g.length;mt++){var Ct=g[mt],Jt=Ct.stack,oe=Ct.digest;pt(Ct.value,{componentStack:Jt,digest:oe})}if(ad){ad=!1;var re=Jg;throw Jg=null,re}return Bn(ph,me)&&p.tag!==ks&&Ps(),X=p.pendingLanes,Bn(X,me)?(DN(),p===_g?mh++:(mh=0,_g=p)):mh=0,qs(),qy(),null}function Ps(){if(oa!==null){var p=vT(ph),g=gO(ms,p),M=qi.transition,L=hr();try{return qi.transition=null,Wi(g),CB()}finally{Wi(L),qi.transition=M}}return!1}function EB(p){kg.push(p),eo||(eo=!0,l0(Ia,function(){return Ps(),null}))}function CB(){if(oa===null)return!1;var p=qg;qg=null;var g=oa,M=ph;if(oa=null,ph=Ft,(Fe&(_i|er))!==Ii)throw new Error("Cannot flush passive effects while already rendering.");t0=!0,od=!1,$L(M);var L=Fe;Fe|=er,Xw(g.current),Vw(g,g.current,M,p);{var F=kg;kg=[];for(var I=0;I<F.length;I++){var X=F[I];Rw(g,X)}}ZL(),YE(g.current,!0),Fe=L,qs(),od?g===ld?ml++:(ml=0,ld=g):ml=0,t0=!1,od=!1,bL(g);{var K=g.current.stateNode;K.effectDuration=0,K.passiveEffectDuration=0}return!0}function VE(p){return pl!==null&&pl.has(p)}function RB(p){pl===null?pl=new Set([p]):pl.add(p)}function AB(p){ad||(ad=!0,Jg=p)}var MB=AB;function GE(p,g,M){var L=qa(M,g),F=IS(p,L,me),I=ta(p,F,me),X=mn();I!==null&&(cu(I,me,X),On(I,X))}function si(p,g,M){if(gw(M),Th(!1),p.tag===r){GE(p,p,M);return}var L=null;for(L=g;L!==null;){if(L.tag===r){GE(L,p,M);return}else if(L.tag===n){var F=L.type,I=L.stateNode;if(typeof F.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&!VE(I)){var X=qa(M,p),K=Ag(L,X,me),Q=ta(L,K,me),tt=mn();Q!==null&&(cu(Q,me,tt),On(Q,tt));return}}L=L.return}u(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,M)}function PB(p,g,M){var L=p.pingCache;L!==null&&L.delete(g);var F=mn();hT(p,M),IB(p),pn===p&&zo(Ui,M)&&(Vi===hh||Vi===nd&&aT(Ui)&&Yi()-Qg<AE?io(p,Ft):sd=Ce(sd,M)),On(p,F)}function zE(p,g){g===Hi&&(g=oB(p));var M=mn(),L=Mn(p,g);L!==null&&(cu(L,g,M),On(L,M))}function LB(p){var g=p.memoizedState,M=Hi;g!==null&&(M=g.retryLane),zE(p,M)}function OB(p,g){var M=Hi,L;switch(p.tag){case C:L=p.stateNode;var F=p.memoizedState;F!==null&&(M=F.retryLane);break;case D:L=p.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}L!==null&&L.delete(g),zE(p,M)}function DB(p){return p<120?120:p<480?480:p<1080?1080:p<1920?1920:p<3e3?3e3:p<4320?4320:nB(p/1960)*1960}function FB(){if(mh>sB)throw mh=0,_g=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");ml>aB&&(ml=0,ld=null,u("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function bB(){dr.flushLegacyContextWarning(),dr.flushPendingUnsafeLifecycleWarnings()}function YE(p,g){ci(p),dd(p,cs,kw),g&&dd(p,Mf,qw),dd(p,cs,Qw),g&&dd(p,Mf,Jw),zi()}function dd(p,g,M){for(var L=p,F=null;L!==null;){var I=L.subtreeFlags&g;L!==F&&L.child!==null&&I!==ue?L=L.child:((L.flags&g)!==ue&&M(L),L.sibling!==null?L=L.sibling:L=F=L.return)}}var vd=null;function XE(p){{if((Fe&_i)!==Ii||!(p.mode&De))return;var g=p.tag;if(g!==i&&g!==r&&g!==n&&g!==a&&g!==y&&g!==R&&g!==A)return;var M=Te(p)||"ReactComponent";if(vd!==null){if(vd.has(M))return;vd.add(M)}else vd=new Set([M]);var L=nn;try{ci(p),u("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{L?ci(p):zi()}}}var s0;{var NB=null;s0=function(p,g,M){var L=JE(NB,g);try{return eE(p,g,M)}catch(I){if(Kb()||I!==null&&typeof I=="object"&&typeof I.then=="function")throw I;if(yc(),uS(),oE(p,g),JE(g,L),g.mode&Qe&&yg(g),Xv(null,eE,null,p,g,M),dL()){var F=Hv();typeof F=="object"&&F!==null&&F._suppressLogging&&typeof I=="object"&&I!==null&&!I._suppressLogging&&(I._suppressLogging=!0)}throw I}}}var HE=!1,a0;a0=new Set;function wB(p){if(La&&!PN())switch(p.tag){case a:case y:case A:{var g=di&&Te(di)||"Unknown",M=g;if(!a0.has(M)){a0.add(M);var L=Te(p)||"Unknown";u("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",L,g,g)}break}case n:{HE||(u("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),HE=!0);break}}}function yh(p,g){if(ur){var M=p.memoizedUpdaters;M.forEach(function(L){fT(p,L,g)})}}var o0={};function l0(p,g){{var M=Sr.current;return M!==null?(M.push(g),o0):ky(p,g)}}function WE(p){if(p!==o0)return EL(p)}function jE(){return Sr.current!==null}function BB(p){{if(p.mode&De){if(!EE())return}else if(!iB()||Fe!==Ii||p.tag!==a&&p.tag!==y&&p.tag!==A)return;if(Sr.current===null){var g=nn;try{ci(p),u(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Te(p))}finally{g?ci(p):zi()}}}}function IB(p){p.tag!==ks&&EE()&&Sr.current===null&&u(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Th(p){LE=p}var ir=null,gl=null,UB=function(p){ir=p};function xl(p){{if(ir===null)return p;var g=ir(p);return g===void 0?p:g.current}}function u0(p){return xl(p)}function h0(p){{if(ir===null)return p;var g=ir(p);if(g===void 0){if(p!=null&&typeof p.render=="function"){var M=xl(p.render);if(p.render!==M){var L={$$typeof:Dt,render:M};return p.displayName!==void 0&&(L.displayName=p.displayName),L}}return p}return g.current}}function KE(p,g){{if(ir===null)return!1;var M=p.elementType,L=g.type,F=!1,I=typeof L=="object"&&L!==null?L.$$typeof:null;switch(p.tag){case n:{typeof L=="function"&&(F=!0);break}case a:{(typeof L=="function"||I===jt)&&(F=!0);break}case y:{(I===Dt||I===jt)&&(F=!0);break}case R:case A:{(I===te||I===jt)&&(F=!0);break}default:return!1}if(F){var X=ir(M);if(X!==void 0&&X===ir(L))return!0}return!1}}function $E(p){{if(ir===null||typeof WeakSet!="function")return;gl===null&&(gl=new WeakSet),gl.add(p)}}var VB=function(p,g){{if(ir===null)return;var M=g.staleFamilies,L=g.updatedFamilies;Ps(),Ms(function(){f0(p.current,L,M)})}},GB=function(p,g){{if(p.context!==Gn)return;Ps(),Ms(function(){Sh(g,p,null,null)})}};function f0(p,g,M){{var L=p.alternate,F=p.child,I=p.sibling,X=p.tag,K=p.type,Q=null;switch(X){case a:case A:case n:Q=K;break;case y:Q=K.render;break}if(ir===null)throw new Error("Expected resolveFamily to be set during hot reload.");var tt=!1,et=!1;if(Q!==null){var ut=ir(Q);ut!==void 0&&(M.has(ut)?et=!0:g.has(ut)&&(X===n?et=!0:tt=!0))}if(gl!==null&&(gl.has(p)||L!==null&&gl.has(L))&&(et=!0),et&&(p._debugNeedsRemount=!0),et||tt){var lt=Mn(p,me);lt!==null&&Gi(lt,p,me,oi)}F!==null&&!et&&f0(F,g,M),I!==null&&f0(I,g,M)}}var zB=function(p,g){{var M=new Set,L=new Set(g.map(function(F){return F.current}));return c0(p.current,L,M),M}};function c0(p,g,M){{var L=p.child,F=p.sibling,I=p.tag,X=p.type,K=null;switch(I){case a:case A:case n:K=X;break;case y:K=X.render;break}var Q=!1;K!==null&&g.has(K)&&(Q=!0),Q?YB(p,M):L!==null&&c0(L,g,M),F!==null&&c0(F,g,M)}}function YB(p,g){{var M=XB(p,g);if(M)return;for(var L=p;;){switch(L.tag){case l:g.add(L.stateNode);return;case f:g.add(L.stateNode.containerInfo);return;case r:g.add(L.stateNode.containerInfo);return}if(L.return===null)throw new Error("Expected to reach root first.");L=L.return}}}function XB(p,g){for(var M=p,L=!1;;){if(M.tag===l)L=!0,g.add(M.stateNode);else if(M.child!==null){M.child.return=M,M=M.child;continue}if(M===p)return L;for(;M.sibling===null;){if(M.return===null||M.return===p)return L;M=M.return}M.sibling.return=M.return,M=M.sibling}return!1}var d0;{d0=!1;try{var ZE=Object.preventExtensions({})}catch{d0=!0}}function HB(p,g,M,L){this.tag=p,this.key=M,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=g,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=L,this.flags=ue,this.subtreeFlags=ue,this.deletions=null,this.lanes=Ft,this.childLanes=Ft,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!d0&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var zn=function(p,g,M,L){return new HB(p,g,M,L)};function v0(p){var g=p.prototype;return!!(g&&g.isReactComponent)}function WB(p){return typeof p=="function"&&!v0(p)&&p.defaultProps===void 0}function jB(p){if(typeof p=="function")return v0(p)?n:a;if(p!=null){var g=p.$$typeof;if(g===Dt)return y;if(g===te)return R}return i}function ro(p,g){var M=p.alternate;M===null?(M=zn(p.tag,g,p.key,p.mode),M.elementType=p.elementType,M.type=p.type,M.stateNode=p.stateNode,M._debugSource=p._debugSource,M._debugOwner=p._debugOwner,M._debugHookTypes=p._debugHookTypes,M.alternate=p,p.alternate=M):(M.pendingProps=g,M.type=p.type,M.flags=ue,M.subtreeFlags=ue,M.deletions=null,M.actualDuration=0,M.actualStartTime=-1),M.flags=p.flags&ds,M.childLanes=p.childLanes,M.lanes=p.lanes,M.child=p.child,M.memoizedProps=p.memoizedProps,M.memoizedState=p.memoizedState,M.updateQueue=p.updateQueue;var L=p.dependencies;switch(M.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext},M.sibling=p.sibling,M.index=p.index,M.ref=p.ref,M.selfBaseDuration=p.selfBaseDuration,M.treeBaseDuration=p.treeBaseDuration,M._debugNeedsRemount=p._debugNeedsRemount,M.tag){case i:case a:case A:M.type=xl(p.type);break;case n:M.type=u0(p.type);break;case y:M.type=h0(p.type);break}return M}function KB(p,g){p.flags&=ds|Mi;var M=p.alternate;if(M===null)p.childLanes=Ft,p.lanes=g,p.child=null,p.subtreeFlags=ue,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null,p.selfBaseDuration=0,p.treeBaseDuration=0;else{p.childLanes=M.childLanes,p.lanes=M.lanes,p.child=M.child,p.subtreeFlags=ue,p.deletions=null,p.memoizedProps=M.memoizedProps,p.memoizedState=M.memoizedState,p.updateQueue=M.updateQueue,p.type=M.type;var L=M.dependencies;p.dependencies=L===null?null:{lanes:L.lanes,firstContext:L.firstContext},p.selfBaseDuration=M.selfBaseDuration,p.treeBaseDuration=M.treeBaseDuration}return p}function $B(p,g,M){var L;return p===fc?(L=De,g===!0&&(L|=Pi,L|=br)):L=he,ur&&(L|=Qe),zn(r,null,null,L)}function p0(p,g,M,L,F,I){var X=i,K=p;if(typeof p=="function")v0(p)?(X=n,K=u0(K)):K=xl(K);else if(typeof p=="string")X=l;else t:switch(p){case bt:return ha(M.children,F,I,g);case Ht:X=v,F|=Pi,(F&De)!==he&&(F|=br);break;case it:return ZB(M,F,I,g);case Wt:return QB(M,F,I,g);case de:return JB(M,F,I,g);case ti:return QE(M,F,I,g);case ai:case We:case Or:case To:case je:default:{if(typeof p=="object"&&p!==null)switch(p.$$typeof){case yt:X=m;break t;case Ot:X=d;break t;case Dt:X=y,K=h0(K);break t;case te:X=R;break t;case jt:X=P,K=null;break t}var Q="";{(p===void 0||typeof p=="object"&&p!==null&&Object.keys(p).length===0)&&(Q+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var tt=L?Te(L):null;tt&&(Q+=`

Check the render method of \``+tt+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(p==null?p:typeof p)+"."+Q))}}var et=zn(X,M,g,F);return et.elementType=p,et.type=K,et.lanes=I,et._debugOwner=L,et}function m0(p,g,M){var L=null;L=p._owner;var F=p.type,I=p.key,X=p.props,K=p0(F,I,X,L,g,M);return K._debugSource=p._source,K._debugOwner=p._owner,K}function ha(p,g,M,L){var F=zn(c,p,L,g);return F.lanes=M,F}function ZB(p,g,M,L){typeof p.id!="string"&&u('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof p.id);var F=zn(T,p,L,g|Qe);return F.elementType=it,F.lanes=M,F.stateNode={effectDuration:0,passiveEffectDuration:0},F}function QB(p,g,M,L){var F=zn(C,p,L,g);return F.elementType=Wt,F.lanes=M,F}function JB(p,g,M,L){var F=zn(D,p,L,g);return F.elementType=de,F.lanes=M,F}function QE(p,g,M,L){var F=zn(B,p,L,g);F.elementType=ti,F.lanes=M;var I={isHidden:!1};return F.stateNode=I,F}function g0(p,g,M){var L=zn(h,p,null,g);return L.lanes=M,L}function kB(){var p=zn(l,null,null,he);return p.elementType="DELETED",p}function qB(p){var g=zn(b,null,null,he);return g.stateNode=p,g}function x0(p,g,M){var L=p.children!==null?p.children:[],F=zn(f,L,p.key,g);return F.lanes=M,F.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},F}function JE(p,g){return p===null&&(p=zn(i,null,null,he)),p.tag=g.tag,p.key=g.key,p.elementType=g.elementType,p.type=g.type,p.stateNode=g.stateNode,p.return=g.return,p.child=g.child,p.sibling=g.sibling,p.index=g.index,p.ref=g.ref,p.pendingProps=g.pendingProps,p.memoizedProps=g.memoizedProps,p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.dependencies=g.dependencies,p.mode=g.mode,p.flags=g.flags,p.subtreeFlags=g.subtreeFlags,p.deletions=g.deletions,p.lanes=g.lanes,p.childLanes=g.childLanes,p.alternate=g.alternate,p.actualDuration=g.actualDuration,p.actualStartTime=g.actualStartTime,p.selfBaseDuration=g.selfBaseDuration,p.treeBaseDuration=g.treeBaseDuration,p._debugSource=g._debugSource,p._debugOwner=g._debugOwner,p._debugNeedsRemount=g._debugNeedsRemount,p._debugHookTypes=g._debugHookTypes,p}function _B(p,g,M,L,F){this.tag=g,this.containerInfo=p,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=_p,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Hi,this.eventTimes=Ep(Ft),this.expirationTimes=Ep(oi),this.pendingLanes=Ft,this.suspendedLanes=Ft,this.pingedLanes=Ft,this.expiredLanes=Ft,this.mutableReadLanes=Ft,this.finishedLanes=Ft,this.entangledLanes=Ft,this.entanglements=Ep(Ft),this.identifierPrefix=L,this.onRecoverableError=F,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var I=this.pendingUpdatersLaneMap=[],X=0;X<_v;X++)I.push(new Set)}switch(g){case fc:this._debugRootType=M?"hydrateRoot()":"createRoot()";break;case ks:this._debugRootType=M?"hydrate()":"render()";break}}function kE(p,g,M,L,F,I,X,K,Q,tt){var et=new _B(p,g,M,K,Q),ut=$B(g,I);et.current=ut,ut.stateNode=et;{var lt={element:L,isDehydrated:M,cache:null,transitions:null,pendingSuspenseBoundaries:null};ut.memoizedState=lt}return Mm(ut),et}var y0="18.2.0";function t3(p,g,M){var L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Mt(L),{$$typeof:at,key:L==null?null:""+L,children:p,containerInfo:g,implementation:M}}var T0,S0;T0=!1,S0={};function qE(p){if(!p)return Gn;var g=bo(p),M=Ub(g);if(g.tag===n){var L=g.type;if(Br(L))return R1(g,L,M)}return M}function e3(p,g){{var M=bo(p);if(M===void 0){if(typeof p.render=="function")throw new Error("Unable to find node on an unmounted component.");var L=Object.keys(p).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+L)}var F=Zy(M);if(F===null)return null;if(F.mode&Pi){var I=Te(M)||"Component";if(!S0[I]){S0[I]=!0;var X=nn;try{ci(F),M.mode&Pi?u("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",g,g,I):u("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",g,g,I)}finally{X?ci(X):zi()}}}return F.stateNode}}function _E(p,g,M,L,F,I,X,K){var Q=!1,tt=null;return kE(p,g,Q,tt,M,L,F,I,X)}function tC(p,g,M,L,F,I,X,K,Q,tt){var et=!0,ut=kE(M,L,et,p,F,I,X,K,Q);ut.context=qE(null);var lt=ut.current,pt=mn(),mt=la(lt),Ct=Es(pt,mt);return Ct.callback=g??null,ta(lt,Ct,mt),lB(ut,mt,pt),ut}function Sh(p,g,M,L){DL(g,p);var F=g.current,I=mn(),X=la(F);JL(X);var K=qE(M);g.context===null?g.context=K:g.pendingContext=K,La&&nn!==null&&!T0&&(T0=!0,u(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Te(nn)||"Unknown"));var Q=Es(I,X);Q.payload={element:p},L=L===void 0?null:L,L!==null&&(typeof L!="function"&&u("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",L),Q.callback=L);var tt=ta(F,Q,X);return tt!==null&&(Gi(tt,F,X,I),Rc(tt,F,X)),X}function pd(p){var g=p.current;if(!g.child)return null;switch(g.child.tag){case l:return g.child.stateNode;default:return g.child.stateNode}}function i3(p){switch(p.tag){case r:{var g=p.stateNode;if(Bf(g)){var M=sO(g);cB(g,M)}break}case C:{Ms(function(){var F=Mn(p,me);if(F!==null){var I=mn();Gi(F,p,me,I)}});var L=me;E0(p,L);break}}}function eC(p,g){var M=p.memoizedState;M!==null&&M.dehydrated!==null&&(M.retryLane=fO(M.retryLane,g))}function E0(p,g){eC(p,g);var M=p.alternate;M&&eC(M,g)}function n3(p){if(p.tag===C){var g=lu,M=Mn(p,g);if(M!==null){var L=mn();Gi(M,p,g,L)}E0(p,g)}}function r3(p){if(p.tag===C){var g=la(p),M=Mn(p,g);if(M!==null){var L=mn();Gi(M,p,g,L)}E0(p,g)}}function iC(p){var g=SL(p);return g===null?null:g.stateNode}var nC=function(p){return null};function s3(p){return nC(p)}var rC=function(p){return!1};function a3(p){return rC(p)}var sC=null,aC=null,oC=null,lC=null,uC=null,hC=null,fC=null,cC=null,dC=null;{var vC=function(p,g,M){var L=g[M],F=Ye(p)?p.slice():Le({},p);return M+1===g.length?(Ye(F)?F.splice(L,1):delete F[L],F):(F[L]=vC(p[L],g,M+1),F)},pC=function(p,g){return vC(p,g,0)},mC=function(p,g,M,L){var F=g[L],I=Ye(p)?p.slice():Le({},p);if(L+1===g.length){var X=M[L];I[X]=I[F],Ye(I)?I.splice(F,1):delete I[F]}else I[F]=mC(p[F],g,M,L+1);return I},gC=function(p,g,M){if(g.length!==M.length){e("copyWithRename() expects paths of the same length");return}else for(var L=0;L<M.length-1;L++)if(g[L]!==M[L]){e("copyWithRename() expects paths to be the same except for the deepest key");return}return mC(p,g,M,0)},xC=function(p,g,M,L){if(M>=g.length)return L;var F=g[M],I=Ye(p)?p.slice():Le({},p);return I[F]=xC(p[F],g,M+1,L),I},yC=function(p,g,M){return xC(p,g,0,M)},C0=function(p,g){for(var M=p.memoizedState;M!==null&&g>0;)M=M.next,g--;return M};sC=function(p,g,M,L){var F=C0(p,g);if(F!==null){var I=yC(F.memoizedState,M,L);F.memoizedState=I,F.baseState=I,p.memoizedProps=Le({},p.memoizedProps);var X=Mn(p,me);X!==null&&Gi(X,p,me,oi)}},aC=function(p,g,M){var L=C0(p,g);if(L!==null){var F=pC(L.memoizedState,M);L.memoizedState=F,L.baseState=F,p.memoizedProps=Le({},p.memoizedProps);var I=Mn(p,me);I!==null&&Gi(I,p,me,oi)}},oC=function(p,g,M,L){var F=C0(p,g);if(F!==null){var I=gC(F.memoizedState,M,L);F.memoizedState=I,F.baseState=I,p.memoizedProps=Le({},p.memoizedProps);var X=Mn(p,me);X!==null&&Gi(X,p,me,oi)}},lC=function(p,g,M){p.pendingProps=yC(p.memoizedProps,g,M),p.alternate&&(p.alternate.pendingProps=p.pendingProps);var L=Mn(p,me);L!==null&&Gi(L,p,me,oi)},uC=function(p,g){p.pendingProps=pC(p.memoizedProps,g),p.alternate&&(p.alternate.pendingProps=p.pendingProps);var M=Mn(p,me);M!==null&&Gi(M,p,me,oi)},hC=function(p,g,M){p.pendingProps=gC(p.memoizedProps,g,M),p.alternate&&(p.alternate.pendingProps=p.pendingProps);var L=Mn(p,me);L!==null&&Gi(L,p,me,oi)},fC=function(p){var g=Mn(p,me);g!==null&&Gi(g,p,me,oi)},cC=function(p){nC=p},dC=function(p){rC=p}}function o3(p){var g=Zy(p);return g===null?null:g.stateNode}function l3(p){return null}function u3(){return nn}function h3(p){var g=p.findFiberByHostInstance,M=o.ReactCurrentDispatcher;return OL({bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:sC,overrideHookStateDeletePath:aC,overrideHookStateRenamePath:oC,overrideProps:lC,overridePropsDeletePath:uC,overridePropsRenamePath:hC,setErrorHandler:cC,setSuspenseHandler:dC,scheduleUpdate:fC,currentDispatcherRef:M,findHostInstanceByFiber:o3,findFiberByHostInstance:g||l3,findHostInstancesForRefresh:zB,scheduleRefresh:VB,scheduleRoot:GB,setRefreshHandler:UB,getCurrentFiber:u3,reconcilerVersion:y0})}var TC=typeof reportError=="function"?reportError:function(p){console.error(p)};function R0(p){this._internalRoot=p}md.prototype.render=R0.prototype.render=function(p){var g=this._internalRoot;if(g===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?u("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):gd(arguments[1])?u("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&u("You passed a second argument to root.render(...) but it only accepts one argument.");var M=g.containerInfo;if(M.nodeType!==Ai){var L=iC(g.current);L&&L.parentNode!==M&&u("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}Sh(p,g,null,null)},md.prototype.unmount=R0.prototype.unmount=function(){typeof arguments[0]=="function"&&u("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var p=this._internalRoot;if(p!==null){this._internalRoot=null;var g=p.containerInfo;bE()&&u("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Ms(function(){Sh(null,p,null,null)}),y1(g)}};function f3(p,g){if(!gd(p))throw new Error("createRoot(...): Target container is not a DOM element.");SC(p);var M=!1,L=!1,F="",I=TC;g!=null&&(g.hydrate?e("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof g=="object"&&g!==null&&g.$$typeof===Zn&&u(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),g.unstable_strictMode===!0&&(M=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onRecoverableError!==void 0&&(I=g.onRecoverableError),g.transitionCallbacks!==void 0&&g.transitionCallbacks);var X=_E(p,fc,null,M,L,F,I);rc(X.current,p);var K=p.nodeType===Ai?p.parentNode:p;return Ou(K),new R0(X)}function md(p){this._internalRoot=p}function c3(p){p&&LO(p)}md.prototype.unstable_scheduleHydration=c3;function d3(p,g,M){if(!gd(p))throw new Error("hydrateRoot(...): Target container is not a DOM element.");SC(p),g===void 0&&u("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var L=M??null,F=M!=null&&M.hydratedSources||null,I=!1,X=!1,K="",Q=TC;M!=null&&(M.unstable_strictMode===!0&&(I=!0),M.identifierPrefix!==void 0&&(K=M.identifierPrefix),M.onRecoverableError!==void 0&&(Q=M.onRecoverableError));var tt=tC(g,null,p,fc,L,I,X,K,Q);if(rc(tt.current,p),Ou(p),F)for(var et=0;et<F.length;et++){var ut=F[et];SN(tt,ut)}return new md(tt)}function gd(p){return!!(p&&(p.nodeType===Rn||p.nodeType===us||p.nodeType===Fv||!z))}function Eh(p){return!!(p&&(p.nodeType===Rn||p.nodeType===us||p.nodeType===Fv||p.nodeType===Ai&&p.nodeValue===" react-mount-point-unstable "))}function SC(p){p.nodeType===Rn&&p.tagName&&p.tagName.toUpperCase()==="BODY"&&u("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),zu(p)&&(p._reactRootContainer?u("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):u("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var v3=o.ReactCurrentOwner,EC;EC=function(p){if(p._reactRootContainer&&p.nodeType!==Ai){var g=iC(p._reactRootContainer.current);g&&g.parentNode!==p&&u("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var M=!!p._reactRootContainer,L=A0(p),F=!!(L&&Qs(L));F&&!M&&u("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),p.nodeType===Rn&&p.tagName&&p.tagName.toUpperCase()==="BODY"&&u("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function A0(p){return p?p.nodeType===us?p.documentElement:p.firstChild:null}function CC(){}function p3(p,g,M,L,F){if(F){if(typeof L=="function"){var I=L;L=function(){var lt=pd(X);I.call(lt)}}var X=tC(g,L,p,ks,null,!1,!1,"",CC);p._reactRootContainer=X,rc(X.current,p);var K=p.nodeType===Ai?p.parentNode:p;return Ou(K),Ms(),X}else{for(var Q;Q=p.lastChild;)p.removeChild(Q);if(typeof L=="function"){var tt=L;L=function(){var lt=pd(et);tt.call(lt)}}var et=_E(p,ks,null,!1,!1,"",CC);p._reactRootContainer=et,rc(et.current,p);var ut=p.nodeType===Ai?p.parentNode:p;return Ou(ut),Ms(function(){Sh(g,et,M,L)}),et}}function m3(p,g){p!==null&&typeof p!="function"&&u("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",g,p)}function xd(p,g,M,L,F){EC(M),m3(F===void 0?null:F,"render");var I=M._reactRootContainer,X;if(!I)X=p3(M,g,p,F,L);else{if(X=I,typeof F=="function"){var K=F;F=function(){var Q=pd(X);K.call(Q)}}Sh(g,X,p,F)}return pd(X)}function g3(p){{var g=v3.current;if(g!==null&&g.stateNode!==null){var M=g.stateNode._warnedAboutRefsInRender;M||u("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",ze(g.type)||"A component"),g.stateNode._warnedAboutRefsInRender=!0}}return p==null?null:p.nodeType===Rn?p:e3(p,"findDOMNode")}function x3(p,g,M){if(u("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Eh(g))throw new Error("Target container is not a DOM element.");{var L=zu(g)&&g._reactRootContainer===void 0;L&&u("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return xd(null,p,g,!0,M)}function y3(p,g,M){if(u("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Eh(g))throw new Error("Target container is not a DOM element.");{var L=zu(g)&&g._reactRootContainer===void 0;L&&u("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return xd(null,p,g,!1,M)}function T3(p,g,M,L){if(u("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Eh(M))throw new Error("Target container is not a DOM element.");if(p==null||!vL(p))throw new Error("parentComponent must be a valid React Component");return xd(p,g,M,!1,L)}function S3(p){if(!Eh(p))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var g=zu(p)&&p._reactRootContainer===void 0;g&&u("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(p._reactRootContainer){{var M=A0(p),L=M&&!Qs(M);L&&u("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Ms(function(){xd(null,null,p,!1,function(){p._reactRootContainer=null,y1(p)})}),!0}else{{var F=A0(p),I=!!(F&&Qs(F)),X=p.nodeType===Rn&&Eh(p.parentNode)&&!!p.parentNode._reactRootContainer;I&&u("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",X?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}xO(i3),TO(n3),SO(r3),EO(hr),CO(pO),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&u("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),nL(RF),aL(i0,dB,Ms);function E3(p,g){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!gd(g))throw new Error("Target container is not a DOM element.");return t3(p,g,null,M)}function C3(p,g,M,L){return T3(p,g,M,L)}var M0={usingClientEntryPoint:!1,Events:[Qs,Qo,sc,Iy,Uy,i0]};function R3(p,g){return M0.usingClientEntryPoint||u('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),f3(p,g)}function A3(p,g,M){return M0.usingClientEntryPoint||u('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),d3(p,g,M)}function M3(p){return bE()&&u("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Ms(p)}var P3=h3({findFiberByHostInstance:Ha,bundleType:1,version:y0,rendererPackageName:"react-dom"});if(!P3&&Et&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var RC=window.location.protocol;/^(https?|file):$/.test(RC)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(RC==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M0,Xn.createPortal=E3,Xn.createRoot=R3,Xn.findDOMNode=g3,Xn.flushSync=M3,Xn.hydrate=x3,Xn.hydrateRoot=A3,Xn.render=y3,Xn.unmountComponentAtNode=S3,Xn.unstable_batchedUpdates=i0,Xn.unstable_renderSubtreeIntoContainer=C3,Xn.version=y0,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();(function(E){E.exports=Xn})(U3);var P0=J0;{var yd=P0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Q0.createRoot=function(E,S){yd.usingClientEntryPoint=!0;try{return P0.createRoot(E,S)}finally{yd.usingClientEntryPoint=!1}},Q0.hydrateRoot=function(E,S,o){yd.usingClientEntryPoint=!0;try{return P0.hydrateRoot(E,S,o)}finally{yd.usingClientEntryPoint=!1}}}function G3(E){if(E.sheet)return E.sheet;for(var S=0;S<document.styleSheets.length;S++)if(document.styleSheets[S].ownerNode===E)return document.styleSheets[S]}function z3(E){var S=document.createElement("style");return S.setAttribute("data-emotion",E.key),E.nonce!==void 0&&S.setAttribute("nonce",E.nonce),S.appendChild(document.createTextNode("")),S.setAttribute("data-s",""),S}var Y3=function(){function E(o){var x=this;this._insertTag=function(t){var e;x.tags.length===0?x.insertionPoint?e=x.insertionPoint.nextSibling:x.prepend?e=x.container.firstChild:e=x.before:e=x.tags[x.tags.length-1].nextSibling,x.container.insertBefore(t,e),x.tags.push(t)},this.isSpeedy=o.speedy===void 0?!1:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var S=E.prototype;return S.hydrate=function(x){x.forEach(this._insertTag)},S.insert=function(x){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(z3(this));var t=this.tags[this.tags.length-1];{var e=x.charCodeAt(0)===64&&x.charCodeAt(1)===105;e&&this._alreadyInsertedOrderInsensitiveRule&&console.error(`You're attempting to insert the following rule:
`+x+"\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules."),this._alreadyInsertedOrderInsensitiveRule=this._alreadyInsertedOrderInsensitiveRule||!e}if(this.isSpeedy){var u=G3(t);try{u.insertRule(x,u.cssRules.length)}catch(s){/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(x)||console.error('There was a problem inserting the following rule: "'+x+'"',s)}}else t.appendChild(document.createTextNode(x));this.ctr++},S.flush=function(){this.tags.forEach(function(x){return x.parentNode&&x.parentNode.removeChild(x)}),this.tags=[],this.ctr=0,this._alreadyInsertedOrderInsensitiveRule=!1},E}(),hn="-ms-",zd="-moz-",$e="-webkit-",Fx="comm",bx="rule",Nx="decl",X3="@import",OA="@keyframes",H3=Math.abs,tv=String.fromCharCode,W3=Object.assign;function j3(E,S){return en(E,0)^45?(((S<<2^en(E,0))<<2^en(E,1))<<2^en(E,2))<<2^en(E,3):0}function DA(E){return E.trim()}function K3(E,S){return(E=S.exec(E))?E[0]:E}function qe(E,S,o){return E.replace(S,o)}function q0(E,S){return E.indexOf(S)}function en(E,S){return E.charCodeAt(S)|0}function Gh(E,S,o){return E.slice(S,o)}function Zr(E){return E.length}function wx(E){return E.length}function Td(E,S){return S.push(E),E}function $3(E,S){return E.map(S).join("")}var ev=1,Ll=1,FA=0,Fn=0,Di=0,bl="";function iv(E,S,o,x,t,e,u){return{value:E,root:S,parent:o,type:x,props:t,children:e,line:ev,column:Ll,length:u,return:""}}function Rh(E,S){return W3(iv("",null,null,"",null,null,0),E,{length:-E.length},S)}function Z3(){return Di}function Q3(){return Di=Fn>0?en(bl,--Fn):0,Ll--,Di===10&&(Ll=1,ev--),Di}function jn(){return Di=Fn<FA?en(bl,Fn++):0,Ll++,Di===10&&(Ll=1,ev++),Di}function Jr(){return en(bl,Fn)}function Dd(){return Fn}function kh(E,S){return Gh(bl,E,S)}function zh(E){switch(E){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bA(E){return ev=Ll=1,FA=Zr(bl=E),Fn=0,[]}function NA(E){return bl="",E}function Fd(E){return DA(kh(Fn-1,_0(E===91?E+2:E===40?E+1:E)))}function J3(E){for(;(Di=Jr())&&Di<33;)jn();return zh(E)>2||zh(Di)>3?"":" "}function k3(E,S){for(;--S&&jn()&&!(Di<48||Di>102||Di>57&&Di<65||Di>70&&Di<97););return kh(E,Dd()+(S<6&&Jr()==32&&jn()==32))}function _0(E){for(;jn();)switch(Di){case E:return Fn;case 34:case 39:E!==34&&E!==39&&_0(Di);break;case 40:E===41&&_0(E);break;case 92:jn();break}return Fn}function q3(E,S){for(;jn()&&E+Di!==47+10;)if(E+Di===42+42&&Jr()===47)break;return"/*"+kh(S,Fn-1)+"*"+tv(E===47?E:jn())}function _3(E){for(;!zh(Jr());)jn();return kh(E,Fn)}function tI(E){return NA(bd("",null,null,null,[""],E=bA(E),0,[0],E))}function bd(E,S,o,x,t,e,u,s,a){for(var n=0,i=0,r=u,f=0,l=0,h=0,c=1,v=1,d=1,m=0,y="",T=t,C=e,R=x,A=y;v;)switch(h=m,m=jn()){case 40:if(h!=108&&en(A,r-1)==58){q0(A+=qe(Fd(m),"&","&\f"),"&\f")!=-1&&(d=-1);break}case 34:case 39:case 91:A+=Fd(m);break;case 9:case 10:case 13:case 32:A+=J3(h);break;case 92:A+=k3(Dd()-1,7);continue;case 47:switch(Jr()){case 42:case 47:Td(eI(q3(jn(),Dd()),S,o),a);break;default:A+="/"}break;case 123*c:s[n++]=Zr(A)*d;case 125*c:case 59:case 0:switch(m){case 0:case 125:v=0;case 59+i:l>0&&Zr(A)-r&&Td(l>32?PC(A+";",x,o,r-1):PC(qe(A," ","")+";",x,o,r-2),a);break;case 59:A+=";";default:if(Td(R=MC(A,S,o,n,i,t,s,y,T=[],C=[],r),e),m===123)if(i===0)bd(A,S,R,R,T,e,r,s,C);else switch(f===99&&en(A,3)===110?100:f){case 100:case 109:case 115:bd(E,R,R,x&&Td(MC(E,R,R,0,0,t,s,y,t,T=[],r),C),t,C,r,s,x?T:C);break;default:bd(A,R,R,R,[""],C,0,s,C)}}n=i=l=0,c=d=1,y=A="",r=u;break;case 58:r=1+Zr(A),l=h;default:if(c<1){if(m==123)--c;else if(m==125&&c++==0&&Q3()==125)continue}switch(A+=tv(m),m*c){case 38:d=i>0?1:(A+="\f",-1);break;case 44:s[n++]=(Zr(A)-1)*d,d=1;break;case 64:Jr()===45&&(A+=Fd(jn())),f=Jr(),i=r=Zr(y=A+=_3(Dd())),m++;break;case 45:h===45&&Zr(A)==2&&(c=0)}}return e}function MC(E,S,o,x,t,e,u,s,a,n,i){for(var r=t-1,f=t===0?e:[""],l=wx(f),h=0,c=0,v=0;h<x;++h)for(var d=0,m=Gh(E,r+1,r=H3(c=u[h])),y=E;d<l;++d)(y=DA(c>0?f[d]+" "+m:qe(m,/&\f/g,f[d])))&&(a[v++]=y);return iv(E,S,o,t===0?bx:s,a,n,i)}function eI(E,S,o){return iv(E,S,o,Fx,tv(Z3()),Gh(E,2,-2),0)}function PC(E,S,o,x){return iv(E,S,o,Nx,Gh(E,0,x),Gh(E,x+1,-1),x)}function Ml(E,S){for(var o="",x=wx(E),t=0;t<x;t++)o+=S(E[t],t,E,S)||"";return o}function iI(E,S,o,x){switch(E.type){case X3:case Nx:return E.return=E.return||E.value;case Fx:return"";case OA:return E.return=E.value+"{"+Ml(E.children,x)+"}";case bx:E.value=E.props.join(",")}return Zr(o=Ml(E.children,x))?E.return=E.value+"{"+o+"}":""}function nI(E){var S=wx(E);return function(o,x,t,e){for(var u="",s=0;s<S;s++)u+=E[s](o,x,t,e)||"";return u}}function rI(E){var S=Object.create(null);return function(o){return S[o]===void 0&&(S[o]=E(o)),S[o]}}var sI=function(S,o,x){for(var t=0,e=0;t=e,e=Jr(),t===38&&e===12&&(o[x]=1),!zh(e);)jn();return kh(S,Fn)},aI=function(S,o){var x=-1,t=44;do switch(zh(t)){case 0:t===38&&Jr()===12&&(o[x]=1),S[x]+=sI(Fn-1,o,x);break;case 2:S[x]+=Fd(t);break;case 4:if(t===44){S[++x]=Jr()===58?"&\f":"",o[x]=S[x].length;break}default:S[x]+=tv(t)}while(t=jn());return S},oI=function(S,o){return NA(aI(bA(S),o))},LC=new WeakMap,lI=function(S){if(!(S.type!=="rule"||!S.parent||S.length<1)){for(var o=S.value,x=S.parent,t=S.column===x.column&&S.line===x.line;x.type!=="rule";)if(x=x.parent,!x)return;if(!(S.props.length===1&&o.charCodeAt(0)!==58&&!LC.get(x))&&!t){LC.set(S,!0);for(var e=[],u=oI(o,e),s=x.props,a=0,n=0;a<u.length;a++)for(var i=0;i<s.length;i++,n++)S.props[n]=e[a]?u[a].replace(/&\f/g,s[i]):s[i]+" "+u[a]}}},uI=function(S){if(S.type==="decl"){var o=S.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(S.return="",S.value="")}},hI="emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason",fI=function(S){return S.type==="comm"&&S.children.indexOf(hI)>-1},cI=function(S){return function(o,x,t){if(!(o.type!=="rule"||S.compat)){var e=o.value.match(/(:first|:nth|:nth-last)-child/g);if(e){for(var u=o.parent===t[0],s=u?t[0].children:t,a=s.length-1;a>=0;a--){var n=s[a];if(n.line<o.line)break;if(n.column<o.column){if(fI(n))return;break}}e.forEach(function(i){console.error('The pseudo class "'+i+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+i.split("-child")[0]+'-of-type".')})}}}},wA=function(S){return S.type.charCodeAt(1)===105&&S.type.charCodeAt(0)===64},dI=function(S,o){for(var x=S-1;x>=0;x--)if(!wA(o[x]))return!0;return!1},OC=function(S){S.type="",S.value="",S.return="",S.children="",S.props=""},vI=function(S,o,x){wA(S)&&(S.parent?(console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles."),OC(S)):dI(o,x)&&(console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules."),OC(S)))};function BA(E,S){switch(j3(E,S)){case 5103:return $e+"print-"+E+E;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $e+E+E;case 5349:case 4246:case 4810:case 6968:case 2756:return $e+E+zd+E+hn+E+E;case 6828:case 4268:return $e+E+hn+E+E;case 6165:return $e+E+hn+"flex-"+E+E;case 5187:return $e+E+qe(E,/(\w+).+(:[^]+)/,$e+"box-$1$2"+hn+"flex-$1$2")+E;case 5443:return $e+E+hn+"flex-item-"+qe(E,/flex-|-self/,"")+E;case 4675:return $e+E+hn+"flex-line-pack"+qe(E,/align-content|flex-|-self/,"")+E;case 5548:return $e+E+hn+qe(E,"shrink","negative")+E;case 5292:return $e+E+hn+qe(E,"basis","preferred-size")+E;case 6060:return $e+"box-"+qe(E,"-grow","")+$e+E+hn+qe(E,"grow","positive")+E;case 4554:return $e+qe(E,/([^-])(transform)/g,"$1"+$e+"$2")+E;case 6187:return qe(qe(qe(E,/(zoom-|grab)/,$e+"$1"),/(image-set)/,$e+"$1"),E,"")+E;case 5495:case 3959:return qe(E,/(image-set\([^]*)/,$e+"$1$`$1");case 4968:return qe(qe(E,/(.+:)(flex-)?(.*)/,$e+"box-pack:$3"+hn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$e+E+E;case 4095:case 3583:case 4068:case 2532:return qe(E,/(.+)-inline(.+)/,$e+"$1$2")+E;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zr(E)-1-S>6)switch(en(E,S+1)){case 109:if(en(E,S+4)!==45)break;case 102:return qe(E,/(.+:)(.+)-([^]+)/,"$1"+$e+"$2-$3$1"+zd+(en(E,S+3)==108?"$3":"$2-$3"))+E;case 115:return~q0(E,"stretch")?BA(qe(E,"stretch","fill-available"),S)+E:E}break;case 4949:if(en(E,S+1)!==115)break;case 6444:switch(en(E,Zr(E)-3-(~q0(E,"!important")&&10))){case 107:return qe(E,":",":"+$e)+E;case 101:return qe(E,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$e+(en(E,14)===45?"inline-":"")+"box$3$1"+$e+"$2$3$1"+hn+"$2box$3")+E}break;case 5936:switch(en(E,S+11)){case 114:return $e+E+hn+qe(E,/[svh]\w+-[tblr]{2}/,"tb")+E;case 108:return $e+E+hn+qe(E,/[svh]\w+-[tblr]{2}/,"tb-rl")+E;case 45:return $e+E+hn+qe(E,/[svh]\w+-[tblr]{2}/,"lr")+E}return $e+E+hn+E+E}return E}var pI=function(S,o,x,t){if(S.length>-1&&!S.return)switch(S.type){case Nx:S.return=BA(S.value,S.length);break;case OA:return Ml([Rh(S,{value:qe(S.value,"@","@"+$e)})],t);case bx:if(S.length)return $3(S.props,function(e){switch(K3(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ml([Rh(S,{props:[qe(e,/:(read-\w+)/,":"+zd+"$1")]})],t);case"::placeholder":return Ml([Rh(S,{props:[qe(e,/:(plac\w+)/,":"+$e+"input-$1")]}),Rh(S,{props:[qe(e,/:(plac\w+)/,":"+zd+"$1")]}),Rh(S,{props:[qe(e,/:(plac\w+)/,hn+"input-$1")]})],t)}return""})}},mI=[pI],gI=function(S){var o=S.key;if(!o)throw new Error(`You have to configure \`key\` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.
If multiple caches share the same key they might "fight" for each other's style elements.`);if(o==="css"){var x=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(x,function(c){var v=c.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(c),c.setAttribute("data-s",""))})}var t=S.stylisPlugins||mI;if(/[^a-z-]/.test(o))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+o+'" was passed');var e={},u,s=[];u=S.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(c){for(var v=c.getAttribute("data-emotion").split(" "),d=1;d<v.length;d++)e[v[d]]=!0;s.push(c)});var a,n=[lI,uI];n.push(cI({get compat(){return h.compat}}),vI);{var i,r=[iI,function(c){c.root||(c.return?i.insert(c.return):c.value&&c.type!==Fx&&i.insert(c.value+"{}"))}],f=nI(n.concat(t,r)),l=function(v){return Ml(tI(v),f)};a=function(v,d,m,y){i=m,d.map!==void 0&&(i={insert:function(C){m.insert(C+d.map)}}),l(v?v+"{"+d.styles+"}":d.styles),y&&(h.inserted[d.name]=!0)}}var h={key:o,sheet:new Y3({key:o,container:u,nonce:S.nonce,speedy:S.speedy,prepend:S.prepend,insertionPoint:S.insertionPoint}),nonce:S.nonce,inserted:e,registered:{},insert:a};return h.sheet.hydrate(s),h},tx={},xI={get exports(){return tx},set exports(E){tx=E}},_e={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var E=typeof Symbol=="function"&&Symbol.for,S=E?Symbol.for("react.element"):60103,o=E?Symbol.for("react.portal"):60106,x=E?Symbol.for("react.fragment"):60107,t=E?Symbol.for("react.strict_mode"):60108,e=E?Symbol.for("react.profiler"):60114,u=E?Symbol.for("react.provider"):60109,s=E?Symbol.for("react.context"):60110,a=E?Symbol.for("react.async_mode"):60111,n=E?Symbol.for("react.concurrent_mode"):60111,i=E?Symbol.for("react.forward_ref"):60112,r=E?Symbol.for("react.suspense"):60113,f=E?Symbol.for("react.suspense_list"):60120,l=E?Symbol.for("react.memo"):60115,h=E?Symbol.for("react.lazy"):60116,c=E?Symbol.for("react.block"):60121,v=E?Symbol.for("react.fundamental"):60117,d=E?Symbol.for("react.responder"):60118,m=E?Symbol.for("react.scope"):60119;function y(ot){return typeof ot=="string"||typeof ot=="function"||ot===x||ot===n||ot===e||ot===t||ot===r||ot===f||typeof ot=="object"&&ot!==null&&(ot.$$typeof===h||ot.$$typeof===l||ot.$$typeof===u||ot.$$typeof===s||ot.$$typeof===i||ot.$$typeof===v||ot.$$typeof===d||ot.$$typeof===m||ot.$$typeof===c)}function T(ot){if(typeof ot=="object"&&ot!==null){var Et=ot.$$typeof;switch(Et){case S:var Tt=ot.type;switch(Tt){case a:case n:case x:case e:case t:case r:return Tt;default:var Pt=Tt&&Tt.$$typeof;switch(Pt){case s:case i:case h:case l:case u:return Pt;default:return Et}}case o:return Et}}}var C=a,R=n,A=s,P=u,O=S,b=i,D=x,N=h,B=l,U=o,G=e,W=t,$=r,q=!1;function _(ot){return q||(q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),V(ot)||T(ot)===a}function V(ot){return T(ot)===n}function w(ot){return T(ot)===s}function z(ot){return T(ot)===u}function Y(ot){return typeof ot=="object"&&ot!==null&&ot.$$typeof===S}function H(ot){return T(ot)===i}function j(ot){return T(ot)===x}function Z(ot){return T(ot)===h}function k(ot){return T(ot)===l}function nt(ot){return T(ot)===o}function rt(ot){return T(ot)===e}function ht(ot){return T(ot)===t}function vt(ot){return T(ot)===r}_e.AsyncMode=C,_e.ConcurrentMode=R,_e.ContextConsumer=A,_e.ContextProvider=P,_e.Element=O,_e.ForwardRef=b,_e.Fragment=D,_e.Lazy=N,_e.Memo=B,_e.Portal=U,_e.Profiler=G,_e.StrictMode=W,_e.Suspense=$,_e.isAsyncMode=_,_e.isConcurrentMode=V,_e.isContextConsumer=w,_e.isContextProvider=z,_e.isElement=Y,_e.isForwardRef=H,_e.isFragment=j,_e.isLazy=Z,_e.isMemo=k,_e.isPortal=nt,_e.isProfiler=rt,_e.isStrictMode=ht,_e.isSuspense=vt,_e.isValidElementType=y,_e.typeOf=T})();(function(E){E.exports=_e})(xI);var IA=tx,yI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},UA={};UA[IA.ForwardRef]=yI;UA[IA.Memo]=TI;var SI=!0;function VA(E,S,o){var x="";return o.split(" ").forEach(function(t){E[t]!==void 0?S.push(E[t]+";"):x+=t+" "}),x}var Bx=function(S,o,x){var t=S.key+"-"+o.name;(x===!1||SI===!1)&&S.registered[t]===void 0&&(S.registered[t]=o.styles)},Ix=function(S,o,x){Bx(S,o,x);var t=S.key+"-"+o.name;if(S.inserted[o.name]===void 0){var e=o;do S.insert(o===e?"."+t:"",e,S.sheet,!0),e=e.next;while(e!==void 0)}};function EI(E){for(var S=0,o,x=0,t=E.length;t>=4;++x,t-=4)o=E.charCodeAt(x)&255|(E.charCodeAt(++x)&255)<<8|(E.charCodeAt(++x)&255)<<16|(E.charCodeAt(++x)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,S=(o&65535)*1540483477+((o>>>16)*59797<<16)^(S&65535)*1540483477+((S>>>16)*59797<<16);switch(t){case 3:S^=(E.charCodeAt(x+2)&255)<<16;case 2:S^=(E.charCodeAt(x+1)&255)<<8;case 1:S^=E.charCodeAt(x)&255,S=(S&65535)*1540483477+((S>>>16)*59797<<16)}return S^=S>>>13,S=(S&65535)*1540483477+((S>>>16)*59797<<16),((S^S>>>15)>>>0).toString(36)}var CI={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},DC=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,RI="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",AI=/[A-Z]|^ms/g,GA=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ux=function(S){return S.charCodeAt(1)===45},FC=function(S){return S!=null&&typeof S!="boolean"},L0=rI(function(E){return Ux(E)?E:E.replace(AI,"-$&").toLowerCase()}),Yd=function(S,o){switch(S){case"animation":case"animationName":if(typeof o=="string")return o.replace(GA,function(x,t,e){return Qr={name:t,styles:e,next:Qr},t})}return CI[S]!==1&&!Ux(S)&&typeof o=="number"&&o!==0?o+"px":o};{var MI=/(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,PI=["normal","none","initial","inherit","unset"],LI=Yd,OI=/^-ms-/,DI=/-(.)/g,bC={};Yd=function(S,o){if(S==="content"&&(typeof o!="string"||PI.indexOf(o)===-1&&!MI.test(o)&&(o.charAt(0)!==o.charAt(o.length-1)||o.charAt(0)!=='"'&&o.charAt(0)!=="'")))throw new Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+o+"\"'`");var x=LI(S,o);return x!==""&&!Ux(S)&&S.indexOf("-")!==-1&&bC[S]===void 0&&(bC[S]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+S.replace(OI,"ms-").replace(DI,function(t,e){return e.toUpperCase()})+"?")),x}}var zA="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Yh(E,S,o){if(o==null)return"";if(o.__emotion_styles!==void 0){if(o.toString()==="NO_COMPONENT_SELECTOR")throw new Error(zA);return o}switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return Qr={name:o.name,styles:o.styles,next:Qr},o.name;if(o.styles!==void 0){var x=o.next;if(x!==void 0)for(;x!==void 0;)Qr={name:x.name,styles:x.styles,next:Qr},x=x.next;var t=o.styles+";";return o.map!==void 0&&(t+=o.map),t}return FI(E,S,o)}case"function":{if(E!==void 0){var e=Qr,u=o(E);return Qr=e,Yh(E,S,u)}else console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break}case"string":{var s=[],a=o.replace(GA,function(i,r,f){var l="animation"+s.length;return s.push("const "+l+" = keyframes`"+f.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+l+"}"});s.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(s,["`"+a+"`"]).join(`
`)+`

You should wrap it with \`css\` like this:

`+("css`"+a+"`"))}break}if(S==null)return o;var n=S[o];return n!==void 0?n:o}function FI(E,S,o){var x="";if(Array.isArray(o))for(var t=0;t<o.length;t++)x+=Yh(E,S,o[t])+";";else for(var e in o){var u=o[e];if(typeof u!="object")S!=null&&S[u]!==void 0?x+=e+"{"+S[u]+"}":FC(u)&&(x+=L0(e)+":"+Yd(e,u)+";");else{if(e==="NO_COMPONENT_SELECTOR")throw new Error(zA);if(Array.isArray(u)&&typeof u[0]=="string"&&(S==null||S[u[0]]===void 0))for(var s=0;s<u.length;s++)FC(u[s])&&(x+=L0(e)+":"+Yd(e,u[s])+";");else{var a=Yh(E,S,u);switch(e){case"animation":case"animationName":{x+=L0(e)+":"+a+";";break}default:e==="undefined"&&console.error(RI),x+=e+"{"+a+"}"}}}}return x}var NC=/label:\s*([^\s;\n{]+)\s*(;|$)/g,YA;YA=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g;var Qr,Xd=function(S,o,x){if(S.length===1&&typeof S[0]=="object"&&S[0]!==null&&S[0].styles!==void 0)return S[0];var t=!0,e="";Qr=void 0;var u=S[0];u==null||u.raw===void 0?(t=!1,e+=Yh(x,o,u)):(u[0]===void 0&&console.error(DC),e+=u[0]);for(var s=1;s<S.length;s++)e+=Yh(x,o,S[s]),t&&(u[s]===void 0&&console.error(DC),e+=u[s]);var a;e=e.replace(YA,function(f){return a=f,""}),NC.lastIndex=0;for(var n="",i;(i=NC.exec(e))!==null;)n+="-"+i[1];var r=EI(e)+n;return{name:r,styles:e,map:a,next:Qr,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}},bI=function(S){return S()},XA=AC["useInsertionEffect"]?AC["useInsertionEffect"]:!1,HA=XA||bI,wC=XA||dt.useLayoutEffect,Vx={}.hasOwnProperty,Gx=dt.createContext(typeof HTMLElement<"u"?gI({key:"css"}):null);Gx.displayName="EmotionCacheContext";Gx.Provider;var zx=function(S){return dt.forwardRef(function(o,x){var t=dt.useContext(Gx);return S(o,t,x)})},Nl=dt.createContext({});Nl.displayName="EmotionThemeContext";var NI=function(){return dt.useContext(Nl)},BC=function(S){var o=S.split(".");return o[o.length-1]},wI=function(S){var o=/^\s+at\s+([A-Za-z0-9$.]+)\s/.exec(S);if(o||(o=/^([A-Za-z0-9$.]+)@/.exec(S),o))return BC(o[1])},BI=new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"]),II=function(S){return S.replace(/\$/g,"-")},UI=function(S){if(S)for(var o=S.split(`
`),x=0;x<o.length;x++){var t=wI(o[x]);if(t){if(BI.has(t))break;if(/^[A-Z]/.test(t))return II(t)}}},ex="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",ix="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",VI=function(S,o){if(typeof o.css=="string"&&o.css.indexOf(":")!==-1)throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/react' like this: css`"+o.css+"`");var x={};for(var t in o)Vx.call(o,t)&&(x[t]=o[t]);if(x[ex]=S,o.css&&(typeof o.css!="object"||typeof o.css.name!="string"||o.css.name.indexOf("-")===-1)){var e=UI(new Error().stack);e&&(x[ix]=e)}return x},GI=function(S){var o=S.cache,x=S.serialized,t=S.isStringTag;return Bx(o,x,t),HA(function(){return Ix(o,x,t)}),null},WA=zx(function(E,S,o){var x=E.css;typeof x=="string"&&S.registered[x]!==void 0&&(x=S.registered[x]);var t=E[ex],e=[x],u="";typeof E.className=="string"?u=VA(S.registered,e,E.className):E.className!=null&&(u=E.className+" ");var s=Xd(e,void 0,dt.useContext(Nl));if(s.name.indexOf("-")===-1){var a=E[ix];a&&(s=Xd([s,"label:"+a+";"]))}u+=S.key+"-"+s.name;var n={};for(var i in E)Vx.call(E,i)&&i!=="css"&&i!==ex&&i!==ix&&(n[i]=E[i]);return n.ref=o,n.className=u,dt.createElement(dt.Fragment,null,dt.createElement(GI,{cache:S,serialized:s,isStringTag:typeof t=="string"}),dt.createElement(t,n))});WA.displayName="EmotionCssPropInternal";var zI={name:"@emotion/react",version:"11.10.6",main:"dist/emotion-react.cjs.js",module:"dist/emotion-react.esm.js",browser:{"./dist/emotion-react.esm.js":"./dist/emotion-react.browser.esm.js"},exports:{".":{module:{worker:"./dist/emotion-react.worker.esm.js",browser:"./dist/emotion-react.browser.esm.js",default:"./dist/emotion-react.esm.js"},default:"./dist/emotion-react.cjs.js"},"./jsx-runtime":{module:{worker:"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",browser:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js"},default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},"./_isolated-hnrs":{module:{worker:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",browser:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js"},default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},"./jsx-dev-runtime":{module:{worker:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",browser:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js"},default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},"./package.json":"./package.json","./types/css-prop":"./types/css-prop.d.ts","./macro":"./macro.js"},types:"types/index.d.ts",files:["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/*.d.ts","macro.js","macro.d.ts","macro.js.flow"],sideEffects:!1,author:"Emotion Contributors",license:"MIT",scripts:{"test:typescript":"dtslint types"},dependencies:{"@babel/runtime":"^7.18.3","@emotion/babel-plugin":"^11.10.6","@emotion/cache":"^11.10.5","@emotion/serialize":"^1.1.1","@emotion/use-insertion-effect-with-fallbacks":"^1.0.0","@emotion/utils":"^1.2.0","@emotion/weak-memoize":"^0.3.0","hoist-non-react-statics":"^3.3.1"},peerDependencies:{react:">=16.8.0"},peerDependenciesMeta:{"@types/react":{optional:!0}},devDependencies:{"@definitelytyped/dtslint":"0.0.112","@emotion/css":"11.10.6","@emotion/css-prettifier":"1.1.1","@emotion/server":"11.10.0","@emotion/styled":"11.10.6","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^4.5.5"},repository:"https://github.com/emotion-js/emotion/tree/main/packages/react",publishConfig:{access:"public"},"umd:main":"dist/emotion-react.umd.min.js",preconstruct:{entrypoints:["./index.js","./jsx-runtime.js","./jsx-dev-runtime.js","./_isolated-hnrs.js"],umdName:"emotionReact",exports:{envConditions:["browser","worker"],extra:{"./types/css-prop":"./types/css-prop.d.ts","./macro":"./macro.js"}}}},jA=function(S,o){var x=arguments;if(o==null||!Vx.call(o,"css"))return dt.createElement.apply(void 0,x);var t=x.length,e=new Array(t);e[0]=WA,e[1]=VI(S,o);for(var u=2;u<t;u++)e[u]=x[u];return dt.createElement.apply(null,e)},IC=!1,Yx=zx(function(E,S){!IC&&(E.className||E.css)&&(console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?"),IC=!0);var o=E.styles,x=Xd([o],void 0,dt.useContext(Nl)),t=dt.useRef();return wC(function(){var e=S.key+"-global",u=new S.sheet.constructor({key:e,nonce:S.sheet.nonce,container:S.sheet.container,speedy:S.sheet.isSpeedy}),s=!1,a=document.querySelector('style[data-emotion="'+e+" "+x.name+'"]');return S.sheet.tags.length&&(u.before=S.sheet.tags[0]),a!==null&&(s=!0,a.setAttribute("data-emotion",e),u.hydrate([a])),t.current=[u,s],function(){u.flush()}},[S]),wC(function(){var e=t.current,u=e[0],s=e[1];if(s){e[1]=!1;return}if(x.next!==void 0&&Ix(S,x.next,!0),u.tags.length){var a=u.tags[u.tags.length-1].nextElementSibling;u.before=a,u.flush()}S.insert("",x,u,!1)},[S,x.name]),null});Yx.displayName="EmotionGlobal";var YI=function E(S){for(var o=S.length,x=0,t="";x<o;x++){var e=S[x];if(e!=null){var u=void 0;switch(typeof e){case"boolean":break;case"object":{if(Array.isArray(e))u=E(e);else{e.styles!==void 0&&e.name!==void 0&&console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component."),u="";for(var s in e)e[s]&&s&&(u&&(u+=" "),u+=s)}break}default:u=e}u&&(t&&(t+=" "),t+=u)}}return t};function XI(E,S,o){var x=[],t=VA(E,x,o);return x.length<2?o:t+S(x)}var HI=function(S){var o=S.cache,x=S.serializedArr;return HA(function(){for(var t=0;t<x.length;t++)Ix(o,x[t],!1)}),null},WI=zx(function(E,S){var o=!1,x=[],t=function(){if(o)throw new Error("css can only be used during render");for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var f=Xd(i,S.registered);return x.push(f),Bx(S,f,!1),S.key+"-"+f.name},e=function(){if(o)throw new Error("cx can only be used during render");for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return XI(S.registered,t,YI(i))},u={css:t,cx:e,theme:dt.useContext(Nl)},s=E.children(u);return o=!0,dt.createElement(dt.Fragment,null,dt.createElement(HI,{cache:S,serializedArr:x}),s)});WI.displayName="EmotionClassNames";{var UC=!0,jI=typeof jest<"u"||typeof vi<"u";if(UC&&!jI){var VC=typeof globalThis<"u"?globalThis:UC?window:global,GC="__EMOTION_REACT_"+zI.version.split(".")[0]+"__";VC[GC]&&console.warn("You are loading @emotion/react when it is already loaded. Running multiple instances may cause problems. This can happen if multiple versions are used, or if multiple builds of the same version are used."),VC[GC]=!0}}var KI=function(S){return $I(S)&&!ZI(S)};function $I(E){return!!E&&typeof E=="object"}function ZI(E){var S=Object.prototype.toString.call(E);return S==="[object RegExp]"||S==="[object Date]"||kI(E)}var QI=typeof Symbol=="function"&&Symbol.for,JI=QI?Symbol.for("react.element"):60103;function kI(E){return E.$$typeof===JI}function qI(E){return Array.isArray(E)?[]:{}}function Xh(E,S){return S.clone!==!1&&S.isMergeableObject(E)?Ol(qI(E),E,S):E}function _I(E,S,o){return E.concat(S).map(function(x){return Xh(x,o)})}function t5(E,S){if(!S.customMerge)return Ol;var o=S.customMerge(E);return typeof o=="function"?o:Ol}function e5(E){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(E).filter(function(S){return Object.propertyIsEnumerable.call(E,S)}):[]}function zC(E){return Object.keys(E).concat(e5(E))}function KA(E,S){try{return S in E}catch{return!1}}function i5(E,S){return KA(E,S)&&!(Object.hasOwnProperty.call(E,S)&&Object.propertyIsEnumerable.call(E,S))}function n5(E,S,o){var x={};return o.isMergeableObject(E)&&zC(E).forEach(function(t){x[t]=Xh(E[t],o)}),zC(S).forEach(function(t){i5(E,t)||(KA(E,t)&&o.isMergeableObject(S[t])?x[t]=t5(t,o)(E[t],S[t],o):x[t]=Xh(S[t],o))}),x}function Ol(E,S,o){o=o||{},o.arrayMerge=o.arrayMerge||_I,o.isMergeableObject=o.isMergeableObject||KI,o.cloneUnlessOtherwiseSpecified=Xh;var x=Array.isArray(S),t=Array.isArray(E),e=x===t;return e?x?o.arrayMerge(E,S,o):n5(E,S,o):Xh(S,o)}Ol.all=function(S,o){if(!Array.isArray(S))throw new Error("first argument should be an array");return S.reduce(function(x,t){return Ol(x,t,o)},{})};var r5=Ol,$A=r5;const s5="@emotion/react",a5="11.10.6",o5="dist/emotion-react.cjs.js",l5="dist/emotion-react.esm.js",u5={"./dist/emotion-react.esm.js":"./dist/emotion-react.browser.esm.js"},h5={".":{module:{worker:"./dist/emotion-react.worker.esm.js",browser:"./dist/emotion-react.browser.esm.js",default:"./dist/emotion-react.esm.js"},default:"./dist/emotion-react.cjs.js"},"./jsx-runtime":{module:{worker:"./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",browser:"./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",default:"./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js"},default:"./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"},"./_isolated-hnrs":{module:{worker:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",browser:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js"},default:"./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"},"./jsx-dev-runtime":{module:{worker:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",browser:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js"},default:"./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"},"./package.json":"./package.json","./types/css-prop":"./types/css-prop.d.ts","./macro":"./macro.js"},f5="types/index.d.ts",c5=["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/*.d.ts","macro.js","macro.d.ts","macro.js.flow"],d5=!1,v5="Emotion Contributors",p5="MIT",m5={"test:typescript":"dtslint types"},g5={"@babel/runtime":"^7.18.3","@emotion/babel-plugin":"^11.10.6","@emotion/cache":"^11.10.5","@emotion/serialize":"^1.1.1","@emotion/use-insertion-effect-with-fallbacks":"^1.0.0","@emotion/utils":"^1.2.0","@emotion/weak-memoize":"^0.3.0","hoist-non-react-statics":"^3.3.1"},x5={react:">=16.8.0"},y5={"@types/react":{optional:!0}},T5={"@definitelytyped/dtslint":"0.0.112","@emotion/css":"11.10.6","@emotion/css-prettifier":"1.1.1","@emotion/server":"11.10.0","@emotion/styled":"11.10.6","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^4.5.5"},S5="https://github.com/emotion-js/emotion/tree/main/packages/react",E5={access:"public"},C5={entrypoints:["./index.js","./jsx-runtime.js","./jsx-dev-runtime.js","./_isolated-hnrs.js"],umdName:"emotionReact",exports:{envConditions:["browser","worker"],extra:{"./types/css-prop":"./types/css-prop.d.ts","./macro":"./macro.js"}}},R5={name:s5,version:a5,main:o5,module:l5,browser:u5,exports:h5,types:f5,files:c5,sideEffects:d5,author:v5,license:p5,scripts:m5,dependencies:g5,peerDependencies:x5,peerDependenciesMeta:y5,devDependencies:T5,repository:S5,publishConfig:E5,"umd:main":"dist/emotion-react.umd.min.js",preconstruct:C5};function Hh(){return Hh=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var o=arguments[S];for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&(E[x]=o[x])}return E},Hh.apply(this,arguments)}var Xx="__default",ZA=function(S){return typeof S=="object"&&S!==null&&Xx in S};function sr(E,S,o,x,t){var e=S&&typeof S=="string"?S.split("."):[S];for(x=0;x<e.length;x++)E=E?E[e[x]]:t;return E===t?o:ZA(E)?E[Xx]:E}var A5=function E(S,o){if(S&&S.variant){var x={};for(var t in S){var e=S[t];if(t==="variant"){var u=typeof e=="function"?e(o):e,s=E(sr(o,u),o);x=Hh({},x,s)}else x[t]=e}return x}return S},M5=[40,52,64].map(function(E){return E+"em"}),P5={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},YC={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},XC={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],scrollMarginX:["scrollMarginLeft","scrollMarginRight"],scrollMarginY:["scrollMarginTop","scrollMarginBottom"],scrollPaddingX:["scrollPaddingLeft","scrollPaddingRight"],scrollPaddingY:["scrollPaddingTop","scrollPaddingBottom"],size:["width","height"]},HC={color:"colors",background:"colors",backgroundColor:"colors",borderColor:"colors",caretColor:"colors",columnRuleColor:"colors",outlineColor:"colors",textDecorationColor:"colors",opacity:"opacities",transition:"transitions",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",scrollMargin:"space",scrollMarginTop:"space",scrollMarginRight:"space",scrollMarginBottom:"space",scrollMarginLeft:"space",scrollMarginX:"space",scrollMarginY:"space",scrollPadding:"space",scrollPaddingTop:"space",scrollPaddingRight:"space",scrollPaddingBottom:"space",scrollPaddingLeft:"space",scrollPaddingX:"space",scrollPaddingY:"space",inset:"space",insetBlock:"space",insetBlockEnd:"space",insetBlockStart:"space",insetInline:"space",insetInlineEnd:"space",insetInlineStart:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",borderBlock:"borders",borderBlockColor:"colors",borderBlockEnd:"borders",borderBlockEndColor:"colors",borderBlockEndStyle:"borderStyles",borderBlockEndWidth:"borderWidths",borderBlockStart:"borders",borderBlockStartColor:"colors",borderBlockStartStyle:"borderStyles",borderBlockStartWidth:"borderWidths",borderBlockStyle:"borderStyles",borderBlockWidth:"borderWidths",borderEndEndRadius:"radii",borderEndStartRadius:"radii",borderInline:"borders",borderInlineColor:"colors",borderInlineEnd:"borders",borderInlineEndColor:"colors",borderInlineEndStyle:"borderStyles",borderInlineEndWidth:"borderWidths",borderInlineStart:"borders",borderInlineStartColor:"colors",borderInlineStartStyle:"borderStyles",borderInlineStartWidth:"borderWidths",borderInlineStyle:"borderStyles",borderInlineWidth:"borderWidths",borderStartEndRadius:"radii",borderStartStartRadius:"radii",columnRuleWidth:"borderWidths",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",blockSize:"sizes",inlineSize:"sizes",maxBlockSize:"sizes",maxInlineSize:"sizes",minBlockSize:"sizes",minInlineSize:"sizes",columnWidth:"sizes",fill:"colors",stroke:"colors"},L5=function(S,o){if(typeof o!="number"||o>=0){if(typeof o=="string"&&o.startsWith("-")){var x=o.substring(1),t=sr(S,x,x);return typeof t=="number"?t*-1:"-"+t}return sr(S,o,o)}var e=Math.abs(o),u=sr(S,e,e);return typeof u=="string"?"-"+u:Number(u)*-1},O5=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginBlock","marginBlockEnd","marginBlockStart","marginInline","marginInlineEnd","marginInlineStart","top","bottom","left","right"].reduce(function(E,S){var o;return Hh({},E,(o={},o[S]=L5,o))},{}),D5=function(S){return function(o){var x={},t=o&&o.breakpoints||M5,e=[null].concat(t.map(function(r){return r.includes("@media")?r:"@media screen and (min-width: "+r+")"}));for(var u in S){var s=u,a=S[s];if(typeof a=="function"&&(a=a(o||{})),!(a===!1||a==null)){if(!Array.isArray(a)){x[s]=a;continue}for(var n=0;n<a.slice(0,e.length).length;n++){var i=e[n];if(!i){x[s]=a[n];continue}x[i]=x[i]||{},a[n]!=null&&(x[i][s]=a[n])}}}return x}},Os=function E(S){return S===void 0&&(S={}),function(o){o===void 0&&(o={});var x=Hh({},P5,"theme"in o?o.theme:o),t=A5(typeof S=="function"?S(x):S,x),e=D5(t)(x),u={};for(var s in e){var a=e[s],n=typeof a=="function"?a(x):a;if(n&&typeof n=="object"){if(ZA(n)){u[s]=n[Xx];continue}u[s]=E(n)(x);continue}var i=s in YC?YC[s]:s,r=i in HC?HC[i]:void 0,f=r?x==null?void 0:x[r]:sr(x,i,{}),l=sr(O5,i,sr),h=l(f,n,n);if(i in XC)for(var c=XC[i],v=0;v<c.length;v++)u[c[v]]=h;else u[i]=h}return u}},F5=function(S){return function(o){var x=Os(S.sx)(o),t=typeof S.css=="function"?S.css(o):S.css;return[x,t]}};function b5(E){if(!E||!E.sx&&!E.css)return E;var S={};for(var o in E)o!=="sx"&&(S[o]=E[o]);return S.css=F5(E),S}function nx(){return nx=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var o=arguments[S];for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&(E[x]=o[x])}return E},nx.apply(this,arguments)}var QA=R5.version,Dl=function(S,o){for(var x=arguments.length,t=new Array(x>2?x-2:0),e=2;e<x;e++)t[e-2]=arguments[e];return jA.apply(void 0,[S,b5(o)].concat(t))},JA={__EMOTION_VERSION__:QA,theme:{}},kA=dt.createContext(JA),Hx=function(){return dt.useContext(kA)},qA=typeof Symbol=="function"&&Symbol.for,N5=qA?Symbol.for("react.element"):60103,w5=qA?Symbol.for("react.forward_ref"):60103,_A={isMergeableObject:function(S){return!!S&&typeof S=="object"&&S.$$typeof!==N5&&S.$$typeof!==w5},arrayMerge:function(S,o){return o}},tM=function(S,o){return $A(S,o,_A)};function B5(){for(var E=arguments.length,S=new Array(E),o=0;o<E;o++)S[o]=arguments[o];return $A.all(S,_A)}tM.all=B5;var Wx=function(S){var o=S.context,x=S.children;return Dl(Nl.Provider,{value:o.theme},Dl(kA.Provider,{value:o,children:x}))};function I5(E){var S=E.theme,o=E.children,x=Hx();x.__EMOTION_VERSION__!==QA&&console.warn("Multiple versions of Emotion detected,","and theming might not work as expected.","Please ensure there is only one copy of @emotion/react installed in your application.");var t=typeof S=="function"?nx({},x,{theme:S(x.theme)}):tM.all({},x,{theme:S});return Dl(Wx,{context:t,children:o})}function Hn(){return Hn=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var o=arguments[S];for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&(E[x]=o[x])}return E},Hn.apply(this,arguments)}var eM=function(S){return"--theme-ui-"+S.replace("-__default","")},iM=function(S){return"var("+eM(S)+")"},nM=function(){for(var S=arguments.length,o=new Array(S),x=0;x<S;x++)o[x]=arguments[x];return o.filter(Boolean).join("-")},U5=new Set(["useCustomProperties","initialColorModeName","printColorModeName","initialColorMode","useLocalStorage","config"]),V5=function E(S,o){var x=Array.isArray(S)?[]:{};for(var t in S){var e=S[t],u=nM(o,t);if(e&&typeof e=="object"){x[t]=E(e,u);continue}if(U5.has(t)){x[t]=e;continue}x[t]=iM(u)}return x},rx=function E(S,o){var x={};for(var t in o)if(t!=="modes"){var e=nM(S,t),u=o[t];u&&typeof u=="object"?x=Hn({},x,E(e,u)):x[eM(e)]=u}return x},G5=function(S){S===void 0&&(S={});var o=S.config||S||{},x=o.useCustomProperties,t=o.initialColorModeName,e=o.printColorModeName,u=o.useRootStyles,s=S.rawColors||S.colors;if(!s||u===!1)return{};if(x===!1)return Os({color:"text",bg:"background"})(S);var a=s.modes||{},n=rM(s,a);if(e){var i=a[e];!i&&e===t&&(i=s),i?n["@media print"]=rx("colors",i):console.error("Theme UI `printColorModeName` was not found in colors scale",{colors:s,printColorModeName:e})}var r=function(l){return iM("colors-"+l)};return Os(Hn({},n,{color:r("text"),bg:r("background")}))(S)};function rM(E,S){var o=rx("colors",E);return Object.keys(S).forEach(function(x){var t=".theme-ui-"+x,e="&"+t+", "+t+" &";o[e]=rx("colors",S[x])}),o}var WC="theme-ui-color-mode",sx="(prefers-color-scheme: dark)",z5="(prefers-color-scheme: light)",jC={get:function(){try{return window.localStorage.getItem(WC)}catch(S){console.warn("localStorage is disabled and color mode might not work as expected.","Please check your Site Settings.",S)}},set:function(S){try{window.localStorage.setItem(WC,S)}catch(o){console.warn("localStorage is disabled and color mode might not work as expected.","Please check your Site Settings.",o)}}},KC=function(){if(typeof window<"u"&&window.matchMedia){if(window.matchMedia(sx).matches)return"dark";if(window.matchMedia(z5).matches)return"light"}return null},sM=typeof window>"u"?function(){}:dt.useLayoutEffect,Y5=function(S){var o=S.outerCtx,x=S.children,t=o.theme||{},e=t.config||t,u=e.initialColorModeName,s=e.useColorSchemeMediaQuery,a=e.useLocalStorage,n=dt.useState(function(){var y=s!==!1&&KC();return y||u}),i=n[0],r=n[1];sM(function(){var y=a!==!1&&jC.get();typeof document<"u"&&document.documentElement.classList.remove("theme-ui-"+y),s!=="system"&&y&&y!==i&&(i=y,r(y))},[]),dt.useEffect(function(){i&&a!==!1&&jC.set(i)},[i,a]);var f=dt.useCallback(function(){var y=KC();r(y||u)},[u]);dt.useEffect(function(){if(s==="system"&&window.matchMedia){var y=window.matchMedia(sx);typeof y.addEventListener=="function"?y.addEventListener("change",f):typeof y.addListener=="function"&&y.addListener(f)}return function(){if(s==="system"&&window.matchMedia){var T=window.matchMedia(sx);typeof T.removeEventListener=="function"?T.removeEventListener("change",f):typeof T.removeListener=="function"&&T.removeListener(f)}}},[s,f]);{var l,h;(l=t.colors)!=null&&l.modes&&u&&Object.keys(t.colors.modes).indexOf(u)>-1&&console.warn("[theme-ui] The `initialColorModeName` value should be a unique name and cannot reference a key in `theme.colors.modes`.");var c=[],v=function y(T){return Object.keys(T).forEach(function(C){c.push(C),typeof T[C]=="object"&&y(T[C])}),c};v((h=t.colors)!=null?h:{}).forEach(function(y){y!==y.trim()&&console.warn("[theme-ui] Key `"+y+"` in theme.colors contains leading/trailing whitespace, which can cause bugs in your project.")})}var d=oM({colorMode:i,outerTheme:t}),m=Hn({},o,{theme:d,colorMode:i,setColorMode:r});return gi.createElement(Wx,{context:m},gi.createElement(X5,{theme:d}),x)},O0=function(S){var o=Hn({},S);return delete o.modes,o};function aM(E,S){for(var o=0,x=Object.entries(E);o<x.length;o++){var t=x[o],e=t[0],u=t[1];if(typeof u=="string"&&!u.startsWith("var("))S[e]=u;else if(typeof u=="object"){var s=Hn({},S[e]);aM(u,s),S[e]=s}}}function oM(E){var S=E.outerTheme,o=E.colorMode,x=dt.useMemo(function(){var t=Hn({},S),e=sr(t,"colors.modes",{}),u=sr(e,o,{});o&&(t.colors=Hn({},t.colors,u));var s=S.config||S,a=s.useCustomProperties,n=s.initialColorModeName,i=n===void 0?"__default":n,r=S.rawColors||S.colors||{};if(a!==!1){var f=t.rawColors!=null,l=t.colors||{};if(f)r=Hn({},r),aM(l,r),r.modes&&(r.modes[i]=O0(r)),t.rawColors=r;else if(!("modes"in r))t.rawColors=l;else{var h,c=Hn((h={},h[i]=O0(r),h),r.modes);t.rawColors=Hn({},l,{modes:c})}t.colors=V5(O0(r),"colors")}return t},[o,S]);return x}function X5(E){var S=E.theme;return Dl(Yx,{styles:function(){return{html:G5(S)}}})}function H5(E){var S,o=E.outerCtx,x=E.children,t=oM({outerTheme:o.theme,colorMode:o.colorMode}),e=dt.useState(function(){var r;return((r=t.config)==null?void 0:r.useLocalStorage)!==!1}),u=e[0],s=e[1];sM(function(){return void s(!1)},[]);var a=t.rawColors||t.colors,n=(S=t.config)==null?void 0:S.useCustomProperties,i=dt.useMemo(function(){if(n===!1)return{};var r=a||{};return Os(rM(r,r.modes||{}))(t)},[t,a,n]);return gi.createElement(Wx,{context:Hn({},o,{theme:t})},Dl("div",{"data-themeui-nested-provider":!0,key:Number(u),suppressHydrationWarning:!0,css:i,children:x}))}var W5=function(S){var o=S.children,x=Hx(),t=typeof x.setColorMode!="function";return t?gi.createElement(Y5,{outerCtx:x},o):gi.createElement(H5,{outerCtx:x},o)},j5=function(){return Dl(Yx,{styles:function(o){var x,t=o,e=t.config||t,u=e.useRootStyles;if(u===!1||t.styles&&!t.styles.root)return null;var s=((x=t.config)==null?void 0:x.useBorderBox)===!1?void 0:"border-box";return Os({"*":{boxSizing:s},html:{variant:"styles.root"},body:{margin:0}})(t)}})},K5=function(S){var o=S.theme,x=S.children,t=Hx(),e=t===JA;return gi.createElement(I5,{theme:o},gi.createElement(W5,null,e&&gi.createElement(j5,null),x))};function Rr(){return Rr=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var o=arguments[S];for(var x in o)Object.prototype.hasOwnProperty.call(o,x)&&(E[x]=o[x])}return E},Rr.apply(this,arguments)}function jx(E,S){if(E==null)return{};var o={},x=Object.keys(E),t,e;for(e=0;e<x.length;e++)t=x[e],!(S.indexOf(t)>=0)&&(o[t]=E[t]);return o}function $C(E,S){(S==null||S>E.length)&&(S=E.length);for(var o=0,x=new Array(S);o<S;o++)x[o]=E[o];return x}function $5(E,S){if(E){if(typeof E=="string")return $C(E,S);var o=Object.prototype.toString.call(E).slice(8,-1);if(o==="Object"&&E.constructor&&(o=E.constructor.name),o==="Map"||o==="Set")return Array.from(E);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return $C(E,S)}}function Z5(E,S){var o=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(o)return(o=o.call(E)).next.bind(o);if(Array.isArray(E)||(o=$5(E))||S&&E&&typeof E.length=="number"){o&&(E=o);var x=0;return function(){return x>=E.length?{done:!0}:{done:!1,value:E[x++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q5=["__themeKey","__css","variant","css","sx","as"],lM=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","m","mt","mr","mb","ml","mx","my","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","p","pt","pr","pb","pl","px","py","color","backgroundColor","bg","opacity"],J5=function(S){for(var o={},x=Z5(lM),t;!(t=x()).done;){var e=t.value;o[e]=S[e]}return o},hi=dt.forwardRef(function(S,o){var x=NI(),t=S,e=t.__themeKey,u=e===void 0?"variants":e,s=t.__css,a=t.variant,n=t.css,i=t.sx,r=t.as,f=r===void 0?"div":r,l=jx(t,Q5),h={boxSizing:"border-box",margin:0,minWidth:0},c=Os(s)(x),v=sr(x,u+"."+a)||sr(x,a),d=v&&Os(v)(x),m=Os(i)(x),y=Os(J5(l))(x),T=[h,c,d,m,y,n];return lM.forEach(function(C){delete l[C]}),jA(f,Rr({ref:o,css:T},l))}),ii=gi.forwardRef(function(S,o){return gi.createElement(hi,Rr({ref:o},S,{sx:Rr({display:"flex"},S.sx)}))});var Ri=gi.forwardRef(function(S,o){return gi.createElement(hi,Rr({as:"span",ref:o,variant:"default"},S,{__themeKey:"text"}))}),k5=["sx","autofillBackgroundColor"],ZC={boxShadow:"inset 0 0 0 1000px var(--theme-ui-input-autofill-bg)",fontSize:"inherit",":first-line":{fontSize:"1rem"}},q5={display:"block",width:"100%",p:2,appearance:"none",fontSize:"inherit",lineHeight:"inherit",border:"1px solid",borderRadius:4,color:"inherit",bg:"transparent",":autofill, :autofill:hover, :autofill:focus":ZC,":-webkit-autofill, :-webkit-autofill:hover, :-webkit-autofill:focus":ZC},_5=gi.forwardRef(function(S,o){var x=S.sx,t=S.autofillBackgroundColor,e=t===void 0?"background":t,u=jx(S,k5);return gi.createElement(hi,Rr({ref:o,as:"input",variant:"input",sx:Rr({"--theme-ui-input-autofill-bg":function(a){return a.colors&&sr(a.colors,e,null)}},x)},u,{__themeKey:"forms",__css:q5}))}),tU=["size"],eU=gi.forwardRef(function(S,o){var x=S.size,t=x===void 0?24:x,e=jx(S,tU),u=Rr({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"currentcolor"},e);return gi.createElement(hi,Rr({ref:o,as:"svg"},u))});eU.displayName="SVG";var Sd=gi.forwardRef(function(S,o){return gi.createElement(hi,Rr({ref:o,as:"hr",variant:"styles.hr"},S,{__css:{color:"gray",m:0,my:2,border:0,borderBottom:"1px solid"}}))});const iU="inherit",nU="currentColor",rU="transparent",sU="#000",aU="#fff",oU={50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},lU={50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},uU={50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b"},hU={50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},fU={50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917"},cU={50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},dU={50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},vU={50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},pU={50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12"},mU={50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314"},gU={50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},xU={50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b"},yU={50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a"},TU={50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63"},SU={50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},EU={50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a"},CU={50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81"},RU={50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95"},AU={50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87"},MU={50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75"},PU={50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843"},LU={50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337"},OU={50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},DU={50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917"},FU={50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},bU={50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},NU={50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},Wr={inherit:iU,current:nU,transparent:rU,black:sU,white:aU,slate:oU,gray:lU,zinc:uU,neutral:hU,stone:fU,red:cU,orange:dU,amber:vU,yellow:pU,lime:mU,green:gU,emerald:xU,teal:yU,cyan:TU,sky:SU,blue:EU,indigo:CU,violet:RU,purple:AU,fuchsia:MU,pink:PU,rose:LU,lightBlue:OU,warmGray:DU,trueGray:FU,coolGray:bU,blueGray:NU},uM={colors:{...Wr,text:Wr.white,unique:Wr.amber[100],rare:Wr.fuchsia[300],set:Wr.lime[300],magic:Wr.blue[200],common:Wr.white,background:Wr.black,danger:Wr.red,shadow:{10:"rgba(0,0,0,.10)",15:"rgba(0,0,0,.15)",20:"rgba(0,0,0,.20)",25:"rgba(0,0,0,.25)",30:"rgba(0,0,0,.30)",50:"rgba(0,0,0,.50)"}},zIndices:{modal:"999999"},fonts:{body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',heading:"inherit",monospace:"Menlo, monospace"},fontSizes:[10,12,14,16,20,24,32,48,64,96],fontWeights:{body:400,heading:700,bold:700},lineHeights:{body:1.25,heading:1.25},letterSpacings:{body:"normal",caps:"0.2em"},breakpoints:["40em","52em","64em"],space:[0,4,8,16,32,64,128,256,512],radii:[0,3,6],badges:{primary:{display:"block"}},forms:{input:{p:1,transition:".2s ease all",lineHeight:1,bg:"shadow.30",border:"1px solid #000",borderColor:"shadow.30",outline:"none",textShadow:"none"}},buttons:{menu:{borderRadius:3,padding:1,filter:"grayscale(100%)","*":{opacity:.5,transition:".2s ease all"},"&:hover, &.active":{"*":{opacity:1}},backgroundColor:"shadow.10"},wood:{borderRadius:3,py:1,px:2,backgroundColor:"yellow.900",border:"1px solid #000",boxShadow:"inset 0px 0px 0px 1px rgba(255,255,255,.25)",bg:"yellow.900",position:"relative"}},styles:{hr:{my:2,color:Wr.white,opacity:.15,width:"100%"},root:{fontSize:2,fontFamily:"body",lineHeight:"body",fontWeight:"body",color:"text","*":{textShadow:"-1px -1px 0 rgba(0, 0, 0, 0.5), 1px -1px 0 rgba(0, 0, 0, 0.5), -1px 1px 0 rgba(0, 0, 0, 0.5), 1px 1px 0 rgba(0, 0, 0, 0.5)","-webkit-touch-callout":"none","-webkit-user-callout":"none","-webkit-user-select":"none","-webkit-user-drag":"none","-webkit-user-modify":"none","-webkit-highlight":"none","touch-action":"manipulation"}}}},nv=dt.forwardRef(({sx:E,icon:S,onTouchEnd:o,onTouchStart:x,onClick:t,...e},u)=>xt.jsxDEV(ii,{__themeKey:"buttons",ref:u,onClick:t||x,onTouchStart:s=>(s.stopPropagation(),(x==null?void 0:x(s))||(t==null?void 0:t(s))),onTouchEnd:s=>(s.stopPropagation(),s.preventDefault(),o==null?void 0:o(s)),sx:{display:"flex",cursor:"pointer",touchAction:"none",userSelect:"none",pointerEvents:"all","&:focus":{outline:"none"},...E},...e},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Button.tsx",lineNumber:6,columnNumber:5},globalThis)),xa=dt.forwardRef(({sx:E,size:S=32,icon:o,...x},t)=>xt.jsxDEV(hi,{ref:t,sx:{height:S,width:S,backgroundImage:`url(${o})`,backgroundPosition:"center center",backgroundRepeat:"no-repeat",...E},...x},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Icon.tsx",lineNumber:6,columnNumber:5},globalThis)),va=[{texture:"human-blank",src:"./assets/atlas/human-blank.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-shadow",src:"./assets/atlas/human-shadow.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human",src:"./assets/atlas/human.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-male-chest-bare",src:"./assets/atlas/male/chest/chest-bare.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-face-1",src:"./assets/atlas/face/face-1.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-face-2",src:"./assets/atlas/face/face-2.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-face-3",src:"./assets/atlas/face/face-3.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-hair-1",src:"./assets/atlas/hair/hair-1.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-hair-2",src:"./assets/atlas/hair/hair-2.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-hair-3",src:"./assets/atlas/hair/hair-3.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-hair-4",src:"./assets/atlas/hair/hair-4.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-female-chest-bare",src:"./assets/atlas/female/chest/chest-bare.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"dog",src:"./assets/atlas/mob/dog.png",atlas:"./assets/atlas/50x50.json",previewRect:[0,100,50,50]},{texture:"cat",src:"./assets/atlas/mob/cat.png",atlas:"./assets/atlas/50x50.json",previewRect:[0,100,50,50]},{texture:"dragon",src:"./assets/atlas/mob/dragon.png",atlas:"./assets/atlas/50x50.json",previewRect:[0,100,50,50]},{texture:"slime",src:"./assets/atlas/mob/slime.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"bee",src:"./assets/atlas/mob/bee.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"raccoon",src:"./assets/atlas/mob/raccoon.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"bat",src:"./assets/atlas/mob/bat.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"spider",src:"./assets/atlas/mob/spider.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"wraith",src:"./assets/atlas/mob/wraith.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"zombie",src:"./assets/atlas/mob/zombie.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"abomination",src:"./assets/atlas/mob/abomination.png",atlas:"./assets/atlas/150x150.json",previewRect:[0,300,150,150]},{texture:"merman",src:"./assets/atlas/mob/merman.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-female-armor-plate-light",src:"./assets/atlas/female/armor/armor-plate-light.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-male-armor-plate-light",src:"./assets/atlas/male/armor/armor-plate-light.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-female-armor-plate",src:"./assets/atlas/female/armor/armor-plate.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-male-armor-plate",src:"./assets/atlas/male/armor/armor-plate.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-female-armor-robe",src:"./assets/atlas/female/armor/armor-robe.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-male-armor-robe",src:"./assets/atlas/male/armor/armor-robe.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-female-armor-robe-wizard",src:"./assets/atlas/female/armor/armor-robe-wizard.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-male-armor-wizard-robe",src:"./assets/atlas/male/armor/armor-robe-wizard.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,160,80,80]},{texture:"human-helmet-bunny",src:"./assets/atlas/helmet/helmet-bunny.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,140,80,80]},{texture:"human-helmet-cap",src:"./assets/atlas/helmet/helmet-cap.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,0,80,40]},{texture:"human-helmet-cap-raccoon",src:"./assets/atlas/helmet/helmet-cap-raccoon.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,80,80,40]},{texture:"human-accessory-glasses",src:"./assets/atlas/accessory/accessory-glasses.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,140,80,80]},{texture:"human-boots-cloth",src:"./assets/atlas/boots/boots-cloth.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,173,80,80]},{texture:"human-pants-cloth",src:"./assets/atlas/pants/pants-cloth.png",atlas:"./assets/atlas/80x80.json",previewRect:[0,163,80,80]},{texture:"weapon-dagger",src:"./assets/atlas/hands/weapon-dagger.png",atlas:"./assets/atlas/weapon.json",previewRect:[37,37,17,17]},{texture:"weapon-spade",src:"./assets/atlas/hands/weapon-spade.png",atlas:"./assets/atlas/weapon.json",previewRect:[35,36,18,17]},{texture:"weapon-axe",src:"./assets/atlas/hands/weapon-axe.png",atlas:"./assets/atlas/weapon.json",previewRect:[30,33,22,19]},{texture:"weapon-spear",src:"./assets/atlas/hands/weapon-spear.png",atlas:"./assets/atlas/weapon.json",previewRect:[24,0,32,60]},{texture:"weapon-cleaver",src:"./assets/atlas/hands/weapon-cleaver.png",atlas:"./assets/atlas/weapon.json",previewRect:[30,33,28,24]},{texture:"weapon-hammer",src:"./assets/atlas/hands/weapon-hammer.png",atlas:"./assets/atlas/weapon.json",previewRect:[32,36,25,21]},{texture:"weapon-scythe",src:"./assets/atlas/hands/weapon-scythe.png",atlas:"./assets/atlas/weapon.json",previewRect:[28,33,24,19]},{texture:"weapon-claymore-soul",src:"./assets/atlas/hands/weapon-claymore-soul.png",atlas:"./assets/atlas/weapon.json",previewRect:[15,13,42,44]},{texture:"weapon-katar",src:"./assets/atlas/hands/weapon-katar.png",atlas:"./assets/atlas/weapon.json",previewRect:[36,45,19,19]},{texture:"weapon-gladius",src:"./assets/atlas/hands/weapon-gladius.png",atlas:"./assets/atlas/weapon.json",previewRect:[29,29,27,27]},{texture:"shield-round",src:"./assets/atlas/hands/shield-round.png",atlas:"./assets/atlas/weapon.json",previewRect:[40,36,20,22]},{texture:"shield-broken",src:"./assets/atlas/hands/shield-broken.png",atlas:"./assets/atlas/weapon.json",previewRect:[44,38,17,23]},{texture:"shield-buckler",src:"./assets/atlas/hands/shield-buckler.png",atlas:"./assets/atlas/weapon.json",previewRect:[41,36,20,22]},{texture:"shield-tower",src:"./assets/atlas/hands/shield-tower.png",atlas:"./assets/atlas/weapon.json",previewRect:[42,35,16,24]},{texture:"ring-silver-plain",src:"./assets/atlas/ring/ring-silver-plain.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"ring-gold-plain",src:"./assets/atlas/ring/ring-gold-plain.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"ring-silver-sapphire",src:"./assets/atlas/ring/ring-silver-sapphire.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"ring-silver-ruby",src:"./assets/atlas/ring/ring-silver-ruby.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"amulet-silver-plain",src:"./assets/atlas/amulet/amulet-silver-plain.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"amulet-gold-plain",src:"./assets/atlas/amulet/amulet-gold-plain.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"amulet-gold-sapphire",src:"./assets/atlas/amulet/amulet-gold-sapphire.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-skull",src:"./assets/atlas/stackable/stackable-skull.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-bsporangium",src:"./assets/atlas/stackable/stackable-bsporangium.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-apple",src:"./assets/atlas/stackable/stackable-apple.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-grapes",src:"./assets/atlas/stackable/stackable-grapes.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-meat",src:"./assets/atlas/stackable/stackable-meat.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-cheese",src:"./assets/atlas/stackable/stackable-cheese.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-potion-small-hp",src:"./assets/atlas/stackable/stackable-potion-small-hp.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-potion-medium-hp",src:"./assets/atlas/stackable/stackable-potion-medium-hp.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-potion-small-mp",src:"./assets/atlas/stackable/stackable-potion-small-mp.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"stackable-potion-medium-mp",src:"./assets/atlas/stackable/stackable-potion-medium-mp.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"spell-fire",src:"./assets/atlas/spell/spell-fire.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"spell-heal",src:"./assets/atlas/spell/spell-heal.png",atlas:"./assets/atlas/32x32-stackable.json",previewRect:[0,0,32,32]},{texture:"icons",src:"./assets/images/icons.png",atlas:"./assets/atlas/32x32-icons.json",previewRect:[0,0,32,32]}],hM=(E,S)=>{let o="",x=null;return va.forEach(t=>{var u,s,a;const e=E==null?void 0:E.texture;switch(E==null?void 0:E.slot){case"hands":case"ring":case"amulet":case"stackable":case"spell":o=e;break;case"armor":o=((u=S==null?void 0:S.profile)==null?void 0:u.race)+"-"+((s=S==null?void 0:S.profile)==null?void 0:s.gender)+"-"+e;break;default:o=((a=S==null?void 0:S.profile)==null?void 0:a.race)+"-"+e;break}o===(t==null?void 0:t.texture)&&(x=t)}),x};class wU extends Ie.GameObjects.Container{constructor(o,x){var C;const{x:t,y:e,socketId:u,id:s,isHero:a=!1,room:n,equipment:i={},inventory:r=[],profile:f,stats:l={},kind:h,roomName:c,baseStats:v={},direction:d,state:m={},gold:y=0}=x;super(o,t,e,[]);fi(this,"startingCoords");fi(this,"socketId");fi(this,"id");fi(this,"isHero");fi(this,"roomName");fi(this,"room");fi(this,"action");fi(this,"direction");fi(this,"currentSpeed");fi(this,"nextPath");fi(this,"vx");fi(this,"vy");fi(this,"kind");fi(this,"gold");fi(this,"profile");fi(this,"equipment");fi(this,"inventory");fi(this,"baseStats");fi(this,"stats");this.startingCoords={x:t,y:e},this.socketId=u,this.id=s,this.isHero=a,this.roomName=c,this.room=n,this.action="stand",this.direction=d||"down",this.currentSpeed=0,this.vx=0,this.vy=0,this.kind=h,this.state={isRobot:!1,isAggro:!1,doHpRegen:!1,doMpRegen:!1,lastTeleport:Date.now(),deadTime:Date.now(),lastHpRegen:Date.now(),lastMpRegen:Date.now(),lastCombat:Date.now(),lastRegen:Date.now(),lastAttack:Date.now(),lastFlash:Date.now(),setFlash:!1,isIdle:!0,isAttacking:!1,hasWeaponRight:!1,hasWeaponLeft:!1,isDead:!1,activeSets:[],...m},this.gold=y,this.profile={headY:-47,...f},this.equipment=i,this.inventory=r,this.baseStats=v,this.stats=l,o.physics.add.existing(this);const T=8*(((C=this==null?void 0:this.profile)==null?void 0:C.scale)||1);this.body.setCircle(T,-T,-T),this.checkAttackHands()}doAttack(o){}modifyStat(o,x){var s,a;const t=parseInt((s=this==null?void 0:this.stats)==null?void 0:s[o]),e=parseInt(x),u=(a=this==null?void 0:this.stats)==null?void 0:a["max"+BU(o)];if(typeof t!==void 0&&typeof u!==void 0){if(t+e>u){this.stats[o]=u;return}if(t+e<0){this.stats[o]=0;return}this.stats[o]+=e}}checkAttackReady(o){var x;Date.now()-this.state.lastAttack>o+((x=this==null?void 0:this.stats)==null?void 0:x.attackDelay)&&(this.state.isAttacking=!1)}triggerSecondAttack(){this.action==="attack_right"&&this.state.hasWeaponLeft&&this.doAttack(2)}checkAttackHands(){var t,e,u,s;this.state.hasWeaponRight=!1,this.state.hasWeaponLeft=!1,this.state.hasWeapon=!1;const o=(e=(t=this.equipment)==null?void 0:t.handLeft)==null?void 0:e.type;((s=(u=this.equipment)==null?void 0:u.handRight)==null?void 0:s.type)==="weapon"&&(this.state.hasWeaponRight=!0),o==="weapon"&&(this.state.hasWeaponLeft=!0),(this.state.hasWeaponRight||this.state.hasWeaponLeft)&&(this.state.hasWeapon=!0)}destroy(){this.scene&&this.scene.events.off("update",this.update,this),this.scene&&this.scene.physics.world.disable(this),super.destroy(!0)}}function BU(E){return E.length==0?E:E[0].toUpperCase()+E.substr(1)}const jr=Ie.GameObjects.Sprite,Ci=4;class IU extends Ie.GameObjects.Container{constructor(o,x,t){super(o,0,0);fi(this,"wrapBitmapText",function(o,x){var t=o.text.split(" ");let e="",u="";for(var s=0,a=t.length;s<a;s++)u+=t[s]+" ",o.setText(u),o.update(),o.width>x?e+=`
`+t[s]+" ":e+=t[s]+" ",u=e;e=e.replace(/(\s)$/gm,""),e=e.replace(/^\s+|\s+$/g,""),e=this.wbr(e,20),o.setText(e),o.update()});this.headY=x,this.message=t,this.maxWidth=256,this.width=30,this.height=30,this.bubbleText=new Ie.GameObjects.BitmapText(this.scene,8,6,"nin-dark",this.message),this.tl=o.add.existing(new jr(o,0,0,"misc-bubble",0).setFrame(0).setOrigin(0,0)),this.bl=o.add.existing(new jr(o,0,this.height,"misc-bubble",0).setFrame(6).setOrigin(0,1)),this.tr=o.add.existing(new jr(o,this.width,0,"misc-bubble",0).setFrame(2).setOrigin(1,0)),this.br=o.add.existing(new jr(o,this.width,this.height,"misc-bubble",0).setFrame(8).setOrigin(1,1)),this.top=o.add.existing(new jr(o,Ci,0,"misc-bubble",0).setFrame(1).setOrigin(0,0)),this.bot=o.add.existing(new jr(o,Ci,this.height,"misc-bubble",0).setFrame(7).setOrigin(0,1)),this.left=o.add.existing(new jr(o,0,Ci,"misc-bubble",0).setFrame(3).setOrigin(0,0)),this.right=o.add.existing(new jr(o,this.width,Ci,"misc-bubble",0).setFrame(5).setOrigin(1,0)),this.bg=o.add.existing(new jr(o,Ci,Ci,"misc-bubble",0).setFrame(4).setOrigin(0,0)),this.tail=o.add.existing(new jr(o,Ci,this.height,"misc-bubble-tail",0).setOrigin(0,1)),this.add(this.tl),this.add(this.bl),this.add(this.tr),this.add(this.br),this.add(this.top),this.add(this.bot),this.add(this.left),this.add(this.right),this.add(this.bg),this.add(this.tail),this.wrapBitmapText(this.bubbleText,this.maxWidth),this.add(this.bubbleText),this.setMessage(this.message)}setMessage(o){if(!o)return this.setVisible(!1);this.setVisible(!0),this.message=o,this.bubbleText.setText(this.message),this.wrapBitmapText(this.bubbleText,this.maxWidth),this.width=this.bubbleText.width+10,this.height=this.bubbleText.height+5,this.bg.setDisplaySize(this.width,this.height),this.top.setDisplaySize(this.width,Ci),this.bot.setDisplaySize(this.width,Ci),this.bot.y=this.height+Ci*2,this.br.y=this.height+Ci*2,this.br.x=this.width+Ci*2,this.bl.y=this.height+Ci*2,this.left.setDisplaySize(Ci,this.height),this.right.setDisplaySize(Ci,this.height),this.right.x=this.width+Ci*2,this.tr.x=this.width+Ci*2,this.tail.y=this.height+Ci*2+3,this.tail.x=(this.width+Ci*2)/2-4,this.setScale(.5),this.center()}setHeadY(o){this.headY=o,this.center()}wbr(o,x){return o.replace(RegExp("(\\w{"+x+"})(\\w)","g"),function(t,e,u){return e+`
`+u})}center(){this.x=-Math.floor((this.width+Ci*2)/4),this.y=-(this.height+Ci*2/2)+this.headY+7}update(){}destroy(){this.scene&&this.scene.events.off("update",this.update,this),super.destroy()}}const UU=Ie.GameObjects.Sprite,VU="human-blank";class QC extends Ie.GameObjects.Container{constructor(S,{id:o,caster:x,spellName:t,maxVisibleTime:e,maxActiveTime:u,state:s}){var a,n,i,r,f,l,h,c,v,d,m,y,T,C;if(super(S,x.x,x.y),this.scene=S,this.id=o,this.caster=x,this.state={aliveTime:0,...s},this.spellName=t,this.frame=0,this.hitIds=[],this.canHitSelf=!1,this.maxVisibleTime=e||200,this.maxActiveTime=u||100,this.spell=S.add.existing(new UU(S,0,0,VU,0)),S.physics.add.existing(this),S.events.on("update",this.update,this),S.events.once("shutdown",this.destroy,this),this.setDepth(((a=this==null?void 0:this.caster)==null?void 0:a.depth)-10),this.isAttack=["attack_left","attack_right"].includes(t),this.isAttack){if(t==="attack_left"){this.canHitSelf=!1,this.spell.setTexture("misc-slash");const R=((r=(i=(n=x==null?void 0:x.equipment)==null?void 0:n.handLeft)==null?void 0:i.stats)==null?void 0:r.range)*2||((f=x==null?void 0:x.body)==null?void 0:f.radius)/8;this.body.setCircle(R*16,-R*16,-R*16),this.spell.displayWidth=50*R,this.spell.displayHeight=50*R,this.spell.setFlipX(!0),((h=(l=x==null?void 0:x.equipment)==null?void 0:l.handLeft)==null?void 0:h.base)==="katar"&&(x==null?void 0:x.direction)==="left"&&this.spell.setFlipX(!1)}if(t==="attack_right"){this.canHitSelf=!1,this.spell.setTexture("misc-slash");const R=((d=(v=(c=x==null?void 0:x.equipment)==null?void 0:c.handRight)==null?void 0:v.stats)==null?void 0:d.range)*2||((m=x==null?void 0:x.body)==null?void 0:m.radius)/8;this.body.setCircle(R*16,-R*16,-R*16),this.spell.displayWidth=50*R,this.spell.displayHeight=50*R,this.spell.setFlipX(!1),((T=(y=x==null?void 0:x.equipment)==null?void 0:y.handRight)==null?void 0:T.base)==="katar"&&(x==null?void 0:x.direction)==="left"&&this.spell.setFlipX(!0)}(x==null?void 0:x.direction)==="up"&&this.spell.setAngle(180),(x==null?void 0:x.direction)==="down"&&(this.spell.setAngle(0),this.spell.y=(C=this==null?void 0:this.caster)==null?void 0:C.bodyOffsetY),(x==null?void 0:x.direction)==="left"&&this.spell.setAngle(90),(x==null?void 0:x.direction)==="right"&&this.spell.setAngle(-90),S.tweens.add({targets:this.spell,props:{alpha:{value:()=>0,ease:"Power4"}},duration:this.maxVisibleTime,yoyo:!1,repeat:0}),this.caster.add(this.spell)}}create(){}update(S,o){if(!this.scene)return;this.state.aliveTime+=o;const x=this.state.aliveTime>this.maxVisibleTime,t=this.state.aliveTime<this.maxActiveTime;this.caster.isHero&&t&&this.checkCollisions(),x&&this.destroy()}checkCollisions(){var a,n;const{spellName:S,caster:o,scene:x,canHitSelf:t}=this,e=o==null?void 0:o.direction,u=((a=x.npcs)==null?void 0:a.getChildren())||[],s=((n=x.players)==null?void 0:n.getChildren())||[];[...u,...s].forEach(i=>{if(!(!i||this.hitIds.includes(i==null?void 0:i.id))&&!(!t&&(i==null?void 0:i.id)==(o==null?void 0:o.id))&&x.physics.overlap(i,this)){if(this.isAttack&&(e==="up"&&i.y>o.y||e==="down"&&i.y<o.y||e==="left"&&i.x>o.x||e==="right"&&i.x<o.x))return;this.hitIds.push(i==null?void 0:i.id),x.socket.emit("hit",{ids:this.hitIds,spellName:S})}})}destroy(){this.scene&&this.scene.events.off("update",this.update,this),this.scene&&this.scene.physics.world.disable(this),super.destroy(!0)}}const Kr=Ie.GameObjects.Sprite,ei=4;let GU=class extends Ie.GameObjects.Container{constructor(S,o,x,t,e,u=0,s="0xFF0000"){super(S,o,x),this.width=t,this.height=e;const a=new Kr(S,0,0,"misc-bars",0).setFrame(0).setOrigin(0,0),n=new Kr(S,t,0,"misc-bars",0).setFrame(2).setOrigin(1,0),i=new Kr(S,0,e,"misc-bars",0).setFrame(6).setOrigin(0,1),r=new Kr(S,t,e,"misc-bars",0).setFrame(8).setOrigin(1,1),f=new Kr(S,ei,0,"misc-bars",0).setFrame(1).setOrigin(0,0).setDisplaySize(t-ei-ei,ei),l=new Kr(S,ei,e,"misc-bars",0).setFrame(7).setOrigin(0,1).setDisplaySize(t-ei-ei,ei),h=new Kr(S,0,ei,"misc-bars",0).setFrame(3).setOrigin(0,0).setDisplaySize(ei,e-ei-ei),c=new Kr(S,t,ei,"misc-bars",0).setFrame(5).setOrigin(1,0).setDisplaySize(ei,e-ei-ei),v=new Kr(S,ei,ei,"misc-bars",0).setFrame(4).setOrigin(0,0).setDisplaySize(t-ei-ei,ei).setTint("0x444444");this.bar=S.add.existing(new Kr(S,ei,ei,"misc-bars",0).setFrame(4).setOrigin(0,0).setDisplaySize(t-ei-ei,ei).setTint(s)),this.add(a),this.add(n),this.add(i),this.add(r),this.add(f),this.add(l),this.add(h),this.add(c),this.add(v),this.add(this.bar),this.setScale(.5),this.center(),this.setPercent(u)}center(){this.x=-Math.floor(this.width/4)}setPercent(S){const o=(this.width-ei-ei)*S;this.bar.setDisplaySize(o,this.bar.height)}};const{Container:zU,BitmapText:YU}=Ie.GameObjects;class XU extends zU{constructor(S,o,x){super(S,o.x,o.y);let t=Math.abs(x.amount),e=20;this.victim=o,this.duration=1e3,this.setDepth(99999),this.victim.hpBar.setVisible(!0),this.victim.kind==="nasty"&&this.victim.userName.setVisible(!0);const u=new YU(S,0,0,"nin-light",x.amount,e);switch(x.type){case"healHp":t="+"+t,u.setTint("0x99FF99");break;case"healMp":t="+"+t,u.setTint("0x9999FF");break;case"miss":t="miss!",this.victim.isHero?u.setTint("0x9999FF"):u.setTint("0xFFFFFF");break;case"block":t="block!",this.victim.isHero?u.setTint("0xFF99FF"):u.setTint("0xFFFFFF");break;case"hit":t=t,this.victim.isHero?u.setTint("0xFFFFFF"):u.setTint("0xFF6666");break;case"level":t="Level Up!",this.duration=3e3,u.setTint("0xFF0000","0xFFFF00","0x00FFFF","0x0000FF");break;case"exp":t=t+" XP",u.setTint("0xEECCFF");break;case"death":t=t,u.setTint("0xFF6666");break}x.isCritical&&(e=40,t=t+"!",this.victim.isHero?u.setTint("0xFFFFFF"):u.setTint("0xFF8833")),u.fontSize=e,u.setText(t),u.setX(-u.width/2),u.setY(-u.height/2),this.add(u),S.tweens.add({targets:u,props:{x:{value:()=>this.randomRange(12-u.width/2),ease:"Power1"},y:{value:()=>-40,ease:"Power1"},fontSize:{value:()=>10,ease:"Power1"},alpha:{value:()=>0,ease:"Power1"}},duration:this.duration,yoyo:!1,repeat:0,onComplete:()=>{this.victim.hpBar.setVisible(!1),this.victim.kind==="nasty"&&this.victim.userName.setVisible(!1),this.destroy()}}),S.events.on("update",this.update,this),S.events.once("shutdown",this.destroy,this)}randomRange(S){return Math.floor(Math.random()*(S*2+1))-S}update(){this.victim.bringToTop(this)}destroy(){this.scene&&this.scene.events.off("update",this.update,this),super.destroy()}}const{Sprite:Dn,BitmapText:HU}=Ie.GameObjects,Oh="human-blank";class fM extends wU{constructor(S,o){var x;super(S,o),this.weaponAtlas=S.cache.json.get("weaponAtlas"),this.bodyOffsetY=-14*(((x=this==null?void 0:this.profile)==null?void 0:x.scale)||1),this.initSpriteLayers(),this.drawCharacterFromUserData(),this.updateHpBar(),this.state.isDead&&this.doDeath(),this.kind==="nasty"&&this.userName.setVisible(!1),S.events.on("update",this.update,this),S.events.once("shutdown",this.destroy,this)}updateData(S){this.equipment=S==null?void 0:S.equipment,this.inventory=S==null?void 0:S.inventory,this.profile=S==null?void 0:S.profile,this.stats=S==null?void 0:S.stats,this.gold=S==null?void 0:S.gold,this.drawCharacterFromUserData(),this.checkAttackHands(),this.updateHpBar()}doRegen(){var S;this.state.doHpRegen&&this.takeHit({type:"healHp",amount:(S=this==null?void 0:this.stats)==null?void 0:S.regenHp}),this.state.doMpRegen}initSpriteLayers(){var x,t,e;const S=this.scene,o=[S,0,this.bodyOffsetY,Oh];this.setDepth(100),this.skin=S.add.existing(new Dn(...o)),this.chest=S.add.existing(new Dn(...o)),this.face=S.add.existing(new Dn(...o)),this.hair=S.add.existing(new Dn(...o)),this.armor=S.add.existing(new Dn(...o)),this.helmet=S.add.existing(new Dn(...o)),this.boots=S.add.existing(new Dn(...o)),this.pants=S.add.existing(new Dn(...o)),this.accessory=S.add.existing(new Dn(...o)),this.handLeft=S.add.existing(new Dn(S,13,-9,Oh)),this.handRight=S.add.existing(new Dn(S,-13,-9,Oh)),this.shadow=S.add.existing(new Dn(...o)),this.bubble=S.add.existing(new IU(S,(x=this==null?void 0:this.profile)==null?void 0:x.headY,this.bubbleMessage)),this.hpBar=S.add.existing(new GU(S,0,(t=this==null?void 0:this.profile)==null?void 0:t.headY,32,12)).setVisible(!1),this.userName=S.add.existing(new HU(this.scene,0,8,"nin-light").setScale(.5)),this.corpse=S.add.existing(new Dn(S,0,this.bodyOffsetY,"icons","grave")).setVisible(!1),this.talkMenu=S.add.existing(new Dn(S,6,((e=this==null?void 0:this.profile)==null?void 0:e.headY)-6,"icons","chat")).setVisible(!1),this.add(this.shadow),this.add(this.chest),this.add(this.skin),this.add(this.face),this.add(this.hair),this.add(this.accessory),this.add(this.armor),this.add(this.boots),this.add(this.pants),this.add(this.helmet),this.add(this.handLeft),this.add(this.handRight),this.add(this.bubble),this.add(this.userName),this.add(this.hpBar),this.add(this.corpse),this.add(this.talkMenu)}drawCharacterFromUserData(){var t,e,u;const{profile:S,equipment:o,state:x}=this||{};S!=null&&S.userName&&(this.userName.setText(S==null?void 0:S.userName),this.userName.setX(-this.userName.width/2),this.userName.setTint(S==null?void 0:S.userNameTint)),this.skin.setScale((S==null?void 0:S.scale)||1),this.skin.setTint((S==null?void 0:S.tint)||"0xFFFFFF"),this.chest.setTint((S==null?void 0:S.tint)||"0xFFFFFF"),this.hair.setTint(((t=S==null?void 0:S.hair)==null?void 0:t.tint)||"0xFFFFFF"),this.face.setTint(((e=S==null?void 0:S.face)==null?void 0:e.tint)||"0xFFFFFF");for(const[s,a]of Object.entries(o))(u=this==null?void 0:this[s])==null||u.setTint((a==null?void 0:a.tint)||"0xFFFFFF")}doAttack(S){const{state:o}=this;if(o.isAttacking||this!=null&&this.isHero&&!o.hasWeapon)return;o.isAttacking=!0,o.lastAttack=Date.now();let x="attack_right";this.profile.race==="human"&&(S===1?o.hasWeaponRight?this.action="attack_right":o.hasWeaponLeft&&(this.action="attack_left"):S===2&&o.hasWeaponLeft&&(this.action="attack_left"),x=this.action),this.isHero&&this.scene.socket.emit("attack",{count:S,direction:this.direction}),this.scene.add.existing(new QC(this.scene,{id:null,caster:this,spellName:x}))}doGrab(){var u,s;const{scene:o}=this,x=(s=(u=o.loots)==null?void 0:u.getChildren)==null?void 0:s.call(u);let t,e=1/0;x.forEach(a=>{const n=dM(a,this);n<e&&(t=a,e=n)}),e<=32&&(this.direction=rv(this,t),this.scene.socket.emit("grabLoot",{lootId:t==null?void 0:t.id,direction:this.direction}))}castSpell(S){this.scene.add.existing(new QC(this.scene,{...S,caster:this}))}setBubbleMessage(){this.bubble.setMessage(this.state.bubbleMessage)}updateHpBar(){const{stats:S}=this,o=(S==null?void 0:S.maxHp)>0?(S==null?void 0:S.hp)/(S==null?void 0:S.maxHp):0;this.hpBar.setPercent(o)}doDeath(){this.body.setVelocity(0,0),this.state.isDead=!0,this.state.isAttacking=!1,this.shadow.setVisible(!1),this.chest.setVisible(!1),this.face.setVisible(!1),this.hair.setVisible(!1),this.accessory.setVisible(!1),this.armor.setVisible(!1),this.helmet.setVisible(!1),this.boots.setVisible(!1),this.pants.setVisible(!1),this.handLeft.setVisible(!1),this.handRight.setVisible(!1),this.hpBar.setVisible(!1),this.bubble.setVisible(!1),this.skin.setVisible(!1),this.corpse.setVisible(!0),this.isHero&&window.dispatchEvent(new Event("HERO_DEAD"))}respawn(){this.state.isDead=!1,this.stats.hp=this.stats.maxHp,this.updateHpBar(),this.drawCharacterFromUserData(),this.shadow.setVisible(!0),this.chest.setVisible(!0),this.skin.setVisible(!0),this.face.setVisible(!0),this.hair.setVisible(!0),this.accessory.setVisible(!0),this.armor.setVisible(!0),this.helmet.setVisible(!0),this.boots.setVisible(!0),this.pants.setVisible(!0),this.handLeft.setVisible(!0),this.handRight.setVisible(!0),this.hpBar.setVisible(!1),this.corpse.setVisible(!1),this.isHero&&window.dispatchEvent(new Event("HERO_RESPAWN"))}doFlashAnimation(S="0xFFFFFF"){this.hair.setTint(S),this.skin.setTint(S),this.chest.setTint(S),this.armor.setTint(S),this.helmet.setTint(S),this.boots.setTint(S),this.accessory.setTint(S),this.face.setTint(S)}checkDeath(){if(this.state.isDead)return this.skin.texture.key!=="icons"&&this.doDeath(),this.setDepth(100+this.y),!0}takeHit(S){const{stats:o,state:x}=this;x.isDead||(this.scene.add.existing(new XU(this.scene,this,S)),S.type=="death"?(o.hp=0,this.doDeath()):S.type=="healHp"?(this.modifyStat("hp",S==null?void 0:S.amount),this.state.lastFlash=Date.now(),this.state.isFlash=!0,this.doFlashAnimation("0x00FF00")):(this.modifyStat("hp",S==null?void 0:S.amount),this.state.lastFlash=Date.now(),this.state.isFlash=!0,this.doFlashAnimation("0xFF0000")),this!=null&&this.isHero&&window.dispatchEvent(new Event("UPDATE_HUD")),this.updateHpBar())}update(S,o){var x;this.checkDeath()||($U(this,Math.round(80+2500/(this.currentSpeed+10))),KU(this),jU(this),WU(this,o),this.checkAttackReady(o),this.setBubbleMessage(),this.setTalkMenu(),this!=null&&this.isHero&&this.triggerSecondAttack(),this.setDepth(100+this.y+((x=this==null?void 0:this.body)==null?void 0:x.height)))}playAnim(S,o){var u,s,a,n;let x=o==null?void 0:o.join("-");o!=null&&o.some(i=>!i)&&(x=`${Oh}-${this==null?void 0:this.direction}-${this==null?void 0:this.action}`);const t=((s=(u=S==null?void 0:S.anims)==null?void 0:u.currentFrame)==null?void 0:s.index)||0,e=(n=(a=S==null?void 0:S.anims)==null?void 0:a.currentAnim)==null?void 0:n.key;x!==e&&S.play(x,!0,t)}setTalkMenu(){const S=!this.state.lockedPlayerId&&this.scene.hero.state.targetNpcId===this.id;return this.talkMenu.setVisible(S)}}function WU(E,S){Date.now()-E.state.lastFlash>S+50&&E.state.isFlash&&(E.state.isFlash=!1,E.drawCharacterFromUserData())}function jU(E){var T,C,R,A,P,O,b,D,N;const{skin:S,chest:o,armor:x,accessory:t,helmet:e,handLeft:u,handRight:s,pants:a,boots:n,shadow:i,direction:r,action:f,equipment:l,profile:h,face:c,hair:v,bubble:d,hpBar:m,userName:y}=E;E.bringToTop(a),E.bringToTop(n),E.bringToTop(x),r==="up"?(E.bringToTop(v),E.bringToTop(c),E.bringToTop(t),E.bringToTop(e),E.sendToBack(u),E.sendToBack(s)):r==="down"?(E.bringToTop(o),E.bringToTop(x),E.bringToTop(c),E.bringToTop(t),E.bringToTop(s),E.bringToTop(u)):r==="left"?(E.bringToTop(o),E.bringToTop(x),E.bringToTop(v),E.bringToTop(c),E.bringToTop(t),E.bringToTop(e),E.bringToTop(u),E.sendToBack(s)):r==="right"&&(E.bringToTop(o),E.bringToTop(x),E.bringToTop(v),E.bringToTop(c),E.bringToTop(t),E.bringToTop(e),E.sendToBack(u),E.bringToTop(s)),E.bringToTop(y),E.bringToTop(d),E.bringToTop(m),E==null||E.playAnim(S,[h==null?void 0:h.race,r,f]),(h==null?void 0:h.race)==="human"?(E==null||E.playAnim(o,[h==null?void 0:h.race,h==null?void 0:h.gender,"chest-bare",r,f]),E==null||E.playAnim(i,[h==null?void 0:h.race,"shadow",r,f])):E==null||E.playAnim(o,[Oh,r,f]),E==null||E.playAnim(c,[h==null?void 0:h.race,(T=h==null?void 0:h.face)==null?void 0:T.texture,r,f]),E==null||E.playAnim(v,[h==null?void 0:h.race,(C=h==null?void 0:h.hair)==null?void 0:C.texture,r,f]),E==null||E.playAnim(x,[h==null?void 0:h.race,h==null?void 0:h.gender,(R=l==null?void 0:l.armor)==null?void 0:R.texture,r,f],E.isHero),E==null||E.playAnim(e,[h==null?void 0:h.race,(A=l==null?void 0:l.helmet)==null?void 0:A.texture,r,f]),E==null||E.playAnim(n,[h==null?void 0:h.race,(P=l==null?void 0:l.boots)==null?void 0:P.texture,r,f]),E==null||E.playAnim(a,[h==null?void 0:h.race,(O=l==null?void 0:l.pants)==null?void 0:O.texture,r,f]),E==null||E.playAnim(t,[h==null?void 0:h.race,(b=l==null?void 0:l.accessory)==null?void 0:b.texture,r,f]),ZU(E),s.setTexture((D=l==null?void 0:l.handRight)==null?void 0:D.texture),u.setTexture((N=l==null?void 0:l.handLeft)==null?void 0:N.texture)}function KU(E){const S=E!=null&&E.isHero?E.body.velocity.x:E.vx,o=E!=null&&E.isHero?E.body.velocity.y:E.vy;E.currentSpeed=Math.max(Math.abs(S),Math.abs(o)),!E.state.isAttacking&&(S===0&&o===0?E.action="stand":E.action="walk")}function $U(E,S){const o=["shadow","chest","skin","face","hair","accessory","armor","boots","pants","helmet","handLeft","handRight"];for(const x of o)E[x].anims.msPerFrame=S}function ZU(E){var r,f,l,h,c,v;const{profile:S,handLeft:o,handRight:x,weaponAtlas:t,action:e,equipment:u,direction:s}=E,a=(f=(r=E==null?void 0:E.skin)==null?void 0:r.anims)==null?void 0:f.currentFrame,{left:n,right:i}=((h=(l=t==null?void 0:t.offsets)==null?void 0:l[S==null?void 0:S.race])==null?void 0:h[a.textureFrame])||{};o.setPosition(n==null?void 0:n.x,n==null?void 0:n.y),o.setFlipX(n==null?void 0:n.flipX),o.setFlipY(n==null?void 0:n.flipY),o.setAngle(n==null?void 0:n.rotation),x.setPosition(i==null?void 0:i.x,i==null?void 0:i.y),x.setFlipX(i==null?void 0:i.flipX),x.setFlipY(i==null?void 0:i.flipY),x.setAngle(i==null?void 0:i.rotation),(v=(c=u==null?void 0:u.handRight)==null?void 0:c.texture)!=null&&v.includes("katar")&&(e==="attack_right"&&(s==="left"&&x.setAngle(90),s==="right"&&x.setAngle(-90)),e==="attack_left"&&(s==="left"&&o.setAngle(0),s==="right"&&o.setAngle(0)))}class QU extends Phaser.GameObjects.Container{constructor(S,o){var t;super(S,o.x,o.y),this.scene=S,this.item=o.item,this.id=o.id,S.physics.add.existing(this);const x=8*((this==null?void 0:this.scale)||1);this.body.setCircle(x,-x,-x),this.addLootSprite(o),this.setDepth(95+this.y+((t=this==null?void 0:this.body)==null?void 0:t.height)),S.events.on("update",this.update,this),S.events.once("shutdown",this.destroy,this)}addLootSprite(S){let o=hM(S.item,this.scene.hero);this.lootShadow=new Phaser.GameObjects.Sprite(this.scene,0,4,o.texture,"preview"),this.lootShadow.setTint(0).setAlpha(.1),this.lootSprite=new Phaser.GameObjects.Sprite(this.scene,0,0,o.texture,"preview"),this.item.tint&&this.lootSprite.setTint(this.item.tint),this.add(this.lootShadow),this.add(this.lootSprite)}destroy(){this.scene&&this.scene.events.off("update",this.update,this),super.destroy()}}function D0(E,S){const o=new fM(E,S);return E.add.existing(o),E.players.add(o),o}function JU(E,S){if(!E.players)return;const o=Er(E,S);o==null||o.destroy(!0)}function kU(E){var S,o,x,t,e,u,s,a,n,i;(o=(S=E==null?void 0:E.map)==null?void 0:S.destroy)==null||o.call(S,!0),(t=(x=E==null?void 0:E.players)==null?void 0:x.destroy)==null||t.call(x,!0),(u=(e=E==null?void 0:E.npcs)==null?void 0:e.destroy)==null||u.call(e,!0),(a=(s=E==null?void 0:E.loots)==null?void 0:s.destroy)==null||a.call(s,!0),(i=(n=E==null?void 0:E.doors)==null?void 0:n.destroy)==null||i.call(n,!0),E.players=E.physics.add.group(),E.npcs=E.physics.add.group(),E.loots=E.physics.add.group(),E.doors=E.physics.add.staticGroup()}function Er(E,S){if(E.players)return E.players.getChildren().find(o=>S===o.socketId)}function so(E,S){if(E.npcs)return E.npcs.getChildren().find(o=>S===o.id)}function JC(E,S){if(E.loots)return E.loots.getChildren().find(o=>S===o.id)}function kC(E,S){const o=new QU(E,S);return E.add.existing(o),E.loots.add(o),o}function qU(E,S){const o=new fM(E,S);return E.add.existing(o),E.npcs.add(o),o}function rv(E,S){const o=S.x-E.x,x=S.y-E.y;return Math.abs(o)>=Math.abs(x)?o>0?"right":"left":x>0?"down":"up"}const po=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function _U(E){let S=E.getContext("2d"),o=S.getImageData(0,0,E.width,E.height),x=o.data.length,t,e={top:null,left:null,right:null,bottom:null},u,s;for(t=0;t<x;t+=4)o.data[t+3]!==0&&(u=t/4%E.width,s=~~(t/4/E.width),e.top===null&&(e.top=s),(e.left===null||u<e.left)&&(e.left=u),(e.right===null||e.right<u)&&(e.right=u),(e.bottom===null||e.bottom<s)&&(e.bottom=s));var a=e.bottom+1-e.top,n=e.right+1-e.left,i=S.getImageData(e.left,e.top,n,a),r=document.createElement("canvas").getContext("2d");return r.canvas.width=n,r.canvas.height=a,r.putImageData(i,0,0),r.canvas}const t4=E=>{const S=document.createElement("canvas");return S.width=E.width,S.height=E.height,S.getContext("2d").drawImage(E,0,0),S};function cM(E,S="0xFFFFFF"){let o=E.getContext("2d"),x=document.createElement("canvas").getContext("2d"),t=document.createElement("canvas").getContext("2d"),e=document.createElement("canvas").getContext("2d");const u=E==null?void 0:E.width,s=E==null?void 0:E.height,a=o.getImageData(0,0,u,s);return x.canvas.width=u,x.canvas.height=s,t.canvas.width=u,t.canvas.height=s,e.canvas.width=u,e.canvas.height=s,x.putImageData(a,0,0),t.putImageData(a,0,0),e.putImageData(a,0,0),t.clearRect(0,0,u,s),t.fillStyle="#"+(S==null?void 0:S.replace("0x","")),t.fillRect(0,0,u,s),e.globalCompositeOperation="source-in",e.drawImage(t.canvas,0,0,u,s,0,0,u,s),x.globalCompositeOperation="multiply",x.drawImage(e.canvas,0,0,u,s,0,0,u,s),x.canvas}function dM(E,S){let o=(S==null?void 0:S.x)-(E==null?void 0:E.x),x=(S==null?void 0:S.y)-(E==null?void 0:E.y);return Math.sqrt(o*o+x*x)}function e4(E,S,o){S===void 0&&(S=300),o===void 0&&(o={});var x=dt.useRef(null),t=dt.useCallback(function(e){x.current?(clearTimeout(x.current),x.current=null,E&&E(e)):x.current=setTimeout(function(){o.onSingleTap&&o.onSingleTap(e),x.current=null},S)},[E,S,o.onSingleTap]);return E?{onClick:t}:{}}const i4=E=>({background:`${uM.colors.shadow[30]} url(${E}) center center no-repeat`,filter:"grayscale(100%)",opacity:.5}),n4=E=>({border:S=>`1px solid ${S.colors[E]}`,background:S=>`radial-gradient(circle, ${S.colors[E]} 0%, ${S.colors.shadow[50]} 150%)`}),r4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",sv=gi.memo(({sx:E,size:S=52,item:o,slotKey:x,location:t,icon:e,stock:u,disabled:s,...a})=>{var Y;const{hero:n}=$n(),[i,r]=dt.useState(r4),[f,l]=dt.useState(!1),[h,c]=dt.useState(!1),[v,d]=dt.useState({x:0,y:0}),[m,y]=dt.useState(null),T=dt.useRef(null),{dropItem:C,consumeItem:R}=s4({item:o,location:t,slotKey:x}),A=o&&!s,P=H=>{d({x:H.clientX-T.current.offsetWidth/2,y:H.clientY-T.current.offsetHeight/2}),l(!0),y(document.elementFromPoint(H.clientX,H.clientY))},O=H=>{H.stopPropagation(),d({x:H.touches[0].clientX-T.current.offsetWidth/2,y:H.touches[0].clientY-T.current.offsetHeight/2}),l(!0),setTimeout(()=>y(document.elementFromPoint(H.touches[0].clientX,H.touches[0].clientY)),1)},b=H=>{f&&(d({x:H.clientX-T.current.offsetWidth/2,y:H.clientY-T.current.offsetHeight/2}),y(document.elementFromPoint(H.clientX,H.clientY)))},D=H=>{f&&(d({x:H.touches[0].clientX-T.current.offsetWidth/2,y:H.touches[0].clientY-T.current.offsetHeight/2}),y(document.elementFromPoint(H.touches[0].clientX,H.touches[0].clientY)))},N=H=>{if(!f)return;const j=document.elementFromPoint(H.clientX,H.clientY);y(j),C(j),l(!1)},B=H=>{if(!f)return;H.stopPropagation();const j=document.elementFromPoint(H.changedTouches[0].clientX,H.changedTouches[0].clientY);y(j),C(j),l(!1)},U=H=>{c(!0)},G=H=>{c(!1)};dt.useLayoutEffect(()=>{if(!o)return;const H=hM(o,n);if(!H)return;const j=document.createElement("canvas"),Z=j.getContext("2d");Z.imageSmoothingEnabled=!1;const k=new Image;k.onload=()=>{const[nt,rt,ht,vt]=H.previewRect;j.width=ht,j.height=vt,Z.drawImage(k,nt,rt,ht,vt,0,0,ht,vt);const ot=_U(j),Et=cM(ot,o==null?void 0:o.tint);r(Et.toDataURL("image/png"))},k.src=H.src},[o]),dt.useLayoutEffect(()=>{if(A)return document.addEventListener("touchend",B),document.addEventListener("mouseup",N),document.addEventListener("mousemove",b),document.addEventListener("touchmove",D),()=>{document.removeEventListener("touchend",B),document.removeEventListener("mouseup",N),document.removeEventListener("mousemove",b),document.removeEventListener("touchmove",D)}},[f,o]),dt.useLayoutEffect(()=>{(m==null?void 0:m.nodeName)=="CANVAS"&&window.dispatchEvent(new CustomEvent("ITEM_DRAG",{detail:v}))},[v]);const W={onMouseEnter:U,onMouseLeave:G},$=e4(A?()=>{R()}:null),q=A?{onMouseDown:P,onTouchStart:O}:{},_={"data-location":t,"data-slot-key":x},V=((Y=m==null?void 0:m.dataset)==null?void 0:Y.tooltipId)!==(o==null?void 0:o.id),w=f&&(m==null?void 0:m.closest(".menu-keeper"))&&t!=="shop",z=f&&!V||h&&!po||h&&!po&&s;return xt.jsxDEV(hi,{"data-tooltip-id":o==null?void 0:o.id,sx:{touchAction:"none",userSelect:"none",border:H=>`1px solid ${H.colors.shadow[50]}`,borderRadius:2,pointerEvents:"all",overflow:f?"visible":"hidden",width:S,height:S,top:0,left:0,...o!=null&&o.rarity?n4(o==null?void 0:o.rarity):i4(e),...E},...$,..._,...W,...a,children:o&&xt.jsxDEV(xt.Fragment,{children:[(o==null?void 0:o.amount)>1&&xt.jsxDEV(hi,{sx:{position:"absolute",mt:"1px",ml:"2px",fontSize:0,zIndex:2},children:o==null?void 0:o.amount},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Slot.tsx",lineNumber:229,columnNumber:15},globalThis),xt.jsxDEV(xa,{ref:T,icon:w?"../assets/icons/gold.png":i,size:S,sx:{touchAction:"none",userSelect:"none",pointerEvents:f?"none":"all",zIndex:f?9999:1,position:f?"fixed":"static",left:f?v.x:0,top:f?v.y:0,cursor:f?"grabbing":"grab",transform:f?"scale(4,4)":"scale(2,2)",imageRendering:"pixelated"},...q,..._},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Slot.tsx",lineNumber:241,columnNumber:13},globalThis),xt.jsxDEV(k4,{item:o,show:z},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Slot.tsx",lineNumber:260,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/Slot.tsx",lineNumber:227,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Slot.tsx",lineNumber:205,columnNumber:7},globalThis)},(E,S)=>{const o=E.item,x=S.item;return(o==null?void 0:o.id)===(x==null?void 0:x.id)&&(o==null?void 0:o.amount)===(x==null?void 0:x.amount)&&(o==null?void 0:o.stock)===(x==null?void 0:x.stock)});function s4({location:E,slotKey:S,item:o}){const{hero:x,socket:t,setDropItem:e}=$n();return{consumeItem:()=>{if(E==="inventory")return t.emit("consumeItem",{item:o,location:E})},dropItem:u=>{var n;if((n=x==null?void 0:x.state)!=null&&n.isDead)return;const{nodeName:s,dataset:a}=u??{};if(s=="CANVAS"&&E!=="shop")return(o==null?void 0:o.amount)>1?e({...o,location:E,action:"DROP"}):["set","rare","unique"].includes(o==null?void 0:o.rarity)?e({...o,location:E,action:"DROP_CONFIRM"}):t.emit("dropItem",{item:o,location:E});if(u!=null&&u.closest(".menu-keeper"))return(o==null?void 0:o.amount)>1?e({...o,location:E,action:"SHOP",slotKey:S}):["set","rare","unique"].includes(o==null?void 0:o.rarity)?e({...o,location:E,action:"SHOP_CONFIRM",slotKey:S}):t.emit("moveItem",{to:{location:"shop"},from:{slot:S,location:E}});if(a!=null&&a.slotKey&&(a==null?void 0:a.slotKey)!==S)return t.emit("moveItem",{to:{slot:a==null?void 0:a.slotKey,location:a==null?void 0:a.location},from:{slot:S,location:E}})}}}const a4={name:"Chet's Leisureware",pieces:3,stats:{vitality:10,intelligence:10},percentStats:{vitality:15,intelligence:15}},o4={name:"Hawkwing's Legs",pieces:2,stats:{dexterity:10,speed:10,dodgeChance:10},percentStats:{dexterity:15}},l4={name:"Timmy's Sofa Treasures",pieces:2,stats:{strength:10,speed:5,dodgeChance:5,critChance:5,critMultiplier:1},percentStats:{}},F0={chets:a4,hawkwings:o4,timmys:l4};var ax={},u4={get exports(){return ax},set exports(E){ax=E}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(E){(function(){var S={}.hasOwnProperty;function o(){for(var x=[],t=0;t<arguments.length;t++){var e=arguments[t];if(e){var u=typeof e;if(u==="string"||u==="number")x.push(e);else if(Array.isArray(e)){if(e.length){var s=o.apply(null,e);s&&x.push(s)}}else if(u==="object"){if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]")){x.push(e.toString());continue}for(var a in e)S.call(e,a)&&e[a]&&x.push(a)}}}return x.join(" ")}E.exports?(o.default=o,E.exports=o):window.classNames=o})()})(u4);const qC=ax;var pa={},h4={get exports(){return pa},set exports(E){pa=E}},Nd={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var E=dt,S=Symbol.for("react.element"),o=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),e=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),n=Symbol.for("react.suspense"),i=Symbol.for("react.suspense_list"),r=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),l=Symbol.for("react.offscreen"),h=Symbol.iterator,c="@@iterator";function v(it){if(it===null||typeof it!="object")return null;var yt=h&&it[h]||it[c];return typeof yt=="function"?yt:null}var d=E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function m(it){{for(var yt=arguments.length,Ot=new Array(yt>1?yt-1:0),Dt=1;Dt<yt;Dt++)Ot[Dt-1]=arguments[Dt];y("error",it,Ot)}}function y(it,yt,Ot){{var Dt=d.ReactDebugCurrentFrame,Wt=Dt.getStackAddendum();Wt!==""&&(yt+="%s",Ot=Ot.concat([Wt]));var de=Ot.map(function(te){return String(te)});de.unshift("Warning: "+yt),Function.prototype.apply.call(console[it],console,de)}}var T=!1,C=!1,R=!1,A=!1,P=!1,O;O=Symbol.for("react.module.reference");function b(it){return!!(typeof it=="string"||typeof it=="function"||it===x||it===e||P||it===t||it===n||it===i||A||it===l||T||C||R||typeof it=="object"&&it!==null&&(it.$$typeof===f||it.$$typeof===r||it.$$typeof===u||it.$$typeof===s||it.$$typeof===a||it.$$typeof===O||it.getModuleId!==void 0))}function D(it,yt,Ot){var Dt=it.displayName;if(Dt)return Dt;var Wt=yt.displayName||yt.name||"";return Wt!==""?Ot+"("+Wt+")":Ot}function N(it){return it.displayName||"Context"}function B(it){if(it==null)return null;if(typeof it.tag=="number"&&m("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof it=="function")return it.displayName||it.name||null;if(typeof it=="string")return it;switch(it){case x:return"Fragment";case o:return"Portal";case e:return"Profiler";case t:return"StrictMode";case n:return"Suspense";case i:return"SuspenseList"}if(typeof it=="object")switch(it.$$typeof){case s:var yt=it;return N(yt)+".Consumer";case u:var Ot=it;return N(Ot._context)+".Provider";case a:return D(it,it.render,"ForwardRef");case r:var Dt=it.displayName||null;return Dt!==null?Dt:B(it.type)||"Memo";case f:{var Wt=it,de=Wt._payload,te=Wt._init;try{return B(te(de))}catch{return null}}}return null}var U=Object.assign,G=0,W,$,q,_,V,w,z;function Y(){}Y.__reactDisabledLog=!0;function H(){{if(G===0){W=console.log,$=console.info,q=console.warn,_=console.error,V=console.group,w=console.groupCollapsed,z=console.groupEnd;var it={configurable:!0,enumerable:!0,value:Y,writable:!0};Object.defineProperties(console,{info:it,log:it,warn:it,error:it,group:it,groupCollapsed:it,groupEnd:it})}G++}}function j(){{if(G--,G===0){var it={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},it,{value:W}),info:U({},it,{value:$}),warn:U({},it,{value:q}),error:U({},it,{value:_}),group:U({},it,{value:V}),groupCollapsed:U({},it,{value:w}),groupEnd:U({},it,{value:z})})}G<0&&m("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Z=d.ReactCurrentDispatcher,k;function nt(it,yt,Ot){{if(k===void 0)try{throw Error()}catch(Wt){var Dt=Wt.stack.trim().match(/\n( *(at )?)/);k=Dt&&Dt[1]||""}return`
`+k+it}}var rt=!1,ht;{var vt=typeof WeakMap=="function"?WeakMap:Map;ht=new vt}function ot(it,yt){if(!it||rt)return"";{var Ot=ht.get(it);if(Ot!==void 0)return Ot}var Dt;rt=!0;var Wt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var de;de=Z.current,Z.current=null,H();try{if(yt){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(En){Dt=En}Reflect.construct(it,[],te)}else{try{te.call()}catch(En){Dt=En}it.call(te.prototype)}}else{try{throw Error()}catch(En){Dt=En}it()}}catch(En){if(En&&Dt&&typeof En.stack=="string"){for(var jt=En.stack.split(`
`),We=Dt.stack.split(`
`),je=jt.length-1,ti=We.length-1;je>=1&&ti>=0&&jt[je]!==We[ti];)ti--;for(;je>=1&&ti>=0;je--,ti--)if(jt[je]!==We[ti]){if(je!==1||ti!==1)do if(je--,ti--,ti<0||jt[je]!==We[ti]){var ai=`
`+jt[je].replace(" at new "," at ");return it.displayName&&ai.includes("<anonymous>")&&(ai=ai.replace("<anonymous>",it.displayName)),typeof it=="function"&&ht.set(it,ai),ai}while(je>=1&&ti>=0);break}}}finally{rt=!1,Z.current=de,j(),Error.prepareStackTrace=Wt}var Or=it?it.displayName||it.name:"",To=Or?nt(Or):"";return typeof it=="function"&&ht.set(it,To),To}function Et(it,yt,Ot){return ot(it,!1)}function Tt(it){var yt=it.prototype;return!!(yt&&yt.isReactComponent)}function Pt(it,yt,Ot){if(it==null)return"";if(typeof it=="function")return ot(it,Tt(it));if(typeof it=="string")return nt(it);switch(it){case n:return nt("Suspense");case i:return nt("SuspenseList")}if(typeof it=="object")switch(it.$$typeof){case a:return Et(it.render);case r:return Pt(it.type,yt,Ot);case f:{var Dt=it,Wt=Dt._payload,de=Dt._init;try{return Pt(de(Wt),yt,Ot)}catch{}}}return""}var Xt=Object.prototype.hasOwnProperty,zt={},Ut=d.ReactDebugCurrentFrame;function Mt(it){if(it){var yt=it._owner,Ot=Pt(it.type,it._source,yt?yt.type:null);Ut.setExtraStackFrame(Ot)}else Ut.setExtraStackFrame(null)}function ne(it,yt,Ot,Dt,Wt){{var de=Function.call.bind(Xt);for(var te in it)if(de(it,te)){var jt=void 0;try{if(typeof it[te]!="function"){var We=Error((Dt||"React class")+": "+Ot+" type `"+te+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof it[te]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw We.name="Invariant Violation",We}jt=it[te](yt,te,Dt,Ot,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(je){jt=je}jt&&!(jt instanceof Error)&&(Mt(Wt),m("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Dt||"React class",Ot,te,typeof jt),Mt(null)),jt instanceof Error&&!(jt.message in zt)&&(zt[jt.message]=!0,Mt(Wt),m("Failed %s type: %s",Ot,jt.message),Mt(null))}}}var Vt=Array.isArray;function Zt(it){return Vt(it)}function ye(it){{var yt=typeof Symbol=="function"&&Symbol.toStringTag,Ot=yt&&it[Symbol.toStringTag]||it.constructor.name||"Object";return Ot}}function Se(it){try{return Bt(it),!1}catch{return!0}}function Bt(it){return""+it}function _t(it){if(Se(it))return m("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ye(it)),Bt(it)}var ie=d.ReactCurrentOwner,Re={key:!0,ref:!0,__self:!0,__source:!0},Me,Gt,At;At={};function wt(it){if(Xt.call(it,"ref")){var yt=Object.getOwnPropertyDescriptor(it,"ref").get;if(yt&&yt.isReactWarning)return!1}return it.ref!==void 0}function se(it){if(Xt.call(it,"key")){var yt=Object.getOwnPropertyDescriptor(it,"key").get;if(yt&&yt.isReactWarning)return!1}return it.key!==void 0}function ae(it,yt){if(typeof it.ref=="string"&&ie.current&&yt&&ie.current.stateNode!==yt){var Ot=B(ie.current.type);At[Ot]||(m('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',B(ie.current.type),it.ref),At[Ot]=!0)}}function le(it,yt){{var Ot=function(){Me||(Me=!0,m("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",yt))};Ot.isReactWarning=!0,Object.defineProperty(it,"key",{get:Ot,configurable:!0})}}function Ee(it,yt){{var Ot=function(){Gt||(Gt=!0,m("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",yt))};Ot.isReactWarning=!0,Object.defineProperty(it,"ref",{get:Ot,configurable:!0})}}var Ae=function(it,yt,Ot,Dt,Wt,de,te){var jt={$$typeof:S,type:it,key:yt,ref:Ot,props:te,_owner:de};return jt._store={},Object.defineProperty(jt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(jt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Dt}),Object.defineProperty(jt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Wt}),Object.freeze&&(Object.freeze(jt.props),Object.freeze(jt)),jt};function Ti(it,yt,Ot,Dt,Wt){{var de,te={},jt=null,We=null;Ot!==void 0&&(_t(Ot),jt=""+Ot),se(yt)&&(_t(yt.key),jt=""+yt.key),wt(yt)&&(We=yt.ref,ae(yt,Wt));for(de in yt)Xt.call(yt,de)&&!Re.hasOwnProperty(de)&&(te[de]=yt[de]);if(it&&it.defaultProps){var je=it.defaultProps;for(de in je)te[de]===void 0&&(te[de]=je[de])}if(jt||We){var ti=typeof it=="function"?it.displayName||it.name||"Unknown":it;jt&&le(te,ti),We&&Ee(te,ti)}return Ae(it,jt,We,Wt,Dt,ie.current,te)}}var we=d.ReactCurrentOwner,Si=d.ReactDebugCurrentFrame;function Ue(it){if(it){var yt=it._owner,Ot=Pt(it.type,it._source,yt?yt.type:null);Si.setExtraStackFrame(Ot)}else Si.setExtraStackFrame(null)}var He;He=!1;function Tn(it){return typeof it=="object"&&it!==null&&it.$$typeof===S}function Sn(){{if(we.current){var it=B(we.current.type);if(it)return`

Check the render method of \``+it+"`."}return""}}function is(it){{if(it!==void 0){var yt=it.fileName.replace(/^.*[\\\/]/,""),Ot=it.lineNumber;return`

Check your code at `+yt+":"+Ot+"."}return""}}var ns={};function Aa(it){{var yt=Sn();if(!yt){var Ot=typeof it=="string"?it:it.displayName||it.name;Ot&&(yt=`

Check the top-level render call using <`+Ot+">.")}return yt}}function Mr(it,yt){{if(!it._store||it._store.validated||it.key!=null)return;it._store.validated=!0;var Ot=Aa(yt);if(ns[Ot])return;ns[Ot]=!0;var Dt="";it&&it._owner&&it._owner!==we.current&&(Dt=" It was passed a child from "+B(it._owner.type)+"."),Ue(it),m('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Ot,Dt),Ue(null)}}function Pr(it,yt){{if(typeof it!="object")return;if(Zt(it))for(var Ot=0;Ot<it.length;Ot++){var Dt=it[Ot];Tn(Dt)&&Mr(Dt,yt)}else if(Tn(it))it._store&&(it._store.validated=!0);else if(it){var Wt=v(it);if(typeof Wt=="function"&&Wt!==it.entries)for(var de=Wt.call(it),te;!(te=de.next()).done;)Tn(te.value)&&Mr(te.value,yt)}}}function ar(it){{var yt=it.type;if(yt==null||typeof yt=="string")return;var Ot;if(typeof yt=="function")Ot=yt.propTypes;else if(typeof yt=="object"&&(yt.$$typeof===a||yt.$$typeof===r))Ot=yt.propTypes;else return;if(Ot){var Dt=B(yt);ne(Ot,it.props,"prop",Dt,it)}else if(yt.PropTypes!==void 0&&!He){He=!0;var Wt=B(yt);m("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Wt||"Unknown")}typeof yt.getDefaultProps=="function"&&!yt.getDefaultProps.isReactClassApproved&&m("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Lr(it){{for(var yt=Object.keys(it.props),Ot=0;Ot<yt.length;Ot++){var Dt=yt[Ot];if(Dt!=="children"&&Dt!=="key"){Ue(it),m("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Dt),Ue(null);break}}it.ref!==null&&(Ue(it),m("Invalid attribute `ref` supplied to `React.Fragment`."),Ue(null))}}function or(it,yt,Ot,Dt,Wt,de){{var te=b(it);if(!te){var jt="";(it===void 0||typeof it=="object"&&it!==null&&Object.keys(it).length===0)&&(jt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var We=is(Wt);We?jt+=We:jt+=Sn();var je;it===null?je="null":Zt(it)?je="array":it!==void 0&&it.$$typeof===S?(je="<"+(B(it.type)||"Unknown")+" />",jt=" Did you accidentally export a JSX literal instead of a component?"):je=typeof it,m("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",je,jt)}var ti=Ti(it,yt,Ot,Wt,de);if(ti==null)return ti;if(te){var ai=yt.children;if(ai!==void 0)if(Dt)if(Zt(ai)){for(var Or=0;Or<ai.length;Or++)Pr(ai[Or],it);Object.freeze&&Object.freeze(ai)}else m("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Pr(ai,it)}return it===x?Lr(ti):ar(ti),ti}}function Zn(it,yt,Ot){return or(it,yt,Ot,!0)}function at(it,yt,Ot){return or(it,yt,Ot,!1)}var bt=at,Ht=Zn;Nd.Fragment=x,Nd.jsx=bt,Nd.jsxs=Ht})();(function(E){E.exports=Nd})(h4);function qh(E){return E.split("-")[1]}function Kx(E){return E==="y"?"height":"width"}function mo(E){return E.split("-")[0]}function _h(E){return["top","bottom"].includes(mo(E))?"x":"y"}function _C(E,S,o){let{reference:x,floating:t}=E;const e=x.x+x.width/2-t.width/2,u=x.y+x.height/2-t.height/2,s=_h(S),a=Kx(s),n=x[a]/2-t[a]/2,i=mo(S),r=s==="x";let f;switch(i){case"top":f={x:e,y:x.y-t.height};break;case"bottom":f={x:e,y:x.y+x.height};break;case"right":f={x:x.x+x.width,y:u};break;case"left":f={x:x.x-t.width,y:u};break;default:f={x:x.x,y:x.y}}switch(qh(S)){case"start":f[s]-=n*(o&&r?-1:1);break;case"end":f[s]+=n*(o&&r?-1:1);break}return f}const f4=async(E,S,o)=>{const{placement:x="bottom",strategy:t="absolute",middleware:e=[],platform:u}=o,s=e.filter(Boolean),a=await(u.isRTL==null?void 0:u.isRTL(S));let n=await u.getElementRects({reference:E,floating:S,strategy:t}),{x:i,y:r}=_C(n,x,a),f=x,l={},h=0;for(let c=0;c<s.length;c++){const{name:v,fn:d}=s[c],{x:m,y,data:T,reset:C}=await d({x:i,y:r,initialPlacement:x,placement:f,strategy:t,middlewareData:l,rects:n,platform:u,elements:{reference:E,floating:S}});if(i=m??i,r=y??r,l={...l,[v]:{...l[v],...T}},C&&h<=50){h++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(n=C.rects===!0?await u.getElementRects({reference:E,floating:S,strategy:t}):C.rects),{x:i,y:r}=_C(n,f,a)),c=-1;continue}}return{x:i,y:r,placement:f,strategy:t,middlewareData:l}};function c4(E){return{top:0,right:0,bottom:0,left:0,...E}}function vM(E){return typeof E!="number"?c4(E):{top:E,right:E,bottom:E,left:E}}function Hd(E){return{...E,top:E.y,left:E.x,right:E.x+E.width,bottom:E.y+E.height}}async function pM(E,S){var o;S===void 0&&(S={});const{x,y:t,platform:e,rects:u,elements:s,strategy:a}=E,{boundary:n="clippingAncestors",rootBoundary:i="viewport",elementContext:r="floating",altBoundary:f=!1,padding:l=0}=S,h=vM(l),v=s[f?r==="floating"?"reference":"floating":r],d=Hd(await e.getClippingRect({element:(o=await(e.isElement==null?void 0:e.isElement(v)))==null||o?v:v.contextElement||await(e.getDocumentElement==null?void 0:e.getDocumentElement(s.floating)),boundary:n,rootBoundary:i,strategy:a})),m=r==="floating"?{...u.floating,x,y:t}:u.reference,y=await(e.getOffsetParent==null?void 0:e.getOffsetParent(s.floating)),T=await(e.isElement==null?void 0:e.isElement(y))?await(e.getScale==null?void 0:e.getScale(y))||{x:1,y:1}:{x:1,y:1},C=Hd(e.convertOffsetParentRelativeRectToViewportRelativeRect?await e.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m,offsetParent:y,strategy:a}):m);return{top:(d.top-C.top+h.top)/T.y,bottom:(C.bottom-d.bottom+h.bottom)/T.y,left:(d.left-C.left+h.left)/T.x,right:(C.right-d.right+h.right)/T.x}}const d4=Math.min,v4=Math.max;function ox(E,S,o){return v4(E,d4(S,o))}const p4=E=>({name:"arrow",options:E,async fn(S){const{element:o,padding:x=0}=E||{},{x:t,y:e,placement:u,rects:s,platform:a,elements:n}=S;if(o==null)return{};const i=vM(x),r={x:t,y:e},f=_h(u),l=Kx(f),h=await a.getDimensions(o),c=f==="y",v=c?"top":"left",d=c?"bottom":"right",m=c?"clientHeight":"clientWidth",y=s.reference[l]+s.reference[f]-r[f]-s.floating[l],T=r[f]-s.reference[f],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o));let R=C?C[m]:0;(!R||!await(a.isElement==null?void 0:a.isElement(C)))&&(R=n.floating[m]||s.floating[l]);const A=y/2-T/2,P=i[v],O=R-h[l]-i[d],b=R/2-h[l]/2+A,D=ox(P,b,O),B=qh(u)!=null&&b!=D&&s.reference[l]/2-(b<P?i[v]:i[d])-h[l]/2<0?b<P?P-b:O-b:0;return{[f]:r[f]-B,data:{[f]:D,centerOffset:b-D}}}}),m4={left:"right",right:"left",bottom:"top",top:"bottom"};function Wd(E){return E.replace(/left|right|bottom|top/g,S=>m4[S])}function g4(E,S,o){o===void 0&&(o=!1);const x=qh(E),t=_h(E),e=Kx(t);let u=t==="x"?x===(o?"end":"start")?"right":"left":x==="start"?"bottom":"top";return S.reference[e]>S.floating[e]&&(u=Wd(u)),{main:u,cross:Wd(u)}}const x4={start:"end",end:"start"};function lx(E){return E.replace(/start|end/g,S=>x4[S])}function y4(E){const S=Wd(E);return[lx(E),S,lx(S)]}function T4(E,S,o){const x=["left","right"],t=["right","left"],e=["top","bottom"],u=["bottom","top"];switch(E){case"top":case"bottom":return o?S?t:x:S?x:t;case"left":case"right":return S?e:u;default:return[]}}function S4(E,S,o,x){const t=qh(E);let e=T4(mo(E),o==="start",x);return t&&(e=e.map(u=>u+"-"+t),S&&(e=e.concat(e.map(lx)))),e}const E4=function(E){return E===void 0&&(E={}),{name:"flip",options:E,async fn(S){var o;const{placement:x,middlewareData:t,rects:e,initialPlacement:u,platform:s,elements:a}=S,{mainAxis:n=!0,crossAxis:i=!0,fallbackPlacements:r,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:l="none",flipAlignment:h=!0,...c}=E,v=mo(x),d=mo(u)===u,m=await(s.isRTL==null?void 0:s.isRTL(a.floating)),y=r||(d||!h?[Wd(u)]:y4(u));!r&&l!=="none"&&y.push(...S4(u,h,l,m));const T=[u,...y],C=await pM(S,c),R=[];let A=((o=t.flip)==null?void 0:o.overflows)||[];if(n&&R.push(C[v]),i){const{main:D,cross:N}=g4(x,e,m);R.push(C[D],C[N])}if(A=[...A,{placement:x,overflows:R}],!R.every(D=>D<=0)){var P,O;const D=(((P=t.flip)==null?void 0:P.index)||0)+1,N=T[D];if(N)return{data:{index:D,overflows:A},reset:{placement:N}};let B=(O=A.filter(U=>U.overflows[0]<=0).sort((U,G)=>U.overflows[1]-G.overflows[1])[0])==null?void 0:O.placement;if(!B)switch(f){case"bestFit":{var b;const U=(b=A.map(G=>[G.placement,G.overflows.filter(W=>W>0).reduce((W,$)=>W+$,0)]).sort((G,W)=>G[1]-W[1])[0])==null?void 0:b[0];U&&(B=U);break}case"initialPlacement":B=u;break}if(x!==B)return{reset:{placement:B}}}return{}}}};async function C4(E,S){const{placement:o,platform:x,elements:t}=E,e=await(x.isRTL==null?void 0:x.isRTL(t.floating)),u=mo(o),s=qh(o),a=_h(o)==="x",n=["left","top"].includes(u)?-1:1,i=e&&a?-1:1,r=typeof S=="function"?S(E):S;let{mainAxis:f,crossAxis:l,alignmentAxis:h}=typeof r=="number"?{mainAxis:r,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...r};return s&&typeof h=="number"&&(l=s==="end"?h*-1:h),a?{x:l*i,y:f*n}:{x:f*n,y:l*i}}const R4=function(E){return E===void 0&&(E=0),{name:"offset",options:E,async fn(S){const{x:o,y:x}=S,t=await C4(S,E);return{x:o+t.x,y:x+t.y,data:t}}}};function A4(E){return E==="x"?"y":"x"}const M4=function(E){return E===void 0&&(E={}),{name:"shift",options:E,async fn(S){const{x:o,y:x,placement:t}=S,{mainAxis:e=!0,crossAxis:u=!1,limiter:s={fn:v=>{let{x:d,y:m}=v;return{x:d,y:m}}},...a}=E,n={x:o,y:x},i=await pM(S,a),r=_h(mo(t)),f=A4(r);let l=n[r],h=n[f];if(e){const v=r==="y"?"top":"left",d=r==="y"?"bottom":"right",m=l+i[v],y=l-i[d];l=ox(m,l,y)}if(u){const v=f==="y"?"top":"left",d=f==="y"?"bottom":"right",m=h+i[v],y=h-i[d];h=ox(m,h,y)}const c=s.fn({...S,[r]:l,[f]:h});return{...c,data:{x:c.x-o,y:c.y-x}}}}};function Wn(E){var S;return((S=E.ownerDocument)==null?void 0:S.defaultView)||window}function _r(E){return Wn(E).getComputedStyle(E)}function mM(E){return E instanceof Wn(E).Node}function ya(E){return mM(E)?(E.nodeName||"").toLowerCase():""}let Ed;function gM(){if(Ed)return Ed;const E=navigator.userAgentData;return E&&Array.isArray(E.brands)?(Ed=E.brands.map(S=>S.brand+"/"+S.version).join(" "),Ed):navigator.userAgent}function Ar(E){return E instanceof Wn(E).HTMLElement}function Ta(E){return E instanceof Wn(E).Element}function tR(E){if(typeof ShadowRoot>"u")return!1;const S=Wn(E).ShadowRoot;return E instanceof S||E instanceof ShadowRoot}function av(E){const{overflow:S,overflowX:o,overflowY:x,display:t}=_r(E);return/auto|scroll|overlay|hidden|clip/.test(S+x+o)&&!["inline","contents"].includes(t)}function P4(E){return["table","td","th"].includes(ya(E))}function $x(E){const S=/firefox/i.test(gM()),o=_r(E),x=o.backdropFilter||o.WebkitBackdropFilter;return o.transform!=="none"||o.perspective!=="none"||(x?x!=="none":!1)||S&&o.willChange==="filter"||S&&(o.filter?o.filter!=="none":!1)||["transform","perspective"].some(t=>o.willChange.includes(t))||["paint","layout","strict","content"].some(t=>{const e=o.contain;return e!=null?e.includes(t):!1})}function Zx(){return/^((?!chrome|android).)*safari/i.test(gM())}function Qx(E){return["html","body","#document"].includes(ya(E))}const eR=Math.min,bh=Math.max,jd=Math.round;function xM(E){const S=_r(E);let o=parseFloat(S.width),x=parseFloat(S.height);const t=Ar(E),e=t?E.offsetWidth:o,u=t?E.offsetHeight:x,s=jd(o)!==e||jd(x)!==u;return s&&(o=e,x=u),{width:o,height:x,fallback:s}}function yM(E){return Ta(E)?E:E.contextElement}const TM={x:1,y:1};function Pl(E){const S=yM(E);if(!Ar(S))return TM;const o=S.getBoundingClientRect(),{width:x,height:t,fallback:e}=xM(S);let u=(e?jd(o.width):o.width)/x,s=(e?jd(o.height):o.height)/t;return(!u||!Number.isFinite(u))&&(u=1),(!s||!Number.isFinite(s))&&(s=1),{x:u,y:s}}function Wh(E,S,o,x){var t,e;S===void 0&&(S=!1),o===void 0&&(o=!1);const u=E.getBoundingClientRect(),s=yM(E);let a=TM;S&&(x?Ta(x)&&(a=Pl(x)):a=Pl(E));const n=s?Wn(s):window,i=Zx()&&o;let r=(u.left+(i&&((t=n.visualViewport)==null?void 0:t.offsetLeft)||0))/a.x,f=(u.top+(i&&((e=n.visualViewport)==null?void 0:e.offsetTop)||0))/a.y,l=u.width/a.x,h=u.height/a.y;if(s){const c=Wn(s),v=x&&Ta(x)?Wn(x):x;let d=c.frameElement;for(;d&&x&&v!==c;){const m=Pl(d),y=d.getBoundingClientRect(),T=getComputedStyle(d);y.x+=(d.clientLeft+parseFloat(T.paddingLeft))*m.x,y.y+=(d.clientTop+parseFloat(T.paddingTop))*m.y,r*=m.x,f*=m.y,l*=m.x,h*=m.y,r+=y.x,f+=y.y,d=Wn(d).frameElement}}return Hd({width:l,height:h,x:r,y:f})}function Ca(E){return((mM(E)?E.ownerDocument:E.document)||window.document).documentElement}function ov(E){return Ta(E)?{scrollLeft:E.scrollLeft,scrollTop:E.scrollTop}:{scrollLeft:E.pageXOffset,scrollTop:E.pageYOffset}}function L4(E){let{rect:S,offsetParent:o,strategy:x}=E;const t=Ar(o),e=Ca(o);if(o===e)return S;let u={scrollLeft:0,scrollTop:0},s={x:1,y:1};const a={x:0,y:0};if((t||!t&&x!=="fixed")&&((ya(o)!=="body"||av(e))&&(u=ov(o)),Ar(o))){const n=Wh(o);s=Pl(o),a.x=n.x+o.clientLeft,a.y=n.y+o.clientTop}return{width:S.width*s.x,height:S.height*s.y,x:S.x*s.x-u.scrollLeft*s.x+a.x,y:S.y*s.y-u.scrollTop*s.y+a.y}}function SM(E){return Wh(Ca(E)).left+ov(E).scrollLeft}function O4(E){const S=Ca(E),o=ov(E),x=E.ownerDocument.body,t=bh(S.scrollWidth,S.clientWidth,x.scrollWidth,x.clientWidth),e=bh(S.scrollHeight,S.clientHeight,x.scrollHeight,x.clientHeight);let u=-o.scrollLeft+SM(E);const s=-o.scrollTop;return _r(x).direction==="rtl"&&(u+=bh(S.clientWidth,x.clientWidth)-t),{width:t,height:e,x:u,y:s}}function jh(E){if(ya(E)==="html")return E;const S=E.assignedSlot||E.parentNode||tR(E)&&E.host||Ca(E);return tR(S)?S.host:S}function EM(E){const S=jh(E);return Qx(S)?S.ownerDocument.body:Ar(S)&&av(S)?S:EM(S)}function CM(E,S){var o;S===void 0&&(S=[]);const x=EM(E),t=x===((o=E.ownerDocument)==null?void 0:o.body),e=Wn(x);return t?S.concat(e,e.visualViewport||[],av(x)?x:[]):S.concat(x,CM(x))}function D4(E,S){const o=Wn(E),x=Ca(E),t=o.visualViewport;let e=x.clientWidth,u=x.clientHeight,s=0,a=0;if(t){e=t.width,u=t.height;const n=Zx();(!n||n&&S==="fixed")&&(s=t.offsetLeft,a=t.offsetTop)}return{width:e,height:u,x:s,y:a}}function F4(E,S){const o=Wh(E,!0,S==="fixed"),x=o.top+E.clientTop,t=o.left+E.clientLeft,e=Ar(E)?Pl(E):{x:1,y:1},u=E.clientWidth*e.x,s=E.clientHeight*e.y,a=t*e.x,n=x*e.y;return{width:u,height:s,x:a,y:n}}function iR(E,S,o){let x;if(S==="viewport")x=D4(E,o);else if(S==="document")x=O4(Ca(E));else if(Ta(S))x=F4(S,o);else{const u={...S};if(Zx()){var t,e;const s=Wn(E);u.x-=((t=s.visualViewport)==null?void 0:t.offsetLeft)||0,u.y-=((e=s.visualViewport)==null?void 0:e.offsetTop)||0}x=u}return Hd(x)}function b4(E,S){const o=S.get(E);if(o)return o;let x=CM(E).filter(s=>Ta(s)&&ya(s)!=="body"),t=null;const e=_r(E).position==="fixed";let u=e?jh(E):E;for(;Ta(u)&&!Qx(u);){const s=_r(u),a=$x(u);s.position==="fixed"?t=null:(e?!a&&!t:!a&&s.position==="static"&&!!t&&["absolute","fixed"].includes(t.position))?x=x.filter(r=>r!==u):t=s,u=jh(u)}return S.set(E,x),x}function N4(E){let{element:S,boundary:o,rootBoundary:x,strategy:t}=E;const u=[...o==="clippingAncestors"?b4(S,this._c):[].concat(o),x],s=u[0],a=u.reduce((n,i)=>{const r=iR(S,i,t);return n.top=bh(r.top,n.top),n.right=eR(r.right,n.right),n.bottom=eR(r.bottom,n.bottom),n.left=bh(r.left,n.left),n},iR(S,s,t));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function w4(E){return xM(E)}function nR(E,S){return!Ar(E)||_r(E).position==="fixed"?null:S?S(E):E.offsetParent}function B4(E){let S=jh(E);for(;Ar(S)&&!Qx(S);){if($x(S))return S;S=jh(S)}return null}function rR(E,S){const o=Wn(E);if(!Ar(E))return o;let x=nR(E,S);for(;x&&P4(x)&&_r(x).position==="static";)x=nR(x,S);return x&&(ya(x)==="html"||ya(x)==="body"&&_r(x).position==="static"&&!$x(x))?o:x||B4(E)||o}function I4(E,S,o){const x=Ar(S),t=Ca(S),e=Wh(E,!0,o==="fixed",S);let u={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(x||!x&&o!=="fixed")if((ya(S)!=="body"||av(t))&&(u=ov(S)),Ar(S)){const a=Wh(S,!0);s.x=a.x+S.clientLeft,s.y=a.y+S.clientTop}else t&&(s.x=SM(t));return{x:e.left+u.scrollLeft-s.x,y:e.top+u.scrollTop-s.y,width:e.width,height:e.height}}const U4={getClippingRect:N4,convertOffsetParentRelativeRectToViewportRelativeRect:L4,isElement:Ta,getDimensions:w4,getOffsetParent:rR,getDocumentElement:Ca,getScale:Pl,async getElementRects(E){let{reference:S,floating:o,strategy:x}=E;const t=this.getOffsetParent||rR,e=this.getDimensions;return{reference:I4(S,await t(o),x),floating:{x:0,y:0,...await e(o)}}},getClientRects:E=>Array.from(E.getClientRects()),isRTL:E=>_r(E).direction==="rtl"},sR=(E,S,o)=>{const x=new Map,t={platform:U4,...o},e={...t.platform,_c:x};return f4(E,S,{...t,platform:e})};var V4=(E,S,o)=>{let x=null;return function(...t){let e=()=>{x=null,o||E.apply(this,t)};x&&clearTimeout(x),x=setTimeout(e,S)}},aR=V4,G4="DEFAULT_TOOLTIP_ID",z4={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Y4={getTooltipData:()=>z4},X4=dt.createContext(Y4);function RM(E=G4){return dt.useContext(X4).getTooltipData(E)}var H4=typeof window<"u"?dt.useLayoutEffect:dt.useEffect,W4=H4,oR=async({elementReference:E=null,tooltipReference:S=null,tooltipArrowReference:o=null,place:x="top",offset:t=10,strategy:e="absolute",middlewares:u=[R4(Number(t)),E4(),M4({padding:5})]})=>{if(!E)return{tooltipStyles:{},tooltipArrowStyles:{},place:x};if(S===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:x};let s=u;return o?(s.push(p4({element:o,padding:5})),sR(E,S,{placement:x,strategy:e,middleware:s}).then(({x:a,y:n,placement:i,middlewareData:r})=>{var f,l;let h={left:`${a}px`,top:`${n}px`},{x:c,y:v}=(f=r.arrow)!=null?f:{x:0,y:0},d=(l={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]])!=null?l:"bottom",m={left:c!=null?`${c}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",[d]:"-4px"};return{tooltipStyles:h,tooltipArrowStyles:m,place:i}})):sR(E,S,{placement:"bottom",strategy:e,middleware:s}).then(({x:a,y:n,placement:i})=>({tooltipStyles:{left:`${a}px`,top:`${n}px`},tooltipArrowStyles:{},place:i}))},ao={arrow:"react-tooltip__arrow_KtSkBq",clickable:"react-tooltip__clickable_KtSkBq",dark:"react-tooltip__dark_KtSkBq",error:"react-tooltip__error_KtSkBq",fixed:"react-tooltip__fixed_KtSkBq",info:"react-tooltip__info_KtSkBq",light:"react-tooltip__light_KtSkBq",noArrow:"react-tooltip__no-arrow_KtSkBq",show:"react-tooltip__show_KtSkBq",success:"react-tooltip__success_KtSkBq",tooltip:"react-tooltip__tooltip_KtSkBq",warning:"react-tooltip__warning_KtSkBq"},j4=({id:E,className:S,classNameArrow:o,variant:x="dark",anchorId:t,anchorSelect:e,place:u="top",offset:s=10,events:a=["hover"],openOnClick:n=!1,positionStrategy:i="absolute",middlewares:r,wrapper:f,delayShow:l=0,delayHide:h=0,float:c=!1,noArrow:v=!1,clickable:d=!1,closeOnEsc:m=!1,style:y,position:T,afterShow:C,afterHide:R,content:A,contentWrapperRef:P,isOpen:O,setIsOpen:b,activeAnchor:D,setActiveAnchor:N})=>{let B=dt.useRef(null),U=dt.useRef(null),G=dt.useRef(null),W=dt.useRef(null),[$,q]=dt.useState(u),[_,V]=dt.useState({}),[w,z]=dt.useState({}),[Y,H]=dt.useState(!1),[j,Z]=dt.useState(!1),k=dt.useRef(!1),nt=dt.useRef(null),{anchorRefs:rt,setActiveAnchor:ht}=RM(E),vt=dt.useRef(!1),[ot,Et]=dt.useState([]),Tt=dt.useRef(!1),Pt=n||a.includes("click");W4(()=>(Tt.current=!0,()=>{Tt.current=!1}),[]),dt.useEffect(()=>{if(!Y){let Gt=setTimeout(()=>{Z(!1)},150);return()=>{clearTimeout(Gt)}}return()=>null},[Y]);let Xt=Gt=>{Tt.current&&(Gt&&Z(!0),setTimeout(()=>{Tt.current&&(b==null||b(Gt),O===void 0&&H(Gt))},10))};dt.useEffect(()=>{if(O===void 0)return()=>null;O&&Z(!0);let Gt=setTimeout(()=>{H(O)},10);return()=>{clearTimeout(Gt)}},[O]),dt.useEffect(()=>{Y!==k.current&&(k.current=Y,Y?C==null||C():R==null||R())},[Y]);let zt=()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{Xt(!0)},l)},Ut=(Gt=h)=>{W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{vt.current||Xt(!1)},Gt)},Mt=Gt=>{var At;if(!Gt)return;l?zt():Xt(!0);let wt=(At=Gt.currentTarget)!=null?At:Gt.target;N(wt),ht({current:wt}),W.current&&clearTimeout(W.current)},ne=()=>{d?Ut(h||100):h?Ut():Xt(!1),G.current&&clearTimeout(G.current)},Vt=({x:Gt,y:At})=>{oR({place:u,offset:s,elementReference:{getBoundingClientRect(){return{x:Gt,y:At,width:0,height:0,top:At,left:Gt,right:Gt,bottom:At}}},tooltipReference:B.current,tooltipArrowReference:U.current,strategy:i,middlewares:r}).then(wt=>{Object.keys(wt.tooltipStyles).length&&V(wt.tooltipStyles),Object.keys(wt.tooltipArrowStyles).length&&z(wt.tooltipArrowStyles),q(wt.place)})},Zt=Gt=>{if(!Gt)return;let At=Gt,wt={x:At.clientX,y:At.clientY};Vt(wt),nt.current=wt},ye=Gt=>{Mt(Gt),h&&Ut()},Se=Gt=>{var At;[document.querySelector(`[id='${t}']`),...ot].some(wt=>wt==null?void 0:wt.contains(Gt.target))||(At=B.current)!=null&&At.contains(Gt.target)||Xt(!1)},Bt=Gt=>{Gt.key==="Escape"&&Xt(!1)},_t=aR(Mt,50),ie=aR(ne,50);dt.useEffect(()=>{var Gt,At;let wt=new Set(rt);ot.forEach(Ae=>{wt.add({current:Ae})});let se=document.querySelector(`[id='${t}']`);se&&wt.add({current:se}),m&&window.addEventListener("keydown",Bt);let ae=[];Pt?(window.addEventListener("click",Se),ae.push({event:"click",listener:ye})):(ae.push({event:"mouseenter",listener:_t},{event:"mouseleave",listener:ie},{event:"focus",listener:_t},{event:"blur",listener:ie}),c&&ae.push({event:"mousemove",listener:Zt}));let le=()=>{vt.current=!0},Ee=()=>{vt.current=!1,ne()};return d&&!Pt&&((Gt=B.current)==null||Gt.addEventListener("mouseenter",le),(At=B.current)==null||At.addEventListener("mouseleave",Ee)),ae.forEach(({event:Ae,listener:Ti})=>{wt.forEach(we=>{var Si;(Si=we.current)==null||Si.addEventListener(Ae,Ti)})}),()=>{var Ae,Ti;Pt&&window.removeEventListener("click",Se),m&&window.removeEventListener("keydown",Bt),d&&!Pt&&((Ae=B.current)==null||Ae.removeEventListener("mouseenter",le),(Ti=B.current)==null||Ti.removeEventListener("mouseleave",Ee)),ae.forEach(({event:we,listener:Si})=>{wt.forEach(Ue=>{var He;(He=Ue.current)==null||He.removeEventListener(we,Si)})})}},[j,rt,ot,m,a]),dt.useEffect(()=>{let Gt=e??"";!Gt&&E&&(Gt=`[data-tooltip-id='${E}']`);let At=se=>{let ae=[];se.forEach(le=>{if(le.type==="attributes"&&le.attributeName==="data-tooltip-id"&&le.target.getAttribute("data-tooltip-id")===E&&ae.push(le.target),le.type==="childList"&&(D&&[...le.removedNodes].some(Ee=>{var Ae;return(Ae=Ee==null?void 0:Ee.contains)!=null&&Ae.call(Ee,D)?(Z(!1),Xt(!1),N(null),!0):!1}),!!Gt))try{let Ee=[...le.addedNodes].filter(Ae=>Ae.nodeType===1);ae.push(...Ee.filter(Ae=>Ae.matches(Gt))),ae.push(...Ee.flatMap(Ae=>[...Ae.querySelectorAll(Gt)]))}catch{}}),ae.length&&Et(le=>[...le,...ae])},wt=new MutationObserver(At);return wt.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"]}),()=>{wt.disconnect()}},[E,e,D]);let Re=()=>{if(T){Vt(T);return}if(c){nt.current&&Vt(nt.current);return}oR({place:u,offset:s,elementReference:D,tooltipReference:B.current,tooltipArrowReference:U.current,strategy:i,middlewares:r}).then(Gt=>{Tt.current&&(Object.keys(Gt.tooltipStyles).length&&V(Gt.tooltipStyles),Object.keys(Gt.tooltipArrowStyles).length&&z(Gt.tooltipArrowStyles),q(Gt.place))})};dt.useEffect(()=>{Re()},[Y,D,A,y,u,s,i,T]),dt.useEffect(()=>{if(!(P!=null&&P.current))return()=>null;let Gt=new ResizeObserver(()=>{Re()});return Gt.observe(P.current),()=>{Gt.disconnect()}},[A,P==null?void 0:P.current]),dt.useEffect(()=>{var Gt;let At=document.querySelector(`[id='${t}']`),wt=[...ot,At];(!D||!wt.includes(D))&&N((Gt=ot[0])!=null?Gt:At)},[t,ot,D]),dt.useEffect(()=>()=>{G.current&&clearTimeout(G.current),W.current&&clearTimeout(W.current)},[]),dt.useEffect(()=>{let Gt=e;if(!Gt&&E&&(Gt=`[data-tooltip-id='${E}']`),!!Gt)try{let At=Array.from(document.querySelectorAll(Gt));Et(At)}catch{Et([])}},[E,e]);let Me=A&&Y&&Object.keys(_).length>0;return j?pa.jsxs(f,{id:E,role:"tooltip",className:qC("react-tooltip",ao.tooltip,ao[x],S,`react-tooltip__place-${$}`,{[ao.show]:Me,[ao.fixed]:i==="fixed",[ao.clickable]:d}),style:{...y,..._},ref:B,children:[A,pa.jsx(f,{className:qC("react-tooltip-arrow",ao.arrow,o,{[ao.noArrow]:v}),style:w,ref:U})]}):null},K4=j4,$4=({content:E})=>pa.jsx("span",{dangerouslySetInnerHTML:{__html:E}}),Z4=$4,Q4=({id:E,anchorId:S,anchorSelect:o,content:x,html:t,render:e,className:u,classNameArrow:s,variant:a="dark",place:n="top",offset:i=10,wrapper:r="div",children:f=null,events:l=["hover"],openOnClick:h=!1,positionStrategy:c="absolute",middlewares:v,delayShow:d=0,delayHide:m=0,float:y=!1,noArrow:T=!1,clickable:C=!1,closeOnEsc:R=!1,style:A,position:P,isOpen:O,setIsOpen:b,afterShow:D,afterHide:N})=>{let[B,U]=dt.useState(x),[G,W]=dt.useState(t),[$,q]=dt.useState(n),[_,V]=dt.useState(a),[w,z]=dt.useState(i),[Y,H]=dt.useState(d),[j,Z]=dt.useState(m),[k,nt]=dt.useState(y),[rt,ht]=dt.useState(r),[vt,ot]=dt.useState(l),[Et,Tt]=dt.useState(c),[Pt,Xt]=dt.useState(null),{anchorRefs:zt,activeAnchor:Ut}=RM(E),Mt=ye=>ye==null?void 0:ye.getAttributeNames().reduce((Se,Bt)=>{var _t;if(Bt.startsWith("data-tooltip-")){let ie=Bt.replace(/^data-tooltip-/,"");Se[ie]=(_t=ye==null?void 0:ye.getAttribute(Bt))!=null?_t:null}return Se},{}),ne=ye=>{let Se={place:Bt=>{q(Bt??n)},content:Bt=>{U(Bt??x)},html:Bt=>{W(Bt??t)},variant:Bt=>{V(Bt??a)},offset:Bt=>{z(Bt===null?i:Number(Bt))},wrapper:Bt=>{ht(Bt??r)},events:Bt=>{let _t=Bt==null?void 0:Bt.split(" ");ot(_t??l)},"position-strategy":Bt=>{Tt(Bt??c)},"delay-show":Bt=>{H(Bt===null?d:Number(Bt))},"delay-hide":Bt=>{Z(Bt===null?m:Number(Bt))},float:Bt=>{nt(Bt===null?y:Bt==="true")}};Object.values(Se).forEach(Bt=>Bt(null)),Object.entries(ye).forEach(([Bt,_t])=>{var ie;(ie=Se[Bt])==null||ie.call(Se,_t)})};dt.useEffect(()=>{U(x)},[x]),dt.useEffect(()=>{W(t)},[t]),dt.useEffect(()=>{q(n)},[n]),dt.useEffect(()=>{var ye;let Se=new Set(zt),Bt=o;if(!Bt&&E&&(Bt=`[data-tooltip-id='${E}']`),Bt)try{document.querySelectorAll(Bt).forEach(At=>{Se.add({current:At})})}catch{}let _t=document.querySelector(`[id='${S}']`);if(_t&&Se.add({current:_t}),!Se.size)return()=>null;let ie=(ye=Pt??_t)!=null?ye:Ut.current,Re=At=>{At.forEach(wt=>{var se;if(!ie||wt.type!=="attributes"||!((se=wt.attributeName)!=null&&se.startsWith("data-tooltip-")))return;let ae=Mt(ie);ne(ae)})},Me=new MutationObserver(Re),Gt={attributes:!0,childList:!1,subtree:!1};if(ie){let At=Mt(ie);ne(At),Me.observe(ie,Gt)}return()=>{Me.disconnect()}},[zt,Ut,Pt,S,o]);let Vt=f,Zt=dt.useRef(null);return e?Vt=pa.jsx("div",{ref:Zt,className:"react-tooltip-content-wrapper",children:e({content:B??null,activeAnchor:Pt})}):B&&(Vt=B),G&&(Vt=pa.jsx(Z4,{content:G})),pa.jsx(K4,{id:E,anchorId:S,anchorSelect:o,className:u,classNameArrow:s,content:Vt,contentWrapperRef:Zt,place:$,variant:_,offset:w,wrapper:rt,events:vt,openOnClick:h,positionStrategy:Et,middlewares:v,delayShow:Y,delayHide:j,float:k,noArrow:T,clickable:C,closeOnEsc:R,style:A,position:P,isOpen:O,setIsOpen:b,afterShow:D,afterHide:N,activeAnchor:Pt,setActiveAnchor:ye=>Xt(ye)})},AM=Q4;const Tl=E=>xt.jsxDEV(Ri,{sx:{fontWeight:"normal"},...E},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:6,columnNumber:26},globalThis),J4=({item:E,show:S})=>{var e,u,s;const{hero:o}=$n(),x=(s=(u=(e=o==null?void 0:o.state)==null?void 0:e.activeSets)==null?void 0:u.includes)==null?void 0:s.call(u,E==null?void 0:E.setName),t=F0==null?void 0:F0[E==null?void 0:E.setName];if(E)return xt.jsxDEV(AM,{id:E==null?void 0:E.id,isOpen:S,style:jP,children:xt.jsxDEV(ii,{sx:{fontWeight:"bold",whiteSpace:"nowrap",alignItems:"center",justifyContent:"center",flexDirection:"column",textTransform:"capitalize"},children:[xt.jsxDEV(Ri,{children:[E==null?void 0:E.name,xt.jsxDEV(Ri,{color:"gray.400",sx:{ml:"2px"},children:(E==null?void 0:E.amount)>1&&`(${E==null?void 0:E.amount})`},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:27,columnNumber:11},globalThis),(E==null?void 0:E.slot)=="spell"&&xt.jsxDEV("span",{children:[" (Level ",E==null?void 0:E.ilvl,")"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:30,columnNumber:37},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:25,columnNumber:9},globalThis),xt.jsxDEV(Ri,{color:E==null?void 0:E.rarity,children:[E==null?void 0:E.rarity," ",E==null?void 0:E.base]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:32,columnNumber:9},globalThis),xt.jsxDEV(Sd,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:35,columnNumber:9},globalThis),(E==null?void 0:E.slot)!=="stackable"&&xt.jsxDEV(Ri,{children:[xt.jsxDEV(Tl,{children:"Slot:"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:38,columnNumber:13},globalThis)," ",E==null?void 0:E.slot]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:37,columnNumber:11},globalThis),Object.keys(E==null?void 0:E.stats).map(a=>xt.jsxDEV(Ri,{children:[xt.jsxDEV(Tl,{children:[a,":"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:44,columnNumber:15},globalThis)," ",E==null?void 0:E.stats[a]]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:43,columnNumber:13},globalThis)),Object.keys(E==null?void 0:E.percentStats).map(a=>xt.jsxDEV(Ri,{children:[xt.jsxDEV(Tl,{children:[a,":"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:51,columnNumber:15},globalThis)," ",E==null?void 0:E.percentStats[a],"%"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:50,columnNumber:13},globalThis)),Object.keys(E==null?void 0:E.effects).map(a=>{if(a=="hp")return xt.jsxDEV(Ri,{children:[xt.jsxDEV(Tl,{children:"+"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:59,columnNumber:17},globalThis)," ",E==null?void 0:E.effects[a],"% hp"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:58,columnNumber:15},globalThis)}),(E==null?void 0:E.setBonus)&&xt.jsxDEV(Sd,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:64,columnNumber:28},globalThis),(E==null?void 0:E.setBonus)&&xt.jsxDEV(Ri,{color:x?"set":"gray.500",children:t==null?void 0:t.name},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:65,columnNumber:28},globalThis),(E==null?void 0:E.setBonus)&&xt.jsxDEV(Sd,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:66,columnNumber:28},globalThis),(E==null?void 0:E.setBonus)&&Object.keys(E==null?void 0:E.setBonus.percentStats).map(a=>xt.jsxDEV(Ri,{color:x?"set":"gray.500",children:[xt.jsxDEV(Tl,{children:[a,":"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:71,columnNumber:17},globalThis)," ",E==null?void 0:E.setBonus.percentStats[a],"%"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:70,columnNumber:15},globalThis)),(E==null?void 0:E.setBonus)&&Object.keys(E==null?void 0:E.setBonus.stats).map(a=>xt.jsxDEV(Ri,{color:x?"set":"gray.500",children:[xt.jsxDEV(Tl,{children:[a,":"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:79,columnNumber:17},globalThis)," ",E==null?void 0:E.setBonus.stats[a]]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:78,columnNumber:15},globalThis)),xt.jsxDEV(Sd,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:83,columnNumber:9},globalThis),xt.jsxDEV(ii,{sx:{alignItems:"center",gap:1},children:[xt.jsxDEV(xa,{icon:"../assets/icons/gold.png",size:16},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:85,columnNumber:11},globalThis),(E==null?void 0:E.cost)*((E==null?void 0:E.amount)||1)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:84,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:15,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ItemTooltip.tsx",lineNumber:14,columnNumber:5},globalThis)},k4=J4,q4=()=>{const{hero:E,tabEquipment:S}=$n(),o=Object.entries((E==null?void 0:E.equipment)||{});return xt.jsxDEV(ii,{sx:{gap:2,p:2,flexWrap:"wrap",justifyContent:"end",bg:"shadow.30",pointerEvents:"all",display:S?"flex":"none","&:hover":{zIndex:999}},children:[xt.jsxDEV(Ri,{children:"Equipment"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuEquipment.tsx",lineNumber:23,columnNumber:7},globalThis),xt.jsxDEV(ii,{sx:{gap:2,flexWrap:"wrap",justifyContent:"end",maxWidth:592},children:o==null?void 0:o.map(([x,t])=>xt.jsxDEV(sv,{location:"equipment",slotKey:x,icon:`../assets/icons/${x}.png`,item:t},x,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuEquipment.tsx",lineNumber:26,columnNumber:11},globalThis))},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuEquipment.tsx",lineNumber:24,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuEquipment.tsx",lineNumber:9,columnNumber:5},globalThis)},_4=()=>{const{hero:E,tabInventory:S}=$n(),o=(E==null?void 0:E.inventory)||[],x=new Array(30).fill(null);return xt.jsxDEV(ii,{sx:{flexDirection:"column",gap:2,p:2,bg:"shadow.30",pointerEvents:"all",display:S?"flex":"none","&:hover":{zIndex:999}},children:[xt.jsxDEV(ii,{sx:{flexWrap:"wrap",justifyContent:"end",gap:2,flex:1},children:[xt.jsxDEV(Ri,{children:"Inventory"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuInventory.tsx",lineNumber:24,columnNumber:9},globalThis),xt.jsxDEV(ii,{sx:{gap:2,flexWrap:"wrap",justifyContent:"end",maxWidth:592},children:x==null?void 0:x.map((t,e)=>xt.jsxDEV(sv,{location:"inventory",slotKey:e,icon:"./assets/icons/pouch.png",item:o==null?void 0:o[e]},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuInventory.tsx",lineNumber:27,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuInventory.tsx",lineNumber:25,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuInventory.tsx",lineNumber:23,columnNumber:7},globalThis),xt.jsxDEV(ii,{sx:{gap:1,justifyContent:"end"},children:[xt.jsxDEV(xa,{icon:"../assets/icons/gold.png",size:16},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuInventory.tsx",lineNumber:37,columnNumber:9},globalThis),xt.jsxDEV(Ri,{children:(E==null?void 0:E.gold)||0},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuInventory.tsx",lineNumber:38,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuInventory.tsx",lineNumber:36,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuInventory.tsx",lineNumber:10,columnNumber:5},globalThis)},fa=54;function tV({assets:E}){const S=dt.useRef(null);return dt.useEffect(()=>{const o=S.current,x=o.getContext("2d");o.width=80,o.height=80,(async()=>{for(const e of E){const u=new Image,[s,a,n,i]=[0,160,80,80];u.src=e.src,await u.decode();const r=cM(t4(u),e==null?void 0:e.tint);x.drawImage(r,s,a,n,i,0,0,n,i)}})()},[JSON.stringify(E)]),xt.jsxDEV(hi,{as:"canvas",sx:{transform:"translate(-50%, 10%) scale(2)",imageRendering:"pixelated",position:"absolute",left:"50%",top:0},ref:S},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Portrait.tsx",lineNumber:31,columnNumber:5},this)}const MM=({user:E})=>{var v,d,m,y,T,C,R;const{race:S,gender:o}=(E==null?void 0:E.profile)??{},x=(v=E==null?void 0:E.profile)==null?void 0:v.face,t=(d=E==null?void 0:E.profile)==null?void 0:d.hair,e=(m=E==null?void 0:E.equipment)==null?void 0:m.accessory,u=(y=E==null?void 0:E.equipment)==null?void 0:y.armor,s=(T=E==null?void 0:E.equipment)==null?void 0:T.helmet,a=oo(S,(C=E==null?void 0:E.profile)==null?void 0:C.tint),n=oo(`${S}-${o}-chest-bare`,(R=E==null?void 0:E.profile)==null?void 0:R.tint),i=oo(`${S}-${x==null?void 0:x.texture}`,x==null?void 0:x.tint),r=oo(`${S}-${t==null?void 0:t.texture}`,t==null?void 0:t.tint),f=oo(`${S}-${e==null?void 0:e.texture}`,e==null?void 0:e.tint),l=oo(`${S}-${o}-${u==null?void 0:u.texture}`,u==null?void 0:u.tint),h=oo(`${S}-${s==null?void 0:s.texture}`,s==null?void 0:s.tint),c=[a,n,r,i,l,h,f].filter(Boolean);return xt.jsxDEV(hi,{sx:{border:"1px solid #000",borderRadius:52,width:fa+2,height:fa+2},children:xt.jsxDEV(hi,{sx:{border:"1px solid #FFF",borderRadius:fa,width:fa,height:fa,bg:"black",position:"relative",overflow:"hidden",clipPath:`circle(${fa/2}px at ${fa/2}px ${fa/2}px)`},children:xt.jsxDEV(tV,{assets:c},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Portrait.tsx",lineNumber:83,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Portrait.tsx",lineNumber:69,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Portrait.tsx",lineNumber:61,columnNumber:5},globalThis)},oo=(E,S)=>{const o=va==null?void 0:va.find(x=>(x==null?void 0:x.texture)===E);return o?{...o,tint:S}:null},eV=()=>{var i;const{keeper:E,tabKeeper:S,setTabKeeper:o}=$n(),[x,t]=dt.useState("greet"),{dialogues:e,shop:u}=(E==null?void 0:E.keeperData)??{},s=x==="shop",a=x==="quests",n=x==="greet";return dt.useEffect(()=>{S||t("greet")},[S]),xt.jsxDEV(ii,{className:"menu-keeper",sx:{gap:2,p:2,flexWrap:"wrap",justifyContent:"end",bg:"shadow.30",pointerEvents:"all",display:S?"flex":"none","&:hover":{zIndex:999}},children:[xt.jsxDEV(Ri,{children:(i=E==null?void 0:E.profile)==null?void 0:i.userName},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:33,columnNumber:7},globalThis),xt.jsxDEV(ii,{sx:{gap:2,flexWrap:"wrap",justifyContent:"end",width:592},children:[xt.jsxDEV(MM,{user:E},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:35,columnNumber:9},globalThis),xt.jsxDEV(ii,{sx:{gap:1,flexDirection:"column",flex:1,minWidth:300},children:xt.jsxDEV(ii,{sx:{bg:"shadow.30",flexDirection:"column",p:2,gap:2,borderRadius:6},children:[xt.jsxDEV(Ri,{dangerouslySetInnerHTML:{__html:e==null?void 0:e[x]}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:45,columnNumber:13},globalThis),S&&xt.jsxDEV(ii,{sx:{gap:2},children:[xt.jsxDEV(El,{keyboardKey:"G",onClick:()=>t("greet"),active:n,children:"Greet"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:48,columnNumber:17},globalThis),xt.jsxDEV(El,{keyboardKey:"B",onClick:()=>t("shop"),active:s,children:"Shop"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:51,columnNumber:17},globalThis),xt.jsxDEV(El,{keyboardKey:"Q",onClick:()=>t("quests"),active:a,children:"Quests"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:54,columnNumber:17},globalThis),xt.jsxDEV(El,{keyboardKey:"C",onClick:()=>o(!1),active:!0,children:"Close"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:57,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:47,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:44,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:36,columnNumber:9},globalThis),xt.jsxDEV(ii,{sx:{gap:2,display:s?"flex":"none",justifySelf:"start"},children:u==null?void 0:u.map(({item:r},f)=>xt.jsxDEV(sv,{location:"shop",slotKey:f,icon:"./assets/icons/chest.png",item:r},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:73,columnNumber:15},globalThis))},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:64,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:34,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuKeeper.tsx",lineNumber:18,columnNumber:5},globalThis)},iV=({sx:E})=>{var o;const{hero:S}=$n();return xt.jsxDEV(hi,{sx:{...E},children:(o=S==null?void 0:S.profile)==null?void 0:o.userName},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:7,columnNumber:10},globalThis)},lR=({width:E=100,height:S=12,color:o="red",min:x,max:t,sx:e,...u})=>{const s=Math.round(x/t*100)+"%";return xt.jsxDEV(hi,{"data-tooltip-id":"hud",sx:{position:"relative",overflow:"hidden",borderRadius:3,bg:"shadow.25",border:a=>"1px solid rgba(255,255,255,.85)",boxShadow:"0px 0px 0px 1px #000",width:E,height:S,...e},...u,children:[xt.jsxDEV(hi,{sx:{position:"absolute",width:"100%",height:"100%",lineHeight:1,fontSize:0,textAlign:"center"},children:`${x} / ${t}`},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:29,columnNumber:7},globalThis),xt.jsxDEV(hi,{sx:{bg:o,height:"100%",width:s}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:41,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:13,columnNumber:5},globalThis)},nV=()=>{const{hero:E}=$n(),{stats:S}=E??{};return xt.jsxDEV(hi,{sx:{top:2,left:2,position:"absolute"},children:[xt.jsxDEV(AM,{id:"hud",style:jP},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:51,columnNumber:7},globalThis),xt.jsxDEV(ii,{sx:{gap:1},children:[xt.jsxDEV(MM,{user:E},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:53,columnNumber:9},globalThis),xt.jsxDEV(ii,{sx:{flexDirection:"column",gap:"1px",pointerEvents:"all"},children:[xt.jsxDEV(iV,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:55,columnNumber:11},globalThis),xt.jsxDEV(lR,{"data-tooltip-content":`HP: ${S==null?void 0:S.hp} / ${S==null?void 0:S.maxHp}`,color:"red.700",max:S==null?void 0:S.maxHp,min:S==null?void 0:S.hp},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:56,columnNumber:11},globalThis),xt.jsxDEV(lR,{"data-tooltip-content":`MP: ${S==null?void 0:S.mp} / ${S==null?void 0:S.maxMp}`,color:"blue.500",max:S==null?void 0:S.maxMp,min:S==null?void 0:S.mp},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:62,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:54,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:52,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MenuHud.tsx",lineNumber:50,columnNumber:5},globalThis)},b0=E=>{let S=E.toUpperCase();return E==="ESCAPE"&&(S="ESC"),E===" "&&(S="SPACE"),S.toUpperCase()},lv=({name:E,onKeyUp:S,hidden:o,onKeyDown:x,sx:t})=>{const[e,u]=dt.useState(!1),s=b0(E),a=i=>{const r=b0(i==null?void 0:i.key);(document.activeElement.type==="text"||i.target.type==="text")&&r!=="ESCAPE"||r===E&&(S==null||S(),u(!1))},n=i=>{const r=b0(i==null?void 0:i.key);document.activeElement.type==="text"||i.target.type==="text"||r===E&&(x==null||x(),u(!0))};return dt.useEffect(()=>(window.addEventListener("keyup",a),window.addEventListener("keydown",n),()=>{window.removeEventListener("keyup",a),window.removeEventListener("keydown",n)}),[]),xt.jsxDEV(hi,{sx:{display:o?"none":"block",position:"absolute",bottom:0,right:0,bg:"#EEE",px:"5px",pb:e?"3px":"4px",minWidth:16,textAlign:"center",lineHeight:1,borderRadius:3,textShadow:"none",color:"#000",fontSize:"10px",fontWeight:"bold",boxShadow:`#CCCCCC 0px ${e?-1:-2}px 0px ${e?1:2}px inset,
                     #000000 0px 0px 0px 1px,
                     #ffffff 0px -1px 0px ${e?1:2}px inset`,...t},children:s},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/KeyboardKey.tsx",lineNumber:54,columnNumber:5},globalThis)},Fs=({sx:E,...S})=>xt.jsxDEV(ii,{sx:{zIndex:"modal",gap:1,p:1,borderRadius:3,position:"absolute",flexDirection:"column",top:"50%",left:"50%",pointerEvents:"all",transform:"translate(-50%, -50%)",...E},variant:"buttons.wood",...S},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Modal.tsx",lineNumber:6,columnNumber:5},globalThis);Fs.Header=({sx:E,...S})=>xt.jsxDEV(hi,{sx:{...E},...S},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Modal.tsx",lineNumber:27,columnNumber:10},globalThis);Fs.Body=({sx:E,...S})=>xt.jsxDEV(hi,{sx:{p:3,borderRadius:3,bg:"shadow.25",...E},...S},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Modal.tsx",lineNumber:31,columnNumber:10},globalThis);Fs.Footer=({sx:E,...S})=>xt.jsxDEV(ii,{sx:{gap:1,flex:1,...E},...S},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Modal.tsx",lineNumber:35,columnNumber:10},globalThis);const rV=E=>{dt.useEffect(()=>{var o;const S=()=>{E(),setTimeout(E,1e3)};return window.addEventListener("resize",S),window.addEventListener("orientationchange",S),(o=window.visualViewport)==null||o.addEventListener("resize",S),()=>{var x;window.removeEventListener("resize",S),window.removeEventListener("orientationchange",S),(x=window.visualViewport)==null||x.removeEventListener("resize",S)}},[E])};function sV(E,S){dt.useEffect(()=>{const o=x=>{!E.current||E.current.contains(x.target)||S(x)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o)}},[E,S])}const PM=({sx:E,autoFocus:S,onTouchEnd:o,onClickOutside:x=()=>{},onBlur:t=()=>{},...e})=>{const u=dt.useRef();return dt.useEffect(()=>{var s;S&&((s=u==null?void 0:u.current)==null||s.focus({preventScroll:!0}))},[S]),sV(u,x),dt.useEffect(()=>{var a;const s=n=>{t==null||t(n)};return(a=u==null?void 0:u.current)==null||a.addEventListener("blur",s),()=>{var n;(n=u==null?void 0:u.current)==null||n.removeEventListener("blur",s)}},[]),xt.jsxDEV(_5,{type:"text",ref:u,onTouchEnd:s=>(s.preventDefault(),s.target.focus({preventScroll:!0}),o==null?void 0:o(s)),onTouchStart:s=>{s.stopPropagation()},onClick:s=>{s.stopPropagation()},sx:{lineHeight:1,pointerEvents:"all",...E},...e},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/Input.tsx",lineNumber:33,columnNumber:5},globalThis)},aV=()=>{const{socket:E}=$n();return xt.jsxDEV(Fs,{children:[xt.jsxDEV(Fs.Body,{children:"Would you like to respawn?"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalRespawn.tsx",lineNumber:8,columnNumber:7},globalThis),xt.jsxDEV(Fs.Footer,{children:xt.jsxDEV(nv,{variant:"wood",sx:{flex:1},onClick:()=>{E.emit("respawn")},children:"Respawn"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalRespawn.tsx",lineNumber:10,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalRespawn.tsx",lineNumber:9,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalRespawn.tsx",lineNumber:7,columnNumber:5},globalThis)},El=({keyboardKey:E,onClick:S,children:o,active:x,sx:t,...e})=>xt.jsxDEV(nv,{sx:{gap:1,justifyContent:"center",...t},variant:"wood",onClick:S,...e,children:[o,!po&&xt.jsxDEV(hi,{sx:{alignSelf:"end"},children:xt.jsxDEV(lv,{sx:{position:"static",mr:"-2px"},name:E,onKeyUp:S,stopPropagation:!0},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/KeyboardButton.tsx",lineNumber:27,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/KeyboardButton.tsx",lineNumber:26,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/KeyboardButton.tsx",lineNumber:14,columnNumber:5},globalThis),oV=()=>{const{socket:E,dropItem:S,setDropItem:o}=$n(),{amount:x,location:t,slotKey:e,action:u,...s}=S??{},[a,n]=dt.useState(x),i=u==null?void 0:u.includes("SHOP"),r=u==null?void 0:u.includes("CONFIRM");return xt.jsxDEV(Fs,{children:[xt.jsxDEV(Fs.Body,{sx:{display:"flex",gap:2,alignItems:"center"},children:[xt.jsxDEV(hi,{children:xt.jsxDEV(sv,{item:{...s,id:(s==null?void 0:s.id)+"modal"},disabled:!0},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:25,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:24,columnNumber:9},globalThis),r?xt.jsxDEV(hi,{children:"Are you sure?"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:28,columnNumber:11},globalThis):xt.jsxDEV(ii,{sx:{flex:1,minWidth:100,flexDirection:"column",gap:2},children:xt.jsxDEV(ii,{sx:{gap:2,alignItems:"center"},children:[xt.jsxDEV(Ri,{children:"x"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:32,columnNumber:15},globalThis),xt.jsxDEV(PM,{max:x,min:0,autoFocus:!0,type:"number",pattern:"\\d*",value:a,onChange:f=>{n(f.target.value)}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:33,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:31,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:30,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:23,columnNumber:7},globalThis),xt.jsxDEV(Fs.Footer,{children:[xt.jsxDEV(El,{sx:{flex:1},onClick:()=>o(null),keyboardKey:"ESCAPE",children:"Cancel"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:49,columnNumber:9},globalThis),xt.jsxDEV(El,{sx:{flex:1},keyboardKey:"ENTER",onClick:()=>{i?E.emit("moveItem",{to:{location:"shop"},from:{slot:e,location:t,amount:a}}):E.emit("dropItem",{item:s,location:t,amount:a}),o(null)},children:i?xt.jsxDEV(ii,{sx:{gap:1,flex:1,justifyContent:"center"},children:[xt.jsxDEV(xa,{icon:"../assets/icons/gold.png",size:16,sx:{flexShrink:0}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:71,columnNumber:15},globalThis),xt.jsxDEV(Ri,{children:a*(s==null?void 0:s.cost)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:72,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:70,columnNumber:13},globalThis):xt.jsxDEV(Ri,{children:"Drop"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:75,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:52,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:48,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/ModalDropAmount.tsx",lineNumber:22,columnNumber:5},globalThis)},LM=dt.createContext({transformPagePoint:E=>E,isStatic:!1,reducedMotion:"never"}),uv=dt.createContext({}),Jx=dt.createContext(null),hv=typeof document<"u",uR=hv?dt.useLayoutEffect:dt.useEffect,OM=dt.createContext({strict:!1});function lV(E,S,o,x){const{visualElement:t}=dt.useContext(uv),e=dt.useContext(OM),u=dt.useContext(Jx),s=dt.useContext(LM).reducedMotion,a=dt.useRef();x=x||e.renderer,!a.current&&x&&(a.current=x(E,{visualState:S,parent:t,props:o,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:s}));const n=a.current;return dt.useInsertionEffect(()=>{n&&n.update(o,u)}),uR(()=>{n&&n.render()}),dt.useEffect(()=>{n&&n.updateFeatures()}),(window.HandoffAppearAnimations?uR:dt.useEffect)(()=>{n&&n.animationState&&n.animationState.animateChanges()}),n}function Cl(E){return typeof E=="object"&&Object.prototype.hasOwnProperty.call(E,"current")}function uV(E,S,o){return dt.useCallback(x=>{x&&E.mount&&E.mount(x),S&&(x?S.mount(x):S.unmount()),o&&(typeof o=="function"?o(x):Cl(o)&&(o.current=x))},[S])}function Kh(E){return typeof E=="string"||Array.isArray(E)}function fv(E){return typeof E=="object"&&typeof E.start=="function"}const kx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qx=["initial",...kx];function cv(E){return fv(E.animate)||qx.some(S=>Kh(E[S]))}function DM(E){return!!(cv(E)||E.variants)}function hV(E,S){if(cv(E)){const{initial:o,animate:x}=E;return{initial:o===!1||Kh(o)?o:void 0,animate:Kh(x)?x:void 0}}return E.inherit!==!1?S:{}}function fV(E){const{initial:S,animate:o}=hV(E,dt.useContext(uv));return dt.useMemo(()=>({initial:S,animate:o}),[hR(S),hR(o)])}function hR(E){return Array.isArray(E)?E.join(" "):E}const fR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$h={};for(const E in fR)$h[E]={isEnabled:S=>fR[E].some(o=>!!S[o])};function cV(E){for(const S in E)$h[S]={...$h[S],...E[S]}}function FM(E){const S=dt.useRef(null);return S.current===null&&(S.current=E()),S.current}const Nh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let dV=1;function vV(){return FM(()=>{if(Nh.hasEverUpdated)return dV++})}const bM=dt.createContext({}),NM=dt.createContext({}),pV=Symbol.for("motionComponentSymbol");function mV({preloadedFeatures:E,createVisualElement:S,useRender:o,useVisualState:x,Component:t}){E&&cV(E);function e(s,a){let n;const i={...dt.useContext(LM),...s,layoutId:gV(s)},{isStatic:r}=i,f=fV(s),l=r?void 0:vV(),h=x(s,r);if(!r&&hv){f.visualElement=lV(t,h,i,S);const c=dt.useContext(NM),v=dt.useContext(OM).strict;f.visualElement&&(n=f.visualElement.loadFeatures(i,v,E,l,c))}return dt.createElement(uv.Provider,{value:f},n&&f.visualElement?dt.createElement(n,{visualElement:f.visualElement,...i}):null,o(t,s,l,uV(h,f.visualElement,a),h,r,f.visualElement))}const u=dt.forwardRef(e);return u[pV]=t,u}function gV({layoutId:E}){const S=dt.useContext(bM).id;return S&&E!==void 0?S+"-"+E:E}function xV(E){function S(x,t={}){return mV(E(x,t))}if(typeof Proxy>"u")return S;const o=new Map;return new Proxy(S,{get:(x,t)=>(o.has(t)||o.set(t,S(t)),o.get(t))})}const yV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _x(E){return typeof E!="string"||E.includes("-")?!1:!!(yV.indexOf(E)>-1||/[A-Z]/.test(E))}const Kd={};function TV(E){Object.assign(Kd,E)}const dv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xo=new Set(dv);function wM(E,{layout:S,layoutId:o}){return xo.has(E)||E.startsWith("origin")||(S||o!==void 0)&&(!!Kd[E]||E==="opacity")}const bn=E=>!!(E&&E.getVelocity),SV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EV=dv.length;function CV(E,{enableHardwareAcceleration:S=!0,allowTransformNone:o=!0},x,t){let e="";for(let u=0;u<EV;u++){const s=dv[u];if(E[s]!==void 0){const a=SV[s]||s;e+=`${a}(${E[s]}) `}}return S&&!E.z&&(e+="translateZ(0)"),e=e.trim(),t?e=t(E,x?"":e):o&&x&&(e="none"),e}const BM=E=>S=>typeof S=="string"&&S.startsWith(E),IM=BM("--"),ux=BM("var(--"),RV=(E,S)=>S&&typeof E=="number"?S.transform(E):E,go=(E,S,o)=>Math.min(Math.max(o,E),S),yo={test:E=>typeof E=="number",parse:parseFloat,transform:E=>E},wh={...yo,transform:E=>go(0,1,E)},Cd={...yo,default:1},Bh=E=>Math.round(E*1e5)/1e5,Zh=/(-)?([\d]*\.?[\d])+/g,hx=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,AV=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function tf(E){return typeof E=="string"}const ef=E=>({test:S=>tf(S)&&S.endsWith(E)&&S.split(" ").length===1,parse:parseFloat,transform:S=>`${S}${E}`}),ca=ef("deg"),kr=ef("%"),ve=ef("px"),MV=ef("vh"),PV=ef("vw"),cR={...kr,parse:E=>kr.parse(E)/100,transform:E=>kr.transform(E*100)},dR={...yo,transform:Math.round},UM={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,size:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,rotate:ca,rotateX:ca,rotateY:ca,rotateZ:ca,scale:Cd,scaleX:Cd,scaleY:Cd,scaleZ:Cd,skew:ca,skewX:ca,skewY:ca,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:wh,originX:cR,originY:cR,originZ:ve,zIndex:dR,fillOpacity:wh,strokeOpacity:wh,numOctaves:dR};function ty(E,S,o,x){const{style:t,vars:e,transform:u,transformOrigin:s}=E;let a=!1,n=!1,i=!0;for(const r in S){const f=S[r];if(IM(r)){e[r]=f;continue}const l=UM[r],h=RV(f,l);if(xo.has(r)){if(a=!0,u[r]=h,!i)continue;f!==(l.default||0)&&(i=!1)}else r.startsWith("origin")?(n=!0,s[r]=h):t[r]=h}if(S.transform||(a||x?t.transform=CV(E.transform,o,i,x):t.transform&&(t.transform="none")),n){const{originX:r="50%",originY:f="50%",originZ:l=0}=s;t.transformOrigin=`${r} ${f} ${l}`}}const ey=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VM(E,S,o){for(const x in S)!bn(S[x])&&!wM(x,o)&&(E[x]=S[x])}function LV({transformTemplate:E},S,o){return dt.useMemo(()=>{const x=ey();return ty(x,S,{enableHardwareAcceleration:!o},E),Object.assign({},x.vars,x.style)},[S])}function OV(E,S,o){const x=E.style||{},t={};return VM(t,x,E),Object.assign(t,LV(E,S,o)),E.transformValues?E.transformValues(t):t}function DV(E,S,o){const x={},t=OV(E,S,o);return E.drag&&E.dragListener!==!1&&(x.draggable=!1,t.userSelect=t.WebkitUserSelect=t.WebkitTouchCallout="none",t.touchAction=E.drag===!0?"none":`pan-${E.drag==="x"?"y":"x"}`),E.tabIndex===void 0&&(E.onTap||E.onTapStart||E.whileTap)&&(x.tabIndex=0),x.style=t,x}const FV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function $d(E){return E.startsWith("while")||E.startsWith("drag")&&E!=="draggable"||E.startsWith("layout")||E.startsWith("onTap")||E.startsWith("onPan")||FV.has(E)}let GM=E=>!$d(E);function bV(E){E&&(GM=S=>S.startsWith("on")?!$d(S):E(S))}try{bV(require("@emotion/is-prop-valid").default)}catch{}function NV(E,S,o){const x={};for(const t in E)t==="values"&&typeof E.values=="object"||(GM(t)||o===!0&&$d(t)||!S&&!$d(t)||E.draggable&&t.startsWith("onDrag"))&&(x[t]=E[t]);return x}function vR(E,S,o){return typeof E=="string"?E:ve.transform(S+o*E)}function wV(E,S,o){const x=vR(S,E.x,E.width),t=vR(o,E.y,E.height);return`${x} ${t}`}const BV={offset:"stroke-dashoffset",array:"stroke-dasharray"},IV={offset:"strokeDashoffset",array:"strokeDasharray"};function UV(E,S,o=1,x=0,t=!0){E.pathLength=1;const e=t?BV:IV;E[e.offset]=ve.transform(-x);const u=ve.transform(S),s=ve.transform(o);E[e.array]=`${u} ${s}`}function iy(E,{attrX:S,attrY:o,originX:x,originY:t,pathLength:e,pathSpacing:u=1,pathOffset:s=0,...a},n,i,r){if(ty(E,a,n,r),i){E.style.viewBox&&(E.attrs.viewBox=E.style.viewBox);return}E.attrs=E.style,E.style={};const{attrs:f,style:l,dimensions:h}=E;f.transform&&(h&&(l.transform=f.transform),delete f.transform),h&&(x!==void 0||t!==void 0||l.transform)&&(l.transformOrigin=wV(h,x!==void 0?x:.5,t!==void 0?t:.5)),S!==void 0&&(f.x=S),o!==void 0&&(f.y=o),e!==void 0&&UV(f,e,u,s,!1)}const zM=()=>({...ey(),attrs:{}}),ny=E=>typeof E=="string"&&E.toLowerCase()==="svg";function VV(E,S,o,x){const t=dt.useMemo(()=>{const e=zM();return iy(e,S,{enableHardwareAcceleration:!1},ny(x),E.transformTemplate),{...e.attrs,style:{...e.style}}},[S]);if(E.style){const e={};VM(e,E.style,E),t.style={...e,...t.style}}return t}function GV(E=!1){return(o,x,t,e,{latestValues:u},s)=>{const n=(_x(o)?VV:DV)(x,u,s,o),r={...NV(x,typeof o=="string",E),...n,ref:e},{children:f}=x,l=dt.useMemo(()=>bn(f)?f.get():f,[f]);return t&&(r["data-projection-id"]=t),dt.createElement(o,{...r,children:l})}}const ry=E=>E.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function YM(E,{style:S,vars:o},x,t){Object.assign(E.style,S,t&&t.getProjectionStyles(x));for(const e in o)E.style.setProperty(e,o[e])}const XM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HM(E,S,o,x){YM(E,S,void 0,x);for(const t in S.attrs)E.setAttribute(XM.has(t)?t:ry(t),S.attrs[t])}function sy(E,S){const{style:o}=E,x={};for(const t in o)(bn(o[t])||S.style&&bn(S.style[t])||wM(t,E))&&(x[t]=o[t]);return x}function WM(E,S){const o=sy(E,S);for(const x in E)if(bn(E[x])||bn(S[x])){const t=x==="x"||x==="y"?"attr"+x.toUpperCase():x;o[t]=E[x]}return o}function ay(E,S,o,x={},t={}){return typeof S=="function"&&(S=S(o!==void 0?o:E.custom,x,t)),typeof S=="string"&&(S=E.variants&&E.variants[S]),typeof S=="function"&&(S=S(o!==void 0?o:E.custom,x,t)),S}const Zd=E=>Array.isArray(E),zV=E=>!!(E&&typeof E=="object"&&E.mix&&E.toValue),YV=E=>Zd(E)?E[E.length-1]||0:E;function wd(E){const S=bn(E)?E.get():E;return zV(S)?S.toValue():S}function XV({scrapeMotionValuesFromProps:E,createRenderState:S,onMount:o},x,t,e){const u={latestValues:HV(x,t,e,E),renderState:S()};return o&&(u.mount=s=>o(x,s,u)),u}const jM=E=>(S,o)=>{const x=dt.useContext(uv),t=dt.useContext(Jx),e=()=>XV(E,S,x,t);return o?e():FM(e)};function HV(E,S,o,x){const t={},e=x(E,{});for(const f in e)t[f]=wd(e[f]);let{initial:u,animate:s}=E;const a=cv(E),n=DM(E);S&&n&&!a&&E.inherit!==!1&&(u===void 0&&(u=S.initial),s===void 0&&(s=S.animate));let i=o?o.initial===!1:!1;i=i||u===!1;const r=i?s:u;return r&&typeof r!="boolean"&&!fv(r)&&(Array.isArray(r)?r:[r]).forEach(l=>{const h=ay(E,l);if(!h)return;const{transitionEnd:c,transition:v,...d}=h;for(const m in d){let y=d[m];if(Array.isArray(y)){const T=i?y.length-1:0;y=y[T]}y!==null&&(t[m]=y)}for(const m in c)t[m]=c[m]}),t}const WV={useVisualState:jM({scrapeMotionValuesFromProps:WM,createRenderState:zM,onMount:(E,S,{renderState:o,latestValues:x})=>{try{o.dimensions=typeof S.getBBox=="function"?S.getBBox():S.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}iy(o,x,{enableHardwareAcceleration:!1},ny(S.tagName),E.transformTemplate),HM(S,o)}})},jV={useVisualState:jM({scrapeMotionValuesFromProps:sy,createRenderState:ey})};function KV(E,{forwardMotionProps:S=!1},o,x){return{..._x(E)?WV:jV,preloadedFeatures:o,useRender:GV(S),createVisualElement:x,Component:E}}function Ds(E,S,o,x={passive:!0}){return E.addEventListener(S,o,x),()=>E.removeEventListener(S,o)}const KM=E=>E.pointerType==="mouse"?typeof E.button!="number"||E.button<=0:E.isPrimary!==!1;function vv(E,S="page"){return{point:{x:E[S+"X"],y:E[S+"Y"]}}}const $V=E=>S=>KM(S)&&E(S,vv(S));function bs(E,S,o,x){return Ds(E,S,$V(o),x)}const ZV=(E,S)=>o=>S(E(o)),ma=(...E)=>E.reduce(ZV);function $M(E){let S=null;return()=>{const o=()=>{S=null};return S===null?(S=E,o):!1}}const pR=$M("dragHorizontal"),mR=$M("dragVertical");function ZM(E){let S=!1;if(E==="y")S=mR();else if(E==="x")S=pR();else{const o=pR(),x=mR();o&&x?S=()=>{o(),x()}:(o&&o(),x&&x())}return S}function QM(){const E=ZM(!0);return E?(E(),!1):!0}class Ra{constructor(S){this.isMounted=!1,this.node=S}update(){}}function QV(E){let S=[],o=[],x=0,t=!1,e=!1;const u=new WeakSet,s={schedule:(a,n=!1,i=!1)=>{const r=i&&t,f=r?S:o;return n&&u.add(a),f.indexOf(a)===-1&&(f.push(a),r&&t&&(x=S.length)),a},cancel:a=>{const n=o.indexOf(a);n!==-1&&o.splice(n,1),u.delete(a)},process:a=>{if(t){e=!0;return}if(t=!0,[S,o]=[o,S],o.length=0,x=S.length,x)for(let n=0;n<x;n++){const i=S[n];i(a),u.has(i)&&(s.schedule(i),E())}t=!1,e&&(e=!1,s.process(a))}};return s}const fn={delta:0,timestamp:0,isProcessing:!1},JV=40;let fx=!0,Qh=!1;const nf=["read","update","preRender","render","postRender"],pv=nf.reduce((E,S)=>(E[S]=QV(()=>Qh=!0),E),{}),mi=nf.reduce((E,S)=>{const o=pv[S];return E[S]=(x,t=!1,e=!1)=>(Qh||qV(),o.schedule(x,t,e)),E},{}),Sa=nf.reduce((E,S)=>(E[S]=pv[S].cancel,E),{}),N0=nf.reduce((E,S)=>(E[S]=()=>pv[S].process(fn),E),{}),kV=E=>pv[E].process(fn),JM=E=>{Qh=!1,fn.delta=fx?1e3/60:Math.max(Math.min(E-fn.timestamp,JV),1),fn.timestamp=E,fn.isProcessing=!0,nf.forEach(kV),fn.isProcessing=!1,Qh&&(fx=!1,requestAnimationFrame(JM))},qV=()=>{Qh=!0,fx=!0,fn.isProcessing||requestAnimationFrame(JM)};function gR(E,S){const o="pointer"+(S?"enter":"leave"),x="onHover"+(S?"Start":"End"),t=(e,u)=>{if(e.type==="touch"||QM())return;const s=E.getProps();E.animationState&&s.whileHover&&E.animationState.setActive("whileHover",S),s[x]&&mi.update(()=>s[x](e,u))};return bs(E.current,o,t,{passive:!E.getProps()[x]})}class _V extends Ra{mount(){this.unmount=ma(gR(this.node,!0),gR(this.node,!1))}unmount(){}}class tG extends Ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let S=!1;try{S=this.node.current.matches(":focus-visible")}catch{S=!0}!S||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ma(Ds(this.node.current,"focus",()=>this.onFocus()),Ds(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const kM=(E,S)=>S?E===S?!0:kM(E,S.parentElement):!1,ji=E=>E;function w0(E,S){if(!S)return;const o=new PointerEvent("pointer"+E);S(o,vv(o))}class eG extends Ra{constructor(){super(...arguments),this.removeStartListeners=ji,this.removeEndListeners=ji,this.removeAccessibleListeners=ji,this.startPointerPress=(S,o)=>{if(this.removeEndListeners(),this.isPressing)return;const x=this.node.getProps(),e=bs(window,"pointerup",(s,a)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:i}=this.node.getProps();mi.update(()=>{kM(this.node.current,s.target)?n&&n(s,a):i&&i(s,a)})},{passive:!(x.onTap||x.onPointerUp)}),u=bs(window,"pointercancel",(s,a)=>this.cancelPress(s,a),{passive:!(x.onTapCancel||x.onPointerCancel)});this.removeEndListeners=ma(e,u),this.startPress(S,o)},this.startAccessiblePress=()=>{const S=e=>{if(e.key!=="Enter"||this.isPressing)return;const u=s=>{s.key!=="Enter"||!this.checkPressEnd()||w0("up",(a,n)=>{const{onTap:i}=this.node.getProps();i&&mi.update(()=>i(a,n))})};this.removeEndListeners(),this.removeEndListeners=Ds(this.node.current,"keyup",u),w0("down",(s,a)=>{this.startPress(s,a)})},o=Ds(this.node.current,"keydown",S),x=()=>{this.isPressing&&w0("cancel",(e,u)=>this.cancelPress(e,u))},t=Ds(this.node.current,"blur",x);this.removeAccessibleListeners=ma(o,t)}}startPress(S,o){this.isPressing=!0;const{onTapStart:x,whileTap:t}=this.node.getProps();t&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),x&&mi.update(()=>x(S,o))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!QM()}cancelPress(S,o){if(!this.checkPressEnd())return;const{onTapCancel:x}=this.node.getProps();x&&mi.update(()=>x(S,o))}mount(){const S=this.node.getProps(),o=bs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(S.onTapStart||S.onPointerStart)}),x=Ds(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ma(o,x)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cx=new WeakMap,B0=new WeakMap,iG=E=>{const S=cx.get(E.target);S&&S(E)},nG=E=>{E.forEach(iG)};function rG({root:E,...S}){const o=E||document;B0.has(o)||B0.set(o,{});const x=B0.get(o),t=JSON.stringify(S);return x[t]||(x[t]=new IntersectionObserver(nG,{root:E,...S})),x[t]}function sG(E,S,o){const x=rG(S);return cx.set(E,o),x.observe(E),()=>{cx.delete(E),x.unobserve(E)}}const aG={some:0,all:1};class oG extends Ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:S={}}=this.node.getProps(),{root:o,margin:x,amount:t="some",once:e}=S,u={root:o?o.current:void 0,rootMargin:x,threshold:typeof t=="number"?t:aG[t]},s=a=>{const{isIntersecting:n}=a;if(this.isInView===n||(this.isInView=n,e&&!n&&this.hasEnteredView))return;n&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",n);const{onViewportEnter:i,onViewportLeave:r}=this.node.getProps(),f=n?i:r;f&&f(a)};return sG(this.node.current,u,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:S,prevProps:o}=this.node;["amount","margin","root"].some(lG(S,o))&&this.startObserver()}unmount(){}}function lG({viewport:E={}},{viewport:S={}}={}){return o=>E[o]!==S[o]}const uG={inView:{Feature:oG},tap:{Feature:eG},focus:{Feature:tG},hover:{Feature:_V}};function qM(E,S){if(!Array.isArray(S))return!1;const o=S.length;if(o!==E.length)return!1;for(let x=0;x<o;x++)if(S[x]!==E[x])return!1;return!0}function hG(E){const S={};return E.values.forEach((o,x)=>S[x]=o.get()),S}function fG(E){const S={};return E.values.forEach((o,x)=>S[x]=o.getVelocity()),S}function mv(E,S,o){const x=E.getProps();return ay(x,S,o!==void 0?o:x.custom,hG(E),fG(E))}const cG="framerAppearId",dG="data-"+ry(cG);let rf=ji,ts=ji;rf=(E,S)=>{!E&&typeof console<"u"&&console.warn(S)},ts=(E,S)=>{if(!E)throw new Error(S)};const ga=E=>E*1e3,Ns=E=>E/1e3,vG={current:!1},_M=E=>Array.isArray(E)&&typeof E[0]=="number";function tP(E){return!!(!E||typeof E=="string"&&eP[E]||_M(E)||Array.isArray(E)&&E.every(tP))}const Dh=([E,S,o,x])=>`cubic-bezier(${E}, ${S}, ${o}, ${x})`,eP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dh([0,.65,.55,1]),circOut:Dh([.55,0,1,.45]),backIn:Dh([.31,.01,.66,-.59]),backOut:Dh([.33,1.53,.69,.99])};function iP(E){if(E)return _M(E)?Dh(E):Array.isArray(E)?E.map(iP):eP[E]}function pG(E,S,o,{delay:x=0,duration:t,repeat:e=0,repeatType:u="loop",ease:s,times:a}={}){const n={[S]:o};a&&(n.offset=a);const i=iP(s);return Array.isArray(i)&&(n.easing=i),E.animate(n,{delay:x,duration:t,easing:Array.isArray(i)?"linear":i,fill:"both",iterations:e+1,direction:u==="reverse"?"alternate":"normal"})}const xR={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},I0={},nP={};for(const E in xR)nP[E]=()=>(I0[E]===void 0&&(I0[E]=xR[E]()),I0[E]);function mG(E,{repeat:S,repeatType:o="loop"}){const x=S&&o!=="loop"&&S%2===1?0:E.length-1;return E[x]}const rP=(E,S,o)=>(((1-3*o+3*S)*E+(3*o-6*S))*E+3*S)*E,gG=1e-7,xG=12;function yG(E,S,o,x,t){let e,u,s=0;do u=S+(o-S)/2,e=rP(u,x,t)-E,e>0?o=u:S=u;while(Math.abs(e)>gG&&++s<xG);return u}function sf(E,S,o,x){if(E===S&&o===x)return ji;const t=e=>yG(e,0,1,E,o);return e=>e===0||e===1?e:rP(t(e),S,x)}const TG=sf(.42,0,1,1),SG=sf(0,0,.58,1),sP=sf(.42,0,.58,1),EG=E=>Array.isArray(E)&&typeof E[0]!="number",aP=E=>S=>S<=.5?E(2*S)/2:(2-E(2*(1-S)))/2,oP=E=>S=>1-E(1-S),lP=E=>1-Math.sin(Math.acos(E)),oy=oP(lP),CG=aP(oy),uP=sf(.33,1.53,.69,.99),ly=oP(uP),RG=aP(ly),AG=E=>(E*=2)<1?.5*ly(E):.5*(2-Math.pow(2,-10*(E-1))),yR={linear:ji,easeIn:TG,easeInOut:sP,easeOut:SG,circIn:lP,circInOut:CG,circOut:oy,backIn:ly,backInOut:RG,backOut:uP,anticipate:AG},TR=E=>{if(Array.isArray(E)){ts(E.length===4,"Cubic bezier arrays must contain four numerical values.");const[S,o,x,t]=E;return sf(S,o,x,t)}else if(typeof E=="string")return ts(yR[E]!==void 0,`Invalid easing type '${E}'`),yR[E];return E},uy=(E,S)=>o=>!!(tf(o)&&AV.test(o)&&o.startsWith(E)||S&&Object.prototype.hasOwnProperty.call(o,S)),hP=(E,S,o)=>x=>{if(!tf(x))return x;const[t,e,u,s]=x.match(Zh);return{[E]:parseFloat(t),[S]:parseFloat(e),[o]:parseFloat(u),alpha:s!==void 0?parseFloat(s):1}},MG=E=>go(0,255,E),U0={...yo,transform:E=>Math.round(MG(E))},vo={test:uy("rgb","red"),parse:hP("red","green","blue"),transform:({red:E,green:S,blue:o,alpha:x=1})=>"rgba("+U0.transform(E)+", "+U0.transform(S)+", "+U0.transform(o)+", "+Bh(wh.transform(x))+")"};function PG(E){let S="",o="",x="",t="";return E.length>5?(S=E.substring(1,3),o=E.substring(3,5),x=E.substring(5,7),t=E.substring(7,9)):(S=E.substring(1,2),o=E.substring(2,3),x=E.substring(3,4),t=E.substring(4,5),S+=S,o+=o,x+=x,t+=t),{red:parseInt(S,16),green:parseInt(o,16),blue:parseInt(x,16),alpha:t?parseInt(t,16)/255:1}}const dx={test:uy("#"),parse:PG,transform:vo.transform},Rl={test:uy("hsl","hue"),parse:hP("hue","saturation","lightness"),transform:({hue:E,saturation:S,lightness:o,alpha:x=1})=>"hsla("+Math.round(E)+", "+kr.transform(Bh(S))+", "+kr.transform(Bh(o))+", "+Bh(wh.transform(x))+")"},yn={test:E=>vo.test(E)||dx.test(E)||Rl.test(E),parse:E=>vo.test(E)?vo.parse(E):Rl.test(E)?Rl.parse(E):dx.parse(E),transform:E=>tf(E)?E:E.hasOwnProperty("red")?vo.transform(E):Rl.transform(E)},pi=(E,S,o)=>-o*E+o*S+E;function V0(E,S,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?E+(S-E)*6*o:o<1/2?S:o<2/3?E+(S-E)*(2/3-o)*6:E}function LG({hue:E,saturation:S,lightness:o,alpha:x}){E/=360,S/=100,o/=100;let t=0,e=0,u=0;if(!S)t=e=u=o;else{const s=o<.5?o*(1+S):o+S-o*S,a=2*o-s;t=V0(a,s,E+1/3),e=V0(a,s,E),u=V0(a,s,E-1/3)}return{red:Math.round(t*255),green:Math.round(e*255),blue:Math.round(u*255),alpha:x}}const G0=(E,S,o)=>{const x=E*E;return Math.sqrt(Math.max(0,o*(S*S-x)+x))},OG=[dx,vo,Rl],DG=E=>OG.find(S=>S.test(E));function SR(E){const S=DG(E);ts(!!S,`'${E}' is not an animatable color. Use the equivalent color code instead.`);let o=S.parse(E);return S===Rl&&(o=LG(o)),o}const fP=(E,S)=>{const o=SR(E),x=SR(S),t={...o};return e=>(t.red=G0(o.red,x.red,e),t.green=G0(o.green,x.green,e),t.blue=G0(o.blue,x.blue,e),t.alpha=pi(o.alpha,x.alpha,e),vo.transform(t))},cP="${c}",dP="${n}";function FG(E){var S,o;return isNaN(E)&&tf(E)&&(((S=E.match(Zh))===null||S===void 0?void 0:S.length)||0)+(((o=E.match(hx))===null||o===void 0?void 0:o.length)||0)>0}function Qd(E){typeof E=="number"&&(E=`${E}`);const S=[];let o=0,x=0;const t=E.match(hx);t&&(o=t.length,E=E.replace(hx,cP),S.push(...t.map(yn.parse)));const e=E.match(Zh);return e&&(x=e.length,E=E.replace(Zh,dP),S.push(...e.map(yo.parse))),{values:S,numColors:o,numNumbers:x,tokenised:E}}function vP(E){return Qd(E).values}function pP(E){const{values:S,numColors:o,tokenised:x}=Qd(E),t=S.length;return e=>{let u=x;for(let s=0;s<t;s++)u=u.replace(s<o?cP:dP,s<o?yn.transform(e[s]):Bh(e[s]));return u}}const bG=E=>typeof E=="number"?0:E;function NG(E){const S=vP(E);return pP(E)(S.map(bG))}const Ea={test:FG,parse:vP,createTransformer:pP,getAnimatableNone:NG};function mP(E,S){return typeof E=="number"?o=>pi(E,S,o):yn.test(E)?fP(E,S):xP(E,S)}const gP=(E,S)=>{const o=[...E],x=o.length,t=E.map((e,u)=>mP(e,S[u]));return e=>{for(let u=0;u<x;u++)o[u]=t[u](e);return o}},wG=(E,S)=>{const o={...E,...S},x={};for(const t in o)E[t]!==void 0&&S[t]!==void 0&&(x[t]=mP(E[t],S[t]));return t=>{for(const e in x)o[e]=x[e](t);return o}},xP=(E,S)=>{const o=Ea.createTransformer(S),x=Qd(E),t=Qd(S);return x.numColors===t.numColors&&x.numNumbers>=t.numNumbers?ma(gP(x.values,t.values),o):(rf(!0,`Complex values '${E}' and '${S}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),u=>`${u>0?S:E}`)},Jh=(E,S,o)=>{const x=S-E;return x===0?1:(o-E)/x},ER=(E,S)=>o=>pi(E,S,o);function BG(E){return typeof E=="number"?ER:typeof E=="string"?yn.test(E)?fP:xP:Array.isArray(E)?gP:typeof E=="object"?wG:ER}function IG(E,S,o){const x=[],t=o||BG(E[0]),e=E.length-1;for(let u=0;u<e;u++){let s=t(E[u],E[u+1]);if(S){const a=Array.isArray(S)?S[u]||ji:S;s=ma(a,s)}x.push(s)}return x}function yP(E,S,{clamp:o=!0,ease:x,mixer:t}={}){const e=E.length;if(ts(e===S.length,"Both input and output ranges must be the same length"),e===1)return()=>S[0];E[0]>E[e-1]&&(E=[...E].reverse(),S=[...S].reverse());const u=IG(S,x,t),s=u.length,a=n=>{let i=0;if(s>1)for(;i<E.length-2&&!(n<E[i+1]);i++);const r=Jh(E[i],E[i+1],n);return u[i](r)};return o?n=>a(go(E[0],E[e-1],n)):a}function UG(E,S){const o=E[E.length-1];for(let x=1;x<=S;x++){const t=Jh(0,S,x);E.push(pi(o,1,t))}}function VG(E){const S=[0];return UG(S,E.length-1),S}function GG(E,S){return E.map(o=>o*S)}function zG(E,S){return E.map(()=>S||sP).splice(0,E.length-1)}function Jd({duration:E=300,keyframes:S,times:o,ease:x="easeInOut"}){const t=EG(x)?x.map(TR):TR(x),e={done:!1,value:S[0]},u=GG(o&&o.length===S.length?o:VG(S),E),s=yP(u,S,{ease:Array.isArray(t)?t:zG(S,t)});return{calculatedDuration:E,next:a=>(e.value=s(a),e.done=a>=E,e)}}function TP(E,S){return S?E*(1e3/S):0}const YG=5;function SP(E,S,o){const x=Math.max(S-YG,0);return TP(o-E(x),S-x)}const z0=.001,XG=.01,CR=10,HG=.05,WG=1;function jG({duration:E=800,bounce:S=.25,velocity:o=0,mass:x=1}){let t,e;rf(E<=ga(CR),"Spring duration must be 10 seconds or less");let u=1-S;u=go(HG,WG,u),E=go(XG,CR,Ns(E)),u<1?(t=n=>{const i=n*u,r=i*E,f=i-o,l=vx(n,u),h=Math.exp(-r);return z0-f/l*h},e=n=>{const r=n*u*E,f=r*o+o,l=Math.pow(u,2)*Math.pow(n,2)*E,h=Math.exp(-r),c=vx(Math.pow(n,2),u);return(-t(n)+z0>0?-1:1)*((f-l)*h)/c}):(t=n=>{const i=Math.exp(-n*E),r=(n-o)*E+1;return-z0+i*r},e=n=>{const i=Math.exp(-n*E),r=(o-n)*(E*E);return i*r});const s=5/E,a=$G(t,e,s);if(E=ga(E),isNaN(a))return{stiffness:100,damping:10,duration:E};{const n=Math.pow(a,2)*x;return{stiffness:n,damping:u*2*Math.sqrt(x*n),duration:E}}}const KG=12;function $G(E,S,o){let x=o;for(let t=1;t<KG;t++)x=x-E(x)/S(x);return x}function vx(E,S){return E*Math.sqrt(1-S*S)}const ZG=["duration","bounce"],QG=["stiffness","damping","mass"];function RR(E,S){return S.some(o=>E[o]!==void 0)}function JG(E){let S={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...E};if(!RR(E,QG)&&RR(E,ZG)){const o=jG(E);S={...S,...o,velocity:0,mass:1},S.isResolvedFromDuration=!0}return S}function EP({keyframes:E,restDelta:S,restSpeed:o,...x}){const t=E[0],e=E[E.length-1],u={done:!1,value:t},{stiffness:s,damping:a,mass:n,velocity:i,duration:r,isResolvedFromDuration:f}=JG(x),l=i?-Ns(i):0,h=a/(2*Math.sqrt(s*n)),c=e-t,v=Ns(Math.sqrt(s/n)),d=Math.abs(c)<5;o||(o=d?.01:2),S||(S=d?.005:.5);let m;if(h<1){const y=vx(v,h);m=T=>{const C=Math.exp(-h*v*T);return e-C*((l+h*v*c)/y*Math.sin(y*T)+c*Math.cos(y*T))}}else if(h===1)m=y=>e-Math.exp(-v*y)*(c+(l+v*c)*y);else{const y=v*Math.sqrt(h*h-1);m=T=>{const C=Math.exp(-h*v*T),R=Math.min(y*T,300);return e-C*((l+h*v*c)*Math.sinh(R)+y*c*Math.cosh(R))/y}}return{calculatedDuration:f&&r||null,next:y=>{const T=m(y);if(f)u.done=y>=r;else{let C=l;y!==0&&(h<1?C=SP(m,y,T):C=0);const R=Math.abs(C)<=o,A=Math.abs(e-T)<=S;u.done=R&&A}return u.value=u.done?e:T,u}}}function AR({keyframes:E,velocity:S=0,power:o=.8,timeConstant:x=325,bounceDamping:t=10,bounceStiffness:e=500,modifyTarget:u,min:s,max:a,restDelta:n=.5,restSpeed:i}){const r=E[0],f={done:!1,value:r},l=P=>s!==void 0&&P<s||a!==void 0&&P>a,h=P=>s===void 0?a:a===void 0||Math.abs(s-P)<Math.abs(a-P)?s:a;let c=o*S;const v=r+c,d=u===void 0?v:u(v);d!==v&&(c=d-r);const m=P=>-c*Math.exp(-P/x),y=P=>d+m(P),T=P=>{const O=m(P),b=y(P);f.done=Math.abs(O)<=n,f.value=f.done?d:b};let C,R;const A=P=>{l(f.value)&&(C=P,R=EP({keyframes:[f.value,h(f.value)],velocity:SP(y,P,f.value),damping:t,stiffness:e,restDelta:n,restSpeed:i}))};return A(0),{calculatedDuration:null,next:P=>{let O=!1;return!R&&C===void 0&&(O=!0,T(P),A(P)),C!==void 0&&P>C?R.next(P-C):(!O&&T(P),f)}}}const kG=E=>{const S=({timestamp:o})=>E(o);return{start:()=>mi.update(S,!0),stop:()=>Sa.update(S),now:()=>fn.isProcessing?fn.timestamp:performance.now()}},qG={decay:AR,inertia:AR,tween:Jd,keyframes:Jd,spring:EP},MR=2e4;function PR(E){let S=0;const o=50;let x=E.next(S);for(;!x.done&&S<MR;)S+=o,x=E.next(S);return S>=MR?1/0:S}function kd({autoplay:E=!0,delay:S=0,driver:o=kG,keyframes:x,type:t="keyframes",repeat:e=0,repeatDelay:u=0,repeatType:s="loop",onPlay:a,onStop:n,onComplete:i,onUpdate:r,...f}){let l=1,h=!1,c,v;const d=()=>{c&&c(),v=new Promise(w=>{c=w})};d();let m;const y=qG[t]||Jd;let T;y!==Jd&&typeof x[0]!="number"&&(T=yP([0,100],x,{clamp:!1}),x=[0,100]);const C=y({...f,keyframes:x});let R;s==="mirror"&&(R=y({...f,keyframes:[...x].reverse(),velocity:-(f.velocity||0)}));let A="idle",P=null,O=null,b=null;C.calculatedDuration===null&&e&&(C.calculatedDuration=PR(C));const{calculatedDuration:D}=C;let N=1/0,B=1/0;D!==null&&(N=D+u,B=N*(e+1)-u);let U=0;const G=w=>{if(O===null)return;l>0&&(O=Math.min(O,w)),P!==null?U=P:U=(w-O)*l;const z=U-S,Y=z<0;U=Math.max(z,0),A==="finished"&&P===null&&(U=B);let H=U,j=C;if(e){const rt=U/N;let ht=Math.floor(rt),vt=rt%1;!vt&&rt>=1&&(vt=1),vt===1&&ht--,ht=Math.min(ht,e+1);const ot=!!(ht%2);ot&&(s==="reverse"?(vt=1-vt,u&&(vt-=u/N)):s==="mirror"&&(j=R));let Et=go(0,1,vt);U>B&&(Et=s==="reverse"&&ot?1:0),H=Et*N}const Z=Y?{done:!1,value:x[0]}:j.next(H);T&&(Z.value=T(Z.value));let{done:k}=Z;!Y&&D!==null&&(k=U>=B);const nt=P===null&&(A==="finished"||A==="running"&&k||l<0&&U<=0);return r&&r(Z.value),nt&&q(),Z},W=()=>{m&&m.stop(),m=void 0},$=()=>{A="idle",W(),d(),O=b=null},q=()=>{A="finished",i&&i(),W(),d()},_=()=>{if(h)return;m||(m=o(G));const w=m.now();a&&a(),A="running",P!==null?O=w-P:O||(O=w),b=O,P=null,m.start()};E&&_();const V={then(w,z){return v.then(w,z)},get time(){return Ns(U)},set time(w){w=ga(w),U=w,P!==null||!m||l===0?P=w:O=m.now()-w/l},get duration(){const w=C.calculatedDuration===null?PR(C):C.calculatedDuration;return Ns(w)},get speed(){return l},set speed(w){w===l||!m||(l=w,V.time=Ns(U))},get state(){return A},play:_,pause:()=>{A="paused",P=U},stop:()=>{h=!0,A!=="idle"&&(A="idle",n&&n(),$())},cancel:()=>{b!==null&&G(b),$()},complete:()=>{A="finished"},sample:w=>(O=0,G(w))};return V}const _G=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Rd=10,tz=2e4,ez=(E,S)=>S.type==="spring"||E==="backgroundColor"||!tP(S.ease);function iz(E,S,{onUpdate:o,onComplete:x,...t}){if(!(nP.waapi()&&_G.has(S)&&!t.repeatDelay&&t.repeatType!=="mirror"&&t.damping!==0&&t.type!=="inertia"))return!1;let u=!1,s,a;const n=()=>{a=new Promise(c=>{s=c})};n();let{keyframes:i,duration:r=300,ease:f}=t;if(ez(S,t)){const c=kd({...t,repeat:0,delay:0});let v={done:!1,value:i[0]};const d=[];let m=0;for(;!v.done&&m<tz;)v=c.sample(m),d.push(v.value),m+=Rd;i=d,r=m-Rd,f="linear"}const l=pG(E.owner.current,S,i,{...t,duration:r,ease:f}),h=()=>{mi.update(()=>l.cancel()),s(),n()};return l.onfinish=()=>{E.set(mG(i,t)),x&&x(),h()},{then(c,v){return a.then(c,v)},get time(){return Ns(l.currentTime||0)},set time(c){l.currentTime=ga(c)},get speed(){return l.playbackRate},set speed(c){l.playbackRate=c},get duration(){return Ns(r)},play:()=>{u||l.play()},pause:()=>l.pause(),stop:()=>{if(u=!0,l.playState==="idle")return;const{currentTime:c}=l;if(c){const v=kd({...t,autoplay:!1});E.setWithVelocity(v.sample(c-Rd).value,v.sample(c).value,Rd)}h()},complete:()=>l.finish(),cancel:h}}function nz({keyframes:E,delay:S,onUpdate:o,onComplete:x}){const t=()=>(o&&o(E[E.length-1]),x&&x(),{time:0,speed:1,duration:0,play:ji,pause:ji,stop:ji,then:e=>(e(),Promise.resolve()),cancel:ji,complete:ji});return S?kd({keyframes:[0,1],duration:0,delay:S,onComplete:t}):t()}const rz={type:"spring",stiffness:500,damping:25,restSpeed:10},sz=E=>({type:"spring",stiffness:550,damping:E===0?2*Math.sqrt(550):30,restSpeed:10}),az={type:"keyframes",duration:.8},oz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lz=(E,{keyframes:S})=>S.length>2?az:xo.has(E)?E.startsWith("scale")?sz(S[1]):rz:oz,px=(E,S)=>E==="zIndex"?!1:!!(typeof S=="number"||Array.isArray(S)||typeof S=="string"&&Ea.test(S)&&!S.startsWith("url(")),uz=new Set(["brightness","contrast","saturate","opacity"]);function hz(E){const[S,o]=E.slice(0,-1).split("(");if(S==="drop-shadow")return E;const[x]=o.match(Zh)||[];if(!x)return E;const t=o.replace(x,"");let e=uz.has(S)?1:0;return x!==o&&(e*=100),S+"("+e+t+")"}const fz=/([a-z-]*)\(.*?\)/g,mx={...Ea,getAnimatableNone:E=>{const S=E.match(fz);return S?S.map(hz).join(" "):E}},cz={...UM,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:mx,WebkitFilter:mx},hy=E=>cz[E];function fy(E,S){let o=hy(E);return o!==mx&&(o=Ea),o.getAnimatableNone?o.getAnimatableNone(S):void 0}function dz({when:E,delay:S,delayChildren:o,staggerChildren:x,staggerDirection:t,repeat:e,repeatType:u,repeatDelay:s,from:a,elapsed:n,...i}){return!!Object.keys(i).length}function LR(E){return E===0||typeof E=="string"&&parseFloat(E)===0&&E.indexOf(" ")===-1}function OR(E){return typeof E=="number"?0:fy("",E)}function CP(E,S){return E[S]||E.default||E}function vz(E,S,o,x){const t=px(S,o);let e=x.from!==void 0?x.from:E.get();if(e==="none"&&t&&typeof o=="string"?e=fy(S,o):LR(e)&&typeof o=="string"?e=OR(o):!Array.isArray(o)&&LR(o)&&typeof e=="string"&&(o=OR(e)),Array.isArray(o)){for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?e:o[u-1]);return o}else return[e,o]}const cy=(E,S,o,x={})=>t=>{const e=CP(x,E)||{},u=e.delay||x.delay||0;let{elapsed:s=0}=x;s=s-ga(u);const a=vz(S,E,o,e),n=a[0],i=a[a.length-1],r=px(E,n),f=px(E,i);rf(r===f,`You are trying to animate ${E} from "${n}" to "${i}". ${n} is not an animatable value - to enable this animation set ${n} to a value animatable to ${i} via the \`style\` property.`);let l={keyframes:a,velocity:S.getVelocity(),ease:"easeOut",...e,delay:-s,onUpdate:h=>{S.set(h),e.onUpdate&&e.onUpdate(h)},onComplete:()=>{t(),e.onComplete&&e.onComplete()}};if(dz(e)||(l={...l,...lz(E,l)}),l.duration&&(l.duration=ga(l.duration)),l.repeatDelay&&(l.repeatDelay=ga(l.repeatDelay)),!r||!f||vG.current||e.type===!1)return nz(l);if(S.owner&&S.owner.current instanceof HTMLElement&&!S.owner.getProps().onUpdate){const h=iz(S,E,l);if(h)return h}return kd(l)};function qd(E){return!!(bn(E)&&E.add)}const pz=E=>/^\-?\d*\.?\d+$/.test(E),mz=E=>/^0[^.\s]+$/.test(E);function dy(E,S){E.indexOf(S)===-1&&E.push(S)}function vy(E,S){const o=E.indexOf(S);o>-1&&E.splice(o,1)}class py{constructor(){this.subscriptions=[]}add(S){return dy(this.subscriptions,S),()=>vy(this.subscriptions,S)}notify(S,o,x){const t=this.subscriptions.length;if(t)if(t===1)this.subscriptions[0](S,o,x);else for(let e=0;e<t;e++){const u=this.subscriptions[e];u&&u(S,o,x)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const DR=new Set;function my(E,S,o){E||DR.has(S)||(console.warn(S),o&&console.warn(o),DR.add(S))}const gz=E=>!isNaN(parseFloat(E));class xz{constructor(S,o={}){this.version="10.10.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(x,t=!0)=>{this.prev=this.current,this.current=x;const{delta:e,timestamp:u}=fn;this.lastUpdated!==u&&(this.timeDelta=e,this.lastUpdated=u,mi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>mi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:x})=>{x!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=S,this.canTrackVelocity=gz(this.current),this.owner=o.owner}onChange(S){return my(!1,'value.onChange(callback) is deprecated. Switch to value.on("change", callback).'),this.on("change",S)}on(S,o){this.events[S]||(this.events[S]=new py);const x=this.events[S].add(o);return S==="change"?()=>{x(),mi.read(()=>{this.events.change.getSize()||this.stop()})}:x}clearListeners(){for(const S in this.events)this.events[S].clear()}attach(S,o){this.passiveEffect=S,this.stopPassiveEffect=o}set(S,o=!0){!o||!this.passiveEffect?this.updateAndNotify(S,o):this.passiveEffect(S,this.updateAndNotify)}setWithVelocity(S,o,x){this.set(o),this.prev=S,this.timeDelta=x}jump(S){this.updateAndNotify(S),this.prev=S,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?TP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(S){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=S(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fl(E,S){return new xz(E,S)}const RP=E=>S=>S.test(E),yz={test:E=>E==="auto",parse:E=>E},AP=[yo,ve,kr,ca,PV,MV,yz],Ah=E=>AP.find(RP(E)),Tz=[...AP,yn,Ea],Sz=E=>Tz.find(RP(E));function Ez(E,S,o){E.hasValue(S)?E.getValue(S).set(o):E.addValue(S,Fl(o))}function Cz(E,S){const o=mv(E,S);let{transitionEnd:x={},transition:t={},...e}=o?E.makeTargetAnimatable(o,!1):{};e={...e,...x};for(const u in e){const s=YV(e[u]);Ez(E,u,s)}}function Rz(E,S,o){var x,t;const e=Object.keys(S).filter(s=>!E.hasValue(s)),u=e.length;if(u)for(let s=0;s<u;s++){const a=e[s],n=S[a];let i=null;Array.isArray(n)&&(i=n[0]),i===null&&(i=(t=(x=o[a])!==null&&x!==void 0?x:E.readValue(a))!==null&&t!==void 0?t:S[a]),i!=null&&(typeof i=="string"&&(pz(i)||mz(i))?i=parseFloat(i):!Sz(i)&&Ea.test(n)&&(i=fy(a,n)),E.addValue(a,Fl(i,{owner:E})),o[a]===void 0&&(o[a]=i),i!==null&&E.setBaseTarget(a,i))}}function Az(E,S){return S?(S[E]||S.default||S).from:void 0}function Mz(E,S,o){const x={};for(const t in E){const e=Az(t,S);if(e!==void 0)x[t]=e;else{const u=o.getValue(t);u&&(x[t]=u.get())}}return x}function Pz({protectedKeys:E,needsAnimating:S},o){const x=E.hasOwnProperty(o)&&S[o]!==!0;return S[o]=!1,x}function MP(E,S,{delay:o=0,transitionOverride:x,type:t}={}){let{transition:e=E.getDefaultTransition(),transitionEnd:u,...s}=E.makeTargetAnimatable(S);const a=E.getValue("willChange");x&&(e=x);const n=[],i=t&&E.animationState&&E.animationState.getState()[t];for(const r in s){const f=E.getValue(r),l=s[r];if(!f||l===void 0||i&&Pz(i,r))continue;const h={delay:o,elapsed:0,...e};if(window.HandoffAppearAnimations&&!f.hasAnimated){const v=E.getProps()[dG];v&&(h.elapsed=window.HandoffAppearAnimations(v,r,f,mi))}f.start(cy(r,f,l,E.shouldReduceMotion&&xo.has(r)?{type:!1}:h));const c=f.animation;qd(a)&&(a.add(r),c.then(()=>a.remove(r))),n.push(c)}return u&&Promise.all(n).then(()=>{u&&Cz(E,u)}),n}function gx(E,S,o={}){const x=mv(E,S,o.custom);let{transition:t=E.getDefaultTransition()||{}}=x||{};o.transitionOverride&&(t=o.transitionOverride);const e=x?()=>Promise.all(MP(E,x,o)):()=>Promise.resolve(),u=E.variantChildren&&E.variantChildren.size?(a=0)=>{const{delayChildren:n=0,staggerChildren:i,staggerDirection:r}=t;return Lz(E,S,n+a,i,r,o)}:()=>Promise.resolve(),{when:s}=t;if(s){const[a,n]=s==="beforeChildren"?[e,u]:[u,e];return a().then(()=>n())}else return Promise.all([e(),u(o.delay)])}function Lz(E,S,o=0,x=0,t=1,e){const u=[],s=(E.variantChildren.size-1)*x,a=t===1?(n=0)=>n*x:(n=0)=>s-n*x;return Array.from(E.variantChildren).sort(Oz).forEach((n,i)=>{n.notify("AnimationStart",S),u.push(gx(n,S,{...e,delay:o+a(i)}).then(()=>n.notify("AnimationComplete",S)))}),Promise.all(u)}function Oz(E,S){return E.sortNodePosition(S)}function Dz(E,S,o={}){E.notify("AnimationStart",S);let x;if(Array.isArray(S)){const t=S.map(e=>gx(E,e,o));x=Promise.all(t)}else if(typeof S=="string")x=gx(E,S,o);else{const t=typeof S=="function"?mv(E,S,o.custom):S;x=Promise.all(MP(E,t,o))}return x.then(()=>E.notify("AnimationComplete",S))}const Fz=[...kx].reverse(),bz=kx.length;function Nz(E){return S=>Promise.all(S.map(({animation:o,options:x})=>Dz(E,o,x)))}function wz(E){let S=Nz(E);const o=Iz();let x=!0;const t=(a,n)=>{const i=mv(E,n);if(i){const{transition:r,transitionEnd:f,...l}=i;a={...a,...l,...f}}return a};function e(a){S=a(E)}function u(a,n){const i=E.getProps(),r=E.getVariantContext(!0)||{},f=[],l=new Set;let h={},c=1/0;for(let d=0;d<bz;d++){const m=Fz[d],y=o[m],T=i[m]!==void 0?i[m]:r[m],C=Kh(T),R=m===n?y.isActive:null;R===!1&&(c=d);let A=T===r[m]&&T!==i[m]&&C;if(A&&x&&E.manuallyAnimateOnMount&&(A=!1),y.protectedKeys={...h},!y.isActive&&R===null||!T&&!y.prevProp||fv(T)||typeof T=="boolean")continue;const P=Bz(y.prevProp,T);let O=P||m===n&&y.isActive&&!A&&C||d>c&&C;const b=Array.isArray(T)?T:[T];let D=b.reduce(t,{});R===!1&&(D={});const{prevResolvedValues:N={}}=y,B={...N,...D},U=G=>{O=!0,l.delete(G),y.needsAnimating[G]=!0};for(const G in B){const W=D[G],$=N[G];h.hasOwnProperty(G)||(W!==$?Zd(W)&&Zd($)?!qM(W,$)||P?U(G):y.protectedKeys[G]=!0:W!==void 0?U(G):l.add(G):W!==void 0&&l.has(G)?U(G):y.protectedKeys[G]=!0)}y.prevProp=T,y.prevResolvedValues=D,y.isActive&&(h={...h,...D}),x&&E.blockInitialAnimation&&(O=!1),O&&!A&&f.push(...b.map(G=>({animation:G,options:{type:m,...a}})))}if(l.size){const d={};l.forEach(m=>{const y=E.getBaseTarget(m);y!==void 0&&(d[m]=y)}),f.push({animation:d})}let v=!!f.length;return x&&i.initial===!1&&!E.manuallyAnimateOnMount&&(v=!1),x=!1,v?S(f):Promise.resolve()}function s(a,n,i){var r;if(o[a].isActive===n)return Promise.resolve();(r=E.variantChildren)===null||r===void 0||r.forEach(l=>{var h;return(h=l.animationState)===null||h===void 0?void 0:h.setActive(a,n)}),o[a].isActive=n;const f=u(i,a);for(const l in o)o[l].protectedKeys={};return f}return{animateChanges:u,setActive:s,setAnimateFunction:e,getState:()=>o}}function Bz(E,S){return typeof S=="string"?S!==E:Array.isArray(S)?!qM(S,E):!1}function lo(E=!1){return{isActive:E,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Iz(){return{animate:lo(!0),whileInView:lo(),whileHover:lo(),whileTap:lo(),whileDrag:lo(),whileFocus:lo(),exit:lo()}}class Uz extends Ra{constructor(S){super(S),S.animationState||(S.animationState=wz(S))}updateAnimationControlsSubscription(){const{animate:S}=this.node.getProps();this.unmount(),fv(S)&&(this.unmount=S.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:S}=this.node.getProps(),{animate:o}=this.node.prevProps||{};S!==o&&this.updateAnimationControlsSubscription()}unmount(){}}let Vz=0;class Gz extends Ra{constructor(){super(...arguments),this.id=Vz++}update(){if(!this.node.presenceContext)return;const{isPresent:S,onExitComplete:o,custom:x}=this.node.presenceContext,{isPresent:t}=this.node.prevPresenceContext||{};if(!this.node.animationState||S===t)return;const e=this.node.animationState.setActive("exit",!S,{custom:x??this.node.getProps().custom});o&&!S&&e.then(()=>o(this.id))}mount(){const{register:S}=this.node.presenceContext||{};S&&(this.unmount=S(this.id))}unmount(){}}const zz={animation:{Feature:Uz},exit:{Feature:Gz}},FR=(E,S)=>Math.abs(E-S);function Yz(E,S){const o=FR(E.x,S.x),x=FR(E.y,S.y);return Math.sqrt(o**2+x**2)}class PP{constructor(S,o,{transformPagePoint:x}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const n=X0(this.lastMoveEventInfo,this.history),i=this.startEvent!==null,r=Yz(n.offset,{x:0,y:0})>=3;if(!i&&!r)return;const{point:f}=n,{timestamp:l}=fn;this.history.push({...f,timestamp:l});const{onStart:h,onMove:c}=this.handlers;i||(h&&h(this.lastMoveEvent,n),this.startEvent=this.lastMoveEvent),c&&c(this.lastMoveEvent,n)},this.handlePointerMove=(n,i)=>{this.lastMoveEvent=n,this.lastMoveEventInfo=Y0(i,this.transformPagePoint),mi.update(this.updatePoint,!0)},this.handlePointerUp=(n,i)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:r,onSessionEnd:f}=this.handlers,l=X0(n.type==="pointercancel"?this.lastMoveEventInfo:Y0(i,this.transformPagePoint),this.history);this.startEvent&&r&&r(n,l),f&&f(n,l)},!KM(S))return;this.handlers=o,this.transformPagePoint=x;const t=vv(S),e=Y0(t,this.transformPagePoint),{point:u}=e,{timestamp:s}=fn;this.history=[{...u,timestamp:s}];const{onSessionStart:a}=o;a&&a(S,X0(e,this.history)),this.removeListeners=ma(bs(window,"pointermove",this.handlePointerMove),bs(window,"pointerup",this.handlePointerUp),bs(window,"pointercancel",this.handlePointerUp))}updateHandlers(S){this.handlers=S}end(){this.removeListeners&&this.removeListeners(),Sa.update(this.updatePoint)}}function Y0(E,S){return S?{point:S(E.point)}:E}function bR(E,S){return{x:E.x-S.x,y:E.y-S.y}}function X0({point:E},S){return{point:E,delta:bR(E,LP(S)),offset:bR(E,Xz(S)),velocity:Hz(S,.1)}}function Xz(E){return E[0]}function LP(E){return E[E.length-1]}function Hz(E,S){if(E.length<2)return{x:0,y:0};let o=E.length-1,x=null;const t=LP(E);for(;o>=0&&(x=E[o],!(t.timestamp-x.timestamp>ga(S)));)o--;if(!x)return{x:0,y:0};const e=Ns(t.timestamp-x.timestamp);if(e===0)return{x:0,y:0};const u={x:(t.x-x.x)/e,y:(t.y-x.y)/e};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Kn(E){return E.max-E.min}function xx(E,S=0,o=.01){return Math.abs(E-S)<=o}function NR(E,S,o,x=.5){E.origin=x,E.originPoint=pi(S.min,S.max,E.origin),E.scale=Kn(o)/Kn(S),(xx(E.scale,1,1e-4)||isNaN(E.scale))&&(E.scale=1),E.translate=pi(o.min,o.max,E.origin)-E.originPoint,(xx(E.translate)||isNaN(E.translate))&&(E.translate=0)}function Ih(E,S,o,x){NR(E.x,S.x,o.x,x?x.originX:void 0),NR(E.y,S.y,o.y,x?x.originY:void 0)}function wR(E,S,o){E.min=o.min+S.min,E.max=E.min+Kn(S)}function Wz(E,S,o){wR(E.x,S.x,o.x),wR(E.y,S.y,o.y)}function BR(E,S,o){E.min=S.min-o.min,E.max=E.min+Kn(S)}function Uh(E,S,o){BR(E.x,S.x,o.x),BR(E.y,S.y,o.y)}function jz(E,{min:S,max:o},x){return S!==void 0&&E<S?E=x?pi(S,E,x.min):Math.max(E,S):o!==void 0&&E>o&&(E=x?pi(o,E,x.max):Math.min(E,o)),E}function IR(E,S,o){return{min:S!==void 0?E.min+S:void 0,max:o!==void 0?E.max+o-(E.max-E.min):void 0}}function Kz(E,{top:S,left:o,bottom:x,right:t}){return{x:IR(E.x,o,t),y:IR(E.y,S,x)}}function UR(E,S){let o=S.min-E.min,x=S.max-E.max;return S.max-S.min<E.max-E.min&&([o,x]=[x,o]),{min:o,max:x}}function $z(E,S){return{x:UR(E.x,S.x),y:UR(E.y,S.y)}}function Zz(E,S){let o=.5;const x=Kn(E),t=Kn(S);return t>x?o=Jh(S.min,S.max-x,E.min):x>t&&(o=Jh(E.min,E.max-t,S.min)),go(0,1,o)}function Qz(E,S){const o={};return S.min!==void 0&&(o.min=S.min-E.min),S.max!==void 0&&(o.max=S.max-E.min),o}const yx=.35;function Jz(E=yx){return E===!1?E=0:E===!0&&(E=yx),{x:VR(E,"left","right"),y:VR(E,"top","bottom")}}function VR(E,S,o){return{min:GR(E,S),max:GR(E,o)}}function GR(E,S){return typeof E=="number"?E:E[S]||0}const zR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vh=()=>({x:zR(),y:zR()}),YR=()=>({min:0,max:0}),Oi=()=>({x:YR(),y:YR()});function $r(E){return[E("x"),E("y")]}function OP({top:E,left:S,right:o,bottom:x}){return{x:{min:S,max:o},y:{min:E,max:x}}}function kz({x:E,y:S}){return{top:S.min,right:E.max,bottom:S.max,left:E.min}}function qz(E,S){if(!S)return E;const o=S({x:E.left,y:E.top}),x=S({x:E.right,y:E.bottom});return{top:o.y,left:o.x,bottom:x.y,right:x.x}}function H0(E){return E===void 0||E===1}function Tx({scale:E,scaleX:S,scaleY:o}){return!H0(E)||!H0(S)||!H0(o)}function ho(E){return Tx(E)||DP(E)||E.z||E.rotate||E.rotateX||E.rotateY}function DP(E){return XR(E.x)||XR(E.y)}function XR(E){return E&&E!=="0%"}function _d(E,S,o){const x=E-o,t=S*x;return o+t}function HR(E,S,o,x,t){return t!==void 0&&(E=_d(E,t,x)),_d(E,o,x)+S}function Sx(E,S=0,o=1,x,t){E.min=HR(E.min,S,o,x,t),E.max=HR(E.max,S,o,x,t)}function FP(E,{x:S,y:o}){Sx(E.x,S.translate,S.scale,S.originPoint),Sx(E.y,o.translate,o.scale,o.originPoint)}function _z(E,S,o,x=!1){const t=o.length;if(!t)return;S.x=S.y=1;let e,u;for(let s=0;s<t;s++){e=o[s],u=e.projectionDelta;const a=e.instance;a&&a.style&&a.style.display==="contents"||(x&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Al(E,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),u&&(S.x*=u.x.scale,S.y*=u.y.scale,FP(E,u)),x&&ho(e.latestValues)&&Al(E,e.latestValues))}S.x=WR(S.x),S.y=WR(S.y)}function WR(E){return Number.isInteger(E)||E>1.0000000000001||E<.999999999999?E:1}function da(E,S){E.min=E.min+S,E.max=E.max+S}function jR(E,S,[o,x,t]){const e=S[t]!==void 0?S[t]:.5,u=pi(E.min,E.max,e);Sx(E,S[o],S[x],u,S.scale)}const tY=["x","scaleX","originX"],eY=["y","scaleY","originY"];function Al(E,S){jR(E.x,S,tY),jR(E.y,S,eY)}function bP(E,S){return OP(qz(E.getBoundingClientRect(),S))}function iY(E,S,o){const x=bP(E,o),{scroll:t}=S;return t&&(da(x.x,t.offset.x),da(x.y,t.offset.y)),x}const nY=new WeakMap;class rY{constructor(S){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oi(),this.visualElement=S}start(S,{snapToCursor:o=!1}={}){const{presenceContext:x}=this.visualElement;if(x&&x.isPresent===!1)return;const t=a=>{this.stopAnimation(),o&&this.snapToCursor(vv(a,"page").point)},e=(a,n)=>{const{drag:i,dragPropagation:r,onDragStart:f}=this.getProps();if(i&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ZM(i),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$r(h=>{let c=this.getAxisMotionValue(h).get()||0;if(kr.test(c)){const{projection:v}=this.visualElement;if(v&&v.layout){const d=v.layout.layoutBox[h];d&&(c=Kn(d)*(parseFloat(c)/100))}}this.originPoint[h]=c}),f&&mi.update(()=>f(a,n));const{animationState:l}=this.visualElement;l&&l.setActive("whileDrag",!0)},u=(a,n)=>{const{dragPropagation:i,dragDirectionLock:r,onDirectionLock:f,onDrag:l}=this.getProps();if(!i&&!this.openGlobalLock)return;const{offset:h}=n;if(r&&this.currentDirection===null){this.currentDirection=sY(h),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",n.point,h),this.updateAxis("y",n.point,h),this.visualElement.render(),l&&l(a,n)},s=(a,n)=>this.stop(a,n);this.panSession=new PP(S,{onSessionStart:t,onStart:e,onMove:u,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(S,o){const x=this.isDragging;if(this.cancel(),!x)return;const{velocity:t}=o;this.startAnimation(t);const{onDragEnd:e}=this.getProps();e&&mi.update(()=>e(S,o))}cancel(){this.isDragging=!1;const{projection:S,animationState:o}=this.visualElement;S&&(S.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:x}=this.getProps();!x&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),o&&o.setActive("whileDrag",!1)}updateAxis(S,o,x){const{drag:t}=this.getProps();if(!x||!Ad(S,t,this.currentDirection))return;const e=this.getAxisMotionValue(S);let u=this.originPoint[S]+x[S];this.constraints&&this.constraints[S]&&(u=jz(u,this.constraints[S],this.elastic[S])),e.set(u)}resolveConstraints(){const{dragConstraints:S,dragElastic:o}=this.getProps(),{layout:x}=this.visualElement.projection||{},t=this.constraints;S&&Cl(S)?this.constraints||(this.constraints=this.resolveRefConstraints()):S&&x?this.constraints=Kz(x.layoutBox,S):this.constraints=!1,this.elastic=Jz(o),t!==this.constraints&&x&&this.constraints&&!this.hasMutatedConstraints&&$r(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=Qz(x.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:S,onMeasureDragConstraints:o}=this.getProps();if(!S||!Cl(S))return!1;const x=S.current;ts(x!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:t}=this.visualElement;if(!t||!t.layout)return!1;const e=iY(x,t.root,this.visualElement.getTransformPagePoint());let u=$z(t.layout.layoutBox,e);if(o){const s=o(kz(u));this.hasMutatedConstraints=!!s,s&&(u=OP(s))}return u}startAnimation(S){const{drag:o,dragMomentum:x,dragElastic:t,dragTransition:e,dragSnapToOrigin:u,onDragTransitionEnd:s}=this.getProps(),a=this.constraints||{},n=$r(i=>{if(!Ad(i,o,this.currentDirection))return;let r=a&&a[i]||{};u&&(r={min:0,max:0});const f=t?200:1e6,l=t?40:1e7,h={type:"inertia",velocity:x?S[i]:0,bounceStiffness:f,bounceDamping:l,timeConstant:750,restDelta:1,restSpeed:10,...e,...r};return this.startAxisValueAnimation(i,h)});return Promise.all(n).then(s)}startAxisValueAnimation(S,o){const x=this.getAxisMotionValue(S);return x.start(cy(S,x,0,o))}stopAnimation(){$r(S=>this.getAxisMotionValue(S).stop())}getAxisMotionValue(S){const o="_drag"+S.toUpperCase(),x=this.visualElement.getProps(),t=x[o];return t||this.visualElement.getValue(S,(x.initial?x.initial[S]:void 0)||0)}snapToCursor(S){$r(o=>{const{drag:x}=this.getProps();if(!Ad(o,x,this.currentDirection))return;const{projection:t}=this.visualElement,e=this.getAxisMotionValue(o);if(t&&t.layout){const{min:u,max:s}=t.layout.layoutBox[o];e.set(S[o]-pi(u,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:S,dragConstraints:o}=this.getProps(),{projection:x}=this.visualElement;if(!Cl(o)||!x||!this.constraints)return;this.stopAnimation();const t={x:0,y:0};$r(u=>{const s=this.getAxisMotionValue(u);if(s){const a=s.get();t[u]=Zz({min:a,max:a},this.constraints[u])}});const{transformTemplate:e}=this.visualElement.getProps();this.visualElement.current.style.transform=e?e({},""):"none",x.root&&x.root.updateScroll(),x.updateLayout(),this.resolveConstraints(),$r(u=>{if(!Ad(u,S,null))return;const s=this.getAxisMotionValue(u),{min:a,max:n}=this.constraints[u];s.set(pi(a,n,t[u]))})}addListeners(){if(!this.visualElement.current)return;nY.set(this.visualElement,this);const S=this.visualElement.current,o=bs(S,"pointerdown",a=>{const{drag:n,dragListener:i=!0}=this.getProps();n&&i&&this.start(a)}),x=()=>{const{dragConstraints:a}=this.getProps();Cl(a)&&(this.constraints=this.resolveRefConstraints())},{projection:t}=this.visualElement,e=t.addEventListener("measure",x);t&&!t.layout&&(t.root&&t.root.updateScroll(),t.updateLayout()),x();const u=Ds(window,"resize",()=>this.scalePositionWithinConstraints()),s=t.addEventListener("didUpdate",({delta:a,hasLayoutChanged:n})=>{this.isDragging&&n&&($r(i=>{const r=this.getAxisMotionValue(i);r&&(this.originPoint[i]+=a[i].translate,r.set(r.get()+a[i].translate))}),this.visualElement.render())});return()=>{u(),o(),e(),s&&s()}}getProps(){const S=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:x=!1,dragPropagation:t=!1,dragConstraints:e=!1,dragElastic:u=yx,dragMomentum:s=!0}=S;return{...S,drag:o,dragDirectionLock:x,dragPropagation:t,dragConstraints:e,dragElastic:u,dragMomentum:s}}}function Ad(E,S,o){return(S===!0||S===E)&&(o===null||o===E)}function sY(E,S=10){let o=null;return Math.abs(E.y)>S?o="y":Math.abs(E.x)>S&&(o="x"),o}class aY extends Ra{constructor(S){super(S),this.removeGroupControls=ji,this.removeListeners=ji,this.controls=new rY(S)}mount(){const{dragControls:S}=this.node.getProps();S&&(this.removeGroupControls=S.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ji}unmount(){this.removeGroupControls(),this.removeListeners()}}const KR=E=>(S,o)=>{E&&mi.update(()=>E(S,o))};class oY extends Ra{constructor(){super(...arguments),this.removePointerDownListener=ji}onPointerDown(S){this.session=new PP(S,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:S,onPanStart:o,onPan:x,onPanEnd:t}=this.node.getProps();return{onSessionStart:KR(S),onStart:KR(o),onMove:x,onEnd:(e,u)=>{delete this.session,t&&mi.update(()=>t(e,u))}}}mount(){this.removePointerDownListener=bs(this.node.current,"pointerdown",S=>this.onPointerDown(S))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function lY(){const E=dt.useContext(Jx);if(E===null)return[!0,null];const{isPresent:S,onExitComplete:o,register:x}=E,t=dt.useId();return dt.useEffect(()=>x(t),[]),!S&&o?[!1,()=>o&&o(t)]:[!0]}function $R(E,S){return S.max===S.min?0:E/(S.max-S.min)*100}const Mh={correct:(E,S)=>{if(!S.target)return E;if(typeof E=="string")if(ve.test(E))E=parseFloat(E);else return E;const o=$R(E,S.target.x),x=$R(E,S.target.y);return`${o}% ${x}%`}},NP=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function uY(E){const S=NP.exec(E);if(!S)return[,];const[,o,x]=S;return[o,x]}const hY=4;function Ex(E,S,o=1){ts(o<=hY,`Max CSS variable fallback depth detected in property "${E}". This may indicate a circular fallback dependency.`);const[x,t]=uY(E);if(!x)return;const e=window.getComputedStyle(S).getPropertyValue(x);return e?e.trim():ux(t)?Ex(t,S,o+1):t}function fY(E,{...S},o){const x=E.current;if(!(x instanceof Element))return{target:S,transitionEnd:o};o&&(o={...o}),E.values.forEach(t=>{const e=t.get();if(!ux(e))return;const u=Ex(e,x);u&&t.set(u)});for(const t in S){const e=S[t];if(!ux(e))continue;const u=Ex(e,x);u&&(S[t]=u,o||(o={}),o[t]===void 0&&(o[t]=e))}return{target:S,transitionEnd:o}}const ZR="_$css",cY={correct:(E,{treeScale:S,projectionDelta:o})=>{const x=E,t=E.includes("var("),e=[];t&&(E=E.replace(NP,l=>(e.push(l),ZR)));const u=Ea.parse(E);if(u.length>5)return x;const s=Ea.createTransformer(E),a=typeof u[0]!="number"?1:0,n=o.x.scale*S.x,i=o.y.scale*S.y;u[0+a]/=n,u[1+a]/=i;const r=pi(n,i,.5);typeof u[2+a]=="number"&&(u[2+a]/=r),typeof u[3+a]=="number"&&(u[3+a]/=r);let f=s(u);if(t){let l=0;f=f.replace(ZR,()=>{const h=e[l];return l++,h})}return f}};class dY extends gi.Component{componentDidMount(){const{visualElement:S,layoutGroup:o,switchLayoutGroup:x,layoutId:t}=this.props,{projection:e}=S;TV(vY),e&&(o.group&&o.group.add(e),x&&x.register&&t&&x.register(e),e.root.didUpdate(),e.addEventListener("animationComplete",()=>{this.safeToRemove()}),e.setOptions({...e.options,onExitComplete:()=>this.safeToRemove()})),Nh.hasEverUpdated=!0}getSnapshotBeforeUpdate(S){const{layoutDependency:o,visualElement:x,drag:t,isPresent:e}=this.props,u=x.projection;return u&&(u.isPresent=e,t||S.layoutDependency!==o||o===void 0?u.willUpdate():this.safeToRemove(),S.isPresent!==e&&(e?u.promote():u.relegate()||mi.postRender(()=>{const s=u.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:S}=this.props.visualElement;S&&(S.root.didUpdate(),!S.currentAnimation&&S.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:S,layoutGroup:o,switchLayoutGroup:x}=this.props,{projection:t}=S;t&&(t.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(t),x&&x.deregister&&x.deregister(t))}safeToRemove(){const{safeToRemove:S}=this.props;S&&S()}render(){return null}}function wP(E){const[S,o]=lY(),x=dt.useContext(bM);return gi.createElement(dY,{...E,layoutGroup:x,switchLayoutGroup:dt.useContext(NM),isPresent:S,safeToRemove:o})}const vY={borderRadius:{...Mh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mh,borderTopRightRadius:Mh,borderBottomLeftRadius:Mh,borderBottomRightRadius:Mh,boxShadow:cY},BP=["TopLeft","TopRight","BottomLeft","BottomRight"],pY=BP.length,QR=E=>typeof E=="string"?parseFloat(E):E,JR=E=>typeof E=="number"||ve.test(E);function mY(E,S,o,x,t,e){t?(E.opacity=pi(0,o.opacity!==void 0?o.opacity:1,gY(x)),E.opacityExit=pi(S.opacity!==void 0?S.opacity:1,0,xY(x))):e&&(E.opacity=pi(S.opacity!==void 0?S.opacity:1,o.opacity!==void 0?o.opacity:1,x));for(let u=0;u<pY;u++){const s=`border${BP[u]}Radius`;let a=kR(S,s),n=kR(o,s);if(a===void 0&&n===void 0)continue;a||(a=0),n||(n=0),a===0||n===0||JR(a)===JR(n)?(E[s]=Math.max(pi(QR(a),QR(n),x),0),(kr.test(n)||kr.test(a))&&(E[s]+="%")):E[s]=n}(S.rotate||o.rotate)&&(E.rotate=pi(S.rotate||0,o.rotate||0,x))}function kR(E,S){return E[S]!==void 0?E[S]:E.borderRadius}const gY=IP(0,.5,oy),xY=IP(.5,.95,ji);function IP(E,S,o){return x=>x<E?0:x>S?1:o(Jh(E,S,x))}function qR(E,S){E.min=S.min,E.max=S.max}function nr(E,S){qR(E.x,S.x),qR(E.y,S.y)}function _R(E,S,o,x,t){return E-=S,E=_d(E,1/o,x),t!==void 0&&(E=_d(E,1/t,x)),E}function yY(E,S=0,o=1,x=.5,t,e=E,u=E){if(kr.test(S)&&(S=parseFloat(S),S=pi(u.min,u.max,S/100)-u.min),typeof S!="number")return;let s=pi(e.min,e.max,x);E===e&&(s-=S),E.min=_R(E.min,S,o,s,t),E.max=_R(E.max,S,o,s,t)}function tA(E,S,[o,x,t],e,u){yY(E,S[o],S[x],S[t],S.scale,e,u)}const TY=["x","scaleX","originX"],SY=["y","scaleY","originY"];function eA(E,S,o,x){tA(E.x,S,TY,o?o.x:void 0,x?x.x:void 0),tA(E.y,S,SY,o?o.y:void 0,x?x.y:void 0)}function iA(E){return E.translate===0&&E.scale===1}function UP(E){return iA(E.x)&&iA(E.y)}function Cx(E,S){return E.x.min===S.x.min&&E.x.max===S.x.max&&E.y.min===S.y.min&&E.y.max===S.y.max}function nA(E){return Kn(E.x)/Kn(E.y)}class EY{constructor(){this.members=[]}add(S){dy(this.members,S),S.scheduleRender()}remove(S){if(vy(this.members,S),S===this.prevLead&&(this.prevLead=void 0),S===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(S){const o=this.members.findIndex(t=>S===t);if(o===0)return!1;let x;for(let t=o;t>=0;t--){const e=this.members[t];if(e.isPresent!==!1){x=e;break}}return x?(this.promote(x),!0):!1}promote(S,o){const x=this.lead;if(S!==x&&(this.prevLead=x,this.lead=S,S.show(),x)){x.instance&&x.scheduleRender(),S.scheduleRender(),S.resumeFrom=x,o&&(S.resumeFrom.preserveOpacity=!0),x.snapshot&&(S.snapshot=x.snapshot,S.snapshot.latestValues=x.animationValues||x.latestValues),S.root&&S.root.isUpdating&&(S.isLayoutDirty=!0);const{crossfade:t}=S.options;t===!1&&x.hide()}}exitAnimationComplete(){this.members.forEach(S=>{const{options:o,resumingFrom:x}=S;o.onExitComplete&&o.onExitComplete(),x&&x.options.onExitComplete&&x.options.onExitComplete()})}scheduleRender(){this.members.forEach(S=>{S.instance&&S.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rA(E,S,o){let x="";const t=E.x.translate/S.x,e=E.y.translate/S.y;if((t||e)&&(x=`translate3d(${t}px, ${e}px, 0) `),(S.x!==1||S.y!==1)&&(x+=`scale(${1/S.x}, ${1/S.y}) `),o){const{rotate:a,rotateX:n,rotateY:i}=o;a&&(x+=`rotate(${a}deg) `),n&&(x+=`rotateX(${n}deg) `),i&&(x+=`rotateY(${i}deg) `)}const u=E.x.scale*S.x,s=E.y.scale*S.y;return(u!==1||s!==1)&&(x+=`scale(${u}, ${s})`),x||"none"}const CY=(E,S)=>E.depth-S.depth;class RY{constructor(){this.children=[],this.isDirty=!1}add(S){dy(this.children,S),this.isDirty=!0}remove(S){vy(this.children,S),this.isDirty=!0}forEach(S){this.isDirty&&this.children.sort(CY),this.isDirty=!1,this.children.forEach(S)}}function AY(E,S){const o=performance.now(),x=({timestamp:t})=>{const e=t-o;e>=S&&(Sa.read(x),E(e-S))};return mi.read(x,!0),()=>Sa.read(x)}function MY(E){window.MotionDebug&&window.MotionDebug.record(E)}function PY(E){return E instanceof SVGElement&&E.tagName!=="svg"}function LY(E,S,o){const x=bn(E)?E:Fl(E);return x.start(cy("",x,S,o)),x.animation}const sA=["","X","Y","Z"],aA=1e3;let OY=0;const fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function VP({attachResizeListener:E,defaultParent:S,measureScroll:o,checkIsScrollRoot:x,resetTransform:t}){return class{constructor(u,s={},a=S==null?void 0:S()){this.id=OY++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{fo.totalNodes=fo.resolvedTargetDeltas=fo.recalculatedProjection=0,this.nodes.forEach(bY),this.nodes.forEach(IY),this.nodes.forEach(UY),this.nodes.forEach(NY),MY(fo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=u,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0,u&&this.root.registerPotentialNode(u,this);for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new RY)}addEventListener(u,s){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new py),this.eventHandlers.get(u).add(s)}notifyListeners(u,...s){const a=this.eventHandlers.get(u);a&&a.notify(...s)}hasListeners(u){return this.eventHandlers.has(u)}registerPotentialNode(u,s){this.potentialNodes.set(u,s)}mount(u,s=!1){if(this.instance)return;this.isSVG=PY(u),this.instance=u;const{layoutId:a,layout:n,visualElement:i}=this.options;if(i&&!i.current&&i.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),s&&(n||a)&&(this.isLayoutDirty=!0),E){let r;const f=()=>this.root.updateBlockedByResize=!1;E(u,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=AY(f,250),Nh.hasAnimatedSinceResize&&(Nh.hasAnimatedSinceResize=!1,this.nodes.forEach(lA))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&i&&(a||n)&&this.addEventListener("didUpdate",({delta:r,hasLayoutChanged:f,hasRelativeTargetChanged:l,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const c=this.options.transition||i.getDefaultTransition()||XY,{onLayoutAnimationStart:v,onLayoutAnimationComplete:d}=i.getProps(),m=!this.targetLayout||!Cx(this.targetLayout,h)||l,y=!f&&l;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(r,y);const T={...CP(c,"layout"),onPlay:v,onComplete:d};(i.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else!f&&this.animationProgress===0&&lA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sa.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VY),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const r=this.path[i];r.shouldResetTransform=!0,r.updateScroll("snapshot"),r.options.layoutRoot&&r.willUpdate(!1)}const{layoutId:s,layout:a}=this.options;if(s===void 0&&!a)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oA);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(HY),this.potentialNodes.clear()),this.nodes.forEach(BY),this.nodes.forEach(DY),this.nodes.forEach(FY),this.clearAllSnapshots(),N0.update(),N0.preRender(),N0.render())}clearAllSnapshots(){this.nodes.forEach(wY),this.sharedNodes.forEach(GY)}scheduleUpdateProjection(){mi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){mi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:s}=this.options;s&&s.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let s=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(s=!1),s&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:x(this.instance),offset:o(this.instance)})}resetTransform(){if(!t)return;const u=this.isLayoutDirty||this.shouldResetTransform,s=this.projectionDelta&&!UP(this.projectionDelta),a=this.getTransformTemplate(),n=a?a(this.latestValues,""):void 0,i=n!==this.prevTransformTemplateValue;u&&(s||ho(this.latestValues)||i)&&(t(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const s=this.measurePageBox();let a=this.removeElementScroll(s);return u&&(a=this.removeTransform(a)),WY(a),{animationId:this.root.animationId,measuredBox:s,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Oi();const s=u.measureViewportBox(),{scroll:a}=this.root;return a&&(da(s.x,a.offset.x),da(s.y,a.offset.y)),s}removeElementScroll(u){const s=Oi();nr(s,u);for(let a=0;a<this.path.length;a++){const n=this.path[a],{scroll:i,options:r}=n;if(n!==this.root&&i&&r.layoutScroll){if(i.isRoot){nr(s,u);const{scroll:f}=this.root;f&&(da(s.x,-f.offset.x),da(s.y,-f.offset.y))}da(s.x,i.offset.x),da(s.y,i.offset.y)}}return s}applyTransform(u,s=!1){const a=Oi();nr(a,u);for(let n=0;n<this.path.length;n++){const i=this.path[n];!s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Al(a,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),ho(i.latestValues)&&Al(a,i.latestValues)}return ho(this.latestValues)&&Al(a,this.latestValues),a}removeTransform(u){const s=Oi();nr(s,u);for(let a=0;a<this.path.length;a++){const n=this.path[a];if(!n.instance||!ho(n.latestValues))continue;Tx(n.latestValues)&&n.updateSnapshot();const i=Oi(),r=n.measurePageBox();nr(i,r),eA(s,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,i)}return ho(this.latestValues)&&eA(s,this.latestValues),s}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(u=!1){var s;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const n=!!this.resumingFrom||this!==a;if(!(u||n&&this.isSharedProjectionDirty||this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:r,layoutId:f}=this.options;if(!(!this.layout||!(r||f))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const l=this.getClosestProjectingParent();l&&l.layout?(this.relativeParent=l,this.relativeTarget=Oi(),this.relativeTargetOrigin=Oi(),Uh(this.relativeTargetOrigin,this.layout.layoutBox,l.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oi(),this.targetWithTransforms=Oi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0),Wz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),FP(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const l=this.getClosestProjectingParent();l&&!!l.resumingFrom==!!this.resumingFrom&&!l.options.layoutScroll&&l.target?(this.relativeParent=l,this.relativeTarget=Oi(),this.relativeTargetOrigin=Oi(),Uh(this.relativeTargetOrigin,this.target,l.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tx(this.parent.latestValues)||DP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let n=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(n=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(n=!1),n)return;const{layout:i,layoutId:r}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||r))return;nr(this.layoutCorrected,this.layout.layoutBox),_z(this.layoutCorrected,this.treeScale,this.path,a);const{target:f}=s;if(!f)return;this.projectionDelta||(this.projectionDelta=Vh(),this.projectionDeltaWithTransform=Vh());const l=this.treeScale.x,h=this.treeScale.y,c=this.projectionTransform;Ih(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=rA(this.projectionDelta,this.treeScale),(this.projectionTransform!==c||this.treeScale.x!==l||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const s=this.getStack();s&&s.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,s=!1){const a=this.snapshot,n=a?a.latestValues:{},i={...this.latestValues},r=Vh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!s;const f=Oi(),l=a?a.source:void 0,h=this.layout?this.layout.source:void 0,c=l!==h,v=this.getStack(),d=!v||v.members.length<=1,m=!!(c&&!d&&this.options.crossfade===!0&&!this.path.some(YY));this.animationProgress=0;let y;this.mixTargetDelta=T=>{const C=T/1e3;uA(r.x,u.x,C),uA(r.y,u.y,C),this.setTargetDelta(r),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uh(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zY(this.relativeTarget,this.relativeTargetOrigin,f,C),y&&Cx(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Oi()),nr(y,this.relativeTarget)),c&&(this.animationValues=i,mY(i,n,this.latestValues,C,m,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sa.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mi.update(()=>{Nh.hasAnimatedSinceResize=!0,this.currentAnimation=LY(0,aA,{...u,onUpdate:s=>{this.mixTargetDelta(s),u.onUpdate&&u.onUpdate(s)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:s,target:a,layout:n,latestValues:i}=u;if(!(!s||!a||!n)){if(this!==u&&this.layout&&n&&GP(this.options.animationType,this.layout.layoutBox,n.layoutBox)){a=this.target||Oi();const r=Kn(this.layout.layoutBox.x);a.x.min=u.target.x.min,a.x.max=a.x.min+r;const f=Kn(this.layout.layoutBox.y);a.y.min=u.target.y.min,a.y.max=a.y.min+f}nr(s,a),Al(s,i),Ih(this.projectionDeltaWithTransform,this.layoutCorrected,s,i)}}registerSharedNode(u,s){this.sharedNodes.has(u)||this.sharedNodes.set(u,new EY),this.sharedNodes.get(u).add(s);const n=s.options.initialPromotionConfig;s.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(s):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:s}=this.options;return s?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:s}=this.options;return s?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:s,preserveFollowOpacity:a}={}){const n=this.getStack();n&&n.promote(this,a),u&&(this.projectionDelta=void 0,this.needsReset=!0),s&&this.setOptions({transition:s})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let s=!1;const{latestValues:a}=u;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(s=!0),!s)return;const n={};for(let i=0;i<sA.length;i++){const r="rotate"+sA[i];a[r]&&(n[r]=a[r],u.setStaticValue(r,0))}u.render();for(const i in n)u.setStaticValue(i,n[i]);u.scheduleRender()}getProjectionStyles(u={}){var s,a;const n={};if(!this.instance||this.isSVG)return n;if(this.isVisible)n.visibility="";else return{visibility:"hidden"};const i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=wd(u.pointerEvents)||"",n.transform=i?i(this.latestValues,""):"none",n;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const c={};return this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=wd(u.pointerEvents)||""),this.hasProjected&&!ho(this.latestValues)&&(c.transform=i?i({},""):"none",this.hasProjected=!1),c}const f=r.animationValues||r.latestValues;this.applyTransformsToTarget(),n.transform=rA(this.projectionDeltaWithTransform,this.treeScale,f),i&&(n.transform=i(f,n.transform));const{x:l,y:h}=this.projectionDelta;n.transformOrigin=`${l.origin*100}% ${h.origin*100}% 0`,r.animationValues?n.opacity=r===this?(a=(s=f.opacity)!==null&&s!==void 0?s:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:n.opacity=r===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const c in Kd){if(f[c]===void 0)continue;const{correct:v,applyTo:d}=Kd[c],m=n.transform==="none"?f[c]:v(f[c],r);if(d){const y=d.length;for(let T=0;T<y;T++)n[d[T]]=m}else n[c]=m}return this.options.layoutId&&(n.pointerEvents=r===this?wd(u.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var s;return(s=u.currentAnimation)===null||s===void 0?void 0:s.stop()}),this.root.nodes.forEach(oA),this.root.sharedNodes.clear()}}}function DY(E){E.updateLayout()}function FY(E){var S;const o=((S=E.resumeFrom)===null||S===void 0?void 0:S.snapshot)||E.snapshot;if(E.isLead()&&E.layout&&o&&E.hasListeners("didUpdate")){const{layoutBox:x,measuredBox:t}=E.layout,{animationType:e}=E.options,u=o.source!==E.layout.source;e==="size"?$r(r=>{const f=u?o.measuredBox[r]:o.layoutBox[r],l=Kn(f);f.min=x[r].min,f.max=f.min+l}):GP(e,o.layoutBox,x)&&$r(r=>{const f=u?o.measuredBox[r]:o.layoutBox[r],l=Kn(x[r]);f.max=f.min+l,E.relativeTarget&&!E.currentAnimation&&(E.isProjectionDirty=!0,E.relativeTarget[r].max=E.relativeTarget[r].min+l)});const s=Vh();Ih(s,x,o.layoutBox);const a=Vh();u?Ih(a,E.applyTransform(t,!0),o.measuredBox):Ih(a,x,o.layoutBox);const n=!UP(s);let i=!1;if(!E.resumeFrom){const r=E.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:f,layout:l}=r;if(f&&l){const h=Oi();Uh(h,o.layoutBox,f.layoutBox);const c=Oi();Uh(c,x,l.layoutBox),Cx(h,c)||(i=!0),r.options.layoutRoot&&(E.relativeTarget=c,E.relativeTargetOrigin=h,E.relativeParent=r)}}}E.notifyListeners("didUpdate",{layout:x,snapshot:o,delta:a,layoutDelta:s,hasLayoutChanged:n,hasRelativeTargetChanged:i})}else if(E.isLead()){const{onExitComplete:x}=E.options;x&&x()}E.options.transition=void 0}function bY(E){fo.totalNodes++,E.parent&&(E.isProjecting()||(E.isProjectionDirty=E.parent.isProjectionDirty),E.isSharedProjectionDirty||(E.isSharedProjectionDirty=!!(E.isProjectionDirty||E.parent.isProjectionDirty||E.parent.isSharedProjectionDirty)),E.isTransformDirty||(E.isTransformDirty=E.parent.isTransformDirty))}function NY(E){E.isProjectionDirty=E.isSharedProjectionDirty=E.isTransformDirty=!1}function wY(E){E.clearSnapshot()}function oA(E){E.clearMeasurements()}function BY(E){const{visualElement:S}=E.options;S&&S.getProps().onBeforeLayoutMeasure&&S.notify("BeforeLayoutMeasure"),E.resetTransform()}function lA(E){E.finishAnimation(),E.targetDelta=E.relativeTarget=E.target=void 0}function IY(E){E.resolveTargetDelta()}function UY(E){E.calcProjection()}function VY(E){E.resetRotation()}function GY(E){E.removeLeadSnapshot()}function uA(E,S,o){E.translate=pi(S.translate,0,o),E.scale=pi(S.scale,1,o),E.origin=S.origin,E.originPoint=S.originPoint}function hA(E,S,o,x){E.min=pi(S.min,o.min,x),E.max=pi(S.max,o.max,x)}function zY(E,S,o,x){hA(E.x,S.x,o.x,x),hA(E.y,S.y,o.y,x)}function YY(E){return E.animationValues&&E.animationValues.opacityExit!==void 0}const XY={duration:.45,ease:[.4,0,.1,1]};function HY(E,S){let o=E.root;for(let e=E.path.length-1;e>=0;e--)if(E.path[e].instance){o=E.path[e];break}const t=(o&&o!==E.root?o.instance:document).querySelector(`[data-projection-id="${S}"]`);t&&E.mount(t,!0)}function fA(E){E.min=Math.round(E.min),E.max=Math.round(E.max)}function WY(E){fA(E.x),fA(E.y)}function GP(E,S,o){return E==="position"||E==="preserve-aspect"&&!xx(nA(S),nA(o),.2)}const jY=VP({attachResizeListener:(E,S)=>Ds(E,"resize",S),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W0={current:void 0},zP=VP({measureScroll:E=>({x:E.scrollLeft,y:E.scrollTop}),defaultParent:()=>{if(!W0.current){const E=new jY(0,{});E.mount(window),E.setOptions({layoutScroll:!0}),W0.current=E}return W0.current},resetTransform:(E,S)=>{E.style.transform=S!==void 0?S:"none"},checkIsScrollRoot:E=>window.getComputedStyle(E).position==="fixed"}),KY={pan:{Feature:oY},drag:{Feature:aY,ProjectionNode:zP,MeasureLayout:wP}},$Y=new Set(["width","height","top","left","right","bottom","x","y"]),YP=E=>$Y.has(E),ZY=E=>Object.keys(E).some(YP),Md=E=>E===yo||E===ve,cA=(E,S)=>parseFloat(E.split(", ")[S]),dA=(E,S)=>(o,{transform:x})=>{if(x==="none"||!x)return 0;const t=x.match(/^matrix3d\((.+)\)$/);if(t)return cA(t[1],S);{const e=x.match(/^matrix\((.+)\)$/);return e?cA(e[1],E):0}},QY=new Set(["x","y","z"]),JY=dv.filter(E=>!QY.has(E));function kY(E){const S=[];return JY.forEach(o=>{const x=E.getValue(o);x!==void 0&&(S.push([o,x.get()]),x.set(o.startsWith("scale")?1:0))}),S.length&&E.render(),S}const vA={width:({x:E},{paddingLeft:S="0",paddingRight:o="0"})=>E.max-E.min-parseFloat(S)-parseFloat(o),height:({y:E},{paddingTop:S="0",paddingBottom:o="0"})=>E.max-E.min-parseFloat(S)-parseFloat(o),top:(E,{top:S})=>parseFloat(S),left:(E,{left:S})=>parseFloat(S),bottom:({y:E},{top:S})=>parseFloat(S)+(E.max-E.min),right:({x:E},{left:S})=>parseFloat(S)+(E.max-E.min),x:dA(4,13),y:dA(5,14)},qY=(E,S,o)=>{const x=S.measureViewportBox(),t=S.current,e=getComputedStyle(t),{display:u}=e,s={};u==="none"&&S.setStaticValue("display",E.display||"block"),o.forEach(n=>{s[n]=vA[n](x,e)}),S.render();const a=S.measureViewportBox();return o.forEach(n=>{const i=S.getValue(n);i&&i.jump(s[n]),E[n]=vA[n](a,e)}),E},_Y=(E,S,o={},x={})=>{S={...S},x={...x};const t=Object.keys(S).filter(YP);let e=[],u=!1;const s=[];if(t.forEach(a=>{const n=E.getValue(a);if(!E.hasValue(a))return;let i=o[a],r=Ah(i);const f=S[a];let l;if(Zd(f)){const h=f.length,c=f[0]===null?1:0;i=f[c],r=Ah(i);for(let v=c;v<h;v++)l?ts(Ah(f[v])===l,"All keyframes must be of the same type"):(l=Ah(f[v]),ts(l===r||Md(r)&&Md(l),"Keyframes must be of the same dimension as the current value"))}else l=Ah(f);if(r!==l)if(Md(r)&&Md(l)){const h=n.get();typeof h=="string"&&n.set(parseFloat(h)),typeof f=="string"?S[a]=parseFloat(f):Array.isArray(f)&&l===ve&&(S[a]=f.map(parseFloat))}else r!=null&&r.transform&&(l!=null&&l.transform)&&(i===0||f===0)?i===0?n.set(l.transform(i)):S[a]=r.transform(f):(u||(e=kY(E),u=!0),s.push(a),x[a]=x[a]!==void 0?x[a]:S[a],n.jump(f))}),s.length){const a=s.indexOf("height")>=0?window.pageYOffset:null,n=qY(S,E,s);return e.length&&e.forEach(([i,r])=>{E.getValue(i).set(r)}),E.render(),hv&&a!==null&&window.scrollTo({top:a}),{target:n,transitionEnd:x}}else return{target:S,transitionEnd:x}};function t6(E,S,o,x){return ZY(S)?_Y(E,S,o,x):{target:S,transitionEnd:x}}const e6=(E,S,o,x)=>{const t=fY(E,S,x);return S=t.target,x=t.transitionEnd,t6(E,S,o,x)},Rx={current:null},XP={current:!1};function i6(){if(XP.current=!0,!!hv)if(window.matchMedia){const E=window.matchMedia("(prefers-reduced-motion)"),S=()=>Rx.current=E.matches;E.addListener(S),S()}else Rx.current=!1}function n6(E,S,o){const{willChange:x}=S;for(const t in S){const e=S[t],u=o[t];if(bn(e))E.addValue(t,e),qd(x)&&x.add(t),my(e.version==="10.10.0",`Attempting to mix Framer Motion versions ${e.version} with 10.10.0 may not work as expected.`);else if(bn(u))E.addValue(t,Fl(e,{owner:E})),qd(x)&&x.remove(t);else if(u!==e)if(E.hasValue(t)){const s=E.getValue(t);!s.hasAnimated&&s.set(e)}else{const s=E.getStaticValue(t);E.addValue(t,Fl(s!==void 0?s:e,{owner:E}))}}for(const t in o)S[t]===void 0&&E.removeValue(t);return S}const pA=new WeakMap,HP=Object.keys($h),r6=HP.length,mA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],s6=qx.length;class a6{constructor({parent:S,props:o,presenceContext:x,reducedMotionConfig:t,visualState:e},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>mi.render(this.render,!1,!0);const{latestValues:s,renderState:a}=e;this.latestValues=s,this.baseTarget={...s},this.initialValues=o.initial?{...s}:{},this.renderState=a,this.parent=S,this.props=o,this.presenceContext=x,this.depth=S?S.depth+1:0,this.reducedMotionConfig=t,this.options=u,this.isControllingVariants=cv(o),this.isVariantNode=DM(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(S&&S.current);const{willChange:n,...i}=this.scrapeMotionValuesFromProps(o,{});for(const r in i){const f=i[r];s[r]!==void 0&&bn(f)&&(f.set(s[r],!1),qd(n)&&n.add(r))}}scrapeMotionValuesFromProps(S,o){return{}}mount(S){this.current=S,pA.set(S,this),this.projection&&this.projection.mount(S),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,x)=>this.bindToMotionValue(x,o)),XP.current||i6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rx.current,my(this.shouldReduceMotion!==!0,"You have Reduced Motion enabled on your device. Animations may not appear as expected."),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pA.delete(this.current),this.projection&&this.projection.unmount(),Sa.update(this.notifyUpdate),Sa.render(this.render),this.valueSubscriptions.forEach(S=>S()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const S in this.events)this.events[S].clear();for(const S in this.features)this.features[S].unmount();this.current=null}bindToMotionValue(S,o){const x=xo.has(S),t=o.on("change",u=>{this.latestValues[S]=u,this.props.onUpdate&&mi.update(this.notifyUpdate,!1,!0),x&&this.projection&&(this.projection.isTransformDirty=!0)}),e=o.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(S,()=>{t(),e()})}sortNodePosition(S){return!this.current||!this.sortInstanceNodePosition||this.type!==S.type?0:this.sortInstanceNodePosition(this.current,S.current)}loadFeatures({children:S,...o},x,t,e,u){let s,a;if(t&&x){const n="You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.";o.ignoreStrict?rf(!1,n):ts(!1,n)}for(let n=0;n<r6;n++){const i=HP[n],{isEnabled:r,Feature:f,ProjectionNode:l,MeasureLayout:h}=$h[i];l&&(s=l),r(o)&&(!this.features[i]&&f&&(this.features[i]=new f(this)),h&&(a=h))}if(!this.projection&&s){this.projection=new s(e,this.latestValues,this.parent&&this.parent.projection);const{layoutId:n,layout:i,drag:r,dragConstraints:f,layoutScroll:l,layoutRoot:h}=o;this.projection.setOptions({layoutId:n,layout:i,alwaysMeasureLayout:!!r||f&&Cl(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof i=="string"?i:"both",initialPromotionConfig:u,layoutScroll:l,layoutRoot:h})}return a}updateFeatures(){for(const S in this.features){const o=this.features[S];o.isMounted?o.update(this.props,this.prevProps):(o.mount(),o.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oi()}getStaticValue(S){return this.latestValues[S]}setStaticValue(S,o){this.latestValues[S]=o}makeTargetAnimatable(S,o=!0){return this.makeTargetAnimatableFromInstance(S,this.props,o)}update(S,o){(S.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=S,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let x=0;x<mA.length;x++){const t=mA[x];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const e=S["on"+t];e&&(this.propEventSubscriptions[t]=this.on(t,e))}this.prevMotionValues=n6(this,this.scrapeMotionValuesFromProps(S,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(S){return this.props.variants?this.props.variants[S]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(S=!1){if(S)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const x=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(x.initial=this.props.initial),x}const o={};for(let x=0;x<s6;x++){const t=qx[x],e=this.props[t];(Kh(e)||e===!1)&&(o[t]=e)}return o}addVariantChild(S){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(S),()=>o.variantChildren.delete(S)}addValue(S,o){o!==this.values.get(S)&&(this.removeValue(S),this.bindToMotionValue(S,o)),this.values.set(S,o),this.latestValues[S]=o.get()}removeValue(S){this.values.delete(S);const o=this.valueSubscriptions.get(S);o&&(o(),this.valueSubscriptions.delete(S)),delete this.latestValues[S],this.removeValueFromRenderState(S,this.renderState)}hasValue(S){return this.values.has(S)}getValue(S,o){if(this.props.values&&this.props.values[S])return this.props.values[S];let x=this.values.get(S);return x===void 0&&o!==void 0&&(x=Fl(o,{owner:this}),this.addValue(S,x)),x}readValue(S){return this.latestValues[S]!==void 0||!this.current?this.latestValues[S]:this.readValueFromInstance(this.current,S,this.options)}setBaseTarget(S,o){this.baseTarget[S]=o}getBaseTarget(S){var o;const{initial:x}=this.props,t=typeof x=="string"||typeof x=="object"?(o=ay(this.props,x))===null||o===void 0?void 0:o[S]:void 0;if(x&&t!==void 0)return t;const e=this.getBaseTargetFromProps(this.props,S);return e!==void 0&&!bn(e)?e:this.initialValues[S]!==void 0&&t===void 0?void 0:this.baseTarget[S]}on(S,o){return this.events[S]||(this.events[S]=new py),this.events[S].add(o)}notify(S,...o){this.events[S]&&this.events[S].notify(...o)}}class WP extends a6{sortInstanceNodePosition(S,o){return S.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(S,o){return S.style?S.style[o]:void 0}removeValueFromRenderState(S,{vars:o,style:x}){delete o[S],delete x[S]}makeTargetAnimatableFromInstance({transition:S,transitionEnd:o,...x},{transformValues:t},e){let u=Mz(x,S||{},this);if(t&&(o&&(o=t(o)),x&&(x=t(x)),u&&(u=t(u))),e){Rz(this,x,u);const s=e6(this,x,u,o);o=s.transitionEnd,x=s.target}return{transition:S,transitionEnd:o,...x}}}function o6(E){return window.getComputedStyle(E)}class l6 extends WP{readValueFromInstance(S,o){if(xo.has(o)){const x=hy(o);return x&&x.default||0}else{const x=o6(S),t=(IM(o)?x.getPropertyValue(o):x[o])||0;return typeof t=="string"?t.trim():t}}measureInstanceViewportBox(S,{transformPagePoint:o}){return bP(S,o)}build(S,o,x,t){ty(S,o,x,t.transformTemplate)}scrapeMotionValuesFromProps(S,o){return sy(S,o)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:S}=this.props;bn(S)&&(this.childSubscription=S.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}renderInstance(S,o,x,t){YM(S,o,x,t)}}class u6 extends WP{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(S,o){return S[o]}readValueFromInstance(S,o){if(xo.has(o)){const x=hy(o);return x&&x.default||0}return o=XM.has(o)?o:ry(o),S.getAttribute(o)}measureInstanceViewportBox(){return Oi()}scrapeMotionValuesFromProps(S,o){return WM(S,o)}build(S,o,x,t){iy(S,o,x,this.isSVGTag,t.transformTemplate)}renderInstance(S,o,x,t){HM(S,o,x,t)}mount(S){this.isSVGTag=ny(S.tagName),super.mount(S)}}const h6=(E,S)=>_x(E)?new u6(S,{enableHardwareAcceleration:!1}):new l6(S,{enableHardwareAcceleration:!0}),f6={layout:{ProjectionNode:zP,MeasureLayout:wP}},c6={...zz,...uG,...KY,...f6},d6=xV((E,S)=>KV(E,S,c6,h6)),v6=3e3,p6=()=>{const{messages:E,tabChat:S}=$n(),[o,x]=dt.useState(!0);return dt.useEffect(()=>{let t;return S||(t=setTimeout(()=>{x(!1)},v6)),x(!0),()=>clearTimeout(t)},[S,E]),xt.jsxDEV(ii,{as:d6.div,animate:{opacity:o?1:0},sx:{flex:1,m:2,flexDirection:"column",justifyContent:"end",height:"20vh",maskImage:"linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 1))",borderRadius:3},children:E==null?void 0:E.map(t=>xt.jsxDEV(m6,{data:t},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MessageBox.tsx",lineNumber:41,columnNumber:16},globalThis))},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MessageBox.tsx",lineNumber:25,columnNumber:5},globalThis)},m6=({data:E})=>{const{from:S,message:o,type:x}=E??{},t={chat:"white",error:"danger",info:"magic"},e=(t==null?void 0:t[x])||"white";return xt.jsxDEV(ii,{sx:{color:e,gap:1,flexGrow:0},children:[xt.jsxDEV(Ri,{sx:{flexShrink:0},children:[S||"Server",":"]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MessageBox.tsx",lineNumber:57,columnNumber:7},globalThis),xt.jsxDEV(Ri,{sx:{flex:1},children:o},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/MessageBox.tsx",lineNumber:58,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/MessageBox.tsx",lineNumber:56,columnNumber:5},globalThis)},jP={transition:"none",padding:12,borderRadius:5,zIndex:8888};const KP=dt.createContext(),$n=()=>dt.useContext(KP);function g6({socket:E,debug:S,game:o}){var O;const[x,t]=dt.useState(!0),[e,u]=dt.useState(),[s,a]=dt.useState(),[n,i]=dt.useState(),[r,f]=dt.useState([]),[l,h]=dt.useState(!1),[c,v]=dt.useState(!1),[d,m]=dt.useState(!1),[y,T]=dt.useState(!1),[C,R]=dt.useState(!1),[A,P]=dt.useState(0);if(dt.useEffect(()=>{const b=()=>{t(!0)},D=()=>{t(!1)},N=w=>{f(z=>[...z,w])},B=w=>{f(z=>[...z,{type:"info",message:"A player has joined the game."}])},U=(w={})=>{const{players:z,socketId:Y}=w,H=z==null?void 0:z.find(j=>(j==null?void 0:j.socketId)===Y);localStorage.setItem("socketId",Y),a(H)},G=(w={})=>{localStorage.getItem("socketId")===(w==null?void 0:w.socketId)&&a(w)},W=w=>{var j;const z=o.scene.getScene("SceneMain"),Y=z.hero,H=z.npcs.getChildren().find(Z=>(Z==null?void 0:Z.id)===(w==null?void 0:w.npcId));((j=Y==null?void 0:Y.state)==null?void 0:j.targetNpcId)===(w==null?void 0:w.npcId)&&(i({...H,keeperData:w==null?void 0:w.keeperData}),h(!0))},$=()=>{var Z,k;const w=o.scene.getScene("SceneMain"),z=w.hero,Y=(k=(Z=w==null?void 0:w.hero)==null?void 0:Z.state)==null?void 0:k.targetNpcId,H=w.npcs.getChildren().find(nt=>(nt==null?void 0:nt.id)===Y),j=rv(z,H);h(nt=>{var rt;if(nt||(E.emit("chatNpc",{npcId:(rt=z==null?void 0:z.state)==null?void 0:rt.targetNpcId}),(z==null?void 0:z.direction)!==j&&E.emit("changeDirection",j)),nt)return!1})},q=({player:w})=>{localStorage.getItem("socketId")===(w==null?void 0:w.socketId)&&a(w)},_=()=>{const w=o.scene.getScene("SceneMain").hero;a(z=>({...z,state:w==null?void 0:w.state,stats:w==null?void 0:w.stats}))},V=w=>{R(!!(w!=null&&w.detail)),w!=null&&w.detail||h(!1)};return E.on("connect",b),E.on("disconnect",D),E.on("heroInit",U),E.on("playerUpdate",G),E.on("lootGrabbed",q),E.on("keeperDataUpdate",W),E.on("message",N),E.on("playerJoin",B),window.addEventListener("HERO_NEAR_NPC",V),window.addEventListener("HERO_CHAT_NPC",$),window.addEventListener("UPDATE_HUD",_),window.addEventListener("HERO_RESPAWN",_),()=>{E.off("connect",b),E.off("disconnect",D),E.off("heroInit",U),E.off("playerUpdate",G),E.off("lootGrabbed",q),E.off("keeperDataUpdate",W),E.off("message",N),E.off("playerJoin",B),window.removeEventListener("HERO_NEAR_NPC",V),window.removeEventListener("HERO_CHAT_NPC",$),window.removeEventListener("UPDATE_HUD",_),window.removeEventListener("HERO_RESPAWN",_)}},[]),rV(()=>{const b=window.innerHeight,D=window.visualViewport.height;let N=b-D;P(N>0?N:0)}),!!s)return xt.jsxDEV(K5,{theme:uM,children:xt.jsxDEV(KP.Provider,{value:{isConnected:x,showButtonChat:C,setShowButtonChat:R,setIsConnected:t,setTabEquipment:v,setTabInventory:m,setTabKeeper:h,setKeeper:i,setTabChat:T,setDropItem:u,messages:r,bottomOffset:A,dropItem:e,tabEquipment:c,tabInventory:d,tabChat:y,keeper:n,tabKeeper:l,hero:s,socket:E,debug:S,game:o},children:[((O=s==null?void 0:s.state)==null?void 0:O.isDead)&&xt.jsxDEV(aV,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:189,columnNumber:33},this),e&&xt.jsxDEV(oV,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:190,columnNumber:22},this),xt.jsxDEV(nV,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:191,columnNumber:9},this),xt.jsxDEV(y6,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:192,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:163,columnNumber:7},this)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:162,columnNumber:5},this)}const j0=({eventName:E,iconName:S,size:o,keyboardKey:x})=>xt.jsxDEV(hi,{sx:{position:"relative",flexShrink:0},children:[xt.jsxDEV(nv,{variant:"menu",onTouchStart:t=>{window.dispatchEvent(new Event(E))},sx:{p:o,borderRadius:"100%"},children:xt.jsxDEV(xa,{icon:`../assets/icons/${S}.png`},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:211,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:201,columnNumber:7},globalThis),xt.jsxDEV(lv,{name:x,hidden:po,onKeyUp:t=>{window.dispatchEvent(new Event(E))}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:213,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:200,columnNumber:5},globalThis),x6=()=>{const{showButtonChat:E}=$n();return xt.jsxDEV(ii,{sx:{gap:2,p:1,py:2,justifyContent:"end",alignItems:"flex-end"},children:[E&&xt.jsxDEV(j0,{size:24,iconName:"chat",eventName:"HERO_CHAT_NPC",keyboardKey:"C"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:237,columnNumber:9},globalThis),xt.jsxDEV(j0,{size:24,iconName:"grab",eventName:"HERO_GRAB",keyboardKey:"F"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:244,columnNumber:7},globalThis),xt.jsxDEV(j0,{size:24,iconName:"handRight",eventName:"HERO_ATTACK",keyboardKey:"SPACE"},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:250,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:227,columnNumber:5},globalThis)},K0=({keyboardKey:E,onClick:S,iconName:o,isActive:x,children:t,sx:e})=>xt.jsxDEV(nv,{variant:"menu",className:x?"active":"",onClick:S,sx:{position:"relative",flexShrink:0,...e},children:[xt.jsxDEV(xa,{icon:`../assets/icons/${o}.png`},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:275,columnNumber:7},globalThis),t,!po&&xt.jsxDEV(lv,{sx:{bottom:"-3px",right:"-3px"},name:E,onKeyUp:S},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:278,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:269,columnNumber:5},globalThis),y6=()=>{const{isConnected:E,tabEquipment:S,setTabEquipment:o,tabInventory:x,setTabInventory:t,tabChat:e,setTabKeeper:u,setTabChat:s,tabKeeper:a,dropItem:n,setDropItem:i,bottomOffset:r,socket:f}=$n();return xt.jsxDEV(ii,{sx:{flexDirection:"column",pointerEvents:"none",boxSizing:"border-box",position:"fixed",bottom:r,left:0,right:0},children:[xt.jsxDEV(ii,{sx:{flex:1},children:[xt.jsxDEV(p6,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:318,columnNumber:9},globalThis),xt.jsxDEV(x6,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:319,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:317,columnNumber:7},globalThis),xt.jsxDEV(eV,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:321,columnNumber:7},globalThis),xt.jsxDEV(q4,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:322,columnNumber:7},globalThis),xt.jsxDEV(_4,{},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:323,columnNumber:7},globalThis),xt.jsxDEV(ii,{sx:{gap:1,alignItems:"center",justifyContent:"end",bg:"shadow.30",p:2},children:[xt.jsxDEV(hi,{children:E?xt.jsxDEV(xa,{icon:"../assets/icons/success.png",sx:{opacity:.5}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:335,columnNumber:13},globalThis):xt.jsxDEV(xa,{icon:"../assets/icons/danger.png",sx:{opacity:.5}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:337,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:333,columnNumber:9},globalThis),xt.jsxDEV(hi,{sx:{flex:e?"unset":1}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:340,columnNumber:9},globalThis),xt.jsxDEV(K0,{keyboardKey:e?"ENTER":"T",iconName:"chat",sx:{flex:e?1:"unset"},isActive:e,onClick:()=>s(l=>!l),children:e&&xt.jsxDEV(PM,{sx:{flex:1},autoFocus:!0,onKeyDown:l=>{var c;const h=(c=l==null?void 0:l.target)==null?void 0:c.value;l.keyCode===13&&((h==null?void 0:h.trim())!==""&&f.emit("message",{message:h}),s(!1))},onClickOutside:()=>{s(!1)},onBlur:l=>{var c;const h=(c=l==null?void 0:l.target)==null?void 0:c.value;h&&po&&(h==null?void 0:h.trim())!==""&&f.emit("message",{message:h}),s(!1)}},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:349,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:341,columnNumber:9},globalThis),xt.jsxDEV(K0,{keyboardKey:"E",iconName:"helmet",isActive:S,onClick:()=>o(l=>!l)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:375,columnNumber:9},globalThis),xt.jsxDEV(K0,{keyboardKey:"D",iconName:"bag",isActive:x,onClick:()=>t(l=>!l)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:381,columnNumber:9},globalThis),xt.jsxDEV(lv,{name:"ESCAPE",hidden:!0,onKeyUp:l=>{if(n)return i(!1);if(a)return u(!1);if(S)return o(!1);if(x)return t(!1);if(e)return s(!1)}},`esc-${e}-${n}-${S}-${x}-${a}`,!1,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:387,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:324,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/trevor/Projects/aether/src/ui/App.tsx",lineNumber:306,columnNumber:5},globalThis)},es=Object.create(null);es.open="0";es.close="1";es.ping="2";es.pong="3";es.message="4";es.upgrade="5";es.noop="6";const Bd=Object.create(null);Object.keys(es).forEach(E=>{Bd[es[E]]=E});const T6={type:"error",data:"parser error"},S6=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",E6=typeof ArrayBuffer=="function",C6=E=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(E):E&&E.buffer instanceof ArrayBuffer,$P=({type:E,data:S},o,x)=>S6&&S instanceof Blob?o?x(S):gA(S,x):E6&&(S instanceof ArrayBuffer||C6(S))?o?x(S):gA(new Blob([S]),x):x(es[E]+(S||"")),gA=(E,S)=>{const o=new FileReader;return o.onload=function(){const x=o.result.split(",")[1];S("b"+(x||""))},o.readAsDataURL(E)},xA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let E=0;E<xA.length;E++)Fh[xA.charCodeAt(E)]=E;const R6=E=>{let S=E.length*.75,o=E.length,x,t=0,e,u,s,a;E[E.length-1]==="="&&(S--,E[E.length-2]==="="&&S--);const n=new ArrayBuffer(S),i=new Uint8Array(n);for(x=0;x<o;x+=4)e=Fh[E.charCodeAt(x)],u=Fh[E.charCodeAt(x+1)],s=Fh[E.charCodeAt(x+2)],a=Fh[E.charCodeAt(x+3)],i[t++]=e<<2|u>>4,i[t++]=(u&15)<<4|s>>2,i[t++]=(s&3)<<6|a&63;return n},A6=typeof ArrayBuffer=="function",ZP=(E,S)=>{if(typeof E!="string")return{type:"message",data:QP(E,S)};const o=E.charAt(0);return o==="b"?{type:"message",data:M6(E.substring(1),S)}:Bd[o]?E.length>1?{type:Bd[o],data:E.substring(1)}:{type:Bd[o]}:T6},M6=(E,S)=>{if(A6){const o=R6(E);return QP(o,S)}else return{base64:!0,data:E}},QP=(E,S)=>{switch(S){case"blob":return E instanceof ArrayBuffer?new Blob([E]):E;case"arraybuffer":default:return E}},JP=String.fromCharCode(30),P6=(E,S)=>{const o=E.length,x=new Array(o);let t=0;E.forEach((e,u)=>{$P(e,!1,s=>{x[u]=s,++t===o&&S(x.join(JP))})})},L6=(E,S)=>{const o=E.split(JP),x=[];for(let t=0;t<o.length;t++){const e=ZP(o[t],S);if(x.push(e),e.type==="error")break}return x},kP=4;function Fi(E){if(E)return O6(E)}function O6(E){for(var S in Fi.prototype)E[S]=Fi.prototype[S];return E}Fi.prototype.on=Fi.prototype.addEventListener=function(E,S){return this._callbacks=this._callbacks||{},(this._callbacks["$"+E]=this._callbacks["$"+E]||[]).push(S),this};Fi.prototype.once=function(E,S){function o(){this.off(E,o),S.apply(this,arguments)}return o.fn=S,this.on(E,o),this};Fi.prototype.off=Fi.prototype.removeListener=Fi.prototype.removeAllListeners=Fi.prototype.removeEventListener=function(E,S){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+E];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+E],this;for(var x,t=0;t<o.length;t++)if(x=o[t],x===S||x.fn===S){o.splice(t,1);break}return o.length===0&&delete this._callbacks["$"+E],this};Fi.prototype.emit=function(E){this._callbacks=this._callbacks||{};for(var S=new Array(arguments.length-1),o=this._callbacks["$"+E],x=1;x<arguments.length;x++)S[x-1]=arguments[x];if(o){o=o.slice(0);for(var x=0,t=o.length;x<t;++x)o[x].apply(this,S)}return this};Fi.prototype.emitReserved=Fi.prototype.emit;Fi.prototype.listeners=function(E){return this._callbacks=this._callbacks||{},this._callbacks["$"+E]||[]};Fi.prototype.hasListeners=function(E){return!!this.listeners(E).length};const rr=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function qP(E,...S){return S.reduce((o,x)=>(E.hasOwnProperty(x)&&(o[x]=E[x]),o),{})}const D6=rr.setTimeout,F6=rr.clearTimeout;function gv(E,S){S.useNativeTimers?(E.setTimeoutFn=D6.bind(rr),E.clearTimeoutFn=F6.bind(rr)):(E.setTimeoutFn=rr.setTimeout.bind(rr),E.clearTimeoutFn=rr.clearTimeout.bind(rr))}const b6=1.33;function N6(E){return typeof E=="string"?w6(E):Math.ceil((E.byteLength||E.size)*b6)}function w6(E){let S=0,o=0;for(let x=0,t=E.length;x<t;x++)S=E.charCodeAt(x),S<128?o+=1:S<2048?o+=2:S<55296||S>=57344?o+=3:(x++,o+=4);return o}class B6 extends Error{constructor(S,o,x){super(S),this.description=o,this.context=x,this.type="TransportError"}}class _P extends Fi{constructor(S){super(),this.writable=!1,gv(this,S),this.opts=S,this.query=S.query,this.socket=S.socket}onError(S,o,x){return super.emitReserved("error",new B6(S,o,x)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(S){this.readyState==="open"&&this.write(S)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(S){const o=ZP(S,this.socket.binaryType);this.onPacket(o)}onPacket(S){super.emitReserved("packet",S)}onClose(S){this.readyState="closed",super.emitReserved("close",S)}pause(S){}}const t2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ax=64,I6={};let yA=0,Pd=0,TA;function SA(E){let S="";do S=t2[E%Ax]+S,E=Math.floor(E/Ax);while(E>0);return S}function e2(){const E=SA(+new Date);return E!==TA?(yA=0,TA=E):E+"."+SA(yA++)}for(;Pd<Ax;Pd++)I6[t2[Pd]]=Pd;function i2(E){let S="";for(let o in E)E.hasOwnProperty(o)&&(S.length&&(S+="&"),S+=encodeURIComponent(o)+"="+encodeURIComponent(E[o]));return S}function U6(E){let S={},o=E.split("&");for(let x=0,t=o.length;x<t;x++){let e=o[x].split("=");S[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return S}let n2=!1;try{n2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const V6=n2;function r2(E){const S=E.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!S||V6))return new XMLHttpRequest}catch{}if(!S)try{return new rr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function G6(){}const z6=function(){return new r2({xdomain:!1}).responseType!=null}();class Y6 extends _P{constructor(S){if(super(S),this.polling=!1,typeof location<"u"){const x=location.protocol==="https:";let t=location.port;t||(t=x?"443":"80"),this.xd=typeof location<"u"&&S.hostname!==location.hostname||t!==S.port,this.xs=S.secure!==x}const o=S&&S.forceBase64;this.supportsBinary=z6&&!o}get name(){return"polling"}doOpen(){this.poll()}pause(S){this.readyState="pausing";const o=()=>{this.readyState="paused",S()};if(this.polling||!this.writable){let x=0;this.polling&&(x++,this.once("pollComplete",function(){--x||o()})),this.writable||(x++,this.once("drain",function(){--x||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(S){const o=x=>{if(this.readyState==="opening"&&x.type==="open"&&this.onOpen(),x.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(x)};L6(S,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const S=()=>{this.write([{type:"close"}])};this.readyState==="open"?S():this.once("open",S)}write(S){this.writable=!1,P6(S,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let S=this.query||{};const o=this.opts.secure?"https":"http";let x="";this.opts.timestampRequests!==!1&&(S[this.opts.timestampParam]=e2()),!this.supportsBinary&&!S.sid&&(S.b64=1),this.opts.port&&(o==="https"&&Number(this.opts.port)!==443||o==="http"&&Number(this.opts.port)!==80)&&(x=":"+this.opts.port);const t=i2(S),e=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(e?"["+this.opts.hostname+"]":this.opts.hostname)+x+this.opts.path+(t.length?"?"+t:"")}request(S={}){return Object.assign(S,{xd:this.xd,xs:this.xs},this.opts),new qr(this.uri(),S)}doWrite(S,o){const x=this.request({method:"POST",data:S});x.on("success",o),x.on("error",(t,e)=>{this.onError("xhr post error",t,e)})}doPoll(){const S=this.request();S.on("data",this.onData.bind(this)),S.on("error",(o,x)=>{this.onError("xhr poll error",o,x)}),this.pollXhr=S}}class qr extends Fi{constructor(S,o){super(),gv(this,o),this.opts=o,this.method=o.method||"GET",this.uri=S,this.async=o.async!==!1,this.data=o.data!==void 0?o.data:null,this.create()}create(){const S=qP(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");S.xdomain=!!this.opts.xd,S.xscheme=!!this.opts.xs;const o=this.xhr=new r2(S);try{o.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let x in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(x)&&o.setRequestHeader(x,this.opts.extraHeaders[x])}}catch{}if(this.method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in o&&(o.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(o.timeout=this.opts.requestTimeout),o.onreadystatechange=()=>{o.readyState===4&&(o.status===200||o.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof o.status=="number"?o.status:0)},0))},o.send(this.data)}catch(x){this.setTimeoutFn(()=>{this.onError(x)},0);return}typeof document<"u"&&(this.index=qr.requestsCount++,qr.requests[this.index]=this)}onError(S){this.emitReserved("error",S,this.xhr),this.cleanup(!0)}cleanup(S){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=G6,S)try{this.xhr.abort()}catch{}typeof document<"u"&&delete qr.requests[this.index],this.xhr=null}}onLoad(){const S=this.xhr.responseText;S!==null&&(this.emitReserved("data",S),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}qr.requestsCount=0;qr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",EA);else if(typeof addEventListener=="function"){const E="onpagehide"in rr?"pagehide":"unload";addEventListener(E,EA,!1)}}function EA(){for(let E in qr.requests)qr.requests.hasOwnProperty(E)&&qr.requests[E].abort()}const s2=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?S=>Promise.resolve().then(S):(S,o)=>o(S,0))(),Ld=rr.WebSocket||rr.MozWebSocket,CA=!0,X6="arraybuffer",RA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class H6 extends _P{constructor(S){super(S),this.supportsBinary=!S.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const S=this.uri(),o=this.opts.protocols,x=RA?{}:qP(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(x.headers=this.opts.extraHeaders);try{this.ws=CA&&!RA?o?new Ld(S,o):new Ld(S):new Ld(S,o,x)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||X6,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=S=>this.onClose({description:"websocket connection closed",context:S}),this.ws.onmessage=S=>this.onData(S.data),this.ws.onerror=S=>this.onError("websocket error",S)}write(S){this.writable=!1;for(let o=0;o<S.length;o++){const x=S[o],t=o===S.length-1;$P(x,this.supportsBinary,e=>{const u={};try{CA&&this.ws.send(e)}catch{}t&&s2(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let S=this.query||{};const o=this.opts.secure?"wss":"ws";let x="";this.opts.port&&(o==="wss"&&Number(this.opts.port)!==443||o==="ws"&&Number(this.opts.port)!==80)&&(x=":"+this.opts.port),this.opts.timestampRequests&&(S[this.opts.timestampParam]=e2()),this.supportsBinary||(S.b64=1);const t=i2(S),e=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(e?"["+this.opts.hostname+"]":this.opts.hostname)+x+this.opts.path+(t.length?"?"+t:"")}check(){return!!Ld}}const W6={websocket:H6,polling:Y6},j6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,K6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Mx(E){const S=E,o=E.indexOf("["),x=E.indexOf("]");o!=-1&&x!=-1&&(E=E.substring(0,o)+E.substring(o,x).replace(/:/g,";")+E.substring(x,E.length));let t=j6.exec(E||""),e={},u=14;for(;u--;)e[K6[u]]=t[u]||"";return o!=-1&&x!=-1&&(e.source=S,e.host=e.host.substring(1,e.host.length-1).replace(/;/g,":"),e.authority=e.authority.replace("[","").replace("]","").replace(/;/g,":"),e.ipv6uri=!0),e.pathNames=$6(e,e.path),e.queryKey=Z6(e,e.query),e}function $6(E,S){const o=/\/{2,9}/g,x=S.replace(o,"/").split("/");return(S.slice(0,1)=="/"||S.length===0)&&x.splice(0,1),S.slice(-1)=="/"&&x.splice(x.length-1,1),x}function Z6(E,S){const o={};return S.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(x,t,e){t&&(o[t]=e)}),o}let a2=class Sl extends Fi{constructor(S,o={}){super(),this.writeBuffer=[],S&&typeof S=="object"&&(o=S,S=null),S?(S=Mx(S),o.hostname=S.host,o.secure=S.protocol==="https"||S.protocol==="wss",o.port=S.port,S.query&&(o.query=S.query)):o.host&&(o.hostname=Mx(o.host).host),gv(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=U6(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(S){const o=Object.assign({},this.opts.query);o.EIO=kP,o.transport=S,this.id&&(o.sid=this.id);const x=Object.assign({},this.opts.transportOptions[S],this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new W6[S](x)}open(){let S;if(this.opts.rememberUpgrade&&Sl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)S="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else S=this.transports[0];this.readyState="opening";try{S=this.createTransport(S)}catch{this.transports.shift(),this.open();return}S.open(),this.setTransport(S)}setTransport(S){this.transport&&this.transport.removeAllListeners(),this.transport=S,S.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(S){let o=this.createTransport(S),x=!1;Sl.priorWebsocketSuccess=!1;const t=()=>{x||(o.send([{type:"ping",data:"probe"}]),o.once("packet",r=>{if(!x)if(r.type==="pong"&&r.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;Sl.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{x||this.readyState!=="closed"&&(i(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=o.name,this.emitReserved("upgradeError",f)}}))};function e(){x||(x=!0,i(),o.close(),o=null)}const u=r=>{const f=new Error("probe error: "+r);f.transport=o.name,e(),this.emitReserved("upgradeError",f)};function s(){u("transport closed")}function a(){u("socket closed")}function n(r){o&&r.name!==o.name&&e()}const i=()=>{o.removeListener("open",t),o.removeListener("error",u),o.removeListener("close",s),this.off("close",a),this.off("upgrading",n)};o.once("open",t),o.once("error",u),o.once("close",s),this.once("close",a),this.once("upgrading",n),o.open()}onOpen(){if(this.readyState="open",Sl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let S=0;const o=this.upgrades.length;for(;S<o;S++)this.probe(this.upgrades[S])}}onPacket(S){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",S),this.emitReserved("heartbeat"),S.type){case"open":this.onHandshake(JSON.parse(S.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const o=new Error("server error");o.code=S.data,this.onError(o);break;case"message":this.emitReserved("data",S.data),this.emitReserved("message",S.data);break}}onHandshake(S){this.emitReserved("handshake",S),this.id=S.sid,this.transport.query.sid=S.sid,this.upgrades=this.filterUpgrades(S.upgrades),this.pingInterval=S.pingInterval,this.pingTimeout=S.pingTimeout,this.maxPayload=S.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const S=this.getWritablePackets();this.transport.send(S),this.prevBufferLen=S.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let x=0;x<this.writeBuffer.length;x++){const t=this.writeBuffer[x].data;if(t&&(o+=N6(t)),x>0&&o>this.maxPayload)return this.writeBuffer.slice(0,x);o+=2}return this.writeBuffer}write(S,o,x){return this.sendPacket("message",S,o,x),this}send(S,o,x){return this.sendPacket("message",S,o,x),this}sendPacket(S,o,x,t){if(typeof o=="function"&&(t=o,o=void 0),typeof x=="function"&&(t=x,x=null),this.readyState==="closing"||this.readyState==="closed")return;x=x||{},x.compress=x.compress!==!1;const e={type:S,data:o,options:x};this.emitReserved("packetCreate",e),this.writeBuffer.push(e),t&&this.once("flush",t),this.flush()}close(){const S=()=>{this.onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),S()},x=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?x():S()}):this.upgrading?x():S()),this}onError(S){Sl.priorWebsocketSuccess=!1,this.emitReserved("error",S),this.onClose("transport error",S)}onClose(S,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",S,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(S){const o=[];let x=0;const t=S.length;for(;x<t;x++)~this.transports.indexOf(S[x])&&o.push(S[x]);return o}};a2.protocol=kP;function Q6(E,S="",o){let x=E;o=o||typeof location<"u"&&location,E==null&&(E=o.protocol+"//"+o.host),typeof E=="string"&&(E.charAt(0)==="/"&&(E.charAt(1)==="/"?E=o.protocol+E:E=o.host+E),/^(https?|wss?):\/\//.test(E)||(typeof o<"u"?E=o.protocol+"//"+E:E="https://"+E),x=Mx(E)),x.port||(/^(http|ws)$/.test(x.protocol)?x.port="80":/^(http|ws)s$/.test(x.protocol)&&(x.port="443")),x.path=x.path||"/";const e=x.host.indexOf(":")!==-1?"["+x.host+"]":x.host;return x.id=x.protocol+"://"+e+":"+x.port+S,x.href=x.protocol+"://"+e+(o&&o.port===x.port?"":":"+x.port),x}const J6=typeof ArrayBuffer=="function",k6=E=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(E):E.buffer instanceof ArrayBuffer,o2=Object.prototype.toString,q6=typeof Blob=="function"||typeof Blob<"u"&&o2.call(Blob)==="[object BlobConstructor]",_6=typeof File=="function"||typeof File<"u"&&o2.call(File)==="[object FileConstructor]";function gy(E){return J6&&(E instanceof ArrayBuffer||k6(E))||q6&&E instanceof Blob||_6&&E instanceof File}function Id(E,S){if(!E||typeof E!="object")return!1;if(Array.isArray(E)){for(let o=0,x=E.length;o<x;o++)if(Id(E[o]))return!0;return!1}if(gy(E))return!0;if(E.toJSON&&typeof E.toJSON=="function"&&arguments.length===1)return Id(E.toJSON(),!0);for(const o in E)if(Object.prototype.hasOwnProperty.call(E,o)&&Id(E[o]))return!0;return!1}function t8(E){const S=[],o=E.data,x=E;return x.data=Px(o,S),x.attachments=S.length,{packet:x,buffers:S}}function Px(E,S){if(!E)return E;if(gy(E)){const o={_placeholder:!0,num:S.length};return S.push(E),o}else if(Array.isArray(E)){const o=new Array(E.length);for(let x=0;x<E.length;x++)o[x]=Px(E[x],S);return o}else if(typeof E=="object"&&!(E instanceof Date)){const o={};for(const x in E)Object.prototype.hasOwnProperty.call(E,x)&&(o[x]=Px(E[x],S));return o}return E}function e8(E,S){return E.data=Lx(E.data,S),delete E.attachments,E}function Lx(E,S){if(!E)return E;if(E&&E._placeholder===!0){if(typeof E.num=="number"&&E.num>=0&&E.num<S.length)return S[E.num];throw new Error("illegal attachments")}else if(Array.isArray(E))for(let o=0;o<E.length;o++)E[o]=Lx(E[o],S);else if(typeof E=="object")for(const o in E)Object.prototype.hasOwnProperty.call(E,o)&&(E[o]=Lx(E[o],S));return E}const i8=5;var Be;(function(E){E[E.CONNECT=0]="CONNECT",E[E.DISCONNECT=1]="DISCONNECT",E[E.EVENT=2]="EVENT",E[E.ACK=3]="ACK",E[E.CONNECT_ERROR=4]="CONNECT_ERROR",E[E.BINARY_EVENT=5]="BINARY_EVENT",E[E.BINARY_ACK=6]="BINARY_ACK"})(Be||(Be={}));class n8{constructor(S){this.replacer=S}encode(S){return(S.type===Be.EVENT||S.type===Be.ACK)&&Id(S)?this.encodeAsBinary({type:S.type===Be.EVENT?Be.BINARY_EVENT:Be.BINARY_ACK,nsp:S.nsp,data:S.data,id:S.id}):[this.encodeAsString(S)]}encodeAsString(S){let o=""+S.type;return(S.type===Be.BINARY_EVENT||S.type===Be.BINARY_ACK)&&(o+=S.attachments+"-"),S.nsp&&S.nsp!=="/"&&(o+=S.nsp+","),S.id!=null&&(o+=S.id),S.data!=null&&(o+=JSON.stringify(S.data,this.replacer)),o}encodeAsBinary(S){const o=t8(S),x=this.encodeAsString(o.packet),t=o.buffers;return t.unshift(x),t}}class xy extends Fi{constructor(S){super(),this.reviver=S}add(S){let o;if(typeof S=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(S);const x=o.type===Be.BINARY_EVENT;x||o.type===Be.BINARY_ACK?(o.type=x?Be.EVENT:Be.ACK,this.reconstructor=new r8(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(gy(S)||S.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(S),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+S)}decodeString(S){let o=0;const x={type:Number(S.charAt(0))};if(Be[x.type]===void 0)throw new Error("unknown packet type "+x.type);if(x.type===Be.BINARY_EVENT||x.type===Be.BINARY_ACK){const e=o+1;for(;S.charAt(++o)!=="-"&&o!=S.length;);const u=S.substring(e,o);if(u!=Number(u)||S.charAt(o)!=="-")throw new Error("Illegal attachments");x.attachments=Number(u)}if(S.charAt(o+1)==="/"){const e=o+1;for(;++o&&!(S.charAt(o)===","||o===S.length););x.nsp=S.substring(e,o)}else x.nsp="/";const t=S.charAt(o+1);if(t!==""&&Number(t)==t){const e=o+1;for(;++o;){const u=S.charAt(o);if(u==null||Number(u)!=u){--o;break}if(o===S.length)break}x.id=Number(S.substring(e,o+1))}if(S.charAt(++o)){const e=this.tryParse(S.substr(o));if(xy.isPayloadValid(x.type,e))x.data=e;else throw new Error("invalid payload")}return x}tryParse(S){try{return JSON.parse(S,this.reviver)}catch{return!1}}static isPayloadValid(S,o){switch(S){case Be.CONNECT:return typeof o=="object";case Be.DISCONNECT:return o===void 0;case Be.CONNECT_ERROR:return typeof o=="string"||typeof o=="object";case Be.EVENT:case Be.BINARY_EVENT:return Array.isArray(o)&&o.length>0;case Be.ACK:case Be.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class r8{constructor(S){this.packet=S,this.buffers=[],this.reconPack=S}takeBinaryData(S){if(this.buffers.push(S),this.buffers.length===this.reconPack.attachments){const o=e8(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const s8=Object.freeze(Object.defineProperty({__proto__:null,Decoder:xy,Encoder:n8,get PacketType(){return Be},protocol:i8},Symbol.toStringTag,{value:"Module"}));function Cr(E,S,o){return E.on(S,o),function(){E.off(S,o)}}const a8=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class l2 extends Fi{constructor(S,o,x){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=S,this.nsp=o,x&&x.auth&&(this.auth=x.auth),this._opts=Object.assign({},x),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const S=this.io;this.subs=[Cr(S,"open",this.onopen.bind(this)),Cr(S,"packet",this.onpacket.bind(this)),Cr(S,"error",this.onerror.bind(this)),Cr(S,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...S){return S.unshift("message"),this.emit.apply(this,S),this}emit(S,...o){if(a8.hasOwnProperty(S))throw new Error('"'+S.toString()+'" is a reserved event name');if(o.unshift(S),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const x={type:Be.EVENT,data:o};if(x.options={},x.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){const u=this.ids++,s=o.pop();this._registerAckCallback(u,s),x.id=u}const t=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!t||!this.connected)||(this.connected?(this.notifyOutgoingListeners(x),this.packet(x)):this.sendBuffer.push(x)),this.flags={},this}_registerAckCallback(S,o){var x;const t=(x=this.flags.timeout)!==null&&x!==void 0?x:this._opts.ackTimeout;if(t===void 0){this.acks[S]=o;return}const e=this.io.setTimeoutFn(()=>{delete this.acks[S];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===S&&this.sendBuffer.splice(u,1);o.call(this,new Error("operation has timed out"))},t);this.acks[S]=(...u)=>{this.io.clearTimeoutFn(e),o.apply(this,[null,...u])}}emitWithAck(S,...o){const x=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((t,e)=>{o.push((u,s)=>x?u?e(u):t(s):t(u)),this.emit(S,...o)})}_addToQueue(S){let o;typeof S[S.length-1]=="function"&&(o=S.pop());const x={id:this._queueSeq++,tryCount:0,pending:!1,args:S,flags:Object.assign({fromQueue:!0},this.flags)};S.push((t,...e)=>x!==this._queue[0]?void 0:(t!==null?x.tryCount>this._opts.retries&&(this._queue.shift(),o&&o(t)):(this._queue.shift(),o&&o(null,...e)),x.pending=!1,this._drainQueue())),this._queue.push(x),this._drainQueue()}_drainQueue(S=!1){if(!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!S||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(S){S.nsp=this.nsp,this.io._packet(S)}onopen(){typeof this.auth=="function"?this.auth(S=>{this._sendConnectPacket(S)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(S){this.packet({type:Be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},S):S})}onerror(S){this.connected||this.emitReserved("connect_error",S)}onclose(S,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",S,o)}onpacket(S){if(S.nsp===this.nsp)switch(S.type){case Be.CONNECT:S.data&&S.data.sid?this.onconnect(S.data.sid,S.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Be.EVENT:case Be.BINARY_EVENT:this.onevent(S);break;case Be.ACK:case Be.BINARY_ACK:this.onack(S);break;case Be.DISCONNECT:this.ondisconnect();break;case Be.CONNECT_ERROR:this.destroy();const x=new Error(S.data.message);x.data=S.data.data,this.emitReserved("connect_error",x);break}}onevent(S){const o=S.data||[];S.id!=null&&o.push(this.ack(S.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(S){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const x of o)x.apply(this,S)}super.emit.apply(this,S),this._pid&&S.length&&typeof S[S.length-1]=="string"&&(this._lastOffset=S[S.length-1])}ack(S){const o=this;let x=!1;return function(...t){x||(x=!0,o.packet({type:Be.ACK,id:S,data:t}))}}onack(S){const o=this.acks[S.id];typeof o=="function"&&(o.apply(this,S.data),delete this.acks[S.id])}onconnect(S,o){this.id=S,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(S=>this.emitEvent(S)),this.receiveBuffer=[],this.sendBuffer.forEach(S=>{this.notifyOutgoingListeners(S),this.packet(S)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(S=>S()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(S){return this.flags.compress=S,this}get volatile(){return this.flags.volatile=!0,this}timeout(S){return this.flags.timeout=S,this}onAny(S){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(S),this}prependAny(S){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(S),this}offAny(S){if(!this._anyListeners)return this;if(S){const o=this._anyListeners;for(let x=0;x<o.length;x++)if(S===o[x])return o.splice(x,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(S){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(S),this}prependAnyOutgoing(S){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(S),this}offAnyOutgoing(S){if(!this._anyOutgoingListeners)return this;if(S){const o=this._anyOutgoingListeners;for(let x=0;x<o.length;x++)if(S===o[x])return o.splice(x,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(S){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const x of o)x.apply(this,S.data)}}}function wl(E){E=E||{},this.ms=E.min||100,this.max=E.max||1e4,this.factor=E.factor||2,this.jitter=E.jitter>0&&E.jitter<=1?E.jitter:0,this.attempts=0}wl.prototype.duration=function(){var E=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var S=Math.random(),o=Math.floor(S*this.jitter*E);E=Math.floor(S*10)&1?E+o:E-o}return Math.min(E,this.max)|0};wl.prototype.reset=function(){this.attempts=0};wl.prototype.setMin=function(E){this.ms=E};wl.prototype.setMax=function(E){this.max=E};wl.prototype.setJitter=function(E){this.jitter=E};class Ox extends Fi{constructor(S,o){var x;super(),this.nsps={},this.subs=[],S&&typeof S=="object"&&(o=S,S=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,gv(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((x=o.randomizationFactor)!==null&&x!==void 0?x:.5),this.backoff=new wl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=S;const t=o.parser||s8;this.encoder=new t.Encoder,this.decoder=new t.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(S){return arguments.length?(this._reconnection=!!S,this):this._reconnection}reconnectionAttempts(S){return S===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=S,this)}reconnectionDelay(S){var o;return S===void 0?this._reconnectionDelay:(this._reconnectionDelay=S,(o=this.backoff)===null||o===void 0||o.setMin(S),this)}randomizationFactor(S){var o;return S===void 0?this._randomizationFactor:(this._randomizationFactor=S,(o=this.backoff)===null||o===void 0||o.setJitter(S),this)}reconnectionDelayMax(S){var o;return S===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=S,(o=this.backoff)===null||o===void 0||o.setMax(S),this)}timeout(S){return arguments.length?(this._timeout=S,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(S){if(~this._readyState.indexOf("open"))return this;this.engine=new a2(this.uri,this.opts);const o=this.engine,x=this;this._readyState="opening",this.skipReconnect=!1;const t=Cr(o,"open",function(){x.onopen(),S&&S()}),e=Cr(o,"error",u=>{x.cleanup(),x._readyState="closed",this.emitReserved("error",u),S?S(u):x.maybeReconnectOnOpen()});if(this._timeout!==!1){const u=this._timeout;u===0&&t();const s=this.setTimeoutFn(()=>{t(),o.close(),o.emit("error",new Error("timeout"))},u);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}return this.subs.push(t),this.subs.push(e),this}connect(S){return this.open(S)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const S=this.engine;this.subs.push(Cr(S,"ping",this.onping.bind(this)),Cr(S,"data",this.ondata.bind(this)),Cr(S,"error",this.onerror.bind(this)),Cr(S,"close",this.onclose.bind(this)),Cr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(S){try{this.decoder.add(S)}catch(o){this.onclose("parse error",o)}}ondecoded(S){s2(()=>{this.emitReserved("packet",S)},this.setTimeoutFn)}onerror(S){this.emitReserved("error",S)}socket(S,o){let x=this.nsps[S];return x?this._autoConnect&&!x.active&&x.connect():(x=new l2(this,S,o),this.nsps[S]=x),x}_destroy(S){const o=Object.keys(this.nsps);for(const x of o)if(this.nsps[x].active)return;this._close()}_packet(S){const o=this.encoder.encode(S);for(let x=0;x<o.length;x++)this.engine.write(o[x],S.options)}cleanup(){this.subs.forEach(S=>S()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(S,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",S,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const S=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const x=this.setTimeoutFn(()=>{S.skipReconnect||(this.emitReserved("reconnect_attempt",S.backoff.attempts),!S.skipReconnect&&S.open(t=>{t?(S._reconnecting=!1,S.reconnect(),this.emitReserved("reconnect_error",t)):S.onreconnect()}))},o);this.opts.autoUnref&&x.unref(),this.subs.push(function(){clearTimeout(x)})}}onreconnect(){const S=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",S)}}const Ph={};function Ud(E,S){typeof E=="object"&&(S=E,E=void 0),S=S||{};const o=Q6(E,S.path||"/socket.io"),x=o.source,t=o.id,e=o.path,u=Ph[t]&&e in Ph[t].nsps,s=S.forceNew||S["force new connection"]||S.multiplex===!1||u;let a;return s?a=new Ox(x,S):(Ph[t]||(Ph[t]=new Ox(x,S)),a=Ph[t]),o.query&&!S.query&&(S.query=o.queryKey),a.socket(o.path,S)}Object.assign(Ud,{Manager:Ox,Socket:l2,io:Ud,connect:Ud});class Dx extends Ie.Plugins.ScenePlugin{constructor(S,o){super(S,o),this.map=null,this.animatedTiles=[],this.rate=1,this.active=!1,this.activeLayer=[],this.followTimeScale=!0,S.sys.settings.isBooted||S.sys.events.once("boot",this.boot,this)}boot(){var S=this.systems.events;S.on("postupdate",this.postUpdate,this),S.on("shutdown",this.shutdown,this),S.on("destroy",this.destroy,this)}init(S){let o=this.getAnimatedTiles(S),x={map:S,animatedTiles:o,active:!0,rate:1,activeLayer:[]};S.layers.forEach(()=>x.activeLayer.push(!0)),this.animatedTiles.push(x),this.animatedTiles.length===1&&(this.active=!0)}setRate(S,o=null,x=null){if(o===null)x===null?this.rate=S:this.animatedTiles[x].rate=S;else{let t=e=>{e.forEach(u=>{u.index===o&&(u.rate=S)})};x===null?this.animatedTiles.forEach(e=>{t(e.animatedTiles)}):t(this.animatedTiles[x].animatedTiles)}}resetRates(S=null){S===null?(this.rate=1,this.animatedTiles.forEach(o=>{o.rate=1,o.animatedTiles.forEach(x=>{x.rate=1})})):(this.animatedTiles[S].rate=1,this.animatedTiles[S].animatedTiles.forEach(o=>{o.rate=1}))}resume(S=null,o=null){let x=o===null?this:this.animatedTiles[o];S===null?x.active=!0:(x.activeLayer[S]=!0,x.animatedTiles.forEach(t=>{this.updateLayer(t,t.tiles[S])}))}pause(S=null,o=null){let x=o===null?this:this.animatedTiles[o];S===null?x.active=!1:x.activeLayer[S]=!1}postUpdate(S,o){if(!this.active)return;let x=o*this.rate*(this.followTimeScale?this.scene.time.timeScale:1);this.animatedTiles.forEach(t=>{if(!t.active)return;let e=x*t.rate;t.animatedTiles.forEach(u=>{var s;if(u.next-=e*u.rate,u.next<0){let a=u.currentFrame,n=(s=u.frames[a])==null?void 0:s.tileid,i=a+1;i>u.frames.length-1&&(i=0),u.next=u.frames[i].duration,u.currentFrame=i,u.tiles.forEach((r,f)=>{t.activeLayer[f]&&this.updateLayer(u,r,n)})}})})}updateLayer(S,o,x=-1){let t=[],e=S.frames[S.currentFrame].tileid;o.forEach(u=>{x>-1&&(u===null||u.index!==x)?t.push(u):u.index=e}),t.forEach(u=>{let s=o.indexOf(u);s>-1?o.splice(s,1):console.error("This shouldn't happen. Not at all. Blame Phaser Animated Tiles plugin. You'll be fine though.")})}shutdown(){this.animatedTiles.length=0}destroy(){this.shutdown(),this.scene=void 0}getAnimatedTiles(S){let o=[];return S.tilesets.forEach(x=>{let t=x.tileData;Object.keys(t).forEach(e=>{if(e=parseInt(e),t[e].hasOwnProperty("animation")){let u={index:e+x.firstgid,frames:[],currentFrame:0,tiles:[],rate:1};t[e].animation.forEach(s=>{let a={duration:s.duration,tileid:s.tileid+x.firstgid};u.frames.push(a)}),u.next=u.frames[0].duration,u.currentFrame=u.frames.findIndex(s=>s.tileid===e+x.firstgid),S.layers.forEach(s=>{if(s.tilemapLayer&&s.tilemapLayer.type&&s.tilemapLayer.type==="StaticTilemapLayer"){u.tiles.push([]);return}let a=[];s.data.forEach(n=>{n.forEach(i=>{i.index-x.firstgid===e&&a.push(i)})}),u.tiles.push(a)}),o.push(u)}})}),S.layers.forEach((x,t)=>{this.activeLayer[t]=!0}),o}putTileAt(S,o,x,t){}updateAnimatedTiles(){let S=null;S===null&&(S=[],this.animatedTiles.forEach(o=>{S.push(o)})),S.forEach(o=>{let x=0,t=0,e=10,u=10;o.animatedTiles.forEach(s=>{s.tiles.forEach((a,n)=>{let i=o.map.layers[n];if(!(i.type&&i.type==="StaticTilemapLayer"))for(let r=x;r<x+e;r++)for(let f=t;f<t+u;f++){let l=o.map.layers[n].data[r][f];l.index===s.index&&(a.indexOf(l)===-1&&a.push(l),l.index=s.frames[s.currentFrame].tileid)}})})})}}Dx.register=function(E){E.register("AnimatedTiles",Dx,"animatedTiles")};class o8 extends Ie.GameObjects.Sprite{constructor(o,x){var i,r;const{x:t,y:e,width:u,height:s,name:a,properties:n}=x??{};super(o,t,e,"icons");fi(this,"destDoor");fi(this,"destMap");fi(this,"centerPos");this.setOrigin(0,0),this.name=a,this.destDoor=(i=n==null?void 0:n.find(f=>f.name==="destDoor"))==null?void 0:i.value,this.destMap=(r=n==null?void 0:n.find(f=>f.name==="destMap"))==null?void 0:r.value,this.displayWidth=u,this.displayHeight=s,this.centerPos={x:t+u/2,y:e+s/2},o.events.once("shutdown",this.destroy,this)}getProps(){return{name:this==null?void 0:this.name,destMap:this==null?void 0:this.destMap,destDoor:this==null?void 0:this.destDoor,x:this==null?void 0:this.x,y:this==null?void 0:this.y,width:this==null?void 0:this.width,height:this==null?void 0:this.height,centerPos:this==null?void 0:this.centerPos}}destroy(){this.scene&&this.scene.events.off("update",this.update,this),this.scene&&this.scene.physics.world.disable(this),super.destroy()}}var u2={},xv={},af={};Object.defineProperty(af,"__esModule",{value:!0});af.Vault=void 0;class l8{constructor(){this._vault=[],this._vaultSize=120}getById(S){var o;return(o=this._vault.filter(x=>x.id===S))===null||o===void 0?void 0:o[0]}clear(){this._vault=[]}get(S,o){var x;const t=this._vault.sort((e,u)=>u.time-e.time);if(typeof S>"u")return t[0];for(let e=0;e<t.length;e++)if(t[e].time<=S){const s={older:t[e],newer:t[e-1]};if(o){const a=Math.abs(S-s.older.time),n=Math.abs(S-((x=s.newer)===null||x===void 0?void 0:x.time));return isNaN(n)||n<=a?s.older:s.newer}return s}}add(S){this._vault.length>this._vaultSize-1&&this._vault.sort((o,x)=>o.time-x.time).shift(),this._vault.push(S)}get size(){return this._vault.length}setMaxSize(S){this._vaultSize=S}getMaxSize(){return this._vaultSize}}af.Vault=l8;var h2={};(function(E){Object.defineProperty(E,"__esModule",{value:!0}),E.radianLerp=E.degreeLerp=E.lerp=void 0;const S=3.14159265359,o=6.28318530718,x=(u,s,a)=>u+(s-u)*a;E.lerp=x;const t=(u,s,a)=>{let n,i=s-u;return i<-180?(s+=360,n=(0,E.lerp)(u,s,a),n>=360&&(n-=360)):i>180?(s-=360,n=(0,E.lerp)(u,s,a),n<0&&(n+=360)):n=(0,E.lerp)(u,s,a),n};E.degreeLerp=t;const e=(u,s,a)=>{let n,i=s-u;return i<-S?(s+=o,n=(0,E.lerp)(u,s,a),n>=o&&(n-=o)):i>S?(s-=o,n=(0,E.lerp)(u,s,a),n<0&&(n+=o)):n=(0,E.lerp)(u,s,a),n};E.radianLerp=e})(h2);var yv={};/**
 * @author        three.js authors
 * @copyright     Copyright © 2010-2021 three.js authors
 * @license       {@link https://github.com/mrdoob/three.js/blob/dev/LICENSE|MIT}
 * @description   Copied and modified from: https://github.com/mrdoob/three.js/blob/464efc85ecfda5c03d786d15d8f8eff20d70f256/src/math/Quaternion.js
 */Object.defineProperty(yv,"__esModule",{value:!0});yv.quatSlerp=void 0;const u8=(E,S,o)=>{if(o===0)return E;if(o===1)return S;let x=E.x,t=E.y,e=E.z,u=E.w;const s=S.x,a=S.y,n=S.z,i=S.w;if(u!==i||x!==s||t!==a||e!==n){let r=1-o;const f=x*s+t*a+e*n+u*i,l=f>=0?1:-1,h=1-f*f;if(h>.001){const v=Math.sqrt(h),d=Math.atan2(v,f*l);r=Math.sin(r*d)/v,o=Math.sin(o*d)/v}const c=o*l;if(x=x*r+s*c,t=t*r+a*c,e=e*r+n*c,u=u*r+i*c,r===1-o){const v=1/Math.sqrt(x*x+t*t+e*e+u*u);x*=v,t*=v,e*=v,u*=v}}return{x,y:t,z:e,w:u}};yv.quatSlerp=u8;Object.defineProperty(xv,"__esModule",{value:!0});xv.SnapshotInterpolation=void 0;const h8=af,Od=h2,f8=yv;class co{constructor(S,o={}){this.vault=new h8.Vault,this._interpolationBuffer=100,this._timeOffset=-1,this.serverTime=0,S&&(this._interpolationBuffer=1e3/S*3),this.config={autoCorrectTimeOffset:!0,...o}}get interpolationBuffer(){return{get:()=>this._interpolationBuffer,set:S=>{this._interpolationBuffer=S}}}static Now(){return Date.now()}get timeOffset(){return this._timeOffset}static NewId(){return Math.random().toString(36).substr(2,6)}get snapshot(){return{create:S=>co.CreateSnapshot(S),add:S=>this.addSnapshot(S)}}static CreateSnapshot(S){const o=x=>{if(!Array.isArray(x))throw new Error("You have to pass an Array to createSnapshot()");if(x.filter(e=>typeof e.id!="string"&&typeof e.id!="number").length>0)throw new Error("Each Entity needs to have a id")};return Array.isArray(S)?o(S):Object.keys(S).forEach(x=>{o(S[x])}),{id:co.NewId(),time:co.Now(),state:S}}addSnapshot(S){var o;const x=co.Now(),t=S.time;if(this._timeOffset===-1&&(this._timeOffset=x-t),((o=this.config)===null||o===void 0?void 0:o.autoCorrectTimeOffset)===!0){const e=x-t;Math.abs(this._timeOffset-e)>50&&(this._timeOffset=e)}this.vault.add(S)}interpolate(S,o,x,t,e=""){return this._interpolate(S,o,x,t,e)}_interpolate(S,o,x,t,e){const u=[S,o].sort((C,R)=>R.time-C.time),s=t.trim().replace(/\W+/," ").split(" "),a=u[0],n=u[1],i=a.time,r=n.time,l=x-r,h=i-r,c=x<=1?x:l/h;this.serverTime=(0,Od.lerp)(r,i,c);const v=(C,R,A,P)=>{if(!(typeof R>"u"||typeof A>"u")){if(typeof R=="string"||typeof A=="string")throw new Error("Can't interpolate string!");if(typeof R=="number"&&typeof A=="number"){if(C==="linear")return(0,Od.lerp)(R,A,P);if(C==="deg")return(0,Od.degreeLerp)(R,A,P);if(C==="rad")return(0,Od.radianLerp)(R,A,P)}if(typeof R=="object"&&typeof A=="object"&&C==="quat")return(0,f8.quatSlerp)(R,A,P);throw new Error(`No lerp method "${C}" found!`)}};if(!Array.isArray(a.state)&&e==="")throw new Error('You forgot to add the "deep" parameter.');if(Array.isArray(a.state)&&e!=="")throw new Error('No "deep" needed it state is an array.');const d=Array.isArray(a.state)?a.state:a.state[e],m=Array.isArray(n.state)?n.state:n.state[e];let y=JSON.parse(JSON.stringify({...a,state:d}));return d.forEach((C,R)=>{const A=C.id,P=m.find(O=>O.id===A);P&&s.forEach(O=>{const b=O.match(/\w\(([\w]+)\)/),D=b?b==null?void 0:b[1]:"linear";b&&(O=b==null?void 0:b[0].replace(/\([\S]+$/gm,""));const N=C==null?void 0:C[O],B=P==null?void 0:P[O],U=v(D,B,N,c);Array.isArray(y.state)&&(y.state[R][O]=U)})}),{state:y.state,percentage:c,newer:a.id,older:n.id}}calcInterpolation(S,o=""){const x=co.Now()-this._timeOffset-this._interpolationBuffer,t=this.vault.get(x);if(!t)return;const{older:e,newer:u}=t;if(!(!e||!u))return this._interpolate(u,e,x,S,o)}}xv.SnapshotInterpolation=co;var f2={};Object.defineProperty(f2,"__esModule",{value:!0});(function(E){/**
 * @author       Yannick Deubel (https://github.com/yandeu)
 * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/geckosio/snapshot-interpolation
 * @license      {@link https://github.com/geckosio/snapshot-interpolation/blob/master/LICENSE|GNU GPLv3}
 */var S=uo&&uo.__createBinding||(Object.create?function(u,s,a,n){n===void 0&&(n=a),Object.defineProperty(u,n,{enumerable:!0,get:function(){return s[a]}})}:function(u,s,a,n){n===void 0&&(n=a),u[n]=s[a]}),o=uo&&uo.__setModuleDefault||(Object.create?function(u,s){Object.defineProperty(u,"default",{enumerable:!0,value:s})}:function(u,s){u.default=s}),x=uo&&uo.__importStar||function(u){if(u&&u.__esModule)return u;var s={};if(u!=null)for(var a in u)a!=="default"&&Object.prototype.hasOwnProperty.call(u,a)&&S(s,u,a);return o(s,u),s};Object.defineProperty(E,"__esModule",{value:!0}),E.Types=E.Vault=E.SnapshotInterpolation=void 0;var t=xv;Object.defineProperty(E,"SnapshotInterpolation",{enumerable:!0,get:function(){return t.SnapshotInterpolation}});var e=af;Object.defineProperty(E,"Vault",{enumerable:!0,get:function(){return e.Vault}}),E.Types=x(f2)})(u2);const Lh=new u2.SnapshotInterpolation(10),{RectangleToRectangle:c2}=Ie.Geom.Intersects;class c8 extends Ie.Scene{constructor(S){super({key:"SceneMain"}),this.socket=S}preload(){this.cursorKeys=this.input.keyboard.createCursorKeys(),this.input.keyboard.removeCapture("SPACE")}create(){const S=this,o=S==null?void 0:S.socket;o.on("update",x=>{var t,e,u,s,a;if(x!=null&&x.state){Lh.snapshot.add(x);for(const n of(t=S==null?void 0:S.loots)==null?void 0:t.getChildren())(u=(e=x==null?void 0:x.state)==null?void 0:e.loots)!=null&&u.some(i=>(i==null?void 0:i.id)===(n==null?void 0:n.id))||n.destroy(!0);for(const n of(s=x==null?void 0:x.state)==null?void 0:s.npcs){const i=so(S,n.id);i.state.lockedPlayerId=n.state.lockedPlayerId,i.state.bubbleMessage=n.state.bubbleMessage,i.state.doHpRegen=n.state.doHpRegen,i.state.doMpRegen=n.state.doMpRegen,i.doRegen()}for(const n of(a=x==null?void 0:x.state)==null?void 0:a.players){const i=Er(S,n.id);i.state.bubbleMessage=n.state.bubbleMessage,i.state.doHpRegen=n.state.doHpRegen,i.state.doMpRegen=n.state.doMpRegen,i.doRegen()}}}),o.on("heroInit",({socketId:x,players:t=[],npcs:e=[],loots:u=[]})=>{kU(S);for(const a of t)Er(S,a.socketId)||(x===a.socketId?S.hero=D0(S,{...a,isHero:!0}):D0(S,a));for(const a of e)so(S,a.id)||qU(S,a);for(const a of u)JC(S,a.id)||kC(S,a);const{collideLayer:s}=x8(S,S.hero.roomName);g8(S,S.hero,[s]),m8(S,S.hero)}),o.on("playerJoin",x=>{const t=Er(S,x.socketId);if(t)return t.state.lastTeleport=Date.now();D0(S,x)}),o.on("playerUpdate",x=>{Er(S,x.socketId).updateData(x)}),o.on("lootGrabbed",({socketId:x,lootId:t,player:e})=>{const u=Er(S,x),s=JC(S,t);s==null||s.destroy(!0),u.updateData(e)}),o.on("playerAttack",({socketId:x,count:t,direction:e})=>{const u=Er(S,x);u.direction=e,u.doAttack(t)}),o.on("npcAttack",({id:x,count:t,direction:e})=>{const u=so(S,x);u.direction=e,u.doAttack(t)}),o.on("changeDirection",({socketId:x,direction:t})=>{const e=Er(S,x);e.direction=t}),o.on("assignDamage",(x=[])=>{var t,e,u,s;for(const a of x)(e=(t=so(S,a==null?void 0:a.to))==null?void 0:t.takeHit)==null||e.call(t,a),(s=(u=Er(S,a==null?void 0:a.to))==null?void 0:u.takeHit)==null||s.call(u,a)}),o.on("respawnPlayer",x=>{var t;(t=Er(S,x))==null||t.respawn()}),o.on("respawnNpc",({id:x,x:t,y:e})=>{const u=so(S,x);u.state.lastTeleport=Date.now(),u.setPosition(t,e),u==null||u.respawn()}),this.socket.on("lootSpawned",({loot:x,npcId:t})=>{const e=so(S,t);e&&(x.x=e.x,x.y=e.y),kC(S,x)}),o.on("remove",x=>JU(S,x)),o.emit("login")}update(S,o){var e,u,s,a,n;const x=Lh.calcInterpolation("x y","players"),t=Lh.calcInterpolation("x y","npcs");if(!(!this.socket||!((e=this==null?void 0:this.hero)!=null&&e.body)||!x)){for(const i of x==null?void 0:x.state){const r=Er(this,i.socketId);if(!(!r||(u=r==null?void 0:r.state)!=null&&u.isDead)){if(!r.isHero){const f=Lh.vault.getById(x==null?void 0:x.older);if(((s=r==null?void 0:r.state)==null?void 0:s.lastTeleport)>=(f==null?void 0:f.time))continue;r.setPosition(i.x,i.y),r.direction=i==null?void 0:i.direction}r.vx=i.vx,r.vy=i.vy}}if(p8(this),v8(this),d8(this,S),!!t)for(const i of t==null?void 0:t.state){const r=so(this,i.id);if(!r||(a=r==null?void 0:r.state)!=null&&a.isDead)continue;const f=Lh.vault.getById(t==null?void 0:t.older);((n=r==null?void 0:r.state)==null?void 0:n.lastTeleport)>=(f==null?void 0:f.time)||(r.setPosition(i.x,i.y),r.direction=i==null?void 0:i.direction,r.vx=i.vx,r.vy=i.vy)}}}}function d8(E,S){var s,a;if(S%4>1)return;const{hero:o}=E??{};let x={},t,e=1/0;(s=o==null?void 0:o.body)==null||s.getBounds(x);const u=E.npcs.getChildren();for(const n of u)if((n==null?void 0:n.kind)==="keeper"&&c2(x,n.getBounds())){const i=dM(n,o);i<e&&(t=n,e=i)}t&&!o.state.isDead?o.state.targetNpcId!==(t==null?void 0:t.id)&&!((a=t==null?void 0:t.state)!=null&&a.lockedPlayerId)&&(o.state.targetNpcId=t==null?void 0:t.id,window.dispatchEvent(new CustomEvent("HERO_NEAR_NPC",{detail:t==null?void 0:t.id}))):o.state.targetNpcId&&(o.state.targetNpcId=null,window.dispatchEvent(new CustomEvent("HERO_NEAR_NPC",{detail:null})))}function v8(E){var o,x;let S={};(x=(o=E==null?void 0:E.hero)==null?void 0:o.body)==null||x.getBounds(S);for(const t of E.doors.getChildren())c2(S,t.getBounds())||(t.isEnabled=!0)}function p8(E,S){var r;const o=E==null?void 0:E.hero;if((r=o==null?void 0:o.state)!=null&&r.isDead)return o.body.setVelocity(0,0);const x=o.stats.speed,t=E.game.scene.scenes[2].joystick,e=E.cursorKeys.left.isDown,u=E.cursorKeys.right.isDown,s=E.cursorKeys.up.isDown,a=E.cursorKeys.down.isDown;let n=0,i=0;e&&(n=-x,o.direction="left"),u&&(n=x,o.direction="right"),s&&(i=-x,o.direction="up"),a&&(i=x,o.direction="down"),e&&u&&(n=0),s&&a&&(i=0),!e&&!u&&!s&&!a&&(n=0,i=0),(t.deltaX||t.deltaY)&&(n=t.deltaX*x,i=t.deltaY*x,o.direction=rv(o,{x:o.x+n,y:o.y+i})),o.state.isAttacking&&(n=0,i=0),o.body.setVelocity(n,i),o.state.isIdle||E.socket.emit("playerInput",{vx:n,vy:i,x:o.x,y:o.y,direction:o.direction}),o.state.isIdle=o.vx===n&&o.vy===i&&n===0&&i===0}function m8(E,S){E.cameras.main.setZoom(2),E.cameras.main.startFollow(S,!0),E.cameras.main.setBounds(0,0,E.map.widthInPixels,E.map.heightInPixels)}function g8(E,S,o=[]){E.physics.world.colliders.destroy(),E.physics.world.setBounds(0,0,E.map.widthInPixels,E.map.heightInPixels),S.body.setCollideWorldBounds(!0),o.forEach(x=>{E.physics.add.collider(S,x)}),E.physics.add.overlap(E.hero,E.doors,null,(x,t)=>{const{x:e,y:u}=x.startingCoords;t.getBounds().contains(e,u)&&(t.heroSpawn=!0),(!t.heroSpawn||t.isEnabled)&&(t.destroy(),setTimeout(()=>{E.socket.emit("enterDoor",t.name)},1))},E)}function x8(E,S){var n;const o=(n=S==null?void 0:S.split("-"))==null?void 0:n[0];E.map=E.make.tilemap({key:S});const x=E.map.addTilesetImage("tileset-"+o),t=E.map.addTilesetImage("tileset-"+o+"-shadows"),e=E.map.addTilesetImage("tileset-collide"),u=E.map.addTilesetImage("tileset-extras"),s=E.map.createLayer("Collide",e).setCollisionByProperty({collides:!0});E.map.createLayer("Ground",x).setDepth(0),E.map.createLayer("Shadows",t).setDepth(1),E.map.createLayer("Overlay",x).setDepth(2),E.map.createLayer("Extras",u).setDepth(3),E.map.createLayer("Above",x).setDepth(9999),E.animatedTiles&&E.animatedTiles.init(E.map);const a=E.map.getObjectLayer("Doors").objects;for(const i of a){const r=new o8(E,i);E.doors.add(r)}return{collideLayer:s}}const y8=[{name:"grassland",json:"./assets/tilemaps/grassland.json"},{name:"grassland-2",json:"./assets/tilemaps/grassland-2.json"},{name:"mine",json:"./assets/tilemaps/mine.json"},{name:"town",json:"./assets/tilemaps/town.json"},{name:"townInside",json:"./assets/tilemaps/townInside.json"},{name:"grassland-graveyard",json:"./assets/tilemaps/grassland-graveyard.json"},{name:"dungeon-aqueducts",json:"./assets/tilemaps/dungeon-aqueducts.json"}],T8=[{image:"./assets/tilesets/extras.png",name:"tileset-extras"},{image:"./assets/tilesets/collide.png",name:"tileset-collide"},{image:"./assets/tilesets/grassland.png",name:"tileset-grassland"},{image:"./assets/tilesets/grassland-shadows.png",name:"tileset-grassland-shadows"},{image:"./assets/tilesets/mine.png",name:"tileset-mine"},{image:"./assets/tilesets/mine-shadows.png",name:"tileset-mine-shadows"},{image:"./assets/tilesets/town.png",name:"tileset-town"},{image:"./assets/tilesets/town-shadows.png",name:"tileset-town-shadows"},{image:"./assets/tilesets/townInside.png",name:"tileset-townInside"},{image:"./assets/tilesets/townInside-shadows.png",name:"tileset-townInside-shadows"},{image:"./assets/tilesets/dungeon.png",name:"tileset-dungeon"},{image:"./assets/tilesets/dungeon-shadows.png",name:"tileset-dungeon-shadows"}];class S8 extends Ie.Scene{constructor(S){super({key:"SceneBoot"}),this.socket=S}preload(){const S=this.add.text(16,16,"Loading...",{font:"16px monospace",fill:"#ffffff",padding:{x:20,y:10},backgroundColor:"#000000"}).setScrollFactor(0);this.load.on("progress",o=>{S.setText("Loading... "+Math.floor(o*100)+"%")}),this.load.on("complete",()=>{va.forEach(o=>{this.textures.get(o.texture).add("preview",0,...o.previewRect)}),this.scene.start("SceneMain"),this.scene.start("SceneHud"),window.dispatchEvent(new Event("GAME_LOAD"))}),T8.forEach(o=>{this.load.image(o.name,o.image)}),y8.forEach(o=>{this.load.tilemapTiledJSON(o.name,o.json)}),va.forEach(o=>{this.load.atlas(o.texture,o.src,o.atlas)}),this.load.bitmapFont("nin-dark","./assets/fonts/dark.png","./assets/fonts/font.xml"),this.load.bitmapFont("nin-light","./assets/fonts/light.png","./assets/fonts/font.xml"),this.load.image("joy-circle","./assets/images/joy-circle.png"),this.load.image("misc-bubble-tail","./assets/images/bubble-tail.png"),this.load.image("misc-slash","./assets/images/slash.png"),this.load.spritesheet("misc-bubble","./assets/images/bubble.png",{frameWidth:4,frameHeight:4}),this.load.spritesheet("misc-bars","./assets/images/bars.png",{frameWidth:4,frameHeight:4}),this.load.spritesheet("spell-anim-fireball","./assets/images/spell-anim-fireball.png",{frameWidth:150,frameHeight:150}),this.load.spritesheet("spell-anim-chakra","./assets/images/spell-anim-chakra.png",{frameWidth:150,frameHeight:150}),this.load.json("weaponAtlas","./assets/atlas/weapon.json")}create(){E8(this.scene.manager.getScene("SceneMain"))}update(){}}function E8(E){M8(E),A8(E)}const C8=["up-attack_left","down-attack_left","left-attack_left","right-attack_left","up-attack_right","down-attack_right","left-attack_right","right-attack_right","up-stand","down-stand","left-stand","right-stand"],R8=["up-walk","down-walk","left-walk","right-walk"],d2=E=>["weapon.json","icons.json","stackable.json"].some(S=>{var o;return(o=E==null?void 0:E.atlas)==null?void 0:o.includes(S)});function A8(E){const S={zeroPad:0,start:""};for(const o of va)if(!d2(o))for(const x of C8)E.anims.create({key:o.texture+"-"+x,frames:E.anims.generateFrameNames(o.texture,{prefix:x,...S})})}function M8(E){const S={zeroPad:3,start:0,end:2},o={repeat:-1,yoyo:!0},x=R8;for(const t of va)if(!d2(t))for(const e of x)E.anims.create({key:t.texture+"-"+e,frames:E.anims.generateFrameNames(t.texture,{prefix:e+".",...S}),...o})}/**
 * @author       Florian Vazelle <ponythugflorian@gmail.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var AA=new Ie.Class({Extends:Ie.GameObjects.GameObject,Mixins:[Ie.GameObjects.Components.Transform],initialize:function(S,o){Ie.GameObjects.GameObject.call(this,S,"Joystick"),this.cursors=new Ie.Math.Vector2(0,0),this.singleDirection=o.singleDirection===void 0?!0:o.singleDirection,this.maxDistanceInPixels=o.maxDistanceInPixels===void 0?200:o.maxDistanceInPixels,this.device=o.device===void 0?0:o.device;var x=[];x.push(this.scene.add.existing(o.sprites.cap)),x.push(this.scene.add.existing(o.sprites.base)),this.layer=this.scene.add.layer(x),this.layer.setVisible(!1),this.setPosition(0,0),this.setActive(!1),this.scene.input.on(Ie.Input.Events.POINTER_DOWN,this.onKeyDown,this),this.scene.input.on(Ie.Input.Events.POINTER_UP,this.onKeyUp,this),this.scene.add.existing(this)},deltaX:{get:function(){return this.cursors.x/this.maxDistanceInPixels}},deltaY:{get:function(){return this.cursors.y/this.maxDistanceInPixels}},onKeyDown:function(E){this.setActive(!0),this.layer.setVisible(!0),this.layer.each(function(S){S.x=E.x,S.y=E.y},this),this.setPosition(E.x,E.y)},onKeyUp:function(E){this.setActive(!1),this.layer.setVisible(!1),this.cursors=new Ie.Math.Vector2(0,0)},preUpdate:function(E,S){var o=this.scene.sys.input.manager.pointers,x=o[this.device].position,t=x.x-this.x,e=x.y-this.y,u=Math.sqrt(t*t+e*e);this.singleDirection&&(Math.abs(t)>Math.abs(e)?e=0:t=0);var s=Math.atan2(e,t);u>this.maxDistanceInPixels&&(t=Math.cos(s)*this.maxDistanceInPixels,e=Math.sin(s)*this.maxDistanceInPixels),this.cursors=new Ie.Math.Vector2(t,e);var a=0;this.layer.each(function(n){n.x=this.x+t*a/3,n.y=this.y+e*a/3,a++},this)}}),P8=new Ie.Class({Extends:Ie.Plugins.ScenePlugin,initialize:function(S,o){Ie.Plugins.ScenePlugin.call(this,S,o),o.registerGameObject("joystick",this.joystickFactory,this.joystickCreator)},joystickFactory:function(E){return new AA(this.scene,E)},joystickCreator:function(E,S){E===void 0&&(E={});var o=Ie.Utils.Objects.GetValue(E,"settings",null),x=new AA(this.scene,o);return S!==void 0&&(E.add=S),Ie.GameObjects.BuildGameObject(this.scene,x,E),x},boot:function(){this.systems.events.once("destroy",this.destroy,this),this.game.events.once("destroy",this.gameDestroy,this)},destroy:function(){this.game=null,this.scene=null,this.systems=null},gameDestroy:function(){this.pluginManager.removeGameObject("joystick",!0,!0),this.pluginManager=null}});class L8 extends Ie.Scene{constructor(S){super({key:"SceneHud"}),this.socket=S}preload(){}create(){D8(this),O8(this)}update(){}}function O8(E){const S=E.input.activePointer,o=E.scene.manager.getScene("SceneMain");window.addEventListener("HERO_ATTACK",x=>{var t,e;(e=(t=o==null?void 0:o.hero)==null?void 0:t.doAttack)==null||e.call(t,1)},E),window.addEventListener("HERO_GRAB",x=>{var t,e;(e=(t=o==null?void 0:o.hero)==null?void 0:t.doGrab)==null||e.call(t)},E),window.addEventListener("ITEM_DRAG",x=>{var u;S.x=x==null?void 0:x.detail.x,S.y=x==null?void 0:x.detail.y;const t=S.positionToCamera(o.cameras.main),e=rv(o==null?void 0:o.hero,t);((u=o==null?void 0:o.hero)==null?void 0:u.direction)!==e&&E.socket.emit("changeDirection",e)},E)}function D8(E){E.joystick=E.add.joystick({sprites:{cap:new MA(E),base:new MA(E)},singleDirection:!1,maxDistanceInPixels:25,device:po?1:0})}class MA extends Ie.GameObjects.Sprite{constructor(S){super(S,0,0,"joy-circle"),this.displayWidth=50,this.displayHeight=50,this.alpha=.1,this.setTint(16711680),this.setScrollFactor(0)}}const v2=!1,Vd=Ud.connect("http://192.168.1.36:3000"),F8=Q0.createRoot(document.getElementById("root")),b8=window.innerWidth*window.devicePixelRatio,N8=window.innerHeight*window.devicePixelRatio,w8=new Ie.Game({type:Ie.AUTO,parent:"game",scale:{mode:Ie.Scale.RESIZE,width:b8,height:N8,autoCenter:Ie.Scale.CENTER_HORIZONTALLY,max:{width:screen.width,height:screen.height}},roundPixels:!1,antialias:!1,pixelArt:!0,plugins:{scene:[{key:"AnimatedTiles",plugin:Dx,mapping:"animatedTiles"},{key:"VJoyPlugin",plugin:P8,mapping:"vjoy"}]},physics:{default:"arcade",arcade:{debug:v2,gravity:{y:0}}},scene:[new S8(Vd),new c8(Vd),new L8(Vd)]});document.addEventListener("scroll",E=>{document.documentElement.scrollTop>0&&(document.documentElement.scrollTop=0)});F8.render(xt.jsxDEV(gi.StrictMode,{children:xt.jsxDEV(g6,{socket:Vd,game:w8,debug:v2},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/main.tsx",lineNumber:68,columnNumber:5},globalThis)},void 0,!1,{fileName:"/Users/trevor/Projects/aether/src/main.tsx",lineNumber:67,columnNumber:3},globalThis));
